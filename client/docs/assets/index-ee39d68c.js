function oO(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var tr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Vv(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var kT={exports:{}},$f={},PT={exports:{}},We={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nu=Symbol.for("react.element"),aO=Symbol.for("react.portal"),lO=Symbol.for("react.fragment"),cO=Symbol.for("react.strict_mode"),uO=Symbol.for("react.profiler"),dO=Symbol.for("react.provider"),hO=Symbol.for("react.context"),fO=Symbol.for("react.forward_ref"),pO=Symbol.for("react.suspense"),mO=Symbol.for("react.memo"),gO=Symbol.for("react.lazy"),N1=Symbol.iterator;function yO(t){return t===null||typeof t!="object"?null:(t=N1&&t[N1]||t["@@iterator"],typeof t=="function"?t:null)}var RT={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},NT=Object.assign,OT={};function El(t,e,n){this.props=t,this.context=e,this.refs=OT,this.updater=n||RT}El.prototype.isReactComponent={};El.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};El.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function DT(){}DT.prototype=El.prototype;function Fv(t,e,n){this.props=t,this.context=e,this.refs=OT,this.updater=n||RT}var Uv=Fv.prototype=new DT;Uv.constructor=Fv;NT(Uv,El.prototype);Uv.isPureReactComponent=!0;var O1=Array.isArray,jT=Object.prototype.hasOwnProperty,Bv={current:null},LT={key:!0,ref:!0,__self:!0,__source:!0};function MT(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)jT.call(e,r)&&!LT.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Nu,type:t,key:s,ref:o,props:i,_owner:Bv.current}}function vO(t,e){return{$$typeof:Nu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function $v(t){return typeof t=="object"&&t!==null&&t.$$typeof===Nu}function wO(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var D1=/\/+/g;function Em(t,e){return typeof t=="object"&&t!==null&&t.key!=null?wO(""+t.key):e.toString(36)}function nh(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Nu:case aO:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Em(o,0):r,O1(i)?(n="",t!=null&&(n=t.replace(D1,"$&/")+"/"),nh(i,e,n,"",function(c){return c})):i!=null&&($v(i)&&(i=vO(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(D1,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",O1(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+Em(s,a);o+=nh(s,e,n,l,i)}else if(l=yO(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+Em(s,a++),o+=nh(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function xd(t,e,n){if(t==null)return t;var r=[],i=0;return nh(t,r,"","",function(s){return e.call(n,s,i++)}),r}function _O(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Mn={current:null},rh={transition:null},xO={ReactCurrentDispatcher:Mn,ReactCurrentBatchConfig:rh,ReactCurrentOwner:Bv};We.Children={map:xd,forEach:function(t,e,n){xd(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return xd(t,function(){e++}),e},toArray:function(t){return xd(t,function(e){return e})||[]},only:function(t){if(!$v(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};We.Component=El;We.Fragment=lO;We.Profiler=uO;We.PureComponent=Fv;We.StrictMode=cO;We.Suspense=pO;We.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xO;We.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=NT({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Bv.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)jT.call(e,l)&&!LT.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Nu,type:t.type,key:i,ref:s,props:r,_owner:o}};We.createContext=function(t){return t={$$typeof:hO,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:dO,_context:t},t.Consumer=t};We.createElement=MT;We.createFactory=function(t){var e=MT.bind(null,t);return e.type=t,e};We.createRef=function(){return{current:null}};We.forwardRef=function(t){return{$$typeof:fO,render:t}};We.isValidElement=$v;We.lazy=function(t){return{$$typeof:gO,_payload:{_status:-1,_result:t},_init:_O}};We.memo=function(t,e){return{$$typeof:mO,type:t,compare:e===void 0?null:e}};We.startTransition=function(t){var e=rh.transition;rh.transition={};try{t()}finally{rh.transition=e}};We.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};We.useCallback=function(t,e){return Mn.current.useCallback(t,e)};We.useContext=function(t){return Mn.current.useContext(t)};We.useDebugValue=function(){};We.useDeferredValue=function(t){return Mn.current.useDeferredValue(t)};We.useEffect=function(t,e){return Mn.current.useEffect(t,e)};We.useId=function(){return Mn.current.useId()};We.useImperativeHandle=function(t,e,n){return Mn.current.useImperativeHandle(t,e,n)};We.useInsertionEffect=function(t,e){return Mn.current.useInsertionEffect(t,e)};We.useLayoutEffect=function(t,e){return Mn.current.useLayoutEffect(t,e)};We.useMemo=function(t,e){return Mn.current.useMemo(t,e)};We.useReducer=function(t,e,n){return Mn.current.useReducer(t,e,n)};We.useRef=function(t){return Mn.current.useRef(t)};We.useState=function(t){return Mn.current.useState(t)};We.useSyncExternalStore=function(t,e,n){return Mn.current.useSyncExternalStore(t,e,n)};We.useTransition=function(){return Mn.current.useTransition()};We.version="18.2.0";PT.exports=We;var C=PT.exports;const be=Vv(C),Uc=oO({__proto__:null,default:be},[C]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bO=C,EO=Symbol.for("react.element"),TO=Symbol.for("react.fragment"),SO=Object.prototype.hasOwnProperty,IO=bO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,CO={key:!0,ref:!0,__self:!0,__source:!0};function VT(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)SO.call(e,r)&&!CO.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:EO,type:t,key:s,ref:o,props:i,_owner:IO.current}}$f.Fragment=TO;$f.jsx=VT;$f.jsxs=VT;kT.exports=$f;var u=kT.exports,Bg={},FT={exports:{}},mr={},UT={exports:{}},BT={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(J,ge){var K=J.length;J.push(ge);e:for(;0<K;){var Fe=K-1>>>1,$e=J[Fe];if(0<i($e,ge))J[Fe]=ge,J[K]=$e,K=Fe;else break e}}function n(J){return J.length===0?null:J[0]}function r(J){if(J.length===0)return null;var ge=J[0],K=J.pop();if(K!==ge){J[0]=K;e:for(var Fe=0,$e=J.length,Wt=$e>>>1;Fe<Wt;){var nt=2*(Fe+1)-1,V=J[nt],Un=nt+1,Jn=J[Un];if(0>i(V,K))Un<$e&&0>i(Jn,V)?(J[Fe]=Jn,J[Un]=K,Fe=Un):(J[Fe]=V,J[nt]=K,Fe=nt);else if(Un<$e&&0>i(Jn,K))J[Fe]=Jn,J[Un]=K,Fe=Un;else break e}}return ge}function i(J,ge){var K=J.sortIndex-ge.sortIndex;return K!==0?K:J.id-ge.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,f=null,m=3,v=!1,w=!1,b=!1,E=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(J){for(var ge=n(c);ge!==null;){if(ge.callback===null)r(c);else if(ge.startTime<=J)r(c),ge.sortIndex=ge.expirationTime,e(l,ge);else break;ge=n(c)}}function R(J){if(b=!1,T(J),!w)if(n(l)!==null)w=!0,Ie(D);else{var ge=n(c);ge!==null&&Re(R,ge.startTime-J)}}function D(J,ge){w=!1,b&&(b=!1,x(H),H=-1),v=!0;var K=m;try{for(T(ge),f=n(l);f!==null&&(!(f.expirationTime>ge)||J&&!ke());){var Fe=f.callback;if(typeof Fe=="function"){f.callback=null,m=f.priorityLevel;var $e=Fe(f.expirationTime<=ge);ge=t.unstable_now(),typeof $e=="function"?f.callback=$e:f===n(l)&&r(l),T(ge)}else r(l);f=n(l)}if(f!==null)var Wt=!0;else{var nt=n(c);nt!==null&&Re(R,nt.startTime-ge),Wt=!1}return Wt}finally{f=null,m=K,v=!1}}var B=!1,$=null,H=-1,se=5,re=-1;function ke(){return!(t.unstable_now()-re<se)}function fe(){if($!==null){var J=t.unstable_now();re=J;var ge=!0;try{ge=$(!0,J)}finally{ge?Ee():(B=!1,$=null)}}else B=!1}var Ee;if(typeof _=="function")Ee=function(){_(fe)};else if(typeof MessageChannel<"u"){var Me=new MessageChannel,Je=Me.port2;Me.port1.onmessage=fe,Ee=function(){Je.postMessage(null)}}else Ee=function(){E(fe,0)};function Ie(J){$=J,B||(B=!0,Ee())}function Re(J,ge){H=E(function(){J(t.unstable_now())},ge)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(J){J.callback=null},t.unstable_continueExecution=function(){w||v||(w=!0,Ie(D))},t.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):se=0<J?Math.floor(1e3/J):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(J){switch(m){case 1:case 2:case 3:var ge=3;break;default:ge=m}var K=m;m=ge;try{return J()}finally{m=K}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(J,ge){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var K=m;m=J;try{return ge()}finally{m=K}},t.unstable_scheduleCallback=function(J,ge,K){var Fe=t.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?Fe+K:Fe):K=Fe,J){case 1:var $e=-1;break;case 2:$e=250;break;case 5:$e=1073741823;break;case 4:$e=1e4;break;default:$e=5e3}return $e=K+$e,J={id:d++,callback:ge,priorityLevel:J,startTime:K,expirationTime:$e,sortIndex:-1},K>Fe?(J.sortIndex=K,e(c,J),n(l)===null&&J===n(c)&&(b?(x(H),H=-1):b=!0,Re(R,K-Fe))):(J.sortIndex=$e,e(l,J),w||v||(w=!0,Ie(D))),J},t.unstable_shouldYield=ke,t.unstable_wrapCallback=function(J){var ge=m;return function(){var K=m;m=ge;try{return J.apply(this,arguments)}finally{m=K}}}})(BT);UT.exports=BT;var AO=UT.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $T=C,dr=AO;function X(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var zT=new Set,Bc={};function sa(t,e){rl(t,e),rl(t+"Capture",e)}function rl(t,e){for(Bc[t]=e,t=0;t<e.length;t++)zT.add(e[t])}var Ki=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$g=Object.prototype.hasOwnProperty,kO=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,j1={},L1={};function PO(t){return $g.call(L1,t)?!0:$g.call(j1,t)?!1:kO.test(t)?L1[t]=!0:(j1[t]=!0,!1)}function RO(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function NO(t,e,n,r){if(e===null||typeof e>"u"||RO(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Vn(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var mn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){mn[t]=new Vn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];mn[e]=new Vn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){mn[t]=new Vn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){mn[t]=new Vn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){mn[t]=new Vn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){mn[t]=new Vn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){mn[t]=new Vn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){mn[t]=new Vn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){mn[t]=new Vn(t,5,!1,t.toLowerCase(),null,!1,!1)});var zv=/[\-:]([a-z])/g;function Hv(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(zv,Hv);mn[e]=new Vn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(zv,Hv);mn[e]=new Vn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(zv,Hv);mn[e]=new Vn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){mn[t]=new Vn(t,1,!1,t.toLowerCase(),null,!1,!1)});mn.xlinkHref=new Vn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){mn[t]=new Vn(t,1,!1,t.toLowerCase(),null,!0,!0)});function Wv(t,e,n,r){var i=mn.hasOwnProperty(e)?mn[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(NO(e,n,i,r)&&(n=null),r||i===null?PO(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var rs=$T.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,bd=Symbol.for("react.element"),Na=Symbol.for("react.portal"),Oa=Symbol.for("react.fragment"),qv=Symbol.for("react.strict_mode"),zg=Symbol.for("react.profiler"),HT=Symbol.for("react.provider"),WT=Symbol.for("react.context"),Kv=Symbol.for("react.forward_ref"),Hg=Symbol.for("react.suspense"),Wg=Symbol.for("react.suspense_list"),Gv=Symbol.for("react.memo"),Es=Symbol.for("react.lazy"),qT=Symbol.for("react.offscreen"),M1=Symbol.iterator;function Yl(t){return t===null||typeof t!="object"?null:(t=M1&&t[M1]||t["@@iterator"],typeof t=="function"?t:null)}var bt=Object.assign,Tm;function uc(t){if(Tm===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Tm=e&&e[1]||""}return`
`+Tm+t}var Sm=!1;function Im(t,e){if(!t||Sm)return"";Sm=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Sm=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?uc(t):""}function OO(t){switch(t.tag){case 5:return uc(t.type);case 16:return uc("Lazy");case 13:return uc("Suspense");case 19:return uc("SuspenseList");case 0:case 2:case 15:return t=Im(t.type,!1),t;case 11:return t=Im(t.type.render,!1),t;case 1:return t=Im(t.type,!0),t;default:return""}}function qg(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Oa:return"Fragment";case Na:return"Portal";case zg:return"Profiler";case qv:return"StrictMode";case Hg:return"Suspense";case Wg:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case WT:return(t.displayName||"Context")+".Consumer";case HT:return(t._context.displayName||"Context")+".Provider";case Kv:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Gv:return e=t.displayName||null,e!==null?e:qg(t.type)||"Memo";case Es:e=t._payload,t=t._init;try{return qg(t(e))}catch{}}return null}function DO(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return qg(e);case 8:return e===qv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Zs(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function KT(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function jO(t){var e=KT(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ed(t){t._valueTracker||(t._valueTracker=jO(t))}function GT(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=KT(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function kh(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Kg(t,e){var n=e.checked;return bt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function V1(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Zs(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function QT(t,e){e=e.checked,e!=null&&Wv(t,"checked",e,!1)}function Gg(t,e){QT(t,e);var n=Zs(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Qg(t,e.type,n):e.hasOwnProperty("defaultValue")&&Qg(t,e.type,Zs(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function F1(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Qg(t,e,n){(e!=="number"||kh(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var dc=Array.isArray;function qa(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Zs(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Yg(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(X(91));return bt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function U1(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(X(92));if(dc(n)){if(1<n.length)throw Error(X(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Zs(n)}}function YT(t,e){var n=Zs(e.value),r=Zs(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function B1(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function XT(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Xg(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?XT(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Td,JT=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Td=Td||document.createElement("div"),Td.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Td.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function $c(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var bc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},LO=["Webkit","ms","Moz","O"];Object.keys(bc).forEach(function(t){LO.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),bc[e]=bc[t]})});function ZT(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||bc.hasOwnProperty(t)&&bc[t]?(""+e).trim():e+"px"}function e2(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=ZT(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var MO=bt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Jg(t,e){if(e){if(MO[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(X(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(X(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(X(61))}if(e.style!=null&&typeof e.style!="object")throw Error(X(62))}}function Zg(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ey=null;function Qv(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ty=null,Ka=null,Ga=null;function $1(t){if(t=ju(t)){if(typeof ty!="function")throw Error(X(280));var e=t.stateNode;e&&(e=Kf(e),ty(t.stateNode,t.type,e))}}function t2(t){Ka?Ga?Ga.push(t):Ga=[t]:Ka=t}function n2(){if(Ka){var t=Ka,e=Ga;if(Ga=Ka=null,$1(t),e)for(t=0;t<e.length;t++)$1(e[t])}}function r2(t,e){return t(e)}function i2(){}var Cm=!1;function s2(t,e,n){if(Cm)return t(e,n);Cm=!0;try{return r2(t,e,n)}finally{Cm=!1,(Ka!==null||Ga!==null)&&(i2(),n2())}}function zc(t,e){var n=t.stateNode;if(n===null)return null;var r=Kf(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(X(231,e,typeof n));return n}var ny=!1;if(Ki)try{var Xl={};Object.defineProperty(Xl,"passive",{get:function(){ny=!0}}),window.addEventListener("test",Xl,Xl),window.removeEventListener("test",Xl,Xl)}catch{ny=!1}function VO(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var Ec=!1,Ph=null,Rh=!1,ry=null,FO={onError:function(t){Ec=!0,Ph=t}};function UO(t,e,n,r,i,s,o,a,l){Ec=!1,Ph=null,VO.apply(FO,arguments)}function BO(t,e,n,r,i,s,o,a,l){if(UO.apply(this,arguments),Ec){if(Ec){var c=Ph;Ec=!1,Ph=null}else throw Error(X(198));Rh||(Rh=!0,ry=c)}}function oa(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function o2(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function z1(t){if(oa(t)!==t)throw Error(X(188))}function $O(t){var e=t.alternate;if(!e){if(e=oa(t),e===null)throw Error(X(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return z1(i),t;if(s===r)return z1(i),e;s=s.sibling}throw Error(X(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(X(189))}}if(n.alternate!==r)throw Error(X(190))}if(n.tag!==3)throw Error(X(188));return n.stateNode.current===n?t:e}function a2(t){return t=$O(t),t!==null?l2(t):null}function l2(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=l2(t);if(e!==null)return e;t=t.sibling}return null}var c2=dr.unstable_scheduleCallback,H1=dr.unstable_cancelCallback,zO=dr.unstable_shouldYield,HO=dr.unstable_requestPaint,Ot=dr.unstable_now,WO=dr.unstable_getCurrentPriorityLevel,Yv=dr.unstable_ImmediatePriority,u2=dr.unstable_UserBlockingPriority,Nh=dr.unstable_NormalPriority,qO=dr.unstable_LowPriority,d2=dr.unstable_IdlePriority,zf=null,yi=null;function KO(t){if(yi&&typeof yi.onCommitFiberRoot=="function")try{yi.onCommitFiberRoot(zf,t,void 0,(t.current.flags&128)===128)}catch{}}var Yr=Math.clz32?Math.clz32:YO,GO=Math.log,QO=Math.LN2;function YO(t){return t>>>=0,t===0?32:31-(GO(t)/QO|0)|0}var Sd=64,Id=4194304;function hc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Oh(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=hc(a):(s&=o,s!==0&&(r=hc(s)))}else o=n&~i,o!==0?r=hc(o):s!==0&&(r=hc(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Yr(e),i=1<<n,r|=t[n],e&=~i;return r}function XO(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function JO(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Yr(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=XO(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function iy(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function h2(){var t=Sd;return Sd<<=1,!(Sd&4194240)&&(Sd=64),t}function Am(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ou(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Yr(e),t[e]=n}function ZO(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Yr(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Xv(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Yr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var et=0;function f2(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var p2,Jv,m2,g2,y2,sy=!1,Cd=[],Ms=null,Vs=null,Fs=null,Hc=new Map,Wc=new Map,Ss=[],eD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function W1(t,e){switch(t){case"focusin":case"focusout":Ms=null;break;case"dragenter":case"dragleave":Vs=null;break;case"mouseover":case"mouseout":Fs=null;break;case"pointerover":case"pointerout":Hc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wc.delete(e.pointerId)}}function Jl(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=ju(e),e!==null&&Jv(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function tD(t,e,n,r,i){switch(e){case"focusin":return Ms=Jl(Ms,t,e,n,r,i),!0;case"dragenter":return Vs=Jl(Vs,t,e,n,r,i),!0;case"mouseover":return Fs=Jl(Fs,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Hc.set(s,Jl(Hc.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Wc.set(s,Jl(Wc.get(s)||null,t,e,n,r,i)),!0}return!1}function v2(t){var e=Ao(t.target);if(e!==null){var n=oa(e);if(n!==null){if(e=n.tag,e===13){if(e=o2(n),e!==null){t.blockedOn=e,y2(t.priority,function(){m2(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ih(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=oy(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);ey=r,n.target.dispatchEvent(r),ey=null}else return e=ju(n),e!==null&&Jv(e),t.blockedOn=n,!1;e.shift()}return!0}function q1(t,e,n){ih(t)&&n.delete(e)}function nD(){sy=!1,Ms!==null&&ih(Ms)&&(Ms=null),Vs!==null&&ih(Vs)&&(Vs=null),Fs!==null&&ih(Fs)&&(Fs=null),Hc.forEach(q1),Wc.forEach(q1)}function Zl(t,e){t.blockedOn===e&&(t.blockedOn=null,sy||(sy=!0,dr.unstable_scheduleCallback(dr.unstable_NormalPriority,nD)))}function qc(t){function e(i){return Zl(i,t)}if(0<Cd.length){Zl(Cd[0],t);for(var n=1;n<Cd.length;n++){var r=Cd[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ms!==null&&Zl(Ms,t),Vs!==null&&Zl(Vs,t),Fs!==null&&Zl(Fs,t),Hc.forEach(e),Wc.forEach(e),n=0;n<Ss.length;n++)r=Ss[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ss.length&&(n=Ss[0],n.blockedOn===null);)v2(n),n.blockedOn===null&&Ss.shift()}var Qa=rs.ReactCurrentBatchConfig,Dh=!0;function rD(t,e,n,r){var i=et,s=Qa.transition;Qa.transition=null;try{et=1,Zv(t,e,n,r)}finally{et=i,Qa.transition=s}}function iD(t,e,n,r){var i=et,s=Qa.transition;Qa.transition=null;try{et=4,Zv(t,e,n,r)}finally{et=i,Qa.transition=s}}function Zv(t,e,n,r){if(Dh){var i=oy(t,e,n,r);if(i===null)Vm(t,e,r,jh,n),W1(t,r);else if(tD(i,t,e,n,r))r.stopPropagation();else if(W1(t,r),e&4&&-1<eD.indexOf(t)){for(;i!==null;){var s=ju(i);if(s!==null&&p2(s),s=oy(t,e,n,r),s===null&&Vm(t,e,r,jh,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Vm(t,e,r,null,n)}}var jh=null;function oy(t,e,n,r){if(jh=null,t=Qv(r),t=Ao(t),t!==null)if(e=oa(t),e===null)t=null;else if(n=e.tag,n===13){if(t=o2(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return jh=t,null}function w2(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(WO()){case Yv:return 1;case u2:return 4;case Nh:case qO:return 16;case d2:return 536870912;default:return 16}default:return 16}}var Rs=null,ew=null,sh=null;function _2(){if(sh)return sh;var t,e=ew,n=e.length,r,i="value"in Rs?Rs.value:Rs.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return sh=i.slice(t,1<r?1-r:void 0)}function oh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ad(){return!0}function K1(){return!1}function gr(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Ad:K1,this.isPropagationStopped=K1,this}return bt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ad)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ad)},persist:function(){},isPersistent:Ad}),e}var Tl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},tw=gr(Tl),Du=bt({},Tl,{view:0,detail:0}),sD=gr(Du),km,Pm,ec,Hf=bt({},Du,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:nw,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ec&&(ec&&t.type==="mousemove"?(km=t.screenX-ec.screenX,Pm=t.screenY-ec.screenY):Pm=km=0,ec=t),km)},movementY:function(t){return"movementY"in t?t.movementY:Pm}}),G1=gr(Hf),oD=bt({},Hf,{dataTransfer:0}),aD=gr(oD),lD=bt({},Du,{relatedTarget:0}),Rm=gr(lD),cD=bt({},Tl,{animationName:0,elapsedTime:0,pseudoElement:0}),uD=gr(cD),dD=bt({},Tl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),hD=gr(dD),fD=bt({},Tl,{data:0}),Q1=gr(fD),pD={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mD={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gD={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yD(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=gD[t])?!!e[t]:!1}function nw(){return yD}var vD=bt({},Du,{key:function(t){if(t.key){var e=pD[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=oh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?mD[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:nw,charCode:function(t){return t.type==="keypress"?oh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?oh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),wD=gr(vD),_D=bt({},Hf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Y1=gr(_D),xD=bt({},Du,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:nw}),bD=gr(xD),ED=bt({},Tl,{propertyName:0,elapsedTime:0,pseudoElement:0}),TD=gr(ED),SD=bt({},Hf,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ID=gr(SD),CD=[9,13,27,32],rw=Ki&&"CompositionEvent"in window,Tc=null;Ki&&"documentMode"in document&&(Tc=document.documentMode);var AD=Ki&&"TextEvent"in window&&!Tc,x2=Ki&&(!rw||Tc&&8<Tc&&11>=Tc),X1=String.fromCharCode(32),J1=!1;function b2(t,e){switch(t){case"keyup":return CD.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function E2(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Da=!1;function kD(t,e){switch(t){case"compositionend":return E2(e);case"keypress":return e.which!==32?null:(J1=!0,X1);case"textInput":return t=e.data,t===X1&&J1?null:t;default:return null}}function PD(t,e){if(Da)return t==="compositionend"||!rw&&b2(t,e)?(t=_2(),sh=ew=Rs=null,Da=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return x2&&e.locale!=="ko"?null:e.data;default:return null}}var RD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Z1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!RD[t.type]:e==="textarea"}function T2(t,e,n,r){t2(r),e=Lh(e,"onChange"),0<e.length&&(n=new tw("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Sc=null,Kc=null;function ND(t){j2(t,0)}function Wf(t){var e=Ma(t);if(GT(e))return t}function OD(t,e){if(t==="change")return e}var S2=!1;if(Ki){var Nm;if(Ki){var Om="oninput"in document;if(!Om){var ex=document.createElement("div");ex.setAttribute("oninput","return;"),Om=typeof ex.oninput=="function"}Nm=Om}else Nm=!1;S2=Nm&&(!document.documentMode||9<document.documentMode)}function tx(){Sc&&(Sc.detachEvent("onpropertychange",I2),Kc=Sc=null)}function I2(t){if(t.propertyName==="value"&&Wf(Kc)){var e=[];T2(e,Kc,t,Qv(t)),s2(ND,e)}}function DD(t,e,n){t==="focusin"?(tx(),Sc=e,Kc=n,Sc.attachEvent("onpropertychange",I2)):t==="focusout"&&tx()}function jD(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Wf(Kc)}function LD(t,e){if(t==="click")return Wf(e)}function MD(t,e){if(t==="input"||t==="change")return Wf(e)}function VD(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ei=typeof Object.is=="function"?Object.is:VD;function Gc(t,e){if(ei(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!$g.call(e,i)||!ei(t[i],e[i]))return!1}return!0}function nx(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function rx(t,e){var n=nx(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=nx(n)}}function C2(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?C2(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function A2(){for(var t=window,e=kh();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=kh(t.document)}return e}function iw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function FD(t){var e=A2(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&C2(n.ownerDocument.documentElement,n)){if(r!==null&&iw(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=rx(n,s);var o=rx(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var UD=Ki&&"documentMode"in document&&11>=document.documentMode,ja=null,ay=null,Ic=null,ly=!1;function ix(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ly||ja==null||ja!==kh(r)||(r=ja,"selectionStart"in r&&iw(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ic&&Gc(Ic,r)||(Ic=r,r=Lh(ay,"onSelect"),0<r.length&&(e=new tw("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ja)))}function kd(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var La={animationend:kd("Animation","AnimationEnd"),animationiteration:kd("Animation","AnimationIteration"),animationstart:kd("Animation","AnimationStart"),transitionend:kd("Transition","TransitionEnd")},Dm={},k2={};Ki&&(k2=document.createElement("div").style,"AnimationEvent"in window||(delete La.animationend.animation,delete La.animationiteration.animation,delete La.animationstart.animation),"TransitionEvent"in window||delete La.transitionend.transition);function qf(t){if(Dm[t])return Dm[t];if(!La[t])return t;var e=La[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in k2)return Dm[t]=e[n];return t}var P2=qf("animationend"),R2=qf("animationiteration"),N2=qf("animationstart"),O2=qf("transitionend"),D2=new Map,sx="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ao(t,e){D2.set(t,e),sa(e,[t])}for(var jm=0;jm<sx.length;jm++){var Lm=sx[jm],BD=Lm.toLowerCase(),$D=Lm[0].toUpperCase()+Lm.slice(1);ao(BD,"on"+$D)}ao(P2,"onAnimationEnd");ao(R2,"onAnimationIteration");ao(N2,"onAnimationStart");ao("dblclick","onDoubleClick");ao("focusin","onFocus");ao("focusout","onBlur");ao(O2,"onTransitionEnd");rl("onMouseEnter",["mouseout","mouseover"]);rl("onMouseLeave",["mouseout","mouseover"]);rl("onPointerEnter",["pointerout","pointerover"]);rl("onPointerLeave",["pointerout","pointerover"]);sa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));sa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));sa("onBeforeInput",["compositionend","keypress","textInput","paste"]);sa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));sa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));sa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zD=new Set("cancel close invalid load scroll toggle".split(" ").concat(fc));function ox(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,BO(r,e,void 0,t),t.currentTarget=null}function j2(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;ox(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;ox(i,a,c),s=l}}}if(Rh)throw t=ry,Rh=!1,ry=null,t}function ht(t,e){var n=e[fy];n===void 0&&(n=e[fy]=new Set);var r=t+"__bubble";n.has(r)||(L2(e,t,2,!1),n.add(r))}function Mm(t,e,n){var r=0;e&&(r|=4),L2(n,t,r,e)}var Pd="_reactListening"+Math.random().toString(36).slice(2);function Qc(t){if(!t[Pd]){t[Pd]=!0,zT.forEach(function(n){n!=="selectionchange"&&(zD.has(n)||Mm(n,!1,t),Mm(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Pd]||(e[Pd]=!0,Mm("selectionchange",!1,e))}}function L2(t,e,n,r){switch(w2(e)){case 1:var i=rD;break;case 4:i=iD;break;default:i=Zv}n=i.bind(null,e,n,t),i=void 0,!ny||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Vm(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Ao(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}s2(function(){var c=s,d=Qv(n),f=[];e:{var m=D2.get(t);if(m!==void 0){var v=tw,w=t;switch(t){case"keypress":if(oh(n)===0)break e;case"keydown":case"keyup":v=wD;break;case"focusin":w="focus",v=Rm;break;case"focusout":w="blur",v=Rm;break;case"beforeblur":case"afterblur":v=Rm;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=G1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=aD;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=bD;break;case P2:case R2:case N2:v=uD;break;case O2:v=TD;break;case"scroll":v=sD;break;case"wheel":v=ID;break;case"copy":case"cut":case"paste":v=hD;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=Y1}var b=(e&4)!==0,E=!b&&t==="scroll",x=b?m!==null?m+"Capture":null:m;b=[];for(var _=c,T;_!==null;){T=_;var R=T.stateNode;if(T.tag===5&&R!==null&&(T=R,x!==null&&(R=zc(_,x),R!=null&&b.push(Yc(_,R,T)))),E)break;_=_.return}0<b.length&&(m=new v(m,w,null,n,d),f.push({event:m,listeners:b}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",m&&n!==ey&&(w=n.relatedTarget||n.fromElement)&&(Ao(w)||w[Gi]))break e;if((v||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,v?(w=n.relatedTarget||n.toElement,v=c,w=w?Ao(w):null,w!==null&&(E=oa(w),w!==E||w.tag!==5&&w.tag!==6)&&(w=null)):(v=null,w=c),v!==w)){if(b=G1,R="onMouseLeave",x="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(b=Y1,R="onPointerLeave",x="onPointerEnter",_="pointer"),E=v==null?m:Ma(v),T=w==null?m:Ma(w),m=new b(R,_+"leave",v,n,d),m.target=E,m.relatedTarget=T,R=null,Ao(d)===c&&(b=new b(x,_+"enter",w,n,d),b.target=T,b.relatedTarget=E,R=b),E=R,v&&w)t:{for(b=v,x=w,_=0,T=b;T;T=Ia(T))_++;for(T=0,R=x;R;R=Ia(R))T++;for(;0<_-T;)b=Ia(b),_--;for(;0<T-_;)x=Ia(x),T--;for(;_--;){if(b===x||x!==null&&b===x.alternate)break t;b=Ia(b),x=Ia(x)}b=null}else b=null;v!==null&&ax(f,m,v,b,!1),w!==null&&E!==null&&ax(f,E,w,b,!0)}}e:{if(m=c?Ma(c):window,v=m.nodeName&&m.nodeName.toLowerCase(),v==="select"||v==="input"&&m.type==="file")var D=OD;else if(Z1(m))if(S2)D=MD;else{D=jD;var B=DD}else(v=m.nodeName)&&v.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(D=LD);if(D&&(D=D(t,c))){T2(f,D,n,d);break e}B&&B(t,m,c),t==="focusout"&&(B=m._wrapperState)&&B.controlled&&m.type==="number"&&Qg(m,"number",m.value)}switch(B=c?Ma(c):window,t){case"focusin":(Z1(B)||B.contentEditable==="true")&&(ja=B,ay=c,Ic=null);break;case"focusout":Ic=ay=ja=null;break;case"mousedown":ly=!0;break;case"contextmenu":case"mouseup":case"dragend":ly=!1,ix(f,n,d);break;case"selectionchange":if(UD)break;case"keydown":case"keyup":ix(f,n,d)}var $;if(rw)e:{switch(t){case"compositionstart":var H="onCompositionStart";break e;case"compositionend":H="onCompositionEnd";break e;case"compositionupdate":H="onCompositionUpdate";break e}H=void 0}else Da?b2(t,n)&&(H="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(H="onCompositionStart");H&&(x2&&n.locale!=="ko"&&(Da||H!=="onCompositionStart"?H==="onCompositionEnd"&&Da&&($=_2()):(Rs=d,ew="value"in Rs?Rs.value:Rs.textContent,Da=!0)),B=Lh(c,H),0<B.length&&(H=new Q1(H,t,null,n,d),f.push({event:H,listeners:B}),$?H.data=$:($=E2(n),$!==null&&(H.data=$)))),($=AD?kD(t,n):PD(t,n))&&(c=Lh(c,"onBeforeInput"),0<c.length&&(d=new Q1("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:c}),d.data=$))}j2(f,e)})}function Yc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Lh(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=zc(t,n),s!=null&&r.unshift(Yc(t,s,i)),s=zc(t,e),s!=null&&r.push(Yc(t,s,i))),t=t.return}return r}function Ia(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function ax(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=zc(n,s),l!=null&&o.unshift(Yc(n,l,a))):i||(l=zc(n,s),l!=null&&o.push(Yc(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var HD=/\r\n?/g,WD=/\u0000|\uFFFD/g;function lx(t){return(typeof t=="string"?t:""+t).replace(HD,`
`).replace(WD,"")}function Rd(t,e,n){if(e=lx(e),lx(t)!==e&&n)throw Error(X(425))}function Mh(){}var cy=null,uy=null;function dy(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var hy=typeof setTimeout=="function"?setTimeout:void 0,qD=typeof clearTimeout=="function"?clearTimeout:void 0,cx=typeof Promise=="function"?Promise:void 0,KD=typeof queueMicrotask=="function"?queueMicrotask:typeof cx<"u"?function(t){return cx.resolve(null).then(t).catch(GD)}:hy;function GD(t){setTimeout(function(){throw t})}function Fm(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),qc(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);qc(e)}function Us(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function ux(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Sl=Math.random().toString(36).slice(2),ci="__reactFiber$"+Sl,Xc="__reactProps$"+Sl,Gi="__reactContainer$"+Sl,fy="__reactEvents$"+Sl,QD="__reactListeners$"+Sl,YD="__reactHandles$"+Sl;function Ao(t){var e=t[ci];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Gi]||n[ci]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=ux(t);t!==null;){if(n=t[ci])return n;t=ux(t)}return e}t=n,n=t.parentNode}return null}function ju(t){return t=t[ci]||t[Gi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ma(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(X(33))}function Kf(t){return t[Xc]||null}var py=[],Va=-1;function lo(t){return{current:t}}function pt(t){0>Va||(t.current=py[Va],py[Va]=null,Va--)}function ot(t,e){Va++,py[Va]=t.current,t.current=e}var eo={},In=lo(eo),qn=lo(!1),Ho=eo;function il(t,e){var n=t.type.contextTypes;if(!n)return eo;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Kn(t){return t=t.childContextTypes,t!=null}function Vh(){pt(qn),pt(In)}function dx(t,e,n){if(In.current!==eo)throw Error(X(168));ot(In,e),ot(qn,n)}function M2(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(X(108,DO(t)||"Unknown",i));return bt({},n,r)}function Fh(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||eo,Ho=In.current,ot(In,t),ot(qn,qn.current),!0}function hx(t,e,n){var r=t.stateNode;if(!r)throw Error(X(169));n?(t=M2(t,e,Ho),r.__reactInternalMemoizedMergedChildContext=t,pt(qn),pt(In),ot(In,t)):pt(qn),ot(qn,n)}var Mi=null,Gf=!1,Um=!1;function V2(t){Mi===null?Mi=[t]:Mi.push(t)}function XD(t){Gf=!0,V2(t)}function co(){if(!Um&&Mi!==null){Um=!0;var t=0,e=et;try{var n=Mi;for(et=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Mi=null,Gf=!1}catch(i){throw Mi!==null&&(Mi=Mi.slice(t+1)),c2(Yv,co),i}finally{et=e,Um=!1}}return null}var Fa=[],Ua=0,Uh=null,Bh=0,br=[],Er=0,Wo=null,Fi=1,Ui="";function To(t,e){Fa[Ua++]=Bh,Fa[Ua++]=Uh,Uh=t,Bh=e}function F2(t,e,n){br[Er++]=Fi,br[Er++]=Ui,br[Er++]=Wo,Wo=t;var r=Fi;t=Ui;var i=32-Yr(r)-1;r&=~(1<<i),n+=1;var s=32-Yr(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Fi=1<<32-Yr(e)+i|n<<i|r,Ui=s+t}else Fi=1<<s|n<<i|r,Ui=t}function sw(t){t.return!==null&&(To(t,1),F2(t,1,0))}function ow(t){for(;t===Uh;)Uh=Fa[--Ua],Fa[Ua]=null,Bh=Fa[--Ua],Fa[Ua]=null;for(;t===Wo;)Wo=br[--Er],br[Er]=null,Ui=br[--Er],br[Er]=null,Fi=br[--Er],br[Er]=null}var cr=null,ir=null,gt=!1,qr=null;function U2(t,e){var n=Ir(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function fx(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,cr=t,ir=Us(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,cr=t,ir=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Wo!==null?{id:Fi,overflow:Ui}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Ir(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,cr=t,ir=null,!0):!1;default:return!1}}function my(t){return(t.mode&1)!==0&&(t.flags&128)===0}function gy(t){if(gt){var e=ir;if(e){var n=e;if(!fx(t,e)){if(my(t))throw Error(X(418));e=Us(n.nextSibling);var r=cr;e&&fx(t,e)?U2(r,n):(t.flags=t.flags&-4097|2,gt=!1,cr=t)}}else{if(my(t))throw Error(X(418));t.flags=t.flags&-4097|2,gt=!1,cr=t}}}function px(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;cr=t}function Nd(t){if(t!==cr)return!1;if(!gt)return px(t),gt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!dy(t.type,t.memoizedProps)),e&&(e=ir)){if(my(t))throw B2(),Error(X(418));for(;e;)U2(t,e),e=Us(e.nextSibling)}if(px(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(X(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){ir=Us(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}ir=null}}else ir=cr?Us(t.stateNode.nextSibling):null;return!0}function B2(){for(var t=ir;t;)t=Us(t.nextSibling)}function sl(){ir=cr=null,gt=!1}function aw(t){qr===null?qr=[t]:qr.push(t)}var JD=rs.ReactCurrentBatchConfig;function zr(t,e){if(t&&t.defaultProps){e=bt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var $h=lo(null),zh=null,Ba=null,lw=null;function cw(){lw=Ba=zh=null}function uw(t){var e=$h.current;pt($h),t._currentValue=e}function yy(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ya(t,e){zh=t,lw=Ba=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Wn=!0),t.firstContext=null)}function Pr(t){var e=t._currentValue;if(lw!==t)if(t={context:t,memoizedValue:e,next:null},Ba===null){if(zh===null)throw Error(X(308));Ba=t,zh.dependencies={lanes:0,firstContext:t}}else Ba=Ba.next=t;return e}var ko=null;function dw(t){ko===null?ko=[t]:ko.push(t)}function $2(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,dw(e)):(n.next=i.next,i.next=n),e.interleaved=n,Qi(t,r)}function Qi(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ts=!1;function hw(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function z2(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Hi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Bs(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ye&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Qi(t,n)}return i=r.interleaved,i===null?(e.next=e,dw(r)):(e.next=i.next,i.next=e),r.interleaved=e,Qi(t,n)}function ah(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Xv(t,n)}}function mx(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Hh(t,e,n,r){var i=t.updateQueue;Ts=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(s!==null){var f=i.baseState;o=0,d=c=l=null,a=s;do{var m=a.lane,v=a.eventTime;if((r&m)===m){d!==null&&(d=d.next={eventTime:v,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var w=t,b=a;switch(m=e,v=n,b.tag){case 1:if(w=b.payload,typeof w=="function"){f=w.call(v,f,m);break e}f=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=b.payload,m=typeof w=="function"?w.call(v,f,m):w,m==null)break e;f=bt({},f,m);break e;case 2:Ts=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,m=i.effects,m===null?i.effects=[a]:m.push(a))}else v={eventTime:v,lane:m,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=v,l=f):d=d.next=v,o|=m;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;m=a,a=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(1);if(d===null&&(l=f),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Ko|=o,t.lanes=o,t.memoizedState=f}}function gx(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(X(191,i));i.call(r)}}}var H2=new $T.Component().refs;function vy(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:bt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Qf={isMounted:function(t){return(t=t._reactInternals)?oa(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Ln(),i=zs(t),s=Hi(r,i);s.payload=e,n!=null&&(s.callback=n),e=Bs(t,s,i),e!==null&&(Xr(e,t,i,r),ah(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Ln(),i=zs(t),s=Hi(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Bs(t,s,i),e!==null&&(Xr(e,t,i,r),ah(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ln(),r=zs(t),i=Hi(n,r);i.tag=2,e!=null&&(i.callback=e),e=Bs(t,i,r),e!==null&&(Xr(e,t,r,n),ah(e,t,r))}};function yx(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Gc(n,r)||!Gc(i,s):!0}function W2(t,e,n){var r=!1,i=eo,s=e.contextType;return typeof s=="object"&&s!==null?s=Pr(s):(i=Kn(e)?Ho:In.current,r=e.contextTypes,s=(r=r!=null)?il(t,i):eo),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Qf,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function vx(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Qf.enqueueReplaceState(e,e.state,null)}function wy(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=H2,hw(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Pr(s):(s=Kn(e)?Ho:In.current,i.context=il(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(vy(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Qf.enqueueReplaceState(i,i.state,null),Hh(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function tc(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(X(309));var r=n.stateNode}if(!r)throw Error(X(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===H2&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(X(284));if(!n._owner)throw Error(X(290,t))}return t}function Od(t,e){throw t=Object.prototype.toString.call(e),Error(X(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function wx(t){var e=t._init;return e(t._payload)}function q2(t){function e(x,_){if(t){var T=x.deletions;T===null?(x.deletions=[_],x.flags|=16):T.push(_)}}function n(x,_){if(!t)return null;for(;_!==null;)e(x,_),_=_.sibling;return null}function r(x,_){for(x=new Map;_!==null;)_.key!==null?x.set(_.key,_):x.set(_.index,_),_=_.sibling;return x}function i(x,_){return x=Hs(x,_),x.index=0,x.sibling=null,x}function s(x,_,T){return x.index=T,t?(T=x.alternate,T!==null?(T=T.index,T<_?(x.flags|=2,_):T):(x.flags|=2,_)):(x.flags|=1048576,_)}function o(x){return t&&x.alternate===null&&(x.flags|=2),x}function a(x,_,T,R){return _===null||_.tag!==6?(_=Km(T,x.mode,R),_.return=x,_):(_=i(_,T),_.return=x,_)}function l(x,_,T,R){var D=T.type;return D===Oa?d(x,_,T.props.children,R,T.key):_!==null&&(_.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===Es&&wx(D)===_.type)?(R=i(_,T.props),R.ref=tc(x,_,T),R.return=x,R):(R=fh(T.type,T.key,T.props,null,x.mode,R),R.ref=tc(x,_,T),R.return=x,R)}function c(x,_,T,R){return _===null||_.tag!==4||_.stateNode.containerInfo!==T.containerInfo||_.stateNode.implementation!==T.implementation?(_=Gm(T,x.mode,R),_.return=x,_):(_=i(_,T.children||[]),_.return=x,_)}function d(x,_,T,R,D){return _===null||_.tag!==7?(_=Vo(T,x.mode,R,D),_.return=x,_):(_=i(_,T),_.return=x,_)}function f(x,_,T){if(typeof _=="string"&&_!==""||typeof _=="number")return _=Km(""+_,x.mode,T),_.return=x,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case bd:return T=fh(_.type,_.key,_.props,null,x.mode,T),T.ref=tc(x,null,_),T.return=x,T;case Na:return _=Gm(_,x.mode,T),_.return=x,_;case Es:var R=_._init;return f(x,R(_._payload),T)}if(dc(_)||Yl(_))return _=Vo(_,x.mode,T,null),_.return=x,_;Od(x,_)}return null}function m(x,_,T,R){var D=_!==null?_.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return D!==null?null:a(x,_,""+T,R);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case bd:return T.key===D?l(x,_,T,R):null;case Na:return T.key===D?c(x,_,T,R):null;case Es:return D=T._init,m(x,_,D(T._payload),R)}if(dc(T)||Yl(T))return D!==null?null:d(x,_,T,R,null);Od(x,T)}return null}function v(x,_,T,R,D){if(typeof R=="string"&&R!==""||typeof R=="number")return x=x.get(T)||null,a(_,x,""+R,D);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case bd:return x=x.get(R.key===null?T:R.key)||null,l(_,x,R,D);case Na:return x=x.get(R.key===null?T:R.key)||null,c(_,x,R,D);case Es:var B=R._init;return v(x,_,T,B(R._payload),D)}if(dc(R)||Yl(R))return x=x.get(T)||null,d(_,x,R,D,null);Od(_,R)}return null}function w(x,_,T,R){for(var D=null,B=null,$=_,H=_=0,se=null;$!==null&&H<T.length;H++){$.index>H?(se=$,$=null):se=$.sibling;var re=m(x,$,T[H],R);if(re===null){$===null&&($=se);break}t&&$&&re.alternate===null&&e(x,$),_=s(re,_,H),B===null?D=re:B.sibling=re,B=re,$=se}if(H===T.length)return n(x,$),gt&&To(x,H),D;if($===null){for(;H<T.length;H++)$=f(x,T[H],R),$!==null&&(_=s($,_,H),B===null?D=$:B.sibling=$,B=$);return gt&&To(x,H),D}for($=r(x,$);H<T.length;H++)se=v($,x,H,T[H],R),se!==null&&(t&&se.alternate!==null&&$.delete(se.key===null?H:se.key),_=s(se,_,H),B===null?D=se:B.sibling=se,B=se);return t&&$.forEach(function(ke){return e(x,ke)}),gt&&To(x,H),D}function b(x,_,T,R){var D=Yl(T);if(typeof D!="function")throw Error(X(150));if(T=D.call(T),T==null)throw Error(X(151));for(var B=D=null,$=_,H=_=0,se=null,re=T.next();$!==null&&!re.done;H++,re=T.next()){$.index>H?(se=$,$=null):se=$.sibling;var ke=m(x,$,re.value,R);if(ke===null){$===null&&($=se);break}t&&$&&ke.alternate===null&&e(x,$),_=s(ke,_,H),B===null?D=ke:B.sibling=ke,B=ke,$=se}if(re.done)return n(x,$),gt&&To(x,H),D;if($===null){for(;!re.done;H++,re=T.next())re=f(x,re.value,R),re!==null&&(_=s(re,_,H),B===null?D=re:B.sibling=re,B=re);return gt&&To(x,H),D}for($=r(x,$);!re.done;H++,re=T.next())re=v($,x,H,re.value,R),re!==null&&(t&&re.alternate!==null&&$.delete(re.key===null?H:re.key),_=s(re,_,H),B===null?D=re:B.sibling=re,B=re);return t&&$.forEach(function(fe){return e(x,fe)}),gt&&To(x,H),D}function E(x,_,T,R){if(typeof T=="object"&&T!==null&&T.type===Oa&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case bd:e:{for(var D=T.key,B=_;B!==null;){if(B.key===D){if(D=T.type,D===Oa){if(B.tag===7){n(x,B.sibling),_=i(B,T.props.children),_.return=x,x=_;break e}}else if(B.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===Es&&wx(D)===B.type){n(x,B.sibling),_=i(B,T.props),_.ref=tc(x,B,T),_.return=x,x=_;break e}n(x,B);break}else e(x,B);B=B.sibling}T.type===Oa?(_=Vo(T.props.children,x.mode,R,T.key),_.return=x,x=_):(R=fh(T.type,T.key,T.props,null,x.mode,R),R.ref=tc(x,_,T),R.return=x,x=R)}return o(x);case Na:e:{for(B=T.key;_!==null;){if(_.key===B)if(_.tag===4&&_.stateNode.containerInfo===T.containerInfo&&_.stateNode.implementation===T.implementation){n(x,_.sibling),_=i(_,T.children||[]),_.return=x,x=_;break e}else{n(x,_);break}else e(x,_);_=_.sibling}_=Gm(T,x.mode,R),_.return=x,x=_}return o(x);case Es:return B=T._init,E(x,_,B(T._payload),R)}if(dc(T))return w(x,_,T,R);if(Yl(T))return b(x,_,T,R);Od(x,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,_!==null&&_.tag===6?(n(x,_.sibling),_=i(_,T),_.return=x,x=_):(n(x,_),_=Km(T,x.mode,R),_.return=x,x=_),o(x)):n(x,_)}return E}var ol=q2(!0),K2=q2(!1),Lu={},vi=lo(Lu),Jc=lo(Lu),Zc=lo(Lu);function Po(t){if(t===Lu)throw Error(X(174));return t}function fw(t,e){switch(ot(Zc,e),ot(Jc,t),ot(vi,Lu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Xg(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Xg(e,t)}pt(vi),ot(vi,e)}function al(){pt(vi),pt(Jc),pt(Zc)}function G2(t){Po(Zc.current);var e=Po(vi.current),n=Xg(e,t.type);e!==n&&(ot(Jc,t),ot(vi,n))}function pw(t){Jc.current===t&&(pt(vi),pt(Jc))}var wt=lo(0);function Wh(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Bm=[];function mw(){for(var t=0;t<Bm.length;t++)Bm[t]._workInProgressVersionPrimary=null;Bm.length=0}var lh=rs.ReactCurrentDispatcher,$m=rs.ReactCurrentBatchConfig,qo=0,_t=null,Bt=null,Yt=null,qh=!1,Cc=!1,eu=0,ZD=0;function yn(){throw Error(X(321))}function gw(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ei(t[n],e[n]))return!1;return!0}function yw(t,e,n,r,i,s){if(qo=s,_t=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,lh.current=t===null||t.memoizedState===null?rj:ij,t=n(r,i),Cc){s=0;do{if(Cc=!1,eu=0,25<=s)throw Error(X(301));s+=1,Yt=Bt=null,e.updateQueue=null,lh.current=sj,t=n(r,i)}while(Cc)}if(lh.current=Kh,e=Bt!==null&&Bt.next!==null,qo=0,Yt=Bt=_t=null,qh=!1,e)throw Error(X(300));return t}function vw(){var t=eu!==0;return eu=0,t}function li(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Yt===null?_t.memoizedState=Yt=t:Yt=Yt.next=t,Yt}function Rr(){if(Bt===null){var t=_t.alternate;t=t!==null?t.memoizedState:null}else t=Bt.next;var e=Yt===null?_t.memoizedState:Yt.next;if(e!==null)Yt=e,Bt=t;else{if(t===null)throw Error(X(310));Bt=t,t={memoizedState:Bt.memoizedState,baseState:Bt.baseState,baseQueue:Bt.baseQueue,queue:Bt.queue,next:null},Yt===null?_t.memoizedState=Yt=t:Yt=Yt.next=t}return Yt}function tu(t,e){return typeof e=="function"?e(t):e}function zm(t){var e=Rr(),n=e.queue;if(n===null)throw Error(X(311));n.lastRenderedReducer=t;var r=Bt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var d=c.lane;if((qo&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,_t.lanes|=d,Ko|=d}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,ei(r,e.memoizedState)||(Wn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,_t.lanes|=s,Ko|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Hm(t){var e=Rr(),n=e.queue;if(n===null)throw Error(X(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);ei(s,e.memoizedState)||(Wn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function Q2(){}function Y2(t,e){var n=_t,r=Rr(),i=e(),s=!ei(r.memoizedState,i);if(s&&(r.memoizedState=i,Wn=!0),r=r.queue,ww(Z2.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Yt!==null&&Yt.memoizedState.tag&1){if(n.flags|=2048,nu(9,J2.bind(null,n,r,i,e),void 0,null),Xt===null)throw Error(X(349));qo&30||X2(n,e,i)}return i}function X2(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=_t.updateQueue,e===null?(e={lastEffect:null,stores:null},_t.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function J2(t,e,n,r){e.value=n,e.getSnapshot=r,eS(e)&&tS(t)}function Z2(t,e,n){return n(function(){eS(e)&&tS(t)})}function eS(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ei(t,n)}catch{return!0}}function tS(t){var e=Qi(t,1);e!==null&&Xr(e,t,1,-1)}function _x(t){var e=li();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:tu,lastRenderedState:t},e.queue=t,t=t.dispatch=nj.bind(null,_t,t),[e.memoizedState,t]}function nu(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=_t.updateQueue,e===null?(e={lastEffect:null,stores:null},_t.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function nS(){return Rr().memoizedState}function ch(t,e,n,r){var i=li();_t.flags|=t,i.memoizedState=nu(1|e,n,void 0,r===void 0?null:r)}function Yf(t,e,n,r){var i=Rr();r=r===void 0?null:r;var s=void 0;if(Bt!==null){var o=Bt.memoizedState;if(s=o.destroy,r!==null&&gw(r,o.deps)){i.memoizedState=nu(e,n,s,r);return}}_t.flags|=t,i.memoizedState=nu(1|e,n,s,r)}function xx(t,e){return ch(8390656,8,t,e)}function ww(t,e){return Yf(2048,8,t,e)}function rS(t,e){return Yf(4,2,t,e)}function iS(t,e){return Yf(4,4,t,e)}function sS(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function oS(t,e,n){return n=n!=null?n.concat([t]):null,Yf(4,4,sS.bind(null,e,t),n)}function _w(){}function aS(t,e){var n=Rr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&gw(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function lS(t,e){var n=Rr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&gw(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function cS(t,e,n){return qo&21?(ei(n,e)||(n=h2(),_t.lanes|=n,Ko|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Wn=!0),t.memoizedState=n)}function ej(t,e){var n=et;et=n!==0&&4>n?n:4,t(!0);var r=$m.transition;$m.transition={};try{t(!1),e()}finally{et=n,$m.transition=r}}function uS(){return Rr().memoizedState}function tj(t,e,n){var r=zs(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},dS(t))hS(e,n);else if(n=$2(t,e,n,r),n!==null){var i=Ln();Xr(n,t,r,i),fS(n,e,r)}}function nj(t,e,n){var r=zs(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(dS(t))hS(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,ei(a,o)){var l=e.interleaved;l===null?(i.next=i,dw(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=$2(t,e,i,r),n!==null&&(i=Ln(),Xr(n,t,r,i),fS(n,e,r))}}function dS(t){var e=t.alternate;return t===_t||e!==null&&e===_t}function hS(t,e){Cc=qh=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function fS(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Xv(t,n)}}var Kh={readContext:Pr,useCallback:yn,useContext:yn,useEffect:yn,useImperativeHandle:yn,useInsertionEffect:yn,useLayoutEffect:yn,useMemo:yn,useReducer:yn,useRef:yn,useState:yn,useDebugValue:yn,useDeferredValue:yn,useTransition:yn,useMutableSource:yn,useSyncExternalStore:yn,useId:yn,unstable_isNewReconciler:!1},rj={readContext:Pr,useCallback:function(t,e){return li().memoizedState=[t,e===void 0?null:e],t},useContext:Pr,useEffect:xx,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,ch(4194308,4,sS.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ch(4194308,4,t,e)},useInsertionEffect:function(t,e){return ch(4,2,t,e)},useMemo:function(t,e){var n=li();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=li();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=tj.bind(null,_t,t),[r.memoizedState,t]},useRef:function(t){var e=li();return t={current:t},e.memoizedState=t},useState:_x,useDebugValue:_w,useDeferredValue:function(t){return li().memoizedState=t},useTransition:function(){var t=_x(!1),e=t[0];return t=ej.bind(null,t[1]),li().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=_t,i=li();if(gt){if(n===void 0)throw Error(X(407));n=n()}else{if(n=e(),Xt===null)throw Error(X(349));qo&30||X2(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,xx(Z2.bind(null,r,s,t),[t]),r.flags|=2048,nu(9,J2.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=li(),e=Xt.identifierPrefix;if(gt){var n=Ui,r=Fi;n=(r&~(1<<32-Yr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=eu++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=ZD++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},ij={readContext:Pr,useCallback:aS,useContext:Pr,useEffect:ww,useImperativeHandle:oS,useInsertionEffect:rS,useLayoutEffect:iS,useMemo:lS,useReducer:zm,useRef:nS,useState:function(){return zm(tu)},useDebugValue:_w,useDeferredValue:function(t){var e=Rr();return cS(e,Bt.memoizedState,t)},useTransition:function(){var t=zm(tu)[0],e=Rr().memoizedState;return[t,e]},useMutableSource:Q2,useSyncExternalStore:Y2,useId:uS,unstable_isNewReconciler:!1},sj={readContext:Pr,useCallback:aS,useContext:Pr,useEffect:ww,useImperativeHandle:oS,useInsertionEffect:rS,useLayoutEffect:iS,useMemo:lS,useReducer:Hm,useRef:nS,useState:function(){return Hm(tu)},useDebugValue:_w,useDeferredValue:function(t){var e=Rr();return Bt===null?e.memoizedState=t:cS(e,Bt.memoizedState,t)},useTransition:function(){var t=Hm(tu)[0],e=Rr().memoizedState;return[t,e]},useMutableSource:Q2,useSyncExternalStore:Y2,useId:uS,unstable_isNewReconciler:!1};function ll(t,e){try{var n="",r=e;do n+=OO(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Wm(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function _y(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var oj=typeof WeakMap=="function"?WeakMap:Map;function pS(t,e,n){n=Hi(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Qh||(Qh=!0,Py=r),_y(t,e)},n}function mS(t,e,n){n=Hi(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){_y(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){_y(t,e),typeof r!="function"&&($s===null?$s=new Set([this]):$s.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function bx(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new oj;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=_j.bind(null,t,e,n),e.then(t,t))}function Ex(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Tx(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Hi(-1,1),e.tag=2,Bs(n,e,1))),n.lanes|=1),t)}var aj=rs.ReactCurrentOwner,Wn=!1;function On(t,e,n,r){e.child=t===null?K2(e,null,n,r):ol(e,t.child,n,r)}function Sx(t,e,n,r,i){n=n.render;var s=e.ref;return Ya(e,i),r=yw(t,e,n,r,s,i),n=vw(),t!==null&&!Wn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Yi(t,e,i)):(gt&&n&&sw(e),e.flags|=1,On(t,e,r,i),e.child)}function Ix(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Aw(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,gS(t,e,s,r,i)):(t=fh(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Gc,n(o,r)&&t.ref===e.ref)return Yi(t,e,i)}return e.flags|=1,t=Hs(s,r),t.ref=e.ref,t.return=e,e.child=t}function gS(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Gc(s,r)&&t.ref===e.ref)if(Wn=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Wn=!0);else return e.lanes=t.lanes,Yi(t,e,i)}return xy(t,e,n,r,i)}function yS(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ot(za,nr),nr|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ot(za,nr),nr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,ot(za,nr),nr|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,ot(za,nr),nr|=r;return On(t,e,i,n),e.child}function vS(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function xy(t,e,n,r,i){var s=Kn(n)?Ho:In.current;return s=il(e,s),Ya(e,i),n=yw(t,e,n,r,s,i),r=vw(),t!==null&&!Wn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Yi(t,e,i)):(gt&&r&&sw(e),e.flags|=1,On(t,e,n,i),e.child)}function Cx(t,e,n,r,i){if(Kn(n)){var s=!0;Fh(e)}else s=!1;if(Ya(e,i),e.stateNode===null)uh(t,e),W2(e,n,r),wy(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Pr(c):(c=Kn(n)?Ho:In.current,c=il(e,c));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&vx(e,o,r,c),Ts=!1;var m=e.memoizedState;o.state=m,Hh(e,r,o,i),l=e.memoizedState,a!==r||m!==l||qn.current||Ts?(typeof d=="function"&&(vy(e,n,d,r),l=e.memoizedState),(a=Ts||yx(e,n,a,r,m,l,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,z2(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:zr(e.type,a),o.props=c,f=e.pendingProps,m=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Pr(l):(l=Kn(n)?Ho:In.current,l=il(e,l));var v=n.getDerivedStateFromProps;(d=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||m!==l)&&vx(e,o,r,l),Ts=!1,m=e.memoizedState,o.state=m,Hh(e,r,o,i);var w=e.memoizedState;a!==f||m!==w||qn.current||Ts?(typeof v=="function"&&(vy(e,n,v,r),w=e.memoizedState),(c=Ts||yx(e,n,c,r,m,w,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,w,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,w,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=w),o.props=r,o.state=w,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return by(t,e,n,r,s,i)}function by(t,e,n,r,i,s){vS(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&hx(e,n,!1),Yi(t,e,s);r=e.stateNode,aj.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=ol(e,t.child,null,s),e.child=ol(e,null,a,s)):On(t,e,a,s),e.memoizedState=r.state,i&&hx(e,n,!0),e.child}function wS(t){var e=t.stateNode;e.pendingContext?dx(t,e.pendingContext,e.pendingContext!==e.context):e.context&&dx(t,e.context,!1),fw(t,e.containerInfo)}function Ax(t,e,n,r,i){return sl(),aw(i),e.flags|=256,On(t,e,n,r),e.child}var Ey={dehydrated:null,treeContext:null,retryLane:0};function Ty(t){return{baseLanes:t,cachePool:null,transitions:null}}function _S(t,e,n){var r=e.pendingProps,i=wt.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ot(wt,i&1),t===null)return gy(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Zf(o,r,0,null),t=Vo(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Ty(n),e.memoizedState=Ey,t):xw(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return lj(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Hs(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Hs(a,s):(s=Vo(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Ty(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Ey,r}return s=t.child,t=s.sibling,r=Hs(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function xw(t,e){return e=Zf({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Dd(t,e,n,r){return r!==null&&aw(r),ol(e,t.child,null,n),t=xw(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function lj(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Wm(Error(X(422))),Dd(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Zf({mode:"visible",children:r.children},i,0,null),s=Vo(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&ol(e,t.child,null,o),e.child.memoizedState=Ty(o),e.memoizedState=Ey,s);if(!(e.mode&1))return Dd(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(X(419)),r=Wm(s,r,void 0),Dd(t,e,o,r)}if(a=(o&t.childLanes)!==0,Wn||a){if(r=Xt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Qi(t,i),Xr(r,t,i,-1))}return Cw(),r=Wm(Error(X(421))),Dd(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=xj.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,ir=Us(i.nextSibling),cr=e,gt=!0,qr=null,t!==null&&(br[Er++]=Fi,br[Er++]=Ui,br[Er++]=Wo,Fi=t.id,Ui=t.overflow,Wo=e),e=xw(e,r.children),e.flags|=4096,e)}function kx(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),yy(t.return,e,n)}function qm(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function xS(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(On(t,e,r.children,n),r=wt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&kx(t,n,e);else if(t.tag===19)kx(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ot(wt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Wh(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),qm(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Wh(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}qm(e,!0,n,null,s);break;case"together":qm(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function uh(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Yi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ko|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(X(153));if(e.child!==null){for(t=e.child,n=Hs(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Hs(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function cj(t,e,n){switch(e.tag){case 3:wS(e),sl();break;case 5:G2(e);break;case 1:Kn(e.type)&&Fh(e);break;case 4:fw(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;ot($h,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ot(wt,wt.current&1),e.flags|=128,null):n&e.child.childLanes?_S(t,e,n):(ot(wt,wt.current&1),t=Yi(t,e,n),t!==null?t.sibling:null);ot(wt,wt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return xS(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ot(wt,wt.current),r)break;return null;case 22:case 23:return e.lanes=0,yS(t,e,n)}return Yi(t,e,n)}var bS,Sy,ES,TS;bS=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Sy=function(){};ES=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Po(vi.current);var s=null;switch(n){case"input":i=Kg(t,i),r=Kg(t,r),s=[];break;case"select":i=bt({},i,{value:void 0}),r=bt({},r,{value:void 0}),s=[];break;case"textarea":i=Yg(t,i),r=Yg(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Mh)}Jg(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Bc.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Bc.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&ht("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};TS=function(t,e,n,r){n!==r&&(e.flags|=4)};function nc(t,e){if(!gt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function vn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function uj(t,e,n){var r=e.pendingProps;switch(ow(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vn(e),null;case 1:return Kn(e.type)&&Vh(),vn(e),null;case 3:return r=e.stateNode,al(),pt(qn),pt(In),mw(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Nd(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,qr!==null&&(Oy(qr),qr=null))),Sy(t,e),vn(e),null;case 5:pw(e);var i=Po(Zc.current);if(n=e.type,t!==null&&e.stateNode!=null)ES(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(X(166));return vn(e),null}if(t=Po(vi.current),Nd(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[ci]=e,r[Xc]=s,t=(e.mode&1)!==0,n){case"dialog":ht("cancel",r),ht("close",r);break;case"iframe":case"object":case"embed":ht("load",r);break;case"video":case"audio":for(i=0;i<fc.length;i++)ht(fc[i],r);break;case"source":ht("error",r);break;case"img":case"image":case"link":ht("error",r),ht("load",r);break;case"details":ht("toggle",r);break;case"input":V1(r,s),ht("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},ht("invalid",r);break;case"textarea":U1(r,s),ht("invalid",r)}Jg(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Rd(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Rd(r.textContent,a,t),i=["children",""+a]):Bc.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ht("scroll",r)}switch(n){case"input":Ed(r),F1(r,s,!0);break;case"textarea":Ed(r),B1(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Mh)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=XT(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[ci]=e,t[Xc]=r,bS(t,e,!1,!1),e.stateNode=t;e:{switch(o=Zg(n,r),n){case"dialog":ht("cancel",t),ht("close",t),i=r;break;case"iframe":case"object":case"embed":ht("load",t),i=r;break;case"video":case"audio":for(i=0;i<fc.length;i++)ht(fc[i],t);i=r;break;case"source":ht("error",t),i=r;break;case"img":case"image":case"link":ht("error",t),ht("load",t),i=r;break;case"details":ht("toggle",t),i=r;break;case"input":V1(t,r),i=Kg(t,r),ht("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=bt({},r,{value:void 0}),ht("invalid",t);break;case"textarea":U1(t,r),i=Yg(t,r),ht("invalid",t);break;default:i=r}Jg(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?e2(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&JT(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&$c(t,l):typeof l=="number"&&$c(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Bc.hasOwnProperty(s)?l!=null&&s==="onScroll"&&ht("scroll",t):l!=null&&Wv(t,s,l,o))}switch(n){case"input":Ed(t),F1(t,r,!1);break;case"textarea":Ed(t),B1(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Zs(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?qa(t,!!r.multiple,s,!1):r.defaultValue!=null&&qa(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Mh)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return vn(e),null;case 6:if(t&&e.stateNode!=null)TS(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(X(166));if(n=Po(Zc.current),Po(vi.current),Nd(e)){if(r=e.stateNode,n=e.memoizedProps,r[ci]=e,(s=r.nodeValue!==n)&&(t=cr,t!==null))switch(t.tag){case 3:Rd(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Rd(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ci]=e,e.stateNode=r}return vn(e),null;case 13:if(pt(wt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(gt&&ir!==null&&e.mode&1&&!(e.flags&128))B2(),sl(),e.flags|=98560,s=!1;else if(s=Nd(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(X(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(X(317));s[ci]=e}else sl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;vn(e),s=!1}else qr!==null&&(Oy(qr),qr=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||wt.current&1?$t===0&&($t=3):Cw())),e.updateQueue!==null&&(e.flags|=4),vn(e),null);case 4:return al(),Sy(t,e),t===null&&Qc(e.stateNode.containerInfo),vn(e),null;case 10:return uw(e.type._context),vn(e),null;case 17:return Kn(e.type)&&Vh(),vn(e),null;case 19:if(pt(wt),s=e.memoizedState,s===null)return vn(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)nc(s,!1);else{if($t!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Wh(t),o!==null){for(e.flags|=128,nc(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ot(wt,wt.current&1|2),e.child}t=t.sibling}s.tail!==null&&Ot()>cl&&(e.flags|=128,r=!0,nc(s,!1),e.lanes=4194304)}else{if(!r)if(t=Wh(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),nc(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!gt)return vn(e),null}else 2*Ot()-s.renderingStartTime>cl&&n!==1073741824&&(e.flags|=128,r=!0,nc(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Ot(),e.sibling=null,n=wt.current,ot(wt,r?n&1|2:n&1),e):(vn(e),null);case 22:case 23:return Iw(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?nr&1073741824&&(vn(e),e.subtreeFlags&6&&(e.flags|=8192)):vn(e),null;case 24:return null;case 25:return null}throw Error(X(156,e.tag))}function dj(t,e){switch(ow(e),e.tag){case 1:return Kn(e.type)&&Vh(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return al(),pt(qn),pt(In),mw(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return pw(e),null;case 13:if(pt(wt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(X(340));sl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return pt(wt),null;case 4:return al(),null;case 10:return uw(e.type._context),null;case 22:case 23:return Iw(),null;case 24:return null;default:return null}}var jd=!1,xn=!1,hj=typeof WeakSet=="function"?WeakSet:Set,pe=null;function $a(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){It(t,e,r)}else n.current=null}function Iy(t,e,n){try{n()}catch(r){It(t,e,r)}}var Px=!1;function fj(t,e){if(cy=Dh,t=A2(),iw(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,d=0,f=t,m=null;t:for(;;){for(var v;f!==n||i!==0&&f.nodeType!==3||(a=o+i),f!==s||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(v=f.firstChild)!==null;)m=f,f=v;for(;;){if(f===t)break t;if(m===n&&++c===i&&(a=o),m===s&&++d===r&&(l=o),(v=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=v}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(uy={focusedElem:t,selectionRange:n},Dh=!1,pe=e;pe!==null;)if(e=pe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,pe=t;else for(;pe!==null;){e=pe;try{var w=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var b=w.memoizedProps,E=w.memoizedState,x=e.stateNode,_=x.getSnapshotBeforeUpdate(e.elementType===e.type?b:zr(e.type,b),E);x.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var T=e.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(X(163))}}catch(R){It(e,e.return,R)}if(t=e.sibling,t!==null){t.return=e.return,pe=t;break}pe=e.return}return w=Px,Px=!1,w}function Ac(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Iy(e,n,s)}i=i.next}while(i!==r)}}function Xf(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Cy(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function SS(t){var e=t.alternate;e!==null&&(t.alternate=null,SS(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ci],delete e[Xc],delete e[fy],delete e[QD],delete e[YD])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function IS(t){return t.tag===5||t.tag===3||t.tag===4}function Rx(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||IS(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ay(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Mh));else if(r!==4&&(t=t.child,t!==null))for(Ay(t,e,n),t=t.sibling;t!==null;)Ay(t,e,n),t=t.sibling}function ky(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(ky(t,e,n),t=t.sibling;t!==null;)ky(t,e,n),t=t.sibling}var an=null,Wr=!1;function ws(t,e,n){for(n=n.child;n!==null;)CS(t,e,n),n=n.sibling}function CS(t,e,n){if(yi&&typeof yi.onCommitFiberUnmount=="function")try{yi.onCommitFiberUnmount(zf,n)}catch{}switch(n.tag){case 5:xn||$a(n,e);case 6:var r=an,i=Wr;an=null,ws(t,e,n),an=r,Wr=i,an!==null&&(Wr?(t=an,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):an.removeChild(n.stateNode));break;case 18:an!==null&&(Wr?(t=an,n=n.stateNode,t.nodeType===8?Fm(t.parentNode,n):t.nodeType===1&&Fm(t,n),qc(t)):Fm(an,n.stateNode));break;case 4:r=an,i=Wr,an=n.stateNode.containerInfo,Wr=!0,ws(t,e,n),an=r,Wr=i;break;case 0:case 11:case 14:case 15:if(!xn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Iy(n,e,o),i=i.next}while(i!==r)}ws(t,e,n);break;case 1:if(!xn&&($a(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){It(n,e,a)}ws(t,e,n);break;case 21:ws(t,e,n);break;case 22:n.mode&1?(xn=(r=xn)||n.memoizedState!==null,ws(t,e,n),xn=r):ws(t,e,n);break;default:ws(t,e,n)}}function Nx(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new hj),e.forEach(function(r){var i=bj.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function $r(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:an=a.stateNode,Wr=!1;break e;case 3:an=a.stateNode.containerInfo,Wr=!0;break e;case 4:an=a.stateNode.containerInfo,Wr=!0;break e}a=a.return}if(an===null)throw Error(X(160));CS(s,o,i),an=null,Wr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){It(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)AS(e,t),e=e.sibling}function AS(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if($r(e,t),ai(t),r&4){try{Ac(3,t,t.return),Xf(3,t)}catch(b){It(t,t.return,b)}try{Ac(5,t,t.return)}catch(b){It(t,t.return,b)}}break;case 1:$r(e,t),ai(t),r&512&&n!==null&&$a(n,n.return);break;case 5:if($r(e,t),ai(t),r&512&&n!==null&&$a(n,n.return),t.flags&32){var i=t.stateNode;try{$c(i,"")}catch(b){It(t,t.return,b)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&QT(i,s),Zg(a,o);var c=Zg(a,s);for(o=0;o<l.length;o+=2){var d=l[o],f=l[o+1];d==="style"?e2(i,f):d==="dangerouslySetInnerHTML"?JT(i,f):d==="children"?$c(i,f):Wv(i,d,f,c)}switch(a){case"input":Gg(i,s);break;case"textarea":YT(i,s);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var v=s.value;v!=null?qa(i,!!s.multiple,v,!1):m!==!!s.multiple&&(s.defaultValue!=null?qa(i,!!s.multiple,s.defaultValue,!0):qa(i,!!s.multiple,s.multiple?[]:"",!1))}i[Xc]=s}catch(b){It(t,t.return,b)}}break;case 6:if($r(e,t),ai(t),r&4){if(t.stateNode===null)throw Error(X(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(b){It(t,t.return,b)}}break;case 3:if($r(e,t),ai(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{qc(e.containerInfo)}catch(b){It(t,t.return,b)}break;case 4:$r(e,t),ai(t);break;case 13:$r(e,t),ai(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Tw=Ot())),r&4&&Nx(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(xn=(c=xn)||d,$r(e,t),xn=c):$r(e,t),ai(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(pe=t,d=t.child;d!==null;){for(f=pe=d;pe!==null;){switch(m=pe,v=m.child,m.tag){case 0:case 11:case 14:case 15:Ac(4,m,m.return);break;case 1:$a(m,m.return);var w=m.stateNode;if(typeof w.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,w.props=e.memoizedProps,w.state=e.memoizedState,w.componentWillUnmount()}catch(b){It(r,n,b)}}break;case 5:$a(m,m.return);break;case 22:if(m.memoizedState!==null){Dx(f);continue}}v!==null?(v.return=m,pe=v):Dx(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=ZT("display",o))}catch(b){It(t,t.return,b)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(b){It(t,t.return,b)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:$r(e,t),ai(t),r&4&&Nx(t);break;case 21:break;default:$r(e,t),ai(t)}}function ai(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(IS(n)){var r=n;break e}n=n.return}throw Error(X(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&($c(i,""),r.flags&=-33);var s=Rx(t);ky(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Rx(t);Ay(t,a,o);break;default:throw Error(X(161))}}catch(l){It(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function pj(t,e,n){pe=t,kS(t)}function kS(t,e,n){for(var r=(t.mode&1)!==0;pe!==null;){var i=pe,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||jd;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||xn;a=jd;var c=xn;if(jd=o,(xn=l)&&!c)for(pe=i;pe!==null;)o=pe,l=o.child,o.tag===22&&o.memoizedState!==null?jx(i):l!==null?(l.return=o,pe=l):jx(i);for(;s!==null;)pe=s,kS(s),s=s.sibling;pe=i,jd=a,xn=c}Ox(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,pe=s):Ox(t)}}function Ox(t){for(;pe!==null;){var e=pe;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:xn||Xf(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!xn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:zr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&gx(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}gx(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&qc(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(X(163))}xn||e.flags&512&&Cy(e)}catch(m){It(e,e.return,m)}}if(e===t){pe=null;break}if(n=e.sibling,n!==null){n.return=e.return,pe=n;break}pe=e.return}}function Dx(t){for(;pe!==null;){var e=pe;if(e===t){pe=null;break}var n=e.sibling;if(n!==null){n.return=e.return,pe=n;break}pe=e.return}}function jx(t){for(;pe!==null;){var e=pe;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Xf(4,e)}catch(l){It(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){It(e,i,l)}}var s=e.return;try{Cy(e)}catch(l){It(e,s,l)}break;case 5:var o=e.return;try{Cy(e)}catch(l){It(e,o,l)}}}catch(l){It(e,e.return,l)}if(e===t){pe=null;break}var a=e.sibling;if(a!==null){a.return=e.return,pe=a;break}pe=e.return}}var mj=Math.ceil,Gh=rs.ReactCurrentDispatcher,bw=rs.ReactCurrentOwner,Cr=rs.ReactCurrentBatchConfig,Ye=0,Xt=null,Mt=null,hn=0,nr=0,za=lo(0),$t=0,ru=null,Ko=0,Jf=0,Ew=0,kc=null,zn=null,Tw=0,cl=1/0,Li=null,Qh=!1,Py=null,$s=null,Ld=!1,Ns=null,Yh=0,Pc=0,Ry=null,dh=-1,hh=0;function Ln(){return Ye&6?Ot():dh!==-1?dh:dh=Ot()}function zs(t){return t.mode&1?Ye&2&&hn!==0?hn&-hn:JD.transition!==null?(hh===0&&(hh=h2()),hh):(t=et,t!==0||(t=window.event,t=t===void 0?16:w2(t.type)),t):1}function Xr(t,e,n,r){if(50<Pc)throw Pc=0,Ry=null,Error(X(185));Ou(t,n,r),(!(Ye&2)||t!==Xt)&&(t===Xt&&(!(Ye&2)&&(Jf|=n),$t===4&&Is(t,hn)),Gn(t,r),n===1&&Ye===0&&!(e.mode&1)&&(cl=Ot()+500,Gf&&co()))}function Gn(t,e){var n=t.callbackNode;JO(t,e);var r=Oh(t,t===Xt?hn:0);if(r===0)n!==null&&H1(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&H1(n),e===1)t.tag===0?XD(Lx.bind(null,t)):V2(Lx.bind(null,t)),KD(function(){!(Ye&6)&&co()}),n=null;else{switch(f2(r)){case 1:n=Yv;break;case 4:n=u2;break;case 16:n=Nh;break;case 536870912:n=d2;break;default:n=Nh}n=MS(n,PS.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function PS(t,e){if(dh=-1,hh=0,Ye&6)throw Error(X(327));var n=t.callbackNode;if(Xa()&&t.callbackNode!==n)return null;var r=Oh(t,t===Xt?hn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Xh(t,r);else{e=r;var i=Ye;Ye|=2;var s=NS();(Xt!==t||hn!==e)&&(Li=null,cl=Ot()+500,Mo(t,e));do try{vj();break}catch(a){RS(t,a)}while(1);cw(),Gh.current=s,Ye=i,Mt!==null?e=0:(Xt=null,hn=0,e=$t)}if(e!==0){if(e===2&&(i=iy(t),i!==0&&(r=i,e=Ny(t,i))),e===1)throw n=ru,Mo(t,0),Is(t,r),Gn(t,Ot()),n;if(e===6)Is(t,r);else{if(i=t.current.alternate,!(r&30)&&!gj(i)&&(e=Xh(t,r),e===2&&(s=iy(t),s!==0&&(r=s,e=Ny(t,s))),e===1))throw n=ru,Mo(t,0),Is(t,r),Gn(t,Ot()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(X(345));case 2:So(t,zn,Li);break;case 3:if(Is(t,r),(r&130023424)===r&&(e=Tw+500-Ot(),10<e)){if(Oh(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Ln(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=hy(So.bind(null,t,zn,Li),e);break}So(t,zn,Li);break;case 4:if(Is(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Yr(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Ot()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*mj(r/1960))-r,10<r){t.timeoutHandle=hy(So.bind(null,t,zn,Li),r);break}So(t,zn,Li);break;case 5:So(t,zn,Li);break;default:throw Error(X(329))}}}return Gn(t,Ot()),t.callbackNode===n?PS.bind(null,t):null}function Ny(t,e){var n=kc;return t.current.memoizedState.isDehydrated&&(Mo(t,e).flags|=256),t=Xh(t,e),t!==2&&(e=zn,zn=n,e!==null&&Oy(e)),t}function Oy(t){zn===null?zn=t:zn.push.apply(zn,t)}function gj(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!ei(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Is(t,e){for(e&=~Ew,e&=~Jf,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Yr(e),r=1<<n;t[n]=-1,e&=~r}}function Lx(t){if(Ye&6)throw Error(X(327));Xa();var e=Oh(t,0);if(!(e&1))return Gn(t,Ot()),null;var n=Xh(t,e);if(t.tag!==0&&n===2){var r=iy(t);r!==0&&(e=r,n=Ny(t,r))}if(n===1)throw n=ru,Mo(t,0),Is(t,e),Gn(t,Ot()),n;if(n===6)throw Error(X(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,So(t,zn,Li),Gn(t,Ot()),null}function Sw(t,e){var n=Ye;Ye|=1;try{return t(e)}finally{Ye=n,Ye===0&&(cl=Ot()+500,Gf&&co())}}function Go(t){Ns!==null&&Ns.tag===0&&!(Ye&6)&&Xa();var e=Ye;Ye|=1;var n=Cr.transition,r=et;try{if(Cr.transition=null,et=1,t)return t()}finally{et=r,Cr.transition=n,Ye=e,!(Ye&6)&&co()}}function Iw(){nr=za.current,pt(za)}function Mo(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,qD(n)),Mt!==null)for(n=Mt.return;n!==null;){var r=n;switch(ow(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Vh();break;case 3:al(),pt(qn),pt(In),mw();break;case 5:pw(r);break;case 4:al();break;case 13:pt(wt);break;case 19:pt(wt);break;case 10:uw(r.type._context);break;case 22:case 23:Iw()}n=n.return}if(Xt=t,Mt=t=Hs(t.current,null),hn=nr=e,$t=0,ru=null,Ew=Jf=Ko=0,zn=kc=null,ko!==null){for(e=0;e<ko.length;e++)if(n=ko[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}ko=null}return t}function RS(t,e){do{var n=Mt;try{if(cw(),lh.current=Kh,qh){for(var r=_t.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}qh=!1}if(qo=0,Yt=Bt=_t=null,Cc=!1,eu=0,bw.current=null,n===null||n.return===null){$t=1,ru=e,Mt=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=hn,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var v=Ex(o);if(v!==null){v.flags&=-257,Tx(v,o,a,s,e),v.mode&1&&bx(s,c,e),e=v,l=c;var w=e.updateQueue;if(w===null){var b=new Set;b.add(l),e.updateQueue=b}else w.add(l);break e}else{if(!(e&1)){bx(s,c,e),Cw();break e}l=Error(X(426))}}else if(gt&&a.mode&1){var E=Ex(o);if(E!==null){!(E.flags&65536)&&(E.flags|=256),Tx(E,o,a,s,e),aw(ll(l,a));break e}}s=l=ll(l,a),$t!==4&&($t=2),kc===null?kc=[s]:kc.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var x=pS(s,l,e);mx(s,x);break e;case 1:a=l;var _=s.type,T=s.stateNode;if(!(s.flags&128)&&(typeof _.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&($s===null||!$s.has(T)))){s.flags|=65536,e&=-e,s.lanes|=e;var R=mS(s,a,e);mx(s,R);break e}}s=s.return}while(s!==null)}DS(n)}catch(D){e=D,Mt===n&&n!==null&&(Mt=n=n.return);continue}break}while(1)}function NS(){var t=Gh.current;return Gh.current=Kh,t===null?Kh:t}function Cw(){($t===0||$t===3||$t===2)&&($t=4),Xt===null||!(Ko&268435455)&&!(Jf&268435455)||Is(Xt,hn)}function Xh(t,e){var n=Ye;Ye|=2;var r=NS();(Xt!==t||hn!==e)&&(Li=null,Mo(t,e));do try{yj();break}catch(i){RS(t,i)}while(1);if(cw(),Ye=n,Gh.current=r,Mt!==null)throw Error(X(261));return Xt=null,hn=0,$t}function yj(){for(;Mt!==null;)OS(Mt)}function vj(){for(;Mt!==null&&!zO();)OS(Mt)}function OS(t){var e=LS(t.alternate,t,nr);t.memoizedProps=t.pendingProps,e===null?DS(t):Mt=e,bw.current=null}function DS(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=dj(n,e),n!==null){n.flags&=32767,Mt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{$t=6,Mt=null;return}}else if(n=uj(n,e,nr),n!==null){Mt=n;return}if(e=e.sibling,e!==null){Mt=e;return}Mt=e=t}while(e!==null);$t===0&&($t=5)}function So(t,e,n){var r=et,i=Cr.transition;try{Cr.transition=null,et=1,wj(t,e,n,r)}finally{Cr.transition=i,et=r}return null}function wj(t,e,n,r){do Xa();while(Ns!==null);if(Ye&6)throw Error(X(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(X(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(ZO(t,s),t===Xt&&(Mt=Xt=null,hn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ld||(Ld=!0,MS(Nh,function(){return Xa(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Cr.transition,Cr.transition=null;var o=et;et=1;var a=Ye;Ye|=4,bw.current=null,fj(t,n),AS(n,t),FD(uy),Dh=!!cy,uy=cy=null,t.current=n,pj(n),HO(),Ye=a,et=o,Cr.transition=s}else t.current=n;if(Ld&&(Ld=!1,Ns=t,Yh=i),s=t.pendingLanes,s===0&&($s=null),KO(n.stateNode),Gn(t,Ot()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Qh)throw Qh=!1,t=Py,Py=null,t;return Yh&1&&t.tag!==0&&Xa(),s=t.pendingLanes,s&1?t===Ry?Pc++:(Pc=0,Ry=t):Pc=0,co(),null}function Xa(){if(Ns!==null){var t=f2(Yh),e=Cr.transition,n=et;try{if(Cr.transition=null,et=16>t?16:t,Ns===null)var r=!1;else{if(t=Ns,Ns=null,Yh=0,Ye&6)throw Error(X(331));var i=Ye;for(Ye|=4,pe=t.current;pe!==null;){var s=pe,o=s.child;if(pe.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(pe=c;pe!==null;){var d=pe;switch(d.tag){case 0:case 11:case 15:Ac(8,d,s)}var f=d.child;if(f!==null)f.return=d,pe=f;else for(;pe!==null;){d=pe;var m=d.sibling,v=d.return;if(SS(d),d===c){pe=null;break}if(m!==null){m.return=v,pe=m;break}pe=v}}}var w=s.alternate;if(w!==null){var b=w.child;if(b!==null){w.child=null;do{var E=b.sibling;b.sibling=null,b=E}while(b!==null)}}pe=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,pe=o;else e:for(;pe!==null;){if(s=pe,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Ac(9,s,s.return)}var x=s.sibling;if(x!==null){x.return=s.return,pe=x;break e}pe=s.return}}var _=t.current;for(pe=_;pe!==null;){o=pe;var T=o.child;if(o.subtreeFlags&2064&&T!==null)T.return=o,pe=T;else e:for(o=_;pe!==null;){if(a=pe,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Xf(9,a)}}catch(D){It(a,a.return,D)}if(a===o){pe=null;break e}var R=a.sibling;if(R!==null){R.return=a.return,pe=R;break e}pe=a.return}}if(Ye=i,co(),yi&&typeof yi.onPostCommitFiberRoot=="function")try{yi.onPostCommitFiberRoot(zf,t)}catch{}r=!0}return r}finally{et=n,Cr.transition=e}}return!1}function Mx(t,e,n){e=ll(n,e),e=pS(t,e,1),t=Bs(t,e,1),e=Ln(),t!==null&&(Ou(t,1,e),Gn(t,e))}function It(t,e,n){if(t.tag===3)Mx(t,t,n);else for(;e!==null;){if(e.tag===3){Mx(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&($s===null||!$s.has(r))){t=ll(n,t),t=mS(e,t,1),e=Bs(e,t,1),t=Ln(),e!==null&&(Ou(e,1,t),Gn(e,t));break}}e=e.return}}function _j(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Ln(),t.pingedLanes|=t.suspendedLanes&n,Xt===t&&(hn&n)===n&&($t===4||$t===3&&(hn&130023424)===hn&&500>Ot()-Tw?Mo(t,0):Ew|=n),Gn(t,e)}function jS(t,e){e===0&&(t.mode&1?(e=Id,Id<<=1,!(Id&130023424)&&(Id=4194304)):e=1);var n=Ln();t=Qi(t,e),t!==null&&(Ou(t,e,n),Gn(t,n))}function xj(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),jS(t,n)}function bj(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(X(314))}r!==null&&r.delete(e),jS(t,n)}var LS;LS=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||qn.current)Wn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Wn=!1,cj(t,e,n);Wn=!!(t.flags&131072)}else Wn=!1,gt&&e.flags&1048576&&F2(e,Bh,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;uh(t,e),t=e.pendingProps;var i=il(e,In.current);Ya(e,n),i=yw(null,e,r,t,i,n);var s=vw();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Kn(r)?(s=!0,Fh(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,hw(e),i.updater=Qf,e.stateNode=i,i._reactInternals=e,wy(e,r,t,n),e=by(null,e,r,!0,s,n)):(e.tag=0,gt&&s&&sw(e),On(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(uh(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=Tj(r),t=zr(r,t),i){case 0:e=xy(null,e,r,t,n);break e;case 1:e=Cx(null,e,r,t,n);break e;case 11:e=Sx(null,e,r,t,n);break e;case 14:e=Ix(null,e,r,zr(r.type,t),n);break e}throw Error(X(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:zr(r,i),xy(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:zr(r,i),Cx(t,e,r,i,n);case 3:e:{if(wS(e),t===null)throw Error(X(387));r=e.pendingProps,s=e.memoizedState,i=s.element,z2(t,e),Hh(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=ll(Error(X(423)),e),e=Ax(t,e,r,n,i);break e}else if(r!==i){i=ll(Error(X(424)),e),e=Ax(t,e,r,n,i);break e}else for(ir=Us(e.stateNode.containerInfo.firstChild),cr=e,gt=!0,qr=null,n=K2(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(sl(),r===i){e=Yi(t,e,n);break e}On(t,e,r,n)}e=e.child}return e;case 5:return G2(e),t===null&&gy(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,dy(r,i)?o=null:s!==null&&dy(r,s)&&(e.flags|=32),vS(t,e),On(t,e,o,n),e.child;case 6:return t===null&&gy(e),null;case 13:return _S(t,e,n);case 4:return fw(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ol(e,null,r,n):On(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:zr(r,i),Sx(t,e,r,i,n);case 7:return On(t,e,e.pendingProps,n),e.child;case 8:return On(t,e,e.pendingProps.children,n),e.child;case 12:return On(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,ot($h,r._currentValue),r._currentValue=o,s!==null)if(ei(s.value,o)){if(s.children===i.children&&!qn.current){e=Yi(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Hi(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),yy(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(X(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),yy(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}On(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Ya(e,n),i=Pr(i),r=r(i),e.flags|=1,On(t,e,r,n),e.child;case 14:return r=e.type,i=zr(r,e.pendingProps),i=zr(r.type,i),Ix(t,e,r,i,n);case 15:return gS(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:zr(r,i),uh(t,e),e.tag=1,Kn(r)?(t=!0,Fh(e)):t=!1,Ya(e,n),W2(e,r,i),wy(e,r,i,n),by(null,e,r,!0,t,n);case 19:return xS(t,e,n);case 22:return yS(t,e,n)}throw Error(X(156,e.tag))};function MS(t,e){return c2(t,e)}function Ej(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ir(t,e,n,r){return new Ej(t,e,n,r)}function Aw(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Tj(t){if(typeof t=="function")return Aw(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Kv)return 11;if(t===Gv)return 14}return 2}function Hs(t,e){var n=t.alternate;return n===null?(n=Ir(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function fh(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Aw(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Oa:return Vo(n.children,i,s,e);case qv:o=8,i|=8;break;case zg:return t=Ir(12,n,e,i|2),t.elementType=zg,t.lanes=s,t;case Hg:return t=Ir(13,n,e,i),t.elementType=Hg,t.lanes=s,t;case Wg:return t=Ir(19,n,e,i),t.elementType=Wg,t.lanes=s,t;case qT:return Zf(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case HT:o=10;break e;case WT:o=9;break e;case Kv:o=11;break e;case Gv:o=14;break e;case Es:o=16,r=null;break e}throw Error(X(130,t==null?t:typeof t,""))}return e=Ir(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Vo(t,e,n,r){return t=Ir(7,t,r,e),t.lanes=n,t}function Zf(t,e,n,r){return t=Ir(22,t,r,e),t.elementType=qT,t.lanes=n,t.stateNode={isHidden:!1},t}function Km(t,e,n){return t=Ir(6,t,null,e),t.lanes=n,t}function Gm(t,e,n){return e=Ir(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Sj(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Am(0),this.expirationTimes=Am(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Am(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function kw(t,e,n,r,i,s,o,a,l){return t=new Sj(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Ir(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},hw(s),t}function Ij(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Na,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function VS(t){if(!t)return eo;t=t._reactInternals;e:{if(oa(t)!==t||t.tag!==1)throw Error(X(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Kn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(X(171))}if(t.tag===1){var n=t.type;if(Kn(n))return M2(t,n,e)}return e}function FS(t,e,n,r,i,s,o,a,l){return t=kw(n,r,!0,t,i,s,o,a,l),t.context=VS(null),n=t.current,r=Ln(),i=zs(n),s=Hi(r,i),s.callback=e??null,Bs(n,s,i),t.current.lanes=i,Ou(t,i,r),Gn(t,r),t}function ep(t,e,n,r){var i=e.current,s=Ln(),o=zs(i);return n=VS(n),e.context===null?e.context=n:e.pendingContext=n,e=Hi(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Bs(i,e,o),t!==null&&(Xr(t,i,o,s),ah(t,i,o)),o}function Jh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Vx(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Pw(t,e){Vx(t,e),(t=t.alternate)&&Vx(t,e)}function Cj(){return null}var US=typeof reportError=="function"?reportError:function(t){console.error(t)};function Rw(t){this._internalRoot=t}tp.prototype.render=Rw.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(X(409));ep(t,e,null,null)};tp.prototype.unmount=Rw.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Go(function(){ep(null,t,null,null)}),e[Gi]=null}};function tp(t){this._internalRoot=t}tp.prototype.unstable_scheduleHydration=function(t){if(t){var e=g2();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ss.length&&e!==0&&e<Ss[n].priority;n++);Ss.splice(n,0,t),n===0&&v2(t)}};function Nw(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function np(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Fx(){}function Aj(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=Jh(o);s.call(c)}}var o=FS(e,r,t,0,null,!1,!1,"",Fx);return t._reactRootContainer=o,t[Gi]=o.current,Qc(t.nodeType===8?t.parentNode:t),Go(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Jh(l);a.call(c)}}var l=kw(t,0,!1,null,null,!1,!1,"",Fx);return t._reactRootContainer=l,t[Gi]=l.current,Qc(t.nodeType===8?t.parentNode:t),Go(function(){ep(e,l,n,r)}),l}function rp(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Jh(o);a.call(l)}}ep(e,o,t,i)}else o=Aj(n,e,t,i,r);return Jh(o)}p2=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=hc(e.pendingLanes);n!==0&&(Xv(e,n|1),Gn(e,Ot()),!(Ye&6)&&(cl=Ot()+500,co()))}break;case 13:Go(function(){var r=Qi(t,1);if(r!==null){var i=Ln();Xr(r,t,1,i)}}),Pw(t,1)}};Jv=function(t){if(t.tag===13){var e=Qi(t,134217728);if(e!==null){var n=Ln();Xr(e,t,134217728,n)}Pw(t,134217728)}};m2=function(t){if(t.tag===13){var e=zs(t),n=Qi(t,e);if(n!==null){var r=Ln();Xr(n,t,e,r)}Pw(t,e)}};g2=function(){return et};y2=function(t,e){var n=et;try{return et=t,e()}finally{et=n}};ty=function(t,e,n){switch(e){case"input":if(Gg(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Kf(r);if(!i)throw Error(X(90));GT(r),Gg(r,i)}}}break;case"textarea":YT(t,n);break;case"select":e=n.value,e!=null&&qa(t,!!n.multiple,e,!1)}};r2=Sw;i2=Go;var kj={usingClientEntryPoint:!1,Events:[ju,Ma,Kf,t2,n2,Sw]},rc={findFiberByHostInstance:Ao,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},Pj={bundleType:rc.bundleType,version:rc.version,rendererPackageName:rc.rendererPackageName,rendererConfig:rc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:rs.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=a2(t),t===null?null:t.stateNode},findFiberByHostInstance:rc.findFiberByHostInstance||Cj,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Md=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Md.isDisabled&&Md.supportsFiber)try{zf=Md.inject(Pj),yi=Md}catch{}}mr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=kj;mr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Nw(e))throw Error(X(200));return Ij(t,e,null,n)};mr.createRoot=function(t,e){if(!Nw(t))throw Error(X(299));var n=!1,r="",i=US;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=kw(t,1,!1,null,null,n,!1,r,i),t[Gi]=e.current,Qc(t.nodeType===8?t.parentNode:t),new Rw(e)};mr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(X(188)):(t=Object.keys(t).join(","),Error(X(268,t)));return t=a2(e),t=t===null?null:t.stateNode,t};mr.flushSync=function(t){return Go(t)};mr.hydrate=function(t,e,n){if(!np(e))throw Error(X(200));return rp(null,t,e,!0,n)};mr.hydrateRoot=function(t,e,n){if(!Nw(t))throw Error(X(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=US;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=FS(e,null,t,1,n??null,i,!1,s,o),t[Gi]=e.current,Qc(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new tp(e)};mr.render=function(t,e,n){if(!np(e))throw Error(X(200));return rp(null,t,e,!1,n)};mr.unmountComponentAtNode=function(t){if(!np(t))throw Error(X(40));return t._reactRootContainer?(Go(function(){rp(null,null,t,!1,function(){t._reactRootContainer=null,t[Gi]=null})}),!0):!1};mr.unstable_batchedUpdates=Sw;mr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!np(n))throw Error(X(200));if(t==null||t._reactInternals===void 0)throw Error(X(38));return rp(t,e,n,!1,r)};mr.version="18.2.0-next-9e3b772b8-20220608";function BS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(BS)}catch(t){console.error(t)}}BS(),FT.exports=mr;var Rj=FT.exports,Ux=Rj;Bg.createRoot=Ux.createRoot,Bg.hydrateRoot=Ux.hydrateRoot;var $S={exports:{}},zS={};/**
 * @license React
 * use-sync-external-store-with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mu=C;function Nj(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Oj=typeof Object.is=="function"?Object.is:Nj,Dj=Mu.useSyncExternalStore,jj=Mu.useRef,Lj=Mu.useEffect,Mj=Mu.useMemo,Vj=Mu.useDebugValue;zS.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=jj(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=Mj(function(){function l(v){if(!c){if(c=!0,d=v,v=r(v),i!==void 0&&o.hasValue){var w=o.value;if(i(w,v))return f=w}return f=v}if(w=f,Oj(d,v))return w;var b=r(v);return i!==void 0&&i(w,b)?w:(d=v,f=b)}var c=!1,d,f,m=n===void 0?null:n;return[function(){return l(e())},m===null?void 0:function(){return l(m())}]},[e,n,r,i]);var a=Dj(t,s[0],s[1]);return Lj(function(){o.hasValue=!0,o.value=a},[a]),Vj(a),a};$S.exports=zS;var Fj=$S.exports,sr="default"in Uc?be:Uc,Bx=Symbol.for("react-redux-context"),$x=typeof globalThis<"u"?globalThis:{};function Uj(){if(!sr.createContext)return{};const t=$x[Bx]??($x[Bx]=new Map);let e=t.get(sr.createContext);return e||(e=sr.createContext(null),t.set(sr.createContext,e)),e}var to=Uj(),Bj=()=>{throw new Error("uSES not initialized!")};function Ow(t=to){return function(){return sr.useContext(t)}}var HS=Ow(),WS=Bj,$j=t=>{WS=t},zj=(t,e)=>t===e;function Hj(t=to){const e=t===to?HS:Ow(t);return function(r,i={}){const{equalityFn:s=zj,devModeChecks:o={}}=typeof i=="function"?{equalityFn:i}:i,{store:a,subscription:l,getServerState:c,stabilityCheck:d,identityFunctionCheck:f}=e();sr.useRef(!0);const m=sr.useCallback({[r.name](w){return r(w)}}[r.name],[r,d,o.stabilityCheck]),v=WS(l.addNestedSub,a.getState,c||a.getState,m,s);return sr.useDebugValue(v),v}}var ii=Hj();function Wj(t){t()}function qj(){let t=null,e=null;return{clear(){t=null,e=null},notify(){Wj(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){let n=[],r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0,i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var zx={notify(){},get:()=>[]};function Kj(t,e){let n,r=zx,i=0,s=!1;function o(b){d();const E=r.subscribe(b);let x=!1;return()=>{x||(x=!0,E(),f())}}function a(){r.notify()}function l(){w.onStateChange&&w.onStateChange()}function c(){return s}function d(){i++,n||(n=e?e.addNestedSub(l):t.subscribe(l),r=qj())}function f(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=zx)}function m(){s||(s=!0,d())}function v(){s&&(s=!1,f())}const w={addNestedSub:o,notifyNestedSubs:a,handleChangeWrapper:l,isSubscribed:c,trySubscribe:m,tryUnsubscribe:v,getListeners:()=>r};return w}var Gj=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Qj=Gj?sr.useLayoutEffect:sr.useEffect;function Yj({store:t,context:e,children:n,serverState:r,stabilityCheck:i="once",identityFunctionCheck:s="once"}){const o=sr.useMemo(()=>{const c=Kj(t);return{store:t,subscription:c,getServerState:r?()=>r:void 0,stabilityCheck:i,identityFunctionCheck:s}},[t,r,i,s]),a=sr.useMemo(()=>t.getState(),[t]);Qj(()=>{const{subscription:c}=o;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),a!==t.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[o,a]);const l=e||to;return sr.createElement(l.Provider,{value:o},n)}var Xj=Yj;function qS(t=to){const e=t===to?HS:Ow(t);return function(){const{store:r}=e();return r}}var Jj=qS();function Zj(t=to){const e=t===to?Jj:qS(t);return function(){return e().dispatch}}var yr=Zj();$j(Fj.useSyncExternalStoreWithSelector);function on(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var e5=(()=>typeof Symbol=="function"&&Symbol.observable||"@@observable")(),Hx=e5,Qm=()=>Math.random().toString(36).substring(7).split("").join("."),t5={INIT:`@@redux/INIT${Qm()}`,REPLACE:`@@redux/REPLACE${Qm()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Qm()}`},Zh=t5;function Dw(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function KS(t,e,n){if(typeof t!="function")throw new Error(on(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(on(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(on(1));return n(KS)(t,e)}let r=t,i=e,s=new Map,o=s,a=0,l=!1;function c(){o===s&&(o=new Map,s.forEach((E,x)=>{o.set(x,E)}))}function d(){if(l)throw new Error(on(3));return i}function f(E){if(typeof E!="function")throw new Error(on(4));if(l)throw new Error(on(5));let x=!0;c();const _=a++;return o.set(_,E),function(){if(x){if(l)throw new Error(on(6));x=!1,c(),o.delete(_),s=null}}}function m(E){if(!Dw(E))throw new Error(on(7));if(typeof E.type>"u")throw new Error(on(8));if(typeof E.type!="string")throw new Error(on(17));if(l)throw new Error(on(9));try{l=!0,i=r(i,E)}finally{l=!1}return(s=o).forEach(_=>{_()}),E}function v(E){if(typeof E!="function")throw new Error(on(10));r=E,m({type:Zh.REPLACE})}function w(){const E=f;return{subscribe(x){if(typeof x!="object"||x===null)throw new Error(on(11));function _(){const R=x;R.next&&R.next(d())}return _(),{unsubscribe:E(_)}},[Hx](){return this}}}return m({type:Zh.INIT}),{dispatch:m,subscribe:f,getState:d,replaceReducer:v,[Hx]:w}}function n5(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:Zh.INIT})>"u")throw new Error(on(12));if(typeof n(void 0,{type:Zh.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(on(13))})}function r5(t){const e=Object.keys(t),n={};for(let s=0;s<e.length;s++){const o=e[s];typeof t[o]=="function"&&(n[o]=t[o])}const r=Object.keys(n);let i;try{n5(n)}catch(s){i=s}return function(o={},a){if(i)throw i;let l=!1;const c={};for(let d=0;d<r.length;d++){const f=r[d],m=n[f],v=o[f],w=m(v,a);if(typeof w>"u")throw a&&a.type,new Error(on(14));c[f]=w,l=l||w!==v}return l=l||r.length!==Object.keys(o).length,l?c:o}}function ef(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function i5(...t){return e=>(n,r)=>{const i=e(n,r);let s=()=>{throw new Error(on(15))};const o={getState:i.getState,dispatch:(l,...c)=>s(l,...c)},a=t.map(l=>l(o));return s=ef(...a)(i.dispatch),{...i,dispatch:s}}}function s5(t){return Dw(t)&&"type"in t&&typeof t.type=="string"}var GS=Symbol.for("immer-nothing"),Wx=Symbol.for("immer-draftable"),hr=Symbol.for("immer-state");function Kr(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var ul=Object.getPrototypeOf;function no(t){return!!t&&!!t[hr]}function Xi(t){var e;return t?QS(t)||Array.isArray(t)||!!t[Wx]||!!((e=t.constructor)!=null&&e[Wx])||sp(t)||op(t):!1}var o5=Object.prototype.constructor.toString();function QS(t){if(!t||typeof t!="object")return!1;const e=ul(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===o5}function iu(t,e){ip(t)===0?Object.entries(t).forEach(([n,r])=>{e(n,r,t)}):t.forEach((n,r)=>e(r,n,t))}function ip(t){const e=t[hr];return e?e.type_:Array.isArray(t)?1:sp(t)?2:op(t)?3:0}function Dy(t,e){return ip(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function YS(t,e,n){const r=ip(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function a5(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function sp(t){return t instanceof Map}function op(t){return t instanceof Set}function Io(t){return t.copy_||t.base_}function jy(t,e){if(sp(t))return new Map(t);if(op(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);if(!e&&QS(t))return ul(t)?{...t}:Object.assign(Object.create(null),t);const n=Object.getOwnPropertyDescriptors(t);delete n[hr];let r=Reflect.ownKeys(n);for(let i=0;i<r.length;i++){const s=r[i],o=n[s];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(n[s]={configurable:!0,writable:!0,enumerable:o.enumerable,value:t[s]})}return Object.create(ul(t),n)}function jw(t,e=!1){return ap(t)||no(t)||!Xi(t)||(ip(t)>1&&(t.set=t.add=t.clear=t.delete=l5),Object.freeze(t),e&&iu(t,(n,r)=>jw(r,!0))),t}function l5(){Kr(2)}function ap(t){return Object.isFrozen(t)}var c5={};function Qo(t){const e=c5[t];return e||Kr(0,t),e}var su;function XS(){return su}function u5(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function qx(t,e){e&&(Qo("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function Ly(t){My(t),t.drafts_.forEach(d5),t.drafts_=null}function My(t){t===su&&(su=t.parent_)}function Kx(t){return su=u5(su,t)}function d5(t){const e=t[hr];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function Gx(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[hr].modified_&&(Ly(e),Kr(4)),Xi(t)&&(t=tf(e,t),e.parent_||nf(e,t)),e.patches_&&Qo("Patches").generateReplacementPatches_(n[hr].base_,t,e.patches_,e.inversePatches_)):t=tf(e,n,[]),Ly(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==GS?t:void 0}function tf(t,e,n){if(ap(e))return e;const r=e[hr];if(!r)return iu(e,(i,s)=>Qx(t,r,e,i,s,n)),e;if(r.scope_!==t)return e;if(!r.modified_)return nf(t,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let s=i,o=!1;r.type_===3&&(s=new Set(i),i.clear(),o=!0),iu(s,(a,l)=>Qx(t,r,i,a,l,n,o)),nf(t,i,!1),n&&t.patches_&&Qo("Patches").generatePatches_(r,n,t.patches_,t.inversePatches_)}return r.copy_}function Qx(t,e,n,r,i,s,o){if(no(i)){const a=s&&e&&e.type_!==3&&!Dy(e.assigned_,r)?s.concat(r):void 0,l=tf(t,i,a);if(YS(n,r,l),no(l))t.canAutoFreeze_=!1;else return}else o&&n.add(i);if(Xi(i)&&!ap(i)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;tf(t,i),(!e||!e.scope_.parent_)&&nf(t,i)}}function nf(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&jw(e,n)}function h5(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:XS(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=Lw;n&&(i=[r],s=ou);const{revoke:o,proxy:a}=Proxy.revocable(i,s);return r.draft_=a,r.revoke_=o,a}var Lw={get(t,e){if(e===hr)return t;const n=Io(t);if(!Dy(n,e))return f5(t,n,e);const r=n[e];return t.finalized_||!Xi(r)?r:r===Ym(t.base_,e)?(Xm(t),t.copy_[e]=Fy(r,t)):r},has(t,e){return e in Io(t)},ownKeys(t){return Reflect.ownKeys(Io(t))},set(t,e,n){const r=JS(Io(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=Ym(Io(t),e),s=i==null?void 0:i[hr];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(a5(n,i)&&(n!==void 0||Dy(t.base_,e)))return!0;Xm(t),Vy(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return Ym(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,Xm(t),Vy(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Io(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){Kr(11)},getPrototypeOf(t){return ul(t.base_)},setPrototypeOf(){Kr(12)}},ou={};iu(Lw,(t,e)=>{ou[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});ou.deleteProperty=function(t,e){return ou.set.call(this,t,e,void 0)};ou.set=function(t,e,n){return Lw.set.call(this,t[0],e,n,t[0])};function Ym(t,e){const n=t[hr];return(n?Io(n):t)[e]}function f5(t,e,n){var i;const r=JS(e,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function JS(t,e){if(!(e in t))return;let n=ul(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=ul(n)}}function Vy(t){t.modified_||(t.modified_=!0,t.parent_&&Vy(t.parent_))}function Xm(t){t.copy_||(t.copy_=jy(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var p5=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const s=n;n=e;const o=this;return function(l=s,...c){return o.produce(l,d=>n.call(this,d,...c))}}typeof n!="function"&&Kr(6),r!==void 0&&typeof r!="function"&&Kr(7);let i;if(Xi(e)){const s=Kx(this),o=Fy(e,void 0);let a=!0;try{i=n(o),a=!1}finally{a?Ly(s):My(s)}return qx(s,r),Gx(i,s)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===GS&&(i=void 0),this.autoFreeze_&&jw(i,!0),r){const s=[],o=[];Qo("Patches").generateReplacementPatches_(e,i,s,o),r(s,o)}return i}else Kr(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(o,...a)=>this.produceWithPatches(o,l=>e(l,...a));let r,i;return[this.produce(e,n,(o,a)=>{r=o,i=a}),r,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){Xi(t)||Kr(8),no(t)&&(t=ZS(t));const e=Kx(this),n=Fy(t,void 0);return n[hr].isManual_=!0,My(e),n}finishDraft(t,e){const n=t&&t[hr];(!n||!n.isManual_)&&Kr(9);const{scope_:r}=n;return qx(r,e),Gx(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=Qo("Patches").applyPatches_;return no(t)?r(t,e):this.produce(t,i=>r(i,e))}};function Fy(t,e){const n=sp(t)?Qo("MapSet").proxyMap_(t,e):op(t)?Qo("MapSet").proxySet_(t,e):h5(t,e);return(e?e.scope_:XS()).drafts_.push(n),n}function ZS(t){return no(t)||Kr(10,t),eI(t)}function eI(t){if(!Xi(t)||ap(t))return t;const e=t[hr];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=jy(t,e.scope_.immer_.useStrictShallowCopy_)}else n=jy(t,!0);return iu(n,(r,i)=>{YS(n,r,eI(i))}),e&&(e.finalized_=!1),n}var fr=new p5,tI=fr.produce;fr.produceWithPatches.bind(fr);fr.setAutoFreeze.bind(fr);fr.setUseStrictShallowCopy.bind(fr);fr.applyPatches.bind(fr);fr.createDraft.bind(fr);fr.finishDraft.bind(fr);function m5(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function g5(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var Yx=t=>Array.isArray(t)?t:[t];function y5(t){const e=Array.isArray(t[0])?t[0]:t;return g5(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function v5(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var w5=class{constructor(t){this.value=t}deref(){return this.value}},_5=typeof WeakRef<"u"?WeakRef:w5,x5=0,Xx=1;function Vd(){return{s:x5,v:void 0,o:null,p:null}}function nI(t,e={}){let n=Vd();const{resultEqualityCheck:r}=e;let i,s=0;function o(){let a=n;const{length:l}=arguments;for(let f=0,m=l;f<m;f++){const v=arguments[f];if(typeof v=="function"||typeof v=="object"&&v!==null){let w=a.o;w===null&&(a.o=w=new WeakMap);const b=w.get(v);b===void 0?(a=Vd(),w.set(v,a)):a=b}else{let w=a.p;w===null&&(a.p=w=new Map);const b=w.get(v);b===void 0?(a=Vd(),w.set(v,a)):a=b}}const c=a;let d;if(a.s===Xx?d=a.v:(d=t.apply(null,arguments),s++),c.s=Xx,r){const f=(i==null?void 0:i.deref())??i;f!=null&&r(f,d)&&(d=f,s!==0&&s--),i=typeof d=="object"&&d!==null||typeof d=="function"?new _5(d):d}return c.v=d,d}return o.clearCache=()=>{n=Vd(),o.resetResultsCount()},o.resultsCount=()=>s,o.resetResultsCount=()=>{s=0},o}function b5(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t;return(...i)=>{let s=0,o=0,a,l={},c=i.pop();typeof c=="object"&&(l=c,c=i.pop()),m5(c,`createSelector expects an output function after the inputs, but received: [${typeof c}]`);const d={...n,...l},{memoize:f,memoizeOptions:m=[],argsMemoize:v=nI,argsMemoizeOptions:w=[],devModeChecks:b={}}=d,E=Yx(m),x=Yx(w),_=y5(i),T=f(function(){return s++,c.apply(null,arguments)},...E),R=v(function(){o++;const B=v5(_,arguments);return a=T.apply(null,B),a},...x);return Object.assign(R,{resultFunc:c,memoizedResultFunc:T,dependencies:_,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>a,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:f,argsMemoize:v})}}function rI(t){return({dispatch:n,getState:r})=>i=>s=>typeof s=="function"?s(n,r,t):i(s)}var E5=rI(),T5=rI,S5=(...t)=>{const e=b5(...t);return(...n)=>{const r=e(...n),i=(s,...o)=>r(no(s)?ZS(s):s,...o);return Object.assign(i,r),i}};S5(nI);var I5=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?ef:ef.apply(null,arguments)};function au(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(Jr(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>s5(r)&&r.type===t,n}var iI=class pc extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,pc.prototype)}static get[Symbol.species](){return pc}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new pc(...e[0].concat(this)):new pc(...e.concat(this))}};function Jx(t){return Xi(t)?tI(t,()=>{}):t}function Zx(t,e,n){if(t.has(e)){let i=t.get(e);return n.update&&(i=n.update(i,e,t),t.set(e,i)),i}if(!n.insert)throw new Error(Jr(10));const r=n.insert(e,t);return t.set(e,r),r}function C5(t){return typeof t=="boolean"}var A5=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=e??{};let o=new iI;return n&&(C5(n)?o.push(E5):o.push(T5(n.extraArgument))),o},k5="RTK_autoBatch",sI=t=>e=>{setTimeout(e,t)},P5=typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:sI(10),R5=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,s=!1,o=!1;const a=new Set,l=t.type==="tick"?queueMicrotask:t.type==="raf"?P5:t.type==="callback"?t.queueNotification:sI(t.timeout),c=()=>{o=!1,s&&(s=!1,a.forEach(d=>d()))};return Object.assign({},r,{subscribe(d){const f=()=>i&&d(),m=r.subscribe(f);return a.add(d),()=>{m(),a.delete(d)}},dispatch(d){var f;try{return i=!((f=d==null?void 0:d.meta)!=null&&f[k5]),s=!i,s&&(o||(o=!0,l(c))),r.dispatch(d)}finally{i=!0}}})},N5=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new iI(t);return r&&i.push(R5(typeof r=="object"?r:void 0)),i},O5=!0;function D5(t){const e=A5(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:s=void 0,enhancers:o=void 0}=t||{};let a;if(typeof n=="function")a=n;else if(Dw(n))a=r5(n);else throw new Error(Jr(1));let l;typeof r=="function"?l=r(e):l=e();let c=ef;i&&(c=I5({trace:!O5,...typeof i=="object"&&i}));const d=i5(...l),f=N5(d);let m=typeof o=="function"?o(f):f();const v=c(...m);return KS(a,s,v)}function oI(t){const e={},n=[];let r;const i={addCase(s,o){const a=typeof s=="string"?s:s.type;if(!a)throw new Error(Jr(28));if(a in e)throw new Error(Jr(29));return e[a]=o,i},addMatcher(s,o){return n.push({matcher:s,reducer:o}),i},addDefaultCase(s){return r=s,i}};return t(i),[e,n,r]}function j5(t){return typeof t=="function"}function L5(t,e){let[n,r,i]=oI(e),s;if(j5(t))s=()=>Jx(t());else{const a=Jx(t);s=()=>a}function o(a=s(),l){let c=[n[l.type],...r.filter(({matcher:d})=>d(l)).map(({reducer:d})=>d)];return c.filter(d=>!!d).length===0&&(c=[i]),c.reduce((d,f)=>{if(f)if(no(d)){const v=f(d,l);return v===void 0?d:v}else{if(Xi(d))return tI(d,m=>f(m,l));{const m=f(d,l);if(m===void 0){if(d===null)return d;throw new Error(Jr(9))}return m}}return d},a)}return o.getInitialState=s,o}var M5=Symbol.for("rtk-slice-createasyncthunk");function V5(t,e){return`${t}/${e}`}function F5({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[M5];return function(i){const{name:s,reducerPath:o=s}=i;if(!s)throw new Error(Jr(11));typeof process<"u";const a=(typeof i.reducers=="function"?i.reducers(B5()):i.reducers)||{},l=Object.keys(a),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(E,x){const _=typeof E=="string"?E:E.type;if(!_)throw new Error(Jr(12));if(_ in c.sliceCaseReducersByType)throw new Error(Jr(13));return c.sliceCaseReducersByType[_]=x,d},addMatcher(E,x){return c.sliceMatchers.push({matcher:E,reducer:x}),d},exposeAction(E,x){return c.actionCreators[E]=x,d},exposeCaseReducer(E,x){return c.sliceCaseReducersByName[E]=x,d}};l.forEach(E=>{const x=a[E],_={reducerName:E,type:V5(s,E),createNotation:typeof i.reducers=="function"};z5(x)?W5(_,x,d,e):$5(_,x,d)});function f(){const[E={},x=[],_=void 0]=typeof i.extraReducers=="function"?oI(i.extraReducers):[i.extraReducers],T={...E,...c.sliceCaseReducersByType};return L5(i.initialState,R=>{for(let D in T)R.addCase(D,T[D]);for(let D of c.sliceMatchers)R.addMatcher(D.matcher,D.reducer);for(let D of x)R.addMatcher(D.matcher,D.reducer);_&&R.addDefaultCase(_)})}const m=E=>E,v=new WeakMap;let w;const b={name:s,reducerPath:o,reducer(E,x){return w||(w=f()),w(E,x)},actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState(){return w||(w=f()),w.getInitialState()},getSelectors(E=m){const x=Zx(v,this,{insert:()=>new WeakMap});return Zx(x,E,{insert:()=>{const _={};for(const[T,R]of Object.entries(i.selectors??{}))_[T]=U5(this,R,E,this!==b);return _}})},selectSlice(E){let x=E[this.reducerPath];return typeof x>"u"&&this!==b&&(x=this.getInitialState()),x},get selectors(){return this.getSelectors(this.selectSlice)},injectInto(E,{reducerPath:x,..._}={}){const T=x??this.reducerPath;return E.inject({reducerPath:T,reducer:this.reducer},_),{...this,reducerPath:T}}};return b}}function U5(t,e,n,r){function i(s,...o){let a=n.call(t,s);return typeof a>"u"&&r&&(a=t.getInitialState()),e(a,...o)}return i.unwrapped=e,i}var Mw=F5();function B5(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function $5({type:t,reducerName:e,createNotation:n},r,i){let s,o;if("reducer"in r){if(n&&!H5(r))throw new Error(Jr(17));s=r.reducer,o=r.prepare}else s=r;i.addCase(t,s).exposeCaseReducer(e,s).exposeAction(e,o?au(t,o):au(t))}function z5(t){return t._reducerDefinitionType==="asyncThunk"}function H5(t){return t._reducerDefinitionType==="reducerWithPrepare"}function W5({type:t,reducerName:e},n,r,i){if(!i)throw new Error(Jr(18));const{payloadCreator:s,fulfilled:o,pending:a,rejected:l,settled:c,options:d}=n,f=i(t,s,d);r.exposeAction(e,f),o&&r.addCase(f.fulfilled,o),a&&r.addCase(f.pending,a),l&&r.addCase(f.rejected,l),c&&r.addMatcher(f.settled,c),r.exposeCaseReducer(e,{fulfilled:o||Fd,pending:a||Fd,rejected:l||Fd,settled:c||Fd})}function Fd(){}var Vw="listenerMiddleware";au(`${Vw}/add`);au(`${Vw}/removeAll`);au(`${Vw}/remove`);function Jr(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}const aI=Mw({name:"auth",initialState:{status:"offline",user:{},errorMessage:null,resetPasswordMessage:null},reducers:{login:(t,e)=>{t.status="online",t.user=e.payload},logout:(t,{payload:e})=>{t.status="offline",t.user={},t.errorMessage=e==null?void 0:e.errorMessage},checkingCredentials:(t,e)=>{t.status="checking"},checkingGoogleCredentials:(t,e)=>{t.status="checking"},resetPasswordEmail:(t,e)=>{t.resetPasswordMessage=e.payload}}}),{login:Fw,logout:Uw,checkingCredentials:lI,checkingGoogleCredentials:q5,resetPasswordEmail:NK}=aI.actions;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cI=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},K5=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},uI={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,d=s>>2,f=(s&3)<<4|a>>4;let m=(a&15)<<2|c>>6,v=c&63;l||(v=64,o||(m=64)),r.push(n[d],n[f],n[m],n[v])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(cI(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):K5(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||f==null)throw new G5;const m=s<<2|a>>4;if(r.push(m),c!==64){const v=a<<4&240|c>>2;if(r.push(v),f!==64){const w=c<<6&192|f;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class G5 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Q5=function(t){const e=cI(t);return uI.encodeByteArray(e,!0)},rf=function(t){return Q5(t).replace(/\./g,"")},dI=function(t){try{return uI.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y5(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X5=()=>Y5().__FIREBASE_DEFAULTS__,J5=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Z5=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&dI(t[1]);return e&&JSON.parse(e)},Bw=()=>{try{return X5()||J5()||Z5()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},hI=t=>{var e,n;return(n=(e=Bw())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},fI=t=>{const e=hI(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},pI=()=>{var t;return(t=Bw())===null||t===void 0?void 0:t.config},mI=t=>{var e;return(e=Bw())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eL{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gI(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[rf(JSON.stringify(n)),rf(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function tL(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Cn())}function yI(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function nL(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function rL(){const t=Cn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function vI(){try{return typeof indexedDB=="object"}catch{return!1}}function wI(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}function iL(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sL="FirebaseError";class Dr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=sL,Object.setPrototypeOf(this,Dr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,aa.prototype.create)}}class aa{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?oL(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Dr(i,a,r)}}function oL(t,e){return t.replace(aL,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const aL=/\{\$([^}]+)}/g;function lL(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function lu(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(eb(s)&&eb(o)){if(!lu(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function eb(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function mc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function gc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function cL(t,e){const n=new uL(t,e);return n.subscribe.bind(n)}class uL{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");dL(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Jm),i.error===void 0&&(i.error=Jm),i.complete===void 0&&(i.complete=Jm);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function dL(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Jm(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hL=1e3,fL=2,pL=4*60*60*1e3,mL=.5;function tb(t,e=hL,n=fL){const r=e*Math.pow(n,t),i=Math.round(mL*r*(Math.random()-.5)*2);return Math.min(pL,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lt(t){return t&&t._delegate?t._delegate:t}class Nr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Co="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gL{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new eL;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(vL(e))try{this.getOrInitializeService({instanceIdentifier:Co})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Co){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Co){return this.instances.has(e)}getOptions(e=Co){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:yL(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Co){return this.component?this.component.multipleInstances?e:Co:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function yL(t){return t===Co?void 0:t}function vL(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wL{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new gL(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(qe||(qe={}));const _L={debug:qe.DEBUG,verbose:qe.VERBOSE,info:qe.INFO,warn:qe.WARN,error:qe.ERROR,silent:qe.SILENT},xL=qe.INFO,bL={[qe.DEBUG]:"log",[qe.VERBOSE]:"log",[qe.INFO]:"info",[qe.WARN]:"warn",[qe.ERROR]:"error"},EL=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=bL[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class lp{constructor(e){this.name=e,this._logLevel=xL,this._logHandler=EL,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in qe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?_L[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,qe.DEBUG,...e),this._logHandler(this,qe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,qe.VERBOSE,...e),this._logHandler(this,qe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,qe.INFO,...e),this._logHandler(this,qe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,qe.WARN,...e),this._logHandler(this,qe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,qe.ERROR,...e),this._logHandler(this,qe.ERROR,...e)}}const TL=(t,e)=>e.some(n=>t instanceof n);let nb,rb;function SL(){return nb||(nb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function IL(){return rb||(rb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const _I=new WeakMap,Uy=new WeakMap,xI=new WeakMap,Zm=new WeakMap,$w=new WeakMap;function CL(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Ws(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&_I.set(n,t)}).catch(()=>{}),$w.set(e,t),e}function AL(t){if(Uy.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Uy.set(t,e)}let By={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Uy.get(t);if(e==="objectStoreNames")return t.objectStoreNames||xI.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ws(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function kL(t){By=t(By)}function PL(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(eg(this),e,...n);return xI.set(r,e.sort?e.sort():[e]),Ws(r)}:IL().includes(t)?function(...e){return t.apply(eg(this),e),Ws(_I.get(this))}:function(...e){return Ws(t.apply(eg(this),e))}}function RL(t){return typeof t=="function"?PL(t):(t instanceof IDBTransaction&&AL(t),TL(t,SL())?new Proxy(t,By):t)}function Ws(t){if(t instanceof IDBRequest)return CL(t);if(Zm.has(t))return Zm.get(t);const e=RL(t);return e!==t&&(Zm.set(t,e),$w.set(e,t)),e}const eg=t=>$w.get(t);function NL(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Ws(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Ws(o.result),l.oldVersion,l.newVersion,Ws(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const OL=["get","getKey","getAll","getAllKeys","count"],DL=["put","add","delete","clear"],tg=new Map;function ib(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(tg.get(e))return tg.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=DL.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||OL.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return tg.set(e,s),s}kL(t=>({...t,get:(e,n,r)=>ib(e,n)||t.get(e,n,r),has:(e,n)=>!!ib(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jL{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(LL(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function LL(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const $y="@firebase/app",sb="0.9.25";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yo=new lp("@firebase/app"),ML="@firebase/app-compat",VL="@firebase/analytics-compat",FL="@firebase/analytics",UL="@firebase/app-check-compat",BL="@firebase/app-check",$L="@firebase/auth",zL="@firebase/auth-compat",HL="@firebase/database",WL="@firebase/database-compat",qL="@firebase/functions",KL="@firebase/functions-compat",GL="@firebase/installations",QL="@firebase/installations-compat",YL="@firebase/messaging",XL="@firebase/messaging-compat",JL="@firebase/performance",ZL="@firebase/performance-compat",e4="@firebase/remote-config",t4="@firebase/remote-config-compat",n4="@firebase/storage",r4="@firebase/storage-compat",i4="@firebase/firestore",s4="@firebase/firestore-compat",o4="firebase",a4="10.7.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zy="[DEFAULT]",l4={[$y]:"fire-core",[ML]:"fire-core-compat",[FL]:"fire-analytics",[VL]:"fire-analytics-compat",[BL]:"fire-app-check",[UL]:"fire-app-check-compat",[$L]:"fire-auth",[zL]:"fire-auth-compat",[HL]:"fire-rtdb",[WL]:"fire-rtdb-compat",[qL]:"fire-fn",[KL]:"fire-fn-compat",[GL]:"fire-iid",[QL]:"fire-iid-compat",[YL]:"fire-fcm",[XL]:"fire-fcm-compat",[JL]:"fire-perf",[ZL]:"fire-perf-compat",[e4]:"fire-rc",[t4]:"fire-rc-compat",[n4]:"fire-gcs",[r4]:"fire-gcs-compat",[i4]:"fire-fst",[s4]:"fire-fst-compat","fire-js":"fire-js",[o4]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sf=new Map,Hy=new Map;function c4(t,e){try{t.container.addComponent(e)}catch(n){Yo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ti(t){const e=t.name;if(Hy.has(e))return Yo.debug(`There were multiple attempts to register component ${e}.`),!1;Hy.set(e,t);for(const n of sf.values())c4(n,t);return!0}function uo(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u4={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},qs=new aa("app","Firebase",u4);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d4{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Nr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw qs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const la=a4;function bI(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:zy,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw qs.create("bad-app-name",{appName:String(i)});if(n||(n=pI()),!n)throw qs.create("no-options");const s=sf.get(i);if(s){if(lu(n,s.options)&&lu(r,s.config))return s;throw qs.create("duplicate-app",{appName:i})}const o=new wL(i);for(const l of Hy.values())o.addComponent(l);const a=new d4(n,r,o);return sf.set(i,a),a}function cp(t=zy){const e=sf.get(t);if(!e&&t===zy&&pI())return bI();if(!e)throw qs.create("no-app",{appName:t});return e}function Qn(t,e,n){var r;let i=(r=l4[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Yo.warn(a.join(" "));return}ti(new Nr(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h4="firebase-heartbeat-database",f4=1,cu="firebase-heartbeat-store";let ng=null;function EI(){return ng||(ng=NL(h4,f4,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(cu)}}}).catch(t=>{throw qs.create("idb-open",{originalErrorMessage:t.message})})),ng}async function p4(t){try{return await(await EI()).transaction(cu).objectStore(cu).get(TI(t))}catch(e){if(e instanceof Dr)Yo.warn(e.message);else{const n=qs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Yo.warn(n.message)}}}async function ob(t,e){try{const r=(await EI()).transaction(cu,"readwrite");await r.objectStore(cu).put(e,TI(t)),await r.done}catch(n){if(n instanceof Dr)Yo.warn(n.message);else{const r=qs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Yo.warn(r.message)}}}function TI(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m4=1024,g4=30*24*60*60*1e3;class y4{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new w4(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=ab();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=g4}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=ab(),{heartbeatsToSend:r,unsentEntries:i}=v4(this._heartbeatsCache.heartbeats),s=rf(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function ab(){return new Date().toISOString().substring(0,10)}function v4(t,e=m4){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),lb(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),lb(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class w4{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return vI()?wI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await p4(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return ob(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return ob(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function lb(t){return rf(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _4(t){ti(new Nr("platform-logger",e=>new jL(e),"PRIVATE")),ti(new Nr("heartbeat",e=>new y4(e),"PRIVATE")),Qn($y,sb,t),Qn($y,sb,"esm2017"),Qn("fire-js","")}_4("");var x4=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},le,zw=zw||{},Pe=x4||self;function up(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Fu(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function b4(t){return Object.prototype.hasOwnProperty.call(t,rg)&&t[rg]||(t[rg]=++E4)}var rg="closure_uid_"+(1e9*Math.random()>>>0),E4=0;function T4(t,e,n){return t.call.apply(t.bind,arguments)}function S4(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function En(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?En=T4:En=S4,En.apply(null,arguments)}function Ud(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function en(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function ho(){this.s=this.s,this.o=this.o}var I4=0;ho.prototype.s=!1;ho.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),I4!=0)&&b4(this)};ho.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const SI=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Hw(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function cb(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(up(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function Tn(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Tn.prototype.h=function(){this.defaultPrevented=!0};var C4=function(){if(!Pe.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const n=()=>{};Pe.addEventListener("test",n,e),Pe.removeEventListener("test",n,e)}catch{}return t}();function uu(t){return/^[\s\xa0]*$/.test(t)}function dp(){var t=Pe.navigator;return t&&(t=t.userAgent)?t:""}function ui(t){return dp().indexOf(t)!=-1}function Ww(t){return Ww[" "](t),t}Ww[" "]=function(){};function A4(t,e){var n=_3;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var k4=ui("Opera"),dl=ui("Trident")||ui("MSIE"),II=ui("Edge"),Wy=II||dl,CI=ui("Gecko")&&!(dp().toLowerCase().indexOf("webkit")!=-1&&!ui("Edge"))&&!(ui("Trident")||ui("MSIE"))&&!ui("Edge"),P4=dp().toLowerCase().indexOf("webkit")!=-1&&!ui("Edge");function AI(){var t=Pe.document;return t?t.documentMode:void 0}var qy;e:{var ig="",sg=function(){var t=dp();if(CI)return/rv:([^\);]+)(\)|;)/.exec(t);if(II)return/Edge\/([\d\.]+)/.exec(t);if(dl)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(P4)return/WebKit\/(\S+)/.exec(t);if(k4)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(sg&&(ig=sg?sg[1]:""),dl){var og=AI();if(og!=null&&og>parseFloat(ig)){qy=String(og);break e}}qy=ig}var Ky;if(Pe.document&&dl){var ub=AI();Ky=ub||parseInt(qy,10)||void 0}else Ky=void 0;var R4=Ky;function du(t,e){if(Tn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(CI){e:{try{Ww(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:N4[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&du.$.h.call(this)}}en(du,Tn);var N4={2:"touch",3:"pen",4:"mouse"};du.prototype.h=function(){du.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Uu="closure_listenable_"+(1e6*Math.random()|0),O4=0;function D4(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++O4,this.fa=this.ia=!1}function hp(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function qw(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function j4(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function kI(t){const e={};for(const n in t)e[n]=t[n];return e}const db="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function PI(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<db.length;s++)n=db[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function fp(t){this.src=t,this.g={},this.h=0}fp.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=Qy(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new D4(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function Gy(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=SI(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(hp(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Qy(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var Kw="closure_lm_"+(1e6*Math.random()|0),ag={};function RI(t,e,n,r,i){if(r&&r.once)return OI(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)RI(t,e[s],n,r,i);return null}return n=Yw(n),t&&t[Uu]?t.O(e,n,Fu(r)?!!r.capture:!!r,i):NI(t,e,n,!1,r,i)}function NI(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Fu(i)?!!i.capture:!!i,a=Qw(t);if(a||(t[Kw]=a=new fp(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=L4(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)C4||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(jI(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function L4(){function t(n){return e.call(t.src,t.listener,n)}const e=M4;return t}function OI(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)OI(t,e[s],n,r,i);return null}return n=Yw(n),t&&t[Uu]?t.P(e,n,Fu(r)?!!r.capture:!!r,i):NI(t,e,n,!0,r,i)}function DI(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)DI(t,e[s],n,r,i);else r=Fu(r)?!!r.capture:!!r,n=Yw(n),t&&t[Uu]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=Qy(s,n,r,i),-1<n&&(hp(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=Qw(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Qy(e,n,r,i)),(n=-1<t?e[t]:null)&&Gw(n))}function Gw(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Uu])Gy(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(jI(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Qw(e))?(Gy(n,t),n.h==0&&(n.src=null,e[Kw]=null)):hp(t)}}}function jI(t){return t in ag?ag[t]:ag[t]="on"+t}function M4(t,e){if(t.fa)t=!0;else{e=new du(e,this);var n=t.listener,r=t.la||t.src;t.ia&&Gw(t),t=n.call(r,e)}return t}function Qw(t){return t=t[Kw],t instanceof fp?t:null}var lg="__closure_events_fn_"+(1e9*Math.random()>>>0);function Yw(t){return typeof t=="function"?t:(t[lg]||(t[lg]=function(e){return t.handleEvent(e)}),t[lg])}function Jt(){ho.call(this),this.i=new fp(this),this.S=this,this.J=null}en(Jt,ho);Jt.prototype[Uu]=!0;Jt.prototype.removeEventListener=function(t,e,n,r){DI(this,t,e,n,r)};function fn(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new Tn(e,t);else if(e instanceof Tn)e.target=e.target||t;else{var i=e;e=new Tn(r,t),PI(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Bd(o,r,!0,e)&&i}if(o=e.g=t,i=Bd(o,r,!0,e)&&i,i=Bd(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=Bd(o,r,!1,e)&&i}Jt.prototype.N=function(){if(Jt.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)hp(n[r]);delete t.g[e],t.h--}}this.J=null};Jt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};Jt.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Bd(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&Gy(t.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var Xw=Pe.JSON.stringify;class V4{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function F4(){var t=Jw;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class U4{constructor(){this.h=this.g=null}add(e,n){const r=LI.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var LI=new V4(()=>new B4,t=>t.reset());class B4{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function $4(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function z4(t){Pe.setTimeout(()=>{throw t},0)}let hu,fu=!1,Jw=new U4,MI=()=>{const t=Pe.Promise.resolve(void 0);hu=()=>{t.then(H4)}};var H4=()=>{for(var t;t=F4();){try{t.h.call(t.g)}catch(n){z4(n)}var e=LI;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}fu=!1};function pp(t,e){Jt.call(this),this.h=t||1,this.g=e||Pe,this.j=En(this.qb,this),this.l=Date.now()}en(pp,Jt);le=pp.prototype;le.ga=!1;le.T=null;le.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),fn(this,"tick"),this.ga&&(Zw(this),this.start()))}};le.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Zw(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}le.N=function(){pp.$.N.call(this),Zw(this),delete this.g};function e0(t,e,n){if(typeof t=="function")n&&(t=En(t,n));else if(t&&typeof t.handleEvent=="function")t=En(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:Pe.setTimeout(t,e||0)}function VI(t){t.g=e0(()=>{t.g=null,t.i&&(t.i=!1,VI(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class W4 extends ho{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:VI(this)}N(){super.N(),this.g&&(Pe.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function pu(t){ho.call(this),this.h=t,this.g={}}en(pu,ho);var hb=[];function FI(t,e,n,r){Array.isArray(n)||(n&&(hb[0]=n.toString()),n=hb);for(var i=0;i<n.length;i++){var s=RI(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function UI(t){qw(t.g,function(e,n){this.g.hasOwnProperty(n)&&Gw(e)},t),t.g={}}pu.prototype.N=function(){pu.$.N.call(this),UI(this)};pu.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function mp(){this.g=!0}mp.prototype.Ea=function(){this.g=!1};function q4(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var d=c[0];c=c[1];var f=d.split("_");o=2<=f.length&&f[1]=="type"?o+(d+"="+c+"&"):o+(d+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function K4(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function Ha(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+Q4(t,n)+(r?" "+r:"")})}function G4(t,e){t.info(function(){return"TIMEOUT: "+e})}mp.prototype.info=function(){};function Q4(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return Xw(n)}catch{return e}}var ca={},fb=null;function gp(){return fb=fb||new Jt}ca.Ta="serverreachability";function BI(t){Tn.call(this,ca.Ta,t)}en(BI,Tn);function mu(t){const e=gp();fn(e,new BI(e))}ca.STAT_EVENT="statevent";function $I(t,e){Tn.call(this,ca.STAT_EVENT,t),this.stat=e}en($I,Tn);function jn(t){const e=gp();fn(e,new $I(e,t))}ca.Ua="timingevent";function zI(t,e){Tn.call(this,ca.Ua,t),this.size=e}en(zI,Tn);function Bu(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return Pe.setTimeout(function(){t()},e)}var yp={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},HI={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function t0(){}t0.prototype.h=null;function pb(t){return t.h||(t.h=t.i())}function WI(){}var $u={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function n0(){Tn.call(this,"d")}en(n0,Tn);function r0(){Tn.call(this,"c")}en(r0,Tn);var Yy;function vp(){}en(vp,t0);vp.prototype.g=function(){return new XMLHttpRequest};vp.prototype.i=function(){return{}};Yy=new vp;function zu(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new pu(this),this.P=Y4,t=Wy?125:void 0,this.V=new pp(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new qI}function qI(){this.i=null,this.g="",this.h=!1}var Y4=45e3,KI={},Xy={};le=zu.prototype;le.setTimeout=function(t){this.P=t};function Jy(t,e,n){t.L=1,t.A=_p(Ji(e)),t.u=n,t.S=!0,GI(t,null)}function GI(t,e){t.G=Date.now(),Hu(t),t.B=Ji(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),nC(n.i,"t",r),t.o=0,n=t.l.J,t.h=new qI,t.g=EC(t.l,n?e:null,!t.u),0<t.O&&(t.M=new W4(En(t.Pa,t,t.g),t.O)),FI(t.U,t.g,"readystatechange",t.nb),e=t.I?kI(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),mu(),q4(t.j,t.v,t.B,t.m,t.W,t.u)}le.nb=function(t){t=t.target;const e=this.M;e&&hi(t)==3?e.l():this.Pa(t)};le.Pa=function(t){try{if(t==this.g)e:{const d=hi(this.g);var e=this.g.Ia();const f=this.g.da();if(!(3>d)&&(d!=3||Wy||this.g&&(this.h.h||this.g.ja()||vb(this.g)))){this.J||d!=4||e==7||(e==8||0>=f?mu(3):mu(2)),wp(this);var n=this.g.da();this.ca=n;t:if(QI(this)){var r=vb(this.g);t="";var i=r.length,s=hi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ro(this),Rc(this);var o="";break t}this.h.i=new Pe.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.length=0,this.h.g+=t,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,K4(this.j,this.v,this.B,this.m,this.W,d,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!uu(a)){var c=a;break t}}c=null}if(n=c)Ha(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Zy(this,n);else{this.i=!1,this.s=3,jn(12),Ro(this),Rc(this);break e}}this.S?(YI(this,d,o),Wy&&this.i&&d==3&&(FI(this.U,this.V,"tick",this.mb),this.V.start())):(Ha(this.j,this.m,o,null),Zy(this,o)),d==4&&Ro(this),this.i&&!this.J&&(d==4?wC(this.l,this):(this.i=!1,Hu(this)))}else y3(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.s=3,jn(12)):(this.s=0,jn(13)),Ro(this),Rc(this)}}}catch{}finally{}};function QI(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function YI(t,e,n){let r=!0,i;for(;!t.J&&t.o<n.length;)if(i=X4(t,n),i==Xy){e==4&&(t.s=4,jn(14),r=!1),Ha(t.j,t.m,null,"[Incomplete Response]");break}else if(i==KI){t.s=4,jn(15),Ha(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Ha(t.j,t.m,i,null),Zy(t,i);QI(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,jn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),c0(e),e.M=!0,jn(11))):(Ha(t.j,t.m,n,"[Invalid Chunked Response]"),Ro(t),Rc(t))}le.mb=function(){if(this.g){var t=hi(this.g),e=this.g.ja();this.o<e.length&&(wp(this),YI(this,t,e),this.i&&t!=4&&Hu(this))}};function X4(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?Xy:(n=Number(e.substring(n,r)),isNaN(n)?KI:(r+=1,r+n>e.length?Xy:(e=e.slice(r,r+n),t.o=r+n,e)))}le.cancel=function(){this.J=!0,Ro(this)};function Hu(t){t.Y=Date.now()+t.P,XI(t,t.P)}function XI(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=Bu(En(t.lb,t),e)}function wp(t){t.C&&(Pe.clearTimeout(t.C),t.C=null)}le.lb=function(){this.C=null;const t=Date.now();0<=t-this.Y?(G4(this.j,this.B),this.L!=2&&(mu(),jn(17)),Ro(this),this.s=2,Rc(this)):XI(this,this.Y-t)};function Rc(t){t.l.H==0||t.J||wC(t.l,t)}function Ro(t){wp(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,Zw(t.V),UI(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Zy(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||ev(n.i,t))){if(!t.K&&ev(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)lf(n),Tp(n);else break e;l0(n),jn(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=Bu(En(n.ib,n),6e3));if(1>=sC(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else No(n,11)}else if((t.K||n.g==t)&&lf(n),!uu(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.V=c[0],c=c[1],n.H==2)if(c[0]=="c"){n.K=c[1],n.pa=c[2];const d=c[3];d!=null&&(n.ra=d,n.l.info("VER="+n.ra));const f=c[4];f!=null&&(n.Ga=f,n.l.info("SVER="+n.Ga));const m=c[5];m!=null&&typeof m=="number"&&0<m&&(r=1.5*m,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const v=t.g;if(v){const w=v.g?v.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(w){var s=r.i;s.g||w.indexOf("spdy")==-1&&w.indexOf("quic")==-1&&w.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(i0(s,s.h),s.h=null))}if(r.F){const b=v.g?v.g.getResponseHeader("X-HTTP-Session-Id"):null;b&&(r.Da=b,ft(r.I,r.F,b))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=bC(r,r.J?r.pa:null,r.Y),o.K){oC(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.C&&(wp(a),Hu(a)),r.g=o}else yC(r);0<n.j.length&&Sp(n)}else c[0]!="stop"&&c[0]!="close"||No(n,7);else n.H==3&&(c[0]=="stop"||c[0]=="close"?c[0]=="stop"?No(n,7):a0(n):c[0]!="noop"&&n.h&&n.h.Aa(c),n.A=0)}}mu(4)}catch{}}function J4(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(up(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function Z4(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(up(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function JI(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(up(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=Z4(t),r=J4(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var ZI=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function e3(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Fo(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Fo){this.h=t.h,of(this,t.j),this.s=t.s,this.g=t.g,af(this,t.m),this.l=t.l;var e=t.i,n=new gu;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),mb(this,n),this.o=t.o}else t&&(e=String(t).match(ZI))?(this.h=!1,of(this,e[1]||"",!0),this.s=yc(e[2]||""),this.g=yc(e[3]||"",!0),af(this,e[4]),this.l=yc(e[5]||"",!0),mb(this,e[6]||"",!0),this.o=yc(e[7]||"")):(this.h=!1,this.i=new gu(null,this.h))}Fo.prototype.toString=function(){var t=[],e=this.j;e&&t.push(vc(e,gb,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(vc(e,gb,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(vc(n,n.charAt(0)=="/"?r3:n3,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",vc(n,s3)),t.join("")};function Ji(t){return new Fo(t)}function of(t,e,n){t.j=n?yc(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function af(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function mb(t,e,n){e instanceof gu?(t.i=e,o3(t.i,t.h)):(n||(e=vc(e,i3)),t.i=new gu(e,t.h))}function ft(t,e,n){t.i.set(e,n)}function _p(t){return ft(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function yc(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function vc(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,t3),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function t3(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var gb=/[#\/\?@]/g,n3=/[#\?:]/g,r3=/[#\?]/g,i3=/[#\?@]/g,s3=/#/g;function gu(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function fo(t){t.g||(t.g=new Map,t.h=0,t.i&&e3(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}le=gu.prototype;le.add=function(t,e){fo(this),this.i=null,t=Il(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function eC(t,e){fo(t),e=Il(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function tC(t,e){return fo(t),e=Il(t,e),t.g.has(e)}le.forEach=function(t,e){fo(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};le.ta=function(){fo(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};le.Z=function(t){fo(this);let e=[];if(typeof t=="string")tC(this,t)&&(e=e.concat(this.g.get(Il(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};le.set=function(t,e){return fo(this),this.i=null,t=Il(this,t),tC(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};le.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function nC(t,e,n){eC(t,e),0<n.length&&(t.i=null,t.g.set(Il(t,e),Hw(n)),t.h+=n.length)}le.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function Il(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function o3(t,e){e&&!t.j&&(fo(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(eC(this,r),nC(this,i,n))},t)),t.j=e}var a3=class{constructor(t,e){this.g=t,this.map=e}};function rC(t){this.l=t||l3,Pe.PerformanceNavigationTiming?(t=Pe.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(Pe.g&&Pe.g.Ka&&Pe.g.Ka()&&Pe.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var l3=10;function iC(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function sC(t){return t.h?1:t.g?t.g.size:0}function ev(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function i0(t,e){t.g?t.g.add(e):t.h=e}function oC(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}rC.prototype.cancel=function(){if(this.i=aC(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function aC(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return Hw(t.i)}var c3=class{stringify(t){return Pe.JSON.stringify(t,void 0)}parse(t){return Pe.JSON.parse(t,void 0)}};function u3(){this.g=new c3}function d3(t,e,n){const r=n||"";try{JI(t,function(i,s){let o=i;Fu(i)&&(o=Xw(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function h3(t,e){const n=new mp;if(Pe.Image){const r=new Image;r.onload=Ud($d,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Ud($d,n,r,"TestLoadImage: error",!1,e),r.onabort=Ud($d,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Ud($d,n,r,"TestLoadImage: timeout",!1,e),Pe.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function $d(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function xp(t){this.l=t.ec||null,this.j=t.ob||!1}en(xp,t0);xp.prototype.g=function(){return new bp(this.l,this.j)};xp.prototype.i=function(t){return function(){return t}}({});function bp(t,e){Jt.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=s0,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}en(bp,Jt);var s0=0;le=bp.prototype;le.open=function(t,e){if(this.readyState!=s0)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,yu(this)};le.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||Pe).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};le.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Wu(this)),this.readyState=s0};le.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,yu(this)),this.g&&(this.readyState=3,yu(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Pe.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;lC(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function lC(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}le.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Wu(this):yu(this),this.readyState==3&&lC(this)}};le.Za=function(t){this.g&&(this.response=this.responseText=t,Wu(this))};le.Ya=function(t){this.g&&(this.response=t,Wu(this))};le.ka=function(){this.g&&Wu(this)};function Wu(t){t.readyState=4,t.l=null,t.j=null,t.A=null,yu(t)}le.setRequestHeader=function(t,e){this.v.append(t,e)};le.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};le.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function yu(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(bp.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var f3=Pe.JSON.parse;function kt(t){Jt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=cC,this.L=this.M=!1}en(kt,Jt);var cC="",p3=/^https?$/i,m3=["POST","PUT"];le=kt.prototype;le.Oa=function(t){this.M=t};le.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Yy.g(),this.C=this.u?pb(this.u):pb(Yy),this.g.onreadystatechange=En(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){yb(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=Pe.FormData&&t instanceof Pe.FormData,!(0<=SI(m3,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{hC(this),0<this.B&&((this.L=g3(this.g))?(this.g.timeout=this.B,this.g.ontimeout=En(this.ua,this)):this.A=e0(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){yb(this,s)}};function g3(t){return dl&&typeof t.timeout=="number"&&t.ontimeout!==void 0}le.ua=function(){typeof zw<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,fn(this,"timeout"),this.abort(8))};function yb(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,uC(t),Ep(t)}function uC(t){t.F||(t.F=!0,fn(t,"complete"),fn(t,"error"))}le.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,fn(this,"complete"),fn(this,"abort"),Ep(this))};le.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Ep(this,!0)),kt.$.N.call(this)};le.La=function(){this.s||(this.G||this.v||this.l?dC(this):this.kb())};le.kb=function(){dC(this)};function dC(t){if(t.h&&typeof zw<"u"&&(!t.C[1]||hi(t)!=4||t.da()!=2)){if(t.v&&hi(t)==4)e0(t.La,0,t);else if(fn(t,"readystatechange"),hi(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(ZI)[1]||null;!i&&Pe.self&&Pe.self.location&&(i=Pe.self.location.protocol.slice(0,-1)),r=!p3.test(i?i.toLowerCase():"")}n=r}if(n)fn(t,"complete"),fn(t,"success");else{t.m=6;try{var s=2<hi(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",uC(t)}}finally{Ep(t)}}}}function Ep(t,e){if(t.g){hC(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||fn(t,"ready");try{n.onreadystatechange=r}catch{}}}function hC(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(Pe.clearTimeout(t.A),t.A=null)}le.isActive=function(){return!!this.g};function hi(t){return t.g?t.g.readyState:0}le.da=function(){try{return 2<hi(this)?this.g.status:-1}catch{return-1}};le.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};le.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),f3(e)}};function vb(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case cC:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function y3(t){const e={};t=(t.g&&2<=hi(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(uu(t[r]))continue;var n=$4(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}j4(e,function(r){return r.join(", ")})}le.Ia=function(){return this.m};le.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function fC(t){let e="";return qw(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function o0(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=fC(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):ft(t,e,n))}function ic(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function pC(t){this.Ga=0,this.j=[],this.l=new mp,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=ic("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=ic("baseRetryDelayMs",5e3,t),this.hb=ic("retryDelaySeedMs",1e4,t),this.eb=ic("forwardChannelMaxRetries",2,t),this.xa=ic("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new rC(t&&t.concurrentRequestLimit),this.Ja=new u3,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}le=pC.prototype;le.ra=8;le.H=1;function a0(t){if(mC(t),t.H==3){var e=t.W++,n=Ji(t.I);if(ft(n,"SID",t.K),ft(n,"RID",e),ft(n,"TYPE","terminate"),qu(t,n),e=new zu(t,t.l,e),e.L=2,e.A=_p(Ji(n)),n=!1,Pe.navigator&&Pe.navigator.sendBeacon)try{n=Pe.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&Pe.Image&&(new Image().src=e.A,n=!0),n||(e.g=EC(e.l,null),e.g.ha(e.A)),e.G=Date.now(),Hu(e)}xC(t)}function Tp(t){t.g&&(c0(t),t.g.cancel(),t.g=null)}function mC(t){Tp(t),t.u&&(Pe.clearTimeout(t.u),t.u=null),lf(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&Pe.clearTimeout(t.m),t.m=null)}function Sp(t){if(!iC(t.i)&&!t.m){t.m=!0;var e=t.Na;hu||MI(),fu||(hu(),fu=!0),Jw.add(e,t),t.C=0}}function v3(t,e){return sC(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Bu(En(t.Na,t,e),_C(t,t.C)),t.C++,!0)}le.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new zu(this,this.l,t);let s=this.s;if(this.U&&(s?(s=kI(s),PI(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=gC(this,i,e),n=Ji(this.I),ft(n,"RID",t),ft(n,"CVER",22),this.F&&ft(n,"X-HTTP-Session-Id",this.F),qu(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(fC(s)))+"&"+e:this.o&&o0(n,this.o,s)),i0(this.i,i),this.bb&&ft(n,"TYPE","init"),this.P?(ft(n,"$req",e),ft(n,"SID","null"),i.aa=!0,Jy(i,n,null)):Jy(i,n,e),this.H=2}}else this.H==3&&(t?wb(this,t):this.j.length==0||iC(this.i)||wb(this))};function wb(t,e){var n;e?n=e.m:n=t.W++;const r=Ji(t.I);ft(r,"SID",t.K),ft(r,"RID",n),ft(r,"AID",t.V),qu(t,r),t.o&&t.s&&o0(r,t.o,t.s),n=new zu(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=gC(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),i0(t.i,n),Jy(n,r,e)}function qu(t,e){t.na&&qw(t.na,function(n,r){ft(e,r,n)}),t.h&&JI({},function(n,r){ft(e,r,n)})}function gC(t,e,n){n=Math.min(t.j.length,n);var r=t.h?En(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let c=i[l].g;const d=i[l].map;if(c-=s,0>c)s=Math.max(0,i[l].g-100),a=!1;else try{d3(d,o,"req"+c+"_")}catch{r&&r(d)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function yC(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;hu||MI(),fu||(hu(),fu=!0),Jw.add(e,t),t.A=0}}function l0(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Bu(En(t.Ma,t),_C(t,t.A)),t.A++,!0)}le.Ma=function(){if(this.u=null,vC(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Bu(En(this.jb,this),t)}};le.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,jn(10),Tp(this),vC(this))};function c0(t){t.B!=null&&(Pe.clearTimeout(t.B),t.B=null)}function vC(t){t.g=new zu(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Ji(t.wa);ft(e,"RID","rpc"),ft(e,"SID",t.K),ft(e,"AID",t.V),ft(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&ft(e,"TO",t.qa),ft(e,"TYPE","xmlhttp"),qu(t,e),t.o&&t.s&&o0(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=_p(Ji(e)),n.u=null,n.S=!0,GI(n,t)}le.ib=function(){this.v!=null&&(this.v=null,Tp(this),l0(this),jn(19))};function lf(t){t.v!=null&&(Pe.clearTimeout(t.v),t.v=null)}function wC(t,e){var n=null;if(t.g==e){lf(t),c0(t),t.g=null;var r=2}else if(ev(t.i,e))n=e.F,oC(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;r=gp(),fn(r,new zI(r,n)),Sp(t)}else yC(t);else if(i=e.s,i==3||i==0&&0<e.ca||!(r==1&&v3(t,e)||r==2&&l0(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:No(t,5);break;case 4:No(t,10);break;case 3:No(t,6);break;default:No(t,2)}}}function _C(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function No(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=En(t.pb,t);n||(n=new Fo("//www.google.com/images/cleardot.gif"),Pe.location&&Pe.location.protocol=="http"||of(n,"https"),_p(n)),h3(n.toString(),r)}else jn(2);t.H=0,t.h&&t.h.za(e),xC(t),mC(t)}le.pb=function(t){t?(this.l.info("Successfully pinged google.com"),jn(2)):(this.l.info("Failed to ping google.com"),jn(1))};function xC(t){if(t.H=0,t.ma=[],t.h){const e=aC(t.i);(e.length!=0||t.j.length!=0)&&(cb(t.ma,e),cb(t.ma,t.j),t.i.i.length=0,Hw(t.j),t.j.length=0),t.h.ya()}}function bC(t,e,n){var r=n instanceof Fo?Ji(n):new Fo(n);if(r.g!="")e&&(r.g=e+"."+r.g),af(r,r.m);else{var i=Pe.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Fo(null);r&&of(s,r),e&&(s.g=e),i&&af(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&ft(r,n,e),ft(r,"VER",t.ra),qu(t,r),r}function EC(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new kt(new xp({ob:n})):new kt(t.va),e.Oa(t.J),e}le.isActive=function(){return!!this.h&&this.h.isActive(this)};function TC(){}le=TC.prototype;le.Ba=function(){};le.Aa=function(){};le.za=function(){};le.ya=function(){};le.isActive=function(){return!0};le.Va=function(){};function cf(){if(dl&&!(10<=Number(R4)))throw Error("Environmental error: no available transport.")}cf.prototype.g=function(t,e){return new pr(t,e)};function pr(t,e){Jt.call(this),this.g=new pC(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!uu(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!uu(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Cl(this)}en(pr,Jt);pr.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;jn(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=bC(t,null,t.Y),Sp(t)};pr.prototype.close=function(){a0(this.g)};pr.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Xw(t),t=n);e.j.push(new a3(e.fb++,t)),e.H==3&&Sp(e)};pr.prototype.N=function(){this.g.h=null,delete this.j,a0(this.g),delete this.g,pr.$.N.call(this)};function SC(t){n0.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}en(SC,n0);function IC(){r0.call(this),this.status=1}en(IC,r0);function Cl(t){this.g=t}en(Cl,TC);Cl.prototype.Ba=function(){fn(this.g,"a")};Cl.prototype.Aa=function(t){fn(this.g,new SC(t))};Cl.prototype.za=function(t){fn(this.g,new IC)};Cl.prototype.ya=function(){fn(this.g,"b")};function w3(){this.blockSize=-1}function ni(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}en(ni,w3);ni.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function cg(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}ni.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)cg(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){cg(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){cg(this,r),i=0;break}}this.h=i,this.i+=e};ni.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function tt(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var _3={};function u0(t){return-128<=t&&128>t?A4(t,function(e){return new tt([e|0],0>e?-1:0)}):new tt([t|0],0>t?-1:0)}function fi(t){if(isNaN(t)||!isFinite(t))return Ja;if(0>t)return un(fi(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=tv;return new tt(e,0)}function CC(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return un(CC(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=fi(Math.pow(e,8)),r=Ja,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=fi(Math.pow(e,s)),r=r.R(s).add(fi(o))):(r=r.R(n),r=r.add(fi(o)))}return r}var tv=4294967296,Ja=u0(0),nv=u0(1),_b=u0(16777216);le=tt.prototype;le.ea=function(){if(Sr(this))return-un(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:tv+r)*e,e*=tv}return t};le.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Bi(this))return"0";if(Sr(this))return"-"+un(this).toString(t);for(var e=fi(Math.pow(t,6)),n=this,r="";;){var i=df(n,e).g;n=uf(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,Bi(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};le.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Bi(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Sr(t){return t.h==-1}le.X=function(t){return t=uf(this,t),Sr(t)?-1:Bi(t)?0:1};function un(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new tt(n,~t.h).add(nv)}le.abs=function(){return Sr(this)?un(this):this};le.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new tt(n,n[n.length-1]&-2147483648?-1:0)};function uf(t,e){return t.add(un(e))}le.R=function(t){if(Bi(this)||Bi(t))return Ja;if(Sr(this))return Sr(t)?un(this).R(un(t)):un(un(this).R(t));if(Sr(t))return un(this.R(un(t)));if(0>this.X(_b)&&0>t.X(_b))return fi(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(i)>>>16,l=t.D(i)&65535;n[2*r+2*i]+=o*l,zd(n,2*r+2*i),n[2*r+2*i+1]+=s*l,zd(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,zd(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,zd(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new tt(n,0)};function zd(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function sc(t,e){this.g=t,this.h=e}function df(t,e){if(Bi(e))throw Error("division by zero");if(Bi(t))return new sc(Ja,Ja);if(Sr(t))return e=df(un(t),e),new sc(un(e.g),un(e.h));if(Sr(e))return e=df(t,un(e)),new sc(un(e.g),e.h);if(30<t.g.length){if(Sr(t)||Sr(e))throw Error("slowDivide_ only works with positive integers.");for(var n=nv,r=e;0>=r.X(t);)n=xb(n),r=xb(r);var i=Ca(n,1),s=Ca(r,1);for(r=Ca(r,2),n=Ca(n,2);!Bi(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=Ca(r,1),n=Ca(n,1)}return e=uf(t,i.R(e)),new sc(i,e)}for(i=Ja;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=fi(n),o=s.R(e);Sr(o)||0<o.X(t);)n-=r,s=fi(n),o=s.R(e);Bi(s)&&(s=nv),i=i.add(s),t=uf(t,o)}return new sc(i,t)}le.gb=function(t){return df(this,t).h};le.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new tt(n,this.h&t.h)};le.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new tt(n,this.h|t.h)};le.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new tt(n,this.h^t.h)};function xb(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new tt(n,t.h)}function Ca(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new tt(i,t.h)}cf.prototype.createWebChannel=cf.prototype.g;pr.prototype.send=pr.prototype.u;pr.prototype.open=pr.prototype.m;pr.prototype.close=pr.prototype.close;yp.NO_ERROR=0;yp.TIMEOUT=8;yp.HTTP_ERROR=6;HI.COMPLETE="complete";WI.EventType=$u;$u.OPEN="a";$u.CLOSE="b";$u.ERROR="c";$u.MESSAGE="d";Jt.prototype.listen=Jt.prototype.O;kt.prototype.listenOnce=kt.prototype.P;kt.prototype.getLastError=kt.prototype.Sa;kt.prototype.getLastErrorCode=kt.prototype.Ia;kt.prototype.getStatus=kt.prototype.da;kt.prototype.getResponseJson=kt.prototype.Wa;kt.prototype.getResponseText=kt.prototype.ja;kt.prototype.send=kt.prototype.ha;kt.prototype.setWithCredentials=kt.prototype.Oa;ni.prototype.digest=ni.prototype.l;ni.prototype.reset=ni.prototype.reset;ni.prototype.update=ni.prototype.j;tt.prototype.add=tt.prototype.add;tt.prototype.multiply=tt.prototype.R;tt.prototype.modulo=tt.prototype.gb;tt.prototype.compare=tt.prototype.X;tt.prototype.toNumber=tt.prototype.ea;tt.prototype.toString=tt.prototype.toString;tt.prototype.getBits=tt.prototype.D;tt.fromNumber=fi;tt.fromString=CC;var x3=function(){return new cf},b3=function(){return gp()},ug=yp,E3=HI,T3=ca,bb={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Hd=WI,S3=kt,I3=ni,Za=tt;const Eb="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}_n.UNAUTHENTICATED=new _n(null),_n.GOOGLE_CREDENTIALS=new _n("google-credentials-uid"),_n.FIRST_PARTY=new _n("first-party-uid"),_n.MOCK_USER=new _n("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Al="10.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xo=new lp("@firebase/firestore");function oc(){return Xo.logLevel}function ve(t,...e){if(Xo.logLevel<=qe.DEBUG){const n=e.map(d0);Xo.debug(`Firestore (${Al}): ${t}`,...n)}}function Zi(t,...e){if(Xo.logLevel<=qe.ERROR){const n=e.map(d0);Xo.error(`Firestore (${Al}): ${t}`,...n)}}function hl(t,...e){if(Xo.logLevel<=qe.WARN){const n=e.map(d0);Xo.warn(`Firestore (${Al}): ${t}`,...n)}}function d0(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ae(t="Unexpected state"){const e=`FIRESTORE (${Al}) INTERNAL ASSERTION FAILED: `+t;throw Zi(e),new Error(e)}function at(t,e){t||Ae()}function Le(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class me extends Dr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class C3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(_n.UNAUTHENTICATED))}shutdown(){}}class A3{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class k3{constructor(e){this.t=e,this.currentUser=_n.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Wi;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Wi,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{ve("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(ve("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Wi)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ve("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(at(typeof r.accessToken=="string"),new AC(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return at(e===null||typeof e=="string"),new _n(e)}}class P3{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=_n.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class R3{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new P3(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(_n.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class N3{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class O3{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&ve("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,ve("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{ve("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):ve("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(at(typeof n.token=="string"),this.R=n.token,new N3(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D3(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=D3(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Ze(t,e){return t<e?-1:t>e?1:0}function fl(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new me(q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new me(q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new me(q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new me(q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return zt.fromMillis(Date.now())}static fromDate(e){return zt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new zt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ze(this.nanoseconds,e.nanoseconds):Ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(e){this.timestamp=e}static fromTimestamp(e){return new De(e)}static min(){return new De(new zt(0,0))}static max(){return new De(new zt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ae(),r===void 0?r=e.length-n:r>e.length-n&&Ae(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return vu.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof vu?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class st extends vu{construct(e,n,r){return new st(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new me(q.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new st(n)}static emptyPath(){return new st([])}}const j3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class dn extends vu{construct(e,n,r){return new dn(e,n,r)}static isValidIdentifier(e){return j3.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),dn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new dn(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new me(q.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new me(q.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new me(q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new me(q.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new dn(n)}static emptyPath(){return new dn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{constructor(e){this.path=e}static fromPath(e){return new xe(st.fromString(e))}static fromName(e){return new xe(st.fromString(e).popFirst(5))}static empty(){return new xe(st.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&st.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return st.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new xe(new st(e.slice()))}}function L3(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=De.fromTimestamp(r===1e9?new zt(n+1,0):new zt(n,r));return new ro(i,xe.empty(),e)}function M3(t){return new ro(t.readTime,t.key,-1)}class ro{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ro(De.min(),xe.empty(),-1)}static max(){return new ro(De.max(),xe.empty(),-1)}}function V3(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=xe.comparator(t.documentKey,e.documentKey),n!==0?n:Ze(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class U3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ku(t){if(t.code!==q.FAILED_PRECONDITION||t.message!==F3)throw t;ve("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ae(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new G((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof G?n:G.resolve(n)}catch(n){return G.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):G.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):G.reject(n)}static resolve(e){return new G((n,r)=>{n(e)})}static reject(e){return new G((n,r)=>{r(e)})}static waitFor(e){return new G((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=G.resolve(!1);for(const r of e)n=n.next(i=>i?G.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new G((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;n(e[c]).next(d=>{o[c]=d,++a,a===s&&r(o)},d=>i(d))}})}static doWhile(e,n){return new G((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function Gu(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h0{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.se(r),this.oe=r=>n.writeSequenceNumber(r))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}h0._e=-1;function Ip(t){return t==null}function hf(t){return t===0&&1/t==-1/0}function B3(t){return typeof t=="number"&&Number.isInteger(t)&&!hf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tb(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ua(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function PC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e,n){this.comparator=e,this.root=n||cn.EMPTY}insert(e,n){return new Et(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,cn.BLACK,null,null))}remove(e){return new Et(this.comparator,this.root.remove(e,this.comparator).copy(null,null,cn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Wd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Wd(this.root,e,this.comparator,!1)}getReverseIterator(){return new Wd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Wd(this.root,e,this.comparator,!0)}}class Wd{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class cn{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??cn.RED,this.left=i??cn.EMPTY,this.right=s??cn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new cn(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return cn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return cn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,cn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,cn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ae();const e=this.left.check();if(e!==this.right.check())throw Ae();return e+(this.isRed()?0:1)}}cn.EMPTY=null,cn.RED=!0,cn.BLACK=!1;cn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ae()}get value(){throw Ae()}get color(){throw Ae()}get left(){throw Ae()}get right(){throw Ae()}copy(e,n,r,i,s){return this}insert(e,n,r){return new cn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e){this.comparator=e,this.data=new Et(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Sb(this.data.getIterator())}getIteratorFrom(e){return new Sb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof pn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new pn(this.comparator);return n.data=e,n}}class Sb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(e){this.fields=e,e.sort(dn.comparator)}static empty(){return new or([])}unionWith(e){let n=new pn(dn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new or(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return fl(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new RC("Invalid base64 string: "+s):s}}(e);return new An(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new An(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}An.EMPTY_BYTE_STRING=new An("");const $3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function io(t){if(at(!!t),typeof t=="string"){let e=0;const n=$3.exec(t);if(at(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Lt(t.seconds),nanos:Lt(t.nanos)}}function Lt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Jo(t){return typeof t=="string"?An.fromBase64String(t):An.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f0(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function p0(t){const e=t.mapValue.fields.__previous_value__;return f0(e)?p0(e):e}function wu(t){const e=io(t.mapValue.fields.__local_write_time__.timestampValue);return new zt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z3{constructor(e,n,r,i,s,o,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class _u{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new _u("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof _u&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qd={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Zo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?f0(t)?4:H3(t)?9007199254740991:10:Ae()}function Ei(t,e){if(t===e)return!0;const n=Zo(t);if(n!==Zo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return wu(t).isEqual(wu(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=io(i.timestampValue),a=io(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Jo(i.bytesValue).isEqual(Jo(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Lt(i.geoPointValue.latitude)===Lt(s.geoPointValue.latitude)&&Lt(i.geoPointValue.longitude)===Lt(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Lt(i.integerValue)===Lt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Lt(i.doubleValue),a=Lt(s.doubleValue);return o===a?hf(o)===hf(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return fl(t.arrayValue.values||[],e.arrayValue.values||[],Ei);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(Tb(o)!==Tb(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Ei(o[l],a[l])))return!1;return!0}(t,e);default:return Ae()}}function xu(t,e){return(t.values||[]).find(n=>Ei(n,e))!==void 0}function pl(t,e){if(t===e)return 0;const n=Zo(t),r=Zo(e);if(n!==r)return Ze(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ze(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Lt(s.integerValue||s.doubleValue),l=Lt(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return Ib(t.timestampValue,e.timestampValue);case 4:return Ib(wu(t),wu(e));case 5:return Ze(t.stringValue,e.stringValue);case 6:return function(s,o){const a=Jo(s),l=Jo(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const d=Ze(a[c],l[c]);if(d!==0)return d}return Ze(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=Ze(Lt(s.latitude),Lt(o.latitude));return a!==0?a:Ze(Lt(s.longitude),Lt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const a=s.values||[],l=o.values||[];for(let c=0;c<a.length&&c<l.length;++c){const d=pl(a[c],l[c]);if(d)return d}return Ze(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===qd.mapValue&&o===qd.mapValue)return 0;if(s===qd.mapValue)return 1;if(o===qd.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),c=o.fields||{},d=Object.keys(c);l.sort(),d.sort();for(let f=0;f<l.length&&f<d.length;++f){const m=Ze(l[f],d[f]);if(m!==0)return m;const v=pl(a[l[f]],c[d[f]]);if(v!==0)return v}return Ze(l.length,d.length)}(t.mapValue,e.mapValue);default:throw Ae()}}function Ib(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ze(t,e);const n=io(t),r=io(e),i=Ze(n.seconds,r.seconds);return i!==0?i:Ze(n.nanos,r.nanos)}function ml(t){return rv(t)}function rv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=io(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Jo(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return xe.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=rv(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${rv(n.fields[o])}`;return i+"}"}(t.mapValue):Ae()}function Cb(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function iv(t){return!!t&&"integerValue"in t}function m0(t){return!!t&&"arrayValue"in t}function Ab(t){return!!t&&"nullValue"in t}function kb(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ph(t){return!!t&&"mapValue"in t}function Nc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ua(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Nc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Nc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function H3(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(e){this.value=e}static empty(){return new Hn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!ph(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Nc(n)}setAll(e){let n=dn.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Nc(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());ph(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ei(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];ph(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ua(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Hn(Nc(this.value))}}function NC(t){const e=[];return ua(t.fields,(n,r)=>{const i=new dn([n]);if(ph(r)){const s=NC(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new or(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new bn(e,0,De.min(),De.min(),De.min(),Hn.empty(),0)}static newFoundDocument(e,n,r,i){return new bn(e,1,n,De.min(),r,i,0)}static newNoDocument(e,n){return new bn(e,2,n,De.min(),De.min(),Hn.empty(),0)}static newUnknownDocument(e,n){return new bn(e,3,n,De.min(),De.min(),Hn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(De.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Hn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Hn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=De.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof bn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new bn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff{constructor(e,n){this.position=e,this.inclusive=n}}function Pb(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=xe.comparator(xe.fromName(o.referenceValue),n.key):r=pl(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function Rb(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ei(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pf{constructor(e,n="asc"){this.field=e,this.dir=n}}function W3(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let OC=class{};class Vt extends OC{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new K3(e,n,r):n==="array-contains"?new Y3(e,r):n==="in"?new X3(e,r):n==="not-in"?new J3(e,r):n==="array-contains-any"?new Z3(e,r):new Vt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new G3(e,r):new Q3(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(pl(n,this.value)):n!==null&&Zo(this.value)===Zo(n)&&this.matchesComparison(pl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ae()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ri extends OC{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new ri(e,n)}matches(e){return DC(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function DC(t){return t.op==="and"}function jC(t){return q3(t)&&DC(t)}function q3(t){for(const e of t.filters)if(e instanceof ri)return!1;return!0}function sv(t){if(t instanceof Vt)return t.field.canonicalString()+t.op.toString()+ml(t.value);if(jC(t))return t.filters.map(e=>sv(e)).join(",");{const e=t.filters.map(n=>sv(n)).join(",");return`${t.op}(${e})`}}function LC(t,e){return t instanceof Vt?function(r,i){return i instanceof Vt&&r.op===i.op&&r.field.isEqual(i.field)&&Ei(r.value,i.value)}(t,e):t instanceof ri?function(r,i){return i instanceof ri&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&LC(o,i.filters[a]),!0):!1}(t,e):void Ae()}function MC(t){return t instanceof Vt?function(n){return`${n.field.canonicalString()} ${n.op} ${ml(n.value)}`}(t):t instanceof ri?function(n){return n.op.toString()+" {"+n.getFilters().map(MC).join(" ,")+"}"}(t):"Filter"}class K3 extends Vt{constructor(e,n,r){super(e,n,r),this.key=xe.fromName(r.referenceValue)}matches(e){const n=xe.comparator(e.key,this.key);return this.matchesComparison(n)}}class G3 extends Vt{constructor(e,n){super(e,"in",n),this.keys=VC("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Q3 extends Vt{constructor(e,n){super(e,"not-in",n),this.keys=VC("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function VC(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>xe.fromName(r.referenceValue))}class Y3 extends Vt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return m0(n)&&xu(n.arrayValue,this.value)}}class X3 extends Vt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&xu(this.value.arrayValue,n)}}class J3 extends Vt{constructor(e,n){super(e,"not-in",n)}matches(e){if(xu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!xu(this.value.arrayValue,n)}}class Z3 extends Vt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!m0(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>xu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eM{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ce=null}}function Nb(t,e=null,n=[],r=[],i=null,s=null,o=null){return new eM(t,e,n,r,i,s,o)}function g0(t){const e=Le(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>sv(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Ip(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ml(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ml(r)).join(",")),e.ce=n}return e.ce}function y0(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!W3(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!LC(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Rb(t.startAt,e.startAt)&&Rb(t.endAt,e.endAt)}function ov(t){return xe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function tM(t,e,n,r,i,s,o,a){return new kl(t,e,n,r,i,s,o,a)}function Cp(t){return new kl(t)}function Ob(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function FC(t){return t.collectionGroup!==null}function Oc(t){const e=Le(t);if(e.le===null){e.le=[];const n=new Set;for(const s of e.explicitOrderBy)e.le.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new pn(dn.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.le.push(new pf(s,r))}),n.has(dn.keyField().canonicalString())||e.le.push(new pf(dn.keyField(),r))}return e.le}function wi(t){const e=Le(t);return e.he||(e.he=nM(e,Oc(t))),e.he}function nM(t,e){if(t.limitType==="F")return Nb(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new pf(i.field,s)});const n=t.endAt?new ff(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new ff(t.startAt.position,t.startAt.inclusive):null;return Nb(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function av(t,e){const n=t.filters.concat([e]);return new kl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function lv(t,e,n){return new kl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ap(t,e){return y0(wi(t),wi(e))&&t.limitType===e.limitType}function UC(t){return`${g0(wi(t))}|lt:${t.limitType}`}function ka(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>MC(i)).join(", ")}]`),Ip(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>ml(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>ml(i)).join(",")),`Target(${r})`}(wi(t))}; limitType=${t.limitType})`}function kp(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):xe.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Oc(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const c=Pb(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,Oc(r),i)||r.endAt&&!function(o,a,l){const c=Pb(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,Oc(r),i))}(t,e)}function rM(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function BC(t){return(e,n)=>{let r=!1;for(const i of Oc(t)){const s=iM(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function iM(t,e,n){const r=t.field.isKeyField()?xe.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),c=a.data.field(s);return l!==null&&c!==null?pl(l,c):Ae()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ae()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ua(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return PC(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sM=new Et(xe.comparator);function es(){return sM}const $C=new Et(xe.comparator);function wc(...t){let e=$C;for(const n of t)e=e.insert(n.key,n);return e}function zC(t){let e=$C;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Oo(){return Dc()}function HC(){return Dc()}function Dc(){return new Pl(t=>t.toString(),(t,e)=>t.isEqual(e))}const oM=new Et(xe.comparator),aM=new pn(xe.comparator);function He(...t){let e=aM;for(const n of t)e=e.add(n);return e}const lM=new pn(Ze);function cM(){return lM}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WC(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:hf(e)?"-0":e}}function qC(t){return{integerValue:""+t}}function uM(t,e){return B3(e)?qC(e):WC(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pp{constructor(){this._=void 0}}function dM(t,e,n){return t instanceof mf?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&f0(s)&&(s=p0(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof gl?GC(t,e):t instanceof bu?QC(t,e):function(i,s){const o=KC(i,s),a=Db(o)+Db(i.Ie);return iv(o)&&iv(i.Ie)?qC(a):WC(i.serializer,a)}(t,e)}function hM(t,e,n){return t instanceof gl?GC(t,e):t instanceof bu?QC(t,e):n}function KC(t,e){return t instanceof gf?function(r){return iv(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class mf extends Pp{}class gl extends Pp{constructor(e){super(),this.elements=e}}function GC(t,e){const n=YC(e);for(const r of t.elements)n.some(i=>Ei(i,r))||n.push(r);return{arrayValue:{values:n}}}class bu extends Pp{constructor(e){super(),this.elements=e}}function QC(t,e){let n=YC(e);for(const r of t.elements)n=n.filter(i=>!Ei(i,r));return{arrayValue:{values:n}}}class gf extends Pp{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function Db(t){return Lt(t.integerValue||t.doubleValue)}function YC(t){return m0(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fM{constructor(e,n){this.field=e,this.transform=n}}function pM(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof gl&&i instanceof gl||r instanceof bu&&i instanceof bu?fl(r.elements,i.elements,Ei):r instanceof gf&&i instanceof gf?Ei(r.Ie,i.Ie):r instanceof mf&&i instanceof mf}(t.transform,e.transform)}class mM{constructor(e,n){this.version=e,this.transformResults=n}}class Zr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Zr}static exists(e){return new Zr(void 0,e)}static updateTime(e){return new Zr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function mh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Rp{}function XC(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new v0(t.key,Zr.none()):new Qu(t.key,t.data,Zr.none());{const n=t.data,r=Hn.empty();let i=new pn(dn.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new po(t.key,r,new or(i.toArray()),Zr.none())}}function gM(t,e,n){t instanceof Qu?function(i,s,o){const a=i.value.clone(),l=Lb(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof po?function(i,s,o){if(!mh(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=Lb(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(JC(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function jc(t,e,n,r){return t instanceof Qu?function(s,o,a,l){if(!mh(s.precondition,o))return a;const c=s.value.clone(),d=Mb(s.fieldTransforms,l,o);return c.setAll(d),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof po?function(s,o,a,l){if(!mh(s.precondition,o))return a;const c=Mb(s.fieldTransforms,l,o),d=o.data;return d.setAll(JC(s)),d.setAll(c),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(s,o,a){return mh(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function yM(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=KC(r.transform,i||null);s!=null&&(n===null&&(n=Hn.empty()),n.set(r.field,s))}return n||null}function jb(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&fl(r,i,(s,o)=>pM(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Qu extends Rp{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class po extends Rp{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function JC(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Lb(t,e,n){const r=new Map;at(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,hM(o,a,n[i]))}return r}function Mb(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,dM(s,o,e))}return r}class v0 extends Rp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class vM extends Rp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wM{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&gM(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=jc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=jc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=HC();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=XC(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(De.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),He())}isEqual(e){return this.batchId===e.batchId&&fl(this.mutations,e.mutations,(n,r)=>jb(n,r))&&fl(this.baseMutations,e.baseMutations,(n,r)=>jb(n,r))}}class w0{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){at(e.mutations.length===r.length);let i=function(){return oM}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new w0(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _M{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xM{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jt,Ke;function bM(t){switch(t){default:return Ae();case q.CANCELLED:case q.UNKNOWN:case q.DEADLINE_EXCEEDED:case q.RESOURCE_EXHAUSTED:case q.INTERNAL:case q.UNAVAILABLE:case q.UNAUTHENTICATED:return!1;case q.INVALID_ARGUMENT:case q.NOT_FOUND:case q.ALREADY_EXISTS:case q.PERMISSION_DENIED:case q.FAILED_PRECONDITION:case q.ABORTED:case q.OUT_OF_RANGE:case q.UNIMPLEMENTED:case q.DATA_LOSS:return!0}}function ZC(t){if(t===void 0)return Zi("GRPC error has no .code"),q.UNKNOWN;switch(t){case jt.OK:return q.OK;case jt.CANCELLED:return q.CANCELLED;case jt.UNKNOWN:return q.UNKNOWN;case jt.DEADLINE_EXCEEDED:return q.DEADLINE_EXCEEDED;case jt.RESOURCE_EXHAUSTED:return q.RESOURCE_EXHAUSTED;case jt.INTERNAL:return q.INTERNAL;case jt.UNAVAILABLE:return q.UNAVAILABLE;case jt.UNAUTHENTICATED:return q.UNAUTHENTICATED;case jt.INVALID_ARGUMENT:return q.INVALID_ARGUMENT;case jt.NOT_FOUND:return q.NOT_FOUND;case jt.ALREADY_EXISTS:return q.ALREADY_EXISTS;case jt.PERMISSION_DENIED:return q.PERMISSION_DENIED;case jt.FAILED_PRECONDITION:return q.FAILED_PRECONDITION;case jt.ABORTED:return q.ABORTED;case jt.OUT_OF_RANGE:return q.OUT_OF_RANGE;case jt.UNIMPLEMENTED:return q.UNIMPLEMENTED;case jt.DATA_LOSS:return q.DATA_LOSS;default:return Ae()}}(Ke=jt||(jt={}))[Ke.OK=0]="OK",Ke[Ke.CANCELLED=1]="CANCELLED",Ke[Ke.UNKNOWN=2]="UNKNOWN",Ke[Ke.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ke[Ke.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ke[Ke.NOT_FOUND=5]="NOT_FOUND",Ke[Ke.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ke[Ke.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ke[Ke.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ke[Ke.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ke[Ke.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ke[Ke.ABORTED=10]="ABORTED",Ke[Ke.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ke[Ke.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ke[Ke.INTERNAL=13]="INTERNAL",Ke[Ke.UNAVAILABLE=14]="UNAVAILABLE",Ke[Ke.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EM(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TM=new Za([4294967295,4294967295],0);function Vb(t){const e=EM().encode(t),n=new I3;return n.update(e),new Uint8Array(n.digest())}function Fb(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Za([n,r],0),new Za([i,s],0)]}class _0{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new _c(`Invalid padding: ${n}`);if(r<0)throw new _c(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new _c(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new _c(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=Za.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(Za.fromNumber(r)));return i.compare(TM)===1&&(i=new Za([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=Vb(e),[r,i]=Fb(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);if(!this.Ae(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new _0(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Te===0)return;const n=Vb(e),[r,i]=Fb(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);this.Re(o)}}Re(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class _c extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Np{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Yu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Np(De.min(),i,new Et(Ze),es(),He())}}class Yu{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Yu(r,n,He(),He(),He())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}}class eA{constructor(e,n){this.targetId=e,this.fe=n}}class tA{constructor(e,n,r=An.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Ub{constructor(){this.ge=0,this.pe=$b(),this.ye=An.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=He(),n=He(),r=He();return this.pe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Ae()}}),new Yu(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=$b()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,at(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class SM{constructor(e){this.Le=e,this.ke=new Map,this.qe=es(),this.Qe=Bb(),this.Ke=new Et(Ze)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:Ae()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){const n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){const s=i.target;if(ov(s))if(r===0){const o=new xe(s.path);this.We(n,o,bn.newNoDocument(o,De.min()))}else at(r===1);else{const o=this.Ze(n);if(o!==r){const a=this.Xe(e),l=a?this.et(a,e,o):1;if(l!==0){this.He(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,c)}}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Jo(r).toUint8Array()}catch(l){if(l instanceof RC)return hl("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new _0(o,i,s)}catch(l){return hl(l instanceof _c?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Te===0?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.We(n,s,null),i++)}),i}it(e){const n=new Map;this.ke.forEach((s,o)=>{const a=this.Ye(o);if(a){if(s.current&&ov(a.target)){const l=new xe(a.target.path);this.qe.get(l)!==null||this.st(o,l)||this.We(o,l,bn.newNoDocument(l,e))}s.De&&(n.set(o,s.ve()),s.Fe())}});let r=He();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Ye(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(e));const i=new Np(e,n,this.Ke,this.qe,r);return this.qe=es(),this.Qe=Bb(),this.Ke=new Et(Ze),i}Ue(e,n){if(!this.je(e))return;const r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new Ub,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new pn(Ze),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||ve("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new Ub),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function Bb(){return new Et(xe.comparator)}function $b(){return new Et(xe.comparator)}const IM=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),CM=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),AM=(()=>({and:"AND",or:"OR"}))();class kM{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function cv(t,e){return t.useProto3Json||Ip(e)?e:{value:e}}function yf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function nA(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function PM(t,e){return yf(t,e.toTimestamp())}function _i(t){return at(!!t),De.fromTimestamp(function(n){const r=io(n);return new zt(r.seconds,r.nanos)}(t))}function x0(t,e){return function(r){return new st(["projects",r.projectId,"databases",r.database])}(t).child("documents").child(e).canonicalString()}function rA(t){const e=st.fromString(t);return at(aA(e)),e}function uv(t,e){return x0(t.databaseId,e.path)}function dg(t,e){const n=rA(e);if(n.get(1)!==t.databaseId.projectId)throw new me(q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new me(q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new xe(iA(n))}function dv(t,e){return x0(t.databaseId,e)}function RM(t){const e=rA(t);return e.length===4?st.emptyPath():iA(e)}function hv(t){return new st(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function iA(t){return at(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function zb(t,e,n){return{name:uv(t,e),fields:n.value.mapValue.fields}}function NM(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Ae()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,d){return c.useProto3Json?(at(d===void 0||typeof d=="string"),An.fromBase64String(d||"")):(at(d===void 0||d instanceof Uint8Array),An.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const d=c.code===void 0?q.UNKNOWN:ZC(c.code);return new me(d,c.message||"")}(o);n=new tA(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=dg(t,r.document.name),s=_i(r.document.updateTime),o=r.document.createTime?_i(r.document.createTime):De.min(),a=new Hn({mapValue:{fields:r.document.fields}}),l=bn.newFoundDocument(i,s,o,a),c=r.targetIds||[],d=r.removedTargetIds||[];n=new gh(c,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=dg(t,r.document),s=r.readTime?_i(r.readTime):De.min(),o=bn.newNoDocument(i,s),a=r.removedTargetIds||[];n=new gh([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=dg(t,r.document),s=r.removedTargetIds||[];n=new gh([],s,i,null)}else{if(!("filter"in e))return Ae();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new xM(i,s),a=r.targetId;n=new eA(a,o)}}return n}function OM(t,e){let n;if(e instanceof Qu)n={update:zb(t,e.key,e.value)};else if(e instanceof v0)n={delete:uv(t,e.key)};else if(e instanceof po)n={update:zb(t,e.key,e.data),updateMask:$M(e.fieldMask)};else{if(!(e instanceof vM))return Ae();n={verify:uv(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof mf)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof gl)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof bu)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof gf)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw Ae()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:PM(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Ae()}(t,e.precondition)),n}function DM(t,e){return t&&t.length>0?(at(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?_i(i.updateTime):_i(s);return o.isEqual(De.min())&&(o=_i(s)),new mM(o,i.transformResults||[])}(n,e))):[]}function jM(t,e){return{documents:[dv(t,e.path)]}}function LM(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=dv(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=dv(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length!==0)return oA(ri.create(l,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(l){if(l.length!==0)return l.map(c=>function(f){return{field:Pa(f.field),direction:FM(f.dir)}}(c))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=cv(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function MM(t){let e=RM(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){at(r===1);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(f){const m=sA(f);return m instanceof ri&&jC(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(m=>function(w){return new pf(Ra(w.field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(f){let m;return m=typeof f=="object"?f.value:f,Ip(m)?null:m}(n.limit));let l=null;n.startAt&&(l=function(f){const m=!!f.before,v=f.values||[];return new ff(v,m)}(n.startAt));let c=null;return n.endAt&&(c=function(f){const m=!f.before,v=f.values||[];return new ff(v,m)}(n.endAt)),tM(e,i,o,s,a,"F",l,c)}function VM(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ae()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function sA(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ra(n.unaryFilter.field);return Vt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Ra(n.unaryFilter.field);return Vt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Ra(n.unaryFilter.field);return Vt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Ra(n.unaryFilter.field);return Vt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Ae()}}(t):t.fieldFilter!==void 0?function(n){return Vt.create(Ra(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ae()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return ri.create(n.compositeFilter.filters.map(r=>sA(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ae()}}(n.compositeFilter.op))}(t):Ae()}function FM(t){return IM[t]}function UM(t){return CM[t]}function BM(t){return AM[t]}function Pa(t){return{fieldPath:t.canonicalString()}}function Ra(t){return dn.fromServerFormat(t.fieldPath)}function oA(t){return t instanceof Vt?function(n){if(n.op==="=="){if(kb(n.value))return{unaryFilter:{field:Pa(n.field),op:"IS_NAN"}};if(Ab(n.value))return{unaryFilter:{field:Pa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(kb(n.value))return{unaryFilter:{field:Pa(n.field),op:"IS_NOT_NAN"}};if(Ab(n.value))return{unaryFilter:{field:Pa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Pa(n.field),op:UM(n.op),value:n.value}}}(t):t instanceof ri?function(n){const r=n.getFilters().map(i=>oA(i));return r.length===1?r[0]:{compositeFilter:{op:BM(n.op),filters:r}}}(t):Ae()}function $M(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function aA(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(e,n,r,i,s=De.min(),o=De.min(),a=An.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Os(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Os(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Os(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Os(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zM{constructor(e){this.ut=e}}function HM(t){const e=MM({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?lv(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WM{constructor(){this.on=new qM}addToCollectionParentIndex(e,n){return this.on.add(n),G.resolve()}getCollectionParents(e,n){return G.resolve(this.on.getEntries(n))}addFieldIndex(e,n){return G.resolve()}deleteFieldIndex(e,n){return G.resolve()}deleteAllFieldIndexes(e){return G.resolve()}createTargetIndexes(e,n){return G.resolve()}getDocumentsMatchingTarget(e,n){return G.resolve(null)}getIndexType(e,n){return G.resolve(0)}getFieldIndexes(e,n){return G.resolve([])}getNextCollectionGroupToUpdate(e){return G.resolve(null)}getMinOffset(e,n){return G.resolve(ro.min())}getMinOffsetFromCollectionGroup(e,n){return G.resolve(ro.min())}updateCollectionGroup(e,n,r){return G.resolve()}updateIndexEntries(e,n){return G.resolve()}}class qM{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new pn(st.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new pn(st.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new yl(0)}static Nn(){return new yl(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KM{constructor(){this.changes=new Pl(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,bn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?G.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GM{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QM{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&jc(r.mutation,i,or.empty(),zt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,He()).next(()=>r))}getLocalViewOfDocuments(e,n,r=He()){const i=Oo();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=wc();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Oo();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,He()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=es();const o=Dc(),a=function(){return Dc()}();return n.forEach((l,c)=>{const d=r.get(c.key);i.has(c.key)&&(d===void 0||d.mutation instanceof po)?s=s.insert(c.key,c):d!==void 0?(o.set(c.key,d.mutation.getFieldMask()),jc(d.mutation,c,d.mutation.getFieldMask(),zt.now())):o.set(c.key,or.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,d)=>o.set(c,d)),n.forEach((c,d)=>{var f;return a.set(c,new GM(d,(f=o.get(c))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Dc();let i=new Et((o,a)=>o-a),s=He();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let d=r.get(l)||or.empty();d=a.applyToLocalView(c,d),r.set(l,d);const f=(i.get(a.batchId)||He()).add(l);i=i.insert(a.batchId,f)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,d=l.value,f=HC();d.forEach(m=>{if(!s.has(m)){const v=XC(n.get(m),r.get(m));v!==null&&f.set(m,v),s=s.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,f))}return G.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return xe.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):FC(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):G.resolve(Oo());let a=-1,l=s;return o.next(c=>G.forEach(c,(d,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),s.get(d)?G.resolve():this.remoteDocumentCache.getEntry(e,d).next(m=>{l=l.insert(d,m)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,He())).next(d=>({batchId:a,changes:zC(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new xe(n)).next(r=>{let i=wc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=wc();return this.indexManager.getCollectionParents(e,s).next(a=>G.forEach(a,l=>{const c=function(f,m){return new kl(m,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(d=>{d.forEach((f,m)=>{o=o.insert(f,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,c)=>{const d=c.getKey();o.get(d)===null&&(o=o.insert(d,bn.newInvalidDocument(d)))});let a=wc();return o.forEach((l,c)=>{const d=s.get(l);d!==void 0&&jc(d.mutation,c,or.empty(),zt.now()),kp(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YM{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,n){return G.resolve(this.ur.get(n))}saveBundleMetadata(e,n){return this.ur.set(n.id,function(i){return{id:i.id,version:i.version,createTime:_i(i.createTime)}}(n)),G.resolve()}getNamedQuery(e,n){return G.resolve(this.cr.get(n))}saveNamedQuery(e,n){return this.cr.set(n.name,function(i){return{name:i.name,query:HM(i.bundledQuery),readTime:_i(i.readTime)}}(n)),G.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XM{constructor(){this.overlays=new Et(xe.comparator),this.lr=new Map}getOverlay(e,n){return G.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Oo();return G.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.lt(e,n,s)}),G.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.lr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.lr.delete(r)),G.resolve()}getOverlaysForCollection(e,n,r){const i=Oo(),s=n.length+1,o=new xe(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return G.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Et((c,d)=>c-d);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let d=s.get(c.largestBatchId);d===null&&(d=Oo(),s=s.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const a=Oo(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,d)=>a.set(c,d)),!(a.size()>=i)););return G.resolve(a)}lt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.lr.get(i.largestBatchId).delete(r.key);this.lr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new _M(n,r));let s=this.lr.get(n);s===void 0&&(s=He(),this.lr.set(n,s)),this.lr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b0{constructor(){this.hr=new pn(Qt.Pr),this.Ir=new pn(Qt.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,n){const r=new Qt(e,n);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.dr(new Qt(e,n))}Ar(e,n){e.forEach(r=>this.removeReference(r,n))}Rr(e){const n=new xe(new st([])),r=new Qt(n,e),i=new Qt(n,e+1),s=[];return this.Ir.forEachInRange([r,i],o=>{this.dr(o),s.push(o.key)}),s}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const n=new xe(new st([])),r=new Qt(n,e),i=new Qt(n,e+1);let s=He();return this.Ir.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Qt(e,0),r=this.hr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Qt{constructor(e,n){this.key=e,this.gr=n}static Pr(e,n){return xe.comparator(e.key,n.key)||Ze(e.gr,n.gr)}static Tr(e,n){return Ze(e.gr,n.gr)||xe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JM{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new pn(Qt.Pr)}checkEmpty(e){return G.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new wM(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.yr=this.yr.add(new Qt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return G.resolve(o)}lookupMutationBatch(e,n){return G.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Sr(r),s=i<0?0:i;return G.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return G.resolve(this.mutationQueue.length===0?-1:this.pr-1)}getAllMutationBatches(e){return G.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Qt(n,0),i=new Qt(n,Number.POSITIVE_INFINITY),s=[];return this.yr.forEachInRange([r,i],o=>{const a=this.wr(o.gr);s.push(a)}),G.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new pn(Ze);return n.forEach(i=>{const s=new Qt(i,0),o=new Qt(i,Number.POSITIVE_INFINITY);this.yr.forEachInRange([s,o],a=>{r=r.add(a.gr)})}),G.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;xe.isDocumentKey(s)||(s=s.child(""));const o=new Qt(new xe(s),0);let a=new pn(Ze);return this.yr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.gr)),!0)},o),G.resolve(this.br(a))}br(e){const n=[];return e.forEach(r=>{const i=this.wr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){at(this.Dr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.yr;return G.forEach(n.mutations,i=>{const s=new Qt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.yr=r})}Fn(e){}containsKey(e,n){const r=new Qt(n,0),i=this.yr.firstAfterOrEqual(r);return G.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,G.resolve()}Dr(e,n){return this.Sr(e)}Sr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}wr(e){const n=this.Sr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZM{constructor(e){this.Cr=e,this.docs=function(){return new Et(xe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Cr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return G.resolve(r?r.document.mutableCopy():bn.newInvalidDocument(n))}getEntries(e,n){let r=es();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():bn.newInvalidDocument(i))}),G.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=es();const o=n.path,a=new xe(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:d}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||V3(M3(d),r)<=0||(i.has(d.key)||kp(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return G.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Ae()}vr(e,n){return G.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new eV(this)}getSize(e){return G.resolve(this.size)}}class eV extends KM{constructor(e){super(),this._r=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this._r.addEntry(e,i)):this._r.removeEntry(r)}),G.waitFor(n)}getFromCache(e,n){return this._r.getEntry(e,n)}getAllFromCache(e,n){return this._r.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tV{constructor(e){this.persistence=e,this.Fr=new Pl(n=>g0(n),y0),this.lastRemoteSnapshotVersion=De.min(),this.highestTargetId=0,this.Mr=0,this.Or=new b0,this.targetCount=0,this.Nr=yl.On()}forEachTarget(e,n){return this.Fr.forEach((r,i)=>n(i)),G.resolve()}getLastRemoteSnapshotVersion(e){return G.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return G.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),G.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Mr&&(this.Mr=n),G.resolve()}kn(e){this.Fr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Nr=new yl(n),this.highestTargetId=n),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,n){return this.kn(n),this.targetCount+=1,G.resolve()}updateTargetData(e,n){return this.kn(n),G.resolve()}removeTargetData(e,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,G.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Fr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Fr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),G.waitFor(s).next(()=>i)}getTargetCount(e){return G.resolve(this.targetCount)}getTargetData(e,n){const r=this.Fr.get(n)||null;return G.resolve(r)}addMatchingKeys(e,n,r){return this.Or.Er(n,r),G.resolve()}removeMatchingKeys(e,n,r){this.Or.Ar(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),G.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Or.Rr(n),G.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Or.mr(n);return G.resolve(r)}containsKey(e,n){return G.resolve(this.Or.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nV{constructor(e,n){this.Br={},this.overlays={},this.Lr=new h0(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new tV(this),this.indexManager=new WM,this.remoteDocumentCache=function(i){return new ZM(i)}(r=>this.referenceDelegate.Qr(r)),this.serializer=new zM(n),this.Kr=new YM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new XM,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new JM(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,n,r){ve("MemoryPersistence","Starting transaction:",e);const i=new rV(this.Lr.next());return this.referenceDelegate.$r(),r(i).next(s=>this.referenceDelegate.Ur(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Wr(e,n){return G.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class rV extends U3{constructor(e){super(),this.currentSequenceNumber=e}}class E0{constructor(e){this.persistence=e,this.Gr=new b0,this.zr=null}static jr(e){return new E0(e)}get Hr(){if(this.zr)return this.zr;throw Ae()}addReference(e,n,r){return this.Gr.addReference(r,n),this.Hr.delete(r.toString()),G.resolve()}removeReference(e,n,r){return this.Gr.removeReference(r,n),this.Hr.add(r.toString()),G.resolve()}markPotentiallyOrphaned(e,n){return this.Hr.add(n.toString()),G.resolve()}removeTarget(e,n){this.Gr.Rr(n.targetId).forEach(i=>this.Hr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Hr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}$r(){this.zr=new Set}Ur(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return G.forEach(this.Hr,r=>{const i=xe.fromPath(r);return this.Jr(e,i).next(s=>{s||n.removeEntry(i,De.min())})}).next(()=>(this.zr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Jr(e,n).next(r=>{r?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(e){return 0}Jr(e,n){return G.or([()=>G.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Wr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T0{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ki=r,this.qi=i}static Qi(e,n){let r=He(),i=He();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new T0(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sV{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,n){this.Gi=e,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.zi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ji(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new iV;return this.Hi(e,n,o).next(a=>{if(s.result=a,this.$i)return this.Ji(e,n,o,a.size)})}).next(()=>s.result)}Ji(e,n,r,i){return r.documentReadCount<this.Ui?(oc()<=qe.DEBUG&&ve("QueryEngine","SDK will not create cache indexes for query:",ka(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),G.resolve()):(oc()<=qe.DEBUG&&ve("QueryEngine","Query:",ka(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Wi*i?(oc()<=qe.DEBUG&&ve("QueryEngine","The SDK decides to create cache indexes for query:",ka(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,wi(n))):G.resolve())}zi(e,n){if(Ob(n))return G.resolve(null);let r=wi(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=lv(n,null,"F"),r=wi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=He(...s);return this.Gi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.Yi(n,a);return this.Zi(n,c,o,l.readTime)?this.zi(e,lv(n,null,"F")):this.Xi(e,c,n,l)}))})))}ji(e,n,r,i){return Ob(n)||i.isEqual(De.min())?G.resolve(null):this.Gi.getDocuments(e,r).next(s=>{const o=this.Yi(n,s);return this.Zi(n,o,r,i)?G.resolve(null):(oc()<=qe.DEBUG&&ve("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ka(n)),this.Xi(e,o,n,L3(i,-1)).next(a=>a))})}Yi(e,n){let r=new pn(BC(e));return n.forEach((i,s)=>{kp(e,s)&&(r=r.add(s))}),r}Zi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Hi(e,n,r){return oc()<=qe.DEBUG&&ve("QueryEngine","Using full collection scan to execute query:",ka(n)),this.Gi.getDocumentsMatchingQuery(e,n,ro.min(),r)}Xi(e,n,r,i){return this.Gi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oV{constructor(e,n,r,i){this.persistence=e,this.es=n,this.serializer=i,this.ts=new Et(Ze),this.ns=new Pl(s=>g0(s),y0),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(r)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new QM(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ts))}}function aV(t,e,n,r){return new oV(t,e,n,r)}async function lA(t,e){const n=Le(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.os(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=He();for(const c of i){o.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}for(const c of s){a.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(c=>({_s:c,removedBatchIds:o,addedBatchIds:a}))})})}function lV(t,e){const n=Le(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.ss.newChangeBuffer({trackRemovals:!0});return function(a,l,c,d){const f=c.batch,m=f.keys();let v=G.resolve();return m.forEach(w=>{v=v.next(()=>d.getEntry(l,w)).next(b=>{const E=c.docVersions.get(w);at(E!==null),b.version.compareTo(E)<0&&(f.applyToRemoteDocument(b,c),b.isValidDocument()&&(b.setReadTime(c.commitVersion),d.addEntry(b)))})}),v.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=He();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function cA(t){const e=Le(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.qr.getLastRemoteSnapshotVersion(n))}function cV(t,e){const n=Le(t),r=e.snapshotVersion;let i=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.ss.newChangeBuffer({trackRemovals:!0});i=n.ts;const a=[];e.targetChanges.forEach((d,f)=>{const m=i.get(f);if(!m)return;a.push(n.qr.removeMatchingKeys(s,d.removedDocuments,f).next(()=>n.qr.addMatchingKeys(s,d.addedDocuments,f)));let v=m.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(f)!==null?v=v.withResumeToken(An.EMPTY_BYTE_STRING,De.min()).withLastLimboFreeSnapshotVersion(De.min()):d.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(d.resumeToken,r)),i=i.insert(f,v),function(b,E,x){return b.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=3e8?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(m,v,d)&&a.push(n.qr.updateTargetData(s,v))});let l=es(),c=He();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push(uV(s,o,e.documentUpdates).next(d=>{l=d.us,c=d.cs})),!r.isEqual(De.min())){const d=n.qr.getLastRemoteSnapshotVersion(s).next(f=>n.qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(d)}return G.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(n.ts=i,s))}function uV(t,e,n){let r=He(),i=He();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=es();return n.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(De.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):ve("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{us:o,cs:i}})}function dV(t,e){const n=Le(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function hV(t,e){const n=Le(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.qr.getTargetData(r,e).next(s=>s?(i=s,G.resolve(i)):n.qr.allocateTargetId(r).next(o=>(i=new Os(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ts=n.ts.insert(r.targetId,r),n.ns.set(e,r.targetId)),r})}async function fv(t,e,n){const r=Le(t),i=r.ts.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Gu(o))throw o;ve("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ts=r.ts.remove(e),r.ns.delete(i.target)}function Hb(t,e,n){const r=Le(t);let i=De.min(),s=He();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,d){const f=Le(l),m=f.ns.get(d);return m!==void 0?G.resolve(f.ts.get(m)):f.qr.getTargetData(c,d)}(r,o,wi(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.es.getDocumentsMatchingQuery(o,e,n?i:De.min(),n?s:He())).next(a=>(fV(r,rM(e),a),{documents:a,ls:s})))}function fV(t,e,n){let r=t.rs.get(e)||De.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.rs.set(e,r)}class Wb{constructor(){this.activeTargetIds=cM()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class pV{constructor(){this.eo=new Wb,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,n,r){this.no[e]=n}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new Wb,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mV{ro(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qb{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){ve("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){ve("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kd=null;function hg(){return Kd===null?Kd=function(){return 268435456+Math.round(2147483648*Math.random())}():Kd++,"0x"+Kd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yV{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wn="WebChannelConnection";class vV extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.mo=r+"://"+n.host,this.fo=`projects/${i}/databases/${s}`,this.po=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get yo(){return!1}wo(n,r,i,s,o){const a=hg(),l=this.So(n,r);ve("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const c={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(c,s,o),this.Do(n,l,c,i).then(d=>(ve("RestConnection",`Received RPC '${n}' ${a}: `,d),d),d=>{throw hl("RestConnection",`RPC '${n}' ${a} failed with error: `,d,"url: ",l,"request:",i),d})}Co(n,r,i,s,o,a){return this.wo(n,r,i,s,o)}bo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Al}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}So(n,r){const i=gV[n];return`${this.mo}/v1/${r}:${i}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,n,r,i){const s=hg();return new Promise((o,a)=>{const l=new S3;l.setWithCredentials(!0),l.listenOnce(E3.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case ug.NO_ERROR:const d=l.getResponseJson();ve(wn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),o(d);break;case ug.TIMEOUT:ve(wn,`RPC '${e}' ${s} timed out`),a(new me(q.DEADLINE_EXCEEDED,"Request time out"));break;case ug.HTTP_ERROR:const f=l.getStatus();if(ve(wn,`RPC '${e}' ${s} failed with status:`,f,"response text:",l.getResponseText()),f>0){let m=l.getResponseJson();Array.isArray(m)&&(m=m[0]);const v=m==null?void 0:m.error;if(v&&v.status&&v.message){const w=function(E){const x=E.toLowerCase().replace(/_/g,"-");return Object.values(q).indexOf(x)>=0?x:q.UNKNOWN}(v.status);a(new me(w,v.message))}else a(new me(q.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new me(q.UNAVAILABLE,"Connection failed."));break;default:Ae()}}finally{ve(wn,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);ve(wn,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",c,r,15)})}vo(e,n,r){const i=hg(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=x3(),a=b3(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.bo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=s.join("");ve(wn,`Creating RPC '${e}' stream ${i}: ${d}`,l);const f=o.createWebChannel(d,l);let m=!1,v=!1;const w=new yV({co:E=>{v?ve(wn,`Not sending because RPC '${e}' stream ${i} is closed:`,E):(m||(ve(wn,`Opening RPC '${e}' stream ${i} transport.`),f.open(),m=!0),ve(wn,`RPC '${e}' stream ${i} sending:`,E),f.send(E))},lo:()=>f.close()}),b=(E,x,_)=>{E.listen(x,T=>{try{_(T)}catch(R){setTimeout(()=>{throw R},0)}})};return b(f,Hd.EventType.OPEN,()=>{v||ve(wn,`RPC '${e}' stream ${i} transport opened.`)}),b(f,Hd.EventType.CLOSE,()=>{v||(v=!0,ve(wn,`RPC '${e}' stream ${i} transport closed`),w.Ro())}),b(f,Hd.EventType.ERROR,E=>{v||(v=!0,hl(wn,`RPC '${e}' stream ${i} transport errored:`,E),w.Ro(new me(q.UNAVAILABLE,"The operation could not be completed")))}),b(f,Hd.EventType.MESSAGE,E=>{var x;if(!v){const _=E.data[0];at(!!_);const T=_,R=T.error||((x=T[0])===null||x===void 0?void 0:x.error);if(R){ve(wn,`RPC '${e}' stream ${i} received error:`,R);const D=R.status;let B=function(se){const re=jt[se];if(re!==void 0)return ZC(re)}(D),$=R.message;B===void 0&&(B=q.INTERNAL,$="Unknown error status: "+D+" with message "+R.message),v=!0,w.Ro(new me(B,$)),f.close()}else ve(wn,`RPC '${e}' stream ${i} received:`,_),w.Vo(_)}}),b(a,T3.STAT_EVENT,E=>{E.stat===bb.PROXY?ve(wn,`RPC '${e}' stream ${i} detected buffering proxy`):E.stat===bb.NOPROXY&&ve(wn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{w.Ao()},0),w}}function fg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Op(t){return new kM(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uA{constructor(e,n,r=1e3,i=1.5,s=6e4){this.si=e,this.timerId=n,this.Fo=r,this.Mo=i,this.xo=s,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const n=Math.floor(this.Oo+this.qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,n-r);i>0&&ve("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Oo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){this.No!==null&&(this.No.skipDelay(),this.No=null)}cancel(){this.No!==null&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA{constructor(e,n,r,i,s,o,a,l){this.si=e,this.Ko=r,this.$o=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new uA(e,n)}jo(){return this.state===1||this.state===5||this.Ho()}Ho(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Jo()}async stop(){this.jo()&&await this.close(0)}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&this.Wo===null&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}async Xo(){if(this.Ho())return this.close(0)}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}async close(e,n){this.t_(),this.n_(),this.zo.cancel(),this.Uo++,e!==4?this.zo.reset():n&&n.code===q.RESOURCE_EXHAUSTED?(Zi(n.toString()),Zi("Using maximum backoff delay to prevent overloading the backend."),this.zo.Lo()):n&&n.code===q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.r_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Io(n)}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Uo===n&&this.s_(r,i)},r=>{e(()=>{const i=new me(q.UNKNOWN,"Fetching auth token failed: "+r.message);return this.o_(i)})})}s_(e,n){const r=this.i_(this.Uo);this.stream=this.__(e,n),this.stream.ho(()=>{r(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(i=>{r(()=>this.o_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Jo(){this.state=5,this.zo.ko(async()=>{this.state=0,this.start()})}o_(e){return ve("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return n=>{this.si.enqueueAndForget(()=>this.Uo===e?n():(ve("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class wV extends dA{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}__(e,n){return this.connection.vo("Listen",e,n)}onMessage(e){this.zo.reset();const n=NM(this.serializer,e),r=function(s){if(!("targetChange"in s))return De.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?De.min():o.readTime?_i(o.readTime):De.min()}(e);return this.listener.a_(n,r)}u_(e){const n={};n.database=hv(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=ov(l)?{documents:jM(s,l)}:{query:LM(s,l)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=nA(s,o.resumeToken);const c=cv(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(De.min())>0){a.readTime=yf(s,o.snapshotVersion.toTimestamp());const c=cv(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=VM(this.serializer,e);r&&(n.labels=r),this.e_(n)}c_(e){const n={};n.database=hv(this.serializer),n.removeTarget=e,this.e_(n)}}class _V extends dA{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,n){return this.connection.vo("Write",e,n)}onMessage(e){if(at(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const n=DM(e.writeResults,e.commitTime),r=_i(e.commitTime);return this.listener.I_(r,n)}return at(!e.writeResults||e.writeResults.length===0),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=hv(this.serializer),this.e_(e)}P_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>OM(this.serializer,r))};this.e_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xV extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.d_=!1}A_(){if(this.d_)throw new me(q.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,n,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.wo(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new me(q.UNKNOWN,i.toString())})}Co(e,n,r,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(e,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new me(q.UNKNOWN,s.toString())})}terminate(){this.d_=!0}}class bV{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){this.V_===0&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){this.state==="Online"?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,e==="Online"&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(Zi(n),this.f_=!1):ve("OnlineStateTracker",n)}S_(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EV{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=s,this.F_.ro(o=>{r.enqueueAndForget(async()=>{da(this)&&(ve("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=Le(l);c.C_.add(4),await Xu(c),c.M_.set("Unknown"),c.C_.delete(4),await Dp(c)}(this))})}),this.M_=new bV(r,i)}}async function Dp(t){if(da(t))for(const e of t.v_)await e(!0)}async function Xu(t){for(const e of t.v_)await e(!1)}function hA(t,e){const n=Le(t);n.D_.has(e.targetId)||(n.D_.set(e.targetId,e),C0(n)?I0(n):Rl(n).Ho()&&S0(n,e))}function fA(t,e){const n=Le(t),r=Rl(n);n.D_.delete(e),r.Ho()&&pA(n,e),n.D_.size===0&&(r.Ho()?r.Zo():da(n)&&n.M_.set("Unknown"))}function S0(t,e){if(t.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(De.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Rl(t).u_(e)}function pA(t,e){t.x_.Oe(e),Rl(t).c_(e)}function I0(t){t.x_=new SM({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.D_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),Rl(t).start(),t.M_.g_()}function C0(t){return da(t)&&!Rl(t).jo()&&t.D_.size>0}function da(t){return Le(t).C_.size===0}function mA(t){t.x_=void 0}async function TV(t){t.D_.forEach((e,n)=>{S0(t,e)})}async function SV(t,e){mA(t),C0(t)?(t.M_.w_(e),I0(t)):t.M_.set("Unknown")}async function IV(t,e,n){if(t.M_.set("Online"),e instanceof tA&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.D_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.D_.delete(a),i.x_.removeTarget(a))}(t,e)}catch(r){ve("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await vf(t,r)}else if(e instanceof gh?t.x_.$e(e):e instanceof eA?t.x_.Je(e):t.x_.Ge(e),!n.isEqual(De.min()))try{const r=await cA(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.x_.it(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const d=s.D_.get(c);d&&s.D_.set(c,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const d=s.D_.get(l);if(!d)return;s.D_.set(l,d.withResumeToken(An.EMPTY_BYTE_STRING,d.snapshotVersion)),pA(s,l);const f=new Os(d.target,l,c,d.sequenceNumber);S0(s,f)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){ve("RemoteStore","Failed to raise snapshot:",r),await vf(t,r)}}async function vf(t,e,n){if(!Gu(e))throw e;t.C_.add(1),await Xu(t),t.M_.set("Offline"),n||(n=()=>cA(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ve("RemoteStore","Retrying IndexedDB access"),await n(),t.C_.delete(1),await Dp(t)})}function gA(t,e){return e().catch(n=>vf(t,n,e))}async function jp(t){const e=Le(t),n=so(e);let r=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;CV(e);)try{const i=await dV(e.localStore,r);if(i===null){e.b_.length===0&&n.Zo();break}r=i.batchId,AV(e,i)}catch(i){await vf(e,i)}yA(e)&&vA(e)}function CV(t){return da(t)&&t.b_.length<10}function AV(t,e){t.b_.push(e);const n=so(t);n.Ho()&&n.h_&&n.P_(e.mutations)}function yA(t){return da(t)&&!so(t).jo()&&t.b_.length>0}function vA(t){so(t).start()}async function kV(t){so(t).E_()}async function PV(t){const e=so(t);for(const n of t.b_)e.P_(n.mutations)}async function RV(t,e,n){const r=t.b_.shift(),i=w0.from(r,e,n);await gA(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await jp(t)}async function NV(t,e){e&&so(t).h_&&await async function(r,i){if(function(o){return bM(o)&&o!==q.ABORTED}(i.code)){const s=r.b_.shift();so(r).Yo(),await gA(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await jp(r)}}(t,e),yA(t)&&vA(t)}async function Kb(t,e){const n=Le(t);n.asyncQueue.verifyOperationInProgress(),ve("RemoteStore","RemoteStore received new credentials");const r=da(n);n.C_.add(3),await Xu(n),r&&n.M_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.C_.delete(3),await Dp(n)}async function OV(t,e){const n=Le(t);e?(n.C_.delete(2),await Dp(n)):e||(n.C_.add(2),await Xu(n),n.M_.set("Unknown"))}function Rl(t){return t.O_||(t.O_=function(n,r,i){const s=Le(n);return s.A_(),new wV(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{ho:TV.bind(null,t),Io:SV.bind(null,t),a_:IV.bind(null,t)}),t.v_.push(async e=>{e?(t.O_.Yo(),C0(t)?I0(t):t.M_.set("Unknown")):(await t.O_.stop(),mA(t))})),t.O_}function so(t){return t.N_||(t.N_=function(n,r,i){const s=Le(n);return s.A_(),new _V(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{ho:kV.bind(null,t),Io:NV.bind(null,t),T_:PV.bind(null,t),I_:RV.bind(null,t)}),t.v_.push(async e=>{e?(t.N_.Yo(),await jp(t)):(await t.N_.stop(),t.b_.length>0&&(ve("RemoteStore",`Stopping write stream with ${t.b_.length} pending writes`),t.b_=[]))})),t.N_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A0{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Wi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new A0(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new me(q.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function k0(t,e){if(Zi("AsyncQueue",`${e}: ${t}`),Gu(t))return new me(q.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(e){this.comparator=e?(n,r)=>e(n,r)||xe.comparator(n.key,r.key):(n,r)=>xe.comparator(n.key,r.key),this.keyedMap=wc(),this.sortedSet=new Et(this.comparator)}static emptySet(e){return new el(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof el)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new el;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gb{constructor(){this.B_=new Et(xe.comparator)}track(e){const n=e.doc.key,r=this.B_.get(n);r?e.type!==0&&r.type===3?this.B_=this.B_.insert(n,e):e.type===3&&r.type!==1?this.B_=this.B_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.B_=this.B_.remove(n):e.type===1&&r.type===2?this.B_=this.B_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):Ae():this.B_=this.B_.insert(n,e)}L_(){const e=[];return this.B_.inorderTraversal((n,r)=>{e.push(r)}),e}}class vl{constructor(e,n,r,i,s,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new vl(e,n,el.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ap(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DV{constructor(){this.k_=void 0,this.listeners=[]}}class jV{constructor(){this.queries=new Pl(e=>UC(e),Ap),this.onlineState="Unknown",this.q_=new Set}}async function P0(t,e){const n=Le(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new DV),i)try{s.k_=await n.onListen(r)}catch(o){const a=k0(o,`Initialization of query '${ka(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.Q_(n.onlineState),s.k_&&e.K_(s.k_)&&N0(n)}async function R0(t,e){const n=Le(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function LV(t,e){const n=Le(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.K_(i)&&(r=!0);o.k_=i}}r&&N0(n)}function MV(t,e,n){const r=Le(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function N0(t){t.q_.forEach(e=>{e.next()})}class O0{constructor(e,n,r){this.query=e,this.U_=n,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=r||{}}K_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new vl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.W_?this.z_(e)&&(this.U_.next(e),n=!0):this.j_(e,this.onlineState)&&(this.H_(e),n=!0),this.G_=e,n}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let n=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),n=!0),n}j_(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.J_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}z_(e){if(e.docChanges.length>0)return!0;const n=this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}H_(e){e=vl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wA{constructor(e){this.key=e}}class _A{constructor(e){this.key=e}}class VV{constructor(e,n){this.query=e,this.ia=n,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=He(),this.mutatedKeys=He(),this._a=BC(e),this.aa=new el(this._a)}get ua(){return this.ia}ca(e,n){const r=n?n.la:new Gb,i=n?n.aa:this.aa;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,f)=>{const m=i.get(d),v=kp(this.query,f)?f:null,w=!!m&&this.mutatedKeys.has(m.key),b=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let E=!1;m&&v?m.data.isEqual(v.data)?w!==b&&(r.track({type:3,doc:v}),E=!0):this.ha(m,v)||(r.track({type:2,doc:v}),E=!0,(l&&this._a(v,l)>0||c&&this._a(v,c)<0)&&(a=!0)):!m&&v?(r.track({type:0,doc:v}),E=!0):m&&!v&&(r.track({type:1,doc:m}),E=!0,(l||c)&&(a=!0)),E&&(v?(o=o.add(v),s=b?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{aa:o,la:r,Zi:a,mutatedKeys:s}}ha(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const o=e.la.L_();o.sort((d,f)=>function(v,w){const b=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ae()}};return b(v)-b(w)}(d.type,f.type)||this._a(d.doc,f.doc)),this.Pa(r),i=i!=null&&i;const a=n&&!i?this.Ia():[],l=this.oa.size===0&&this.current&&!i?1:0,c=l!==this.sa;return this.sa=l,o.length!==0||c?{snapshot:new vl(this.query,e.aa,s,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ta:a}:{Ta:a}}Q_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({aa:this.aa,la:new Gb,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(n=>this.ia=this.ia.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ia=this.ia.delete(n)),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=He(),this.aa.forEach(r=>{this.Ea(r.key)&&(this.oa=this.oa.add(r.key))});const n=[];return e.forEach(r=>{this.oa.has(r)||n.push(new _A(r))}),this.oa.forEach(r=>{e.has(r)||n.push(new wA(r))}),n}da(e){this.ia=e.ls,this.oa=He();const n=this.ca(e.documents);return this.applyChanges(n,!0)}Aa(){return vl.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,this.sa===0,this.hasCachedResults)}}class FV{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class UV{constructor(e){this.key=e,this.Ra=!1}}class BV{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Va={},this.ma=new Pl(a=>UC(a),Ap),this.fa=new Map,this.ga=new Set,this.pa=new Et(xe.comparator),this.ya=new Map,this.wa=new b0,this.Sa={},this.ba=new Map,this.Da=yl.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return this.Ca===!0}}async function $V(t,e){const n=JV(t);let r,i;const s=n.ma.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Aa();else{const o=await hV(n.localStore,wi(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await zV(n,e,r,a==="current",o.resumeToken),n.isPrimaryClient&&hA(n.remoteStore,o)}return i}async function zV(t,e,n,r,i){t.va=(f,m,v)=>async function(b,E,x,_){let T=E.view.ca(x);T.Zi&&(T=await Hb(b.localStore,E.query,!1).then(({documents:$})=>E.view.ca($,T)));const R=_&&_.targetChanges.get(E.targetId),D=_&&_.targetMismatches.get(E.targetId)!=null,B=E.view.applyChanges(T,b.isPrimaryClient,R,D);return Yb(b,E.targetId,B.Ta),B.snapshot}(t,f,m,v);const s=await Hb(t.localStore,e,!0),o=new VV(e,s.ls),a=o.ca(s.documents),l=Yu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(a,t.isPrimaryClient,l);Yb(t,n,c.Ta);const d=new FV(e,n,o);return t.ma.set(e,d),t.fa.has(n)?t.fa.get(n).push(e):t.fa.set(n,[e]),c.snapshot}async function HV(t,e){const n=Le(t),r=n.ma.get(e),i=n.fa.get(r.targetId);if(i.length>1)return n.fa.set(r.targetId,i.filter(s=>!Ap(s,e))),void n.ma.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await fv(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),fA(n.remoteStore,r.targetId),pv(n,r.targetId)}).catch(Ku)):(pv(n,r.targetId),await fv(n.localStore,r.targetId,!0))}async function WV(t,e,n){const r=ZV(t);try{const i=await function(o,a){const l=Le(o),c=zt.now(),d=a.reduce((v,w)=>v.add(w.key),He());let f,m;return l.persistence.runTransaction("Locally write mutations","readwrite",v=>{let w=es(),b=He();return l.ss.getEntries(v,d).next(E=>{w=E,w.forEach((x,_)=>{_.isValidDocument()||(b=b.add(x))})}).next(()=>l.localDocuments.getOverlayedDocuments(v,w)).next(E=>{f=E;const x=[];for(const _ of a){const T=yM(_,f.get(_.key).overlayedDocument);T!=null&&x.push(new po(_.key,T,NC(T.value.mapValue),Zr.exists(!0)))}return l.mutationQueue.addMutationBatch(v,c,x,a)}).next(E=>{m=E;const x=E.applyToLocalDocumentSet(f,b);return l.documentOverlayCache.saveOverlays(v,E.batchId,x)})}).then(()=>({batchId:m.batchId,changes:zC(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let c=o.Sa[o.currentUser.toKey()];c||(c=new Et(Ze)),c=c.insert(a,l),o.Sa[o.currentUser.toKey()]=c}(r,i.batchId,n),await Ju(r,i.changes),await jp(r.remoteStore)}catch(i){const s=k0(i,"Failed to persist write");n.reject(s)}}async function xA(t,e){const n=Le(t);try{const r=await cV(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.ya.get(s);o&&(at(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Ra=!0:i.modifiedDocuments.size>0?at(o.Ra):i.removedDocuments.size>0&&(at(o.Ra),o.Ra=!1))}),await Ju(n,r,e)}catch(r){await Ku(r)}}function Qb(t,e,n){const r=Le(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ma.forEach((s,o)=>{const a=o.view.Q_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=Le(o);l.onlineState=a;let c=!1;l.queries.forEach((d,f)=>{for(const m of f.listeners)m.Q_(a)&&(c=!0)}),c&&N0(l)}(r.eventManager,e),i.length&&r.Va.a_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function qV(t,e,n){const r=Le(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.ya.get(e),s=i&&i.key;if(s){let o=new Et(xe.comparator);o=o.insert(s,bn.newNoDocument(s,De.min()));const a=He().add(s),l=new Np(De.min(),new Map,new Et(Ze),o,a);await xA(r,l),r.pa=r.pa.remove(s),r.ya.delete(e),D0(r)}else await fv(r.localStore,e,!1).then(()=>pv(r,e,n)).catch(Ku)}async function KV(t,e){const n=Le(t),r=e.batch.batchId;try{const i=await lV(n.localStore,e);EA(n,r,null),bA(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ju(n,i)}catch(i){await Ku(i)}}async function GV(t,e,n){const r=Le(t);try{const i=await function(o,a){const l=Le(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return l.mutationQueue.lookupMutationBatch(c,a).next(f=>(at(f!==null),d=f.keys(),l.mutationQueue.removeMutationBatch(c,f))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>l.localDocuments.getDocuments(c,d))})}(r.localStore,e);EA(r,e,n),bA(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Ju(r,i)}catch(i){await Ku(i)}}function bA(t,e){(t.ba.get(e)||[]).forEach(n=>{n.resolve()}),t.ba.delete(e)}function EA(t,e,n){const r=Le(t);let i=r.Sa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Sa[r.currentUser.toKey()]=i}}function pv(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.fa.get(e))t.ma.delete(r),n&&t.Va.Fa(r,n);t.fa.delete(e),t.isPrimaryClient&&t.wa.Rr(e).forEach(r=>{t.wa.containsKey(r)||TA(t,r)})}function TA(t,e){t.ga.delete(e.path.canonicalString());const n=t.pa.get(e);n!==null&&(fA(t.remoteStore,n),t.pa=t.pa.remove(e),t.ya.delete(n),D0(t))}function Yb(t,e,n){for(const r of n)r instanceof wA?(t.wa.addReference(r.key,e),QV(t,r)):r instanceof _A?(ve("SyncEngine","Document no longer in limbo: "+r.key),t.wa.removeReference(r.key,e),t.wa.containsKey(r.key)||TA(t,r.key)):Ae()}function QV(t,e){const n=e.key,r=n.path.canonicalString();t.pa.get(n)||t.ga.has(r)||(ve("SyncEngine","New document in limbo: "+n),t.ga.add(r),D0(t))}function D0(t){for(;t.ga.size>0&&t.pa.size<t.maxConcurrentLimboResolutions;){const e=t.ga.values().next().value;t.ga.delete(e);const n=new xe(st.fromString(e)),r=t.Da.next();t.ya.set(r,new UV(n)),t.pa=t.pa.insert(n,r),hA(t.remoteStore,new Os(wi(Cp(n.path)),r,"TargetPurposeLimboResolution",h0._e))}}async function Ju(t,e,n){const r=Le(t),i=[],s=[],o=[];r.ma.isEmpty()||(r.ma.forEach((a,l)=>{o.push(r.va(l,e,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,c!=null&&c.fromCache?"not-current":"current"),c){i.push(c);const d=T0.Qi(l.targetId,c);s.push(d)}}))}),await Promise.all(o),r.Va.a_(i),await async function(l,c){const d=Le(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>G.forEach(c,m=>G.forEach(m.ki,v=>d.persistence.referenceDelegate.addReference(f,m.targetId,v)).next(()=>G.forEach(m.qi,v=>d.persistence.referenceDelegate.removeReference(f,m.targetId,v)))))}catch(f){if(!Gu(f))throw f;ve("LocalStore","Failed to update sequence numbers: "+f)}for(const f of c){const m=f.targetId;if(!f.fromCache){const v=d.ts.get(m),w=v.snapshotVersion,b=v.withLastLimboFreeSnapshotVersion(w);d.ts=d.ts.insert(m,b)}}}(r.localStore,s))}async function YV(t,e){const n=Le(t);if(!n.currentUser.isEqual(e)){ve("SyncEngine","User change. New user:",e.toKey());const r=await lA(n.localStore,e);n.currentUser=e,function(s,o){s.ba.forEach(a=>{a.forEach(l=>{l.reject(new me(q.CANCELLED,o))})}),s.ba.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ju(n,r._s)}}function XV(t,e){const n=Le(t),r=n.ya.get(e);if(r&&r.Ra)return He().add(r.key);{let i=He();const s=n.fa.get(e);if(!s)return i;for(const o of s){const a=n.ma.get(o);i=i.unionWith(a.view.ua)}return i}}function JV(t){const e=Le(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=xA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=XV.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=qV.bind(null,e),e.Va.a_=LV.bind(null,e.eventManager),e.Va.Fa=MV.bind(null,e.eventManager),e}function ZV(t){const e=Le(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=KV.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=GV.bind(null,e),e}class Xb{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Op(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return aV(this.persistence,new sV,e.initialUser,this.serializer)}createPersistence(e){return new nV(E0.jr,this.serializer)}createSharedClientState(e){return new pV}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class e6{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Qb(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=YV.bind(null,this.syncEngine),await OV(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new jV}()}createDatastore(e){const n=Op(e.databaseInfo.databaseId),r=function(s){return new vV(s)}(e.databaseInfo);return function(s,o,a,l){return new xV(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new EV(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>Qb(this.syncEngine,n,0),function(){return qb.D()?new qb:new mV}())}createSyncEngine(e,n){return function(i,s,o,a,l,c,d){const f=new BV(i,s,o,a,l,c);return d&&(f.Ca=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(n){const r=Le(n);ve("RemoteStore","RemoteStore shutting down."),r.C_.add(5),await Xu(r),r.F_.shutdown(),r.M_.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j0{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):Zi("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t6{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=_n.UNAUTHENTICATED,this.clientId=kC.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{ve("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(ve("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new me(q.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Wi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=k0(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function pg(t,e){t.asyncQueue.verifyOperationInProgress(),ve("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await lA(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Jb(t,e){t.asyncQueue.verifyOperationInProgress();const n=await r6(t);ve("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>Kb(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>Kb(e.remoteStore,s)),t._onlineComponents=e}function n6(t){return t.name==="FirebaseError"?t.code===q.FAILED_PRECONDITION||t.code===q.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function r6(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ve("FirestoreClient","Using user provided OfflineComponentProvider");try{await pg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!n6(n))throw n;hl("Error using user provided cache. Falling back to memory cache: "+n),await pg(t,new Xb)}}else ve("FirestoreClient","Using default OfflineComponentProvider"),await pg(t,new Xb);return t._offlineComponents}async function SA(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ve("FirestoreClient","Using user provided OnlineComponentProvider"),await Jb(t,t._uninitializedComponentsProvider._online)):(ve("FirestoreClient","Using default OnlineComponentProvider"),await Jb(t,new e6))),t._onlineComponents}function i6(t){return SA(t).then(e=>e.syncEngine)}async function wf(t){const e=await SA(t),n=e.eventManager;return n.onListen=$V.bind(null,e.syncEngine),n.onUnlisten=HV.bind(null,e.syncEngine),n}function s6(t,e,n={}){const r=new Wi;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const d=new j0({next:m=>{o.enqueueAndForget(()=>R0(s,f));const v=m.docs.has(a);!v&&m.fromCache?c.reject(new me(q.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&m.fromCache&&l&&l.source==="server"?c.reject(new me(q.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(m)},error:m=>c.reject(m)}),f=new O0(Cp(a.path),d,{includeMetadataChanges:!0,J_:!0});return P0(s,f)}(await wf(t),t.asyncQueue,e,n,r)),r.promise}function o6(t,e,n={}){const r=new Wi;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const d=new j0({next:m=>{o.enqueueAndForget(()=>R0(s,f)),m.fromCache&&l.source==="server"?c.reject(new me(q.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(m)},error:m=>c.reject(m)}),f=new O0(a,d,{includeMetadataChanges:!0,J_:!0});return P0(s,f)}(await wf(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IA(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zb=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L0(t,e,n){if(!n)throw new me(q.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function a6(t,e,n,r){if(e===!0&&r===!0)throw new me(q.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function eE(t){if(!xe.isDocumentKey(t))throw new me(q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function tE(t){if(xe.isDocumentKey(t))throw new me(q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Lp(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ae()}function Yn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new me(q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Lp(t);throw new me(q.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nE{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new me(q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new me(q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}a6("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=IA((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new me(q.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new me(q.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new me(q.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Zu{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new nE({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new me(q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new me(q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new nE(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new C3;switch(r.type){case"firstParty":return new R3(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new me(q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Zb.get(n);r&&(ve("ComponentProvider","Removing Datastore"),Zb.delete(n),r.terminate())}(this),Promise.resolve()}}function l6(t,e,n,r={}){var i;const s=(t=Yn(t,Zu))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&hl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=_n.MOCK_USER;else{a=gI(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new me(q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new _n(c)}t._authCredentials=new A3(new AC(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new mo(this.firestore,e,this._query)}}class Sn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ks(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Sn(this.firestore,e,this._key)}}class Ks extends mo{constructor(e,n,r){super(e,n,Cp(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Sn(this.firestore,null,new xe(e))}withConverter(e){return new Ks(this.firestore,e,this._path)}}function go(t,e,...n){if(t=lt(t),L0("collection","path",e),t instanceof Zu){const r=st.fromString(e,...n);return tE(r),new Ks(t,null,r)}{if(!(t instanceof Sn||t instanceof Ks))throw new me(q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(st.fromString(e,...n));return tE(r),new Ks(t.firestore,null,r)}}function CA(t,e){if(t=Yn(t,Zu),L0("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new me(q.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new mo(t,null,function(r){return new kl(st.emptyPath(),r)}(e))}function Zt(t,e,...n){if(t=lt(t),arguments.length===1&&(e=kC.newId()),L0("doc","path",e),t instanceof Zu){const r=st.fromString(e,...n);return eE(r),new Sn(t,null,new xe(r))}{if(!(t instanceof Sn||t instanceof Ks))throw new me(q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(st.fromString(e,...n));return eE(r),new Sn(t.firestore,t instanceof Ks?t.converter:null,new xe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c6{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new uA(this,"async_queue_retry"),this.iu=()=>{const n=fg();n&&ve("AsyncQueue","Visibility state changed to "+n.visibilityState),this.zo.Qo()};const e=fg();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const n=fg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});const n=new Wi;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}async _u(){if(this.Ya.length!==0){try{await this.Ya[0](),this.Ya.shift(),this.zo.reset()}catch(e){if(!Gu(e))throw e;ve("AsyncQueue","Operation failed with retryable error: "+e)}this.Ya.length>0&&this.zo.ko(()=>this._u())}}ou(e){const n=this.Ja.then(()=>(this.tu=!0,e().catch(r=>{this.eu=r,this.tu=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Zi("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.tu=!1,r))));return this.Ja=n,n}enqueueAfterDelay(e,n,r){this.su(),this.ru.indexOf(e)>-1&&(n=0);const i=A0.createAndSchedule(this,e,n,r,s=>this.au(s));return this.Xa.push(i),i}su(){this.eu&&Ae()}verifyOperationInProgress(){}async uu(){let e;do e=this.Ja,await e;while(e!==this.Ja)}cu(e){for(const n of this.Xa)if(n.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Xa)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){const n=this.Xa.indexOf(e);this.Xa.splice(n,1)}}function rE(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class oo extends Zu{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new c6}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||AA(this),this._firestoreClient.terminate()}}function u6(t,e){const n=typeof t=="object"?t:cp(),r=typeof t=="string"?t:e||"(default)",i=uo(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=fI("firestore");s&&l6(i,...s)}return i}function Mp(t){return t._firestoreClient||AA(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function AA(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,c,d){return new z3(a,l,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,IA(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new t6(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new wl(An.fromBase64String(e))}catch(n){throw new me(q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new wl(An.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vp{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new me(q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new dn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fp{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M0{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new me(q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new me(q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ze(this._lat,e._lat)||Ze(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d6=/^__.*__$/;class h6{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new po(e,this.data,this.fieldMask,n,this.fieldTransforms):new Qu(e,this.data,n,this.fieldTransforms)}}class kA{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new po(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function PA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ae()}}class Up{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Pu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new Up(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Tu({path:r,du:!1});return i.Au(e),i}Ru(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Tu({path:r,du:!1});return i.Pu(),i}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return _f(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(e.length===0)throw this.mu("Document fields must not be empty");if(PA(this.Iu)&&d6.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class f6{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Op(e)}pu(e,n,r,i=!1){return new Up({Iu:e,methodName:n,gu:r,path:dn.emptyPath(),du:!1,fu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function V0(t){const e=t._freezeSettings(),n=Op(t._databaseId);return new f6(t._databaseId,!!e.ignoreUndefinedProperties,n)}function p6(t,e,n,r,i,s={}){const o=t.pu(s.merge||s.mergeFields?2:0,e,n,i);F0("Data must be an object, but it was:",o,r);const a=RA(r,o);let l,c;if(s.merge)l=new or(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const d=[];for(const f of s.mergeFields){const m=mv(e,f,n);if(!o.contains(m))throw new me(q.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);OA(d,m)||d.push(m)}l=new or(d),c=o.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,c=o.fieldTransforms;return new h6(new Hn(a),l,c)}class Bp extends Fp{_toFieldTransform(e){if(e.Iu!==2)throw e.Iu===1?e.mu(`${this._methodName}() can only appear at the top level of your update data`):e.mu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Bp}}function m6(t,e,n){return new Up({Iu:3,gu:e.settings.gu,methodName:t._methodName,du:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class g6 extends Fp{constructor(e,n){super(e),this.yu=n}_toFieldTransform(e){const n=m6(this,e,!0),r=this.yu.map(s=>Nl(s,n)),i=new gl(r);return new fM(e.path,i)}isEqual(e){return this===e}}function y6(t,e,n,r){const i=t.pu(1,e,n);F0("Data must be an object, but it was:",i,r);const s=[],o=Hn.empty();ua(r,(l,c)=>{const d=U0(e,l,n);c=lt(c);const f=i.Ru(d);if(c instanceof Bp)s.push(d);else{const m=Nl(c,f);m!=null&&(s.push(d),o.set(d,m))}});const a=new or(s);return new kA(o,a,i.fieldTransforms)}function v6(t,e,n,r,i,s){const o=t.pu(1,e,n),a=[mv(e,r,n)],l=[i];if(s.length%2!=0)throw new me(q.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<s.length;m+=2)a.push(mv(e,s[m])),l.push(s[m+1]);const c=[],d=Hn.empty();for(let m=a.length-1;m>=0;--m)if(!OA(c,a[m])){const v=a[m];let w=l[m];w=lt(w);const b=o.Ru(v);if(w instanceof Bp)c.push(v);else{const E=Nl(w,b);E!=null&&(c.push(v),d.set(v,E))}}const f=new or(c);return new kA(d,f,o.fieldTransforms)}function w6(t,e,n,r=!1){return Nl(n,t.pu(r?4:3,e))}function Nl(t,e){if(NA(t=lt(t)))return F0("Unsupported field value:",e,t),RA(t,e);if(t instanceof Fp)return function(r,i){if(!PA(i.Iu))throw i.mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.mu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.du&&e.Iu!==4)throw e.mu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=Nl(a,i.Vu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=lt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return uM(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=zt.fromDate(r);return{timestampValue:yf(i.serializer,s)}}if(r instanceof zt){const s=new zt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:yf(i.serializer,s)}}if(r instanceof M0)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof wl)return{bytesValue:nA(i.serializer,r._byteString)};if(r instanceof Sn){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:x0(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.mu(`Unsupported field value: ${Lp(r)}`)}(t,e)}function RA(t,e){const n={};return PC(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ua(t,(r,i)=>{const s=Nl(i,e.Eu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function NA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof zt||t instanceof M0||t instanceof wl||t instanceof Sn||t instanceof Fp)}function F0(t,e,n){if(!NA(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Lp(n);throw r==="an object"?e.mu(t+" a custom object"):e.mu(t+" "+r)}}function mv(t,e,n){if((e=lt(e))instanceof Vp)return e._internalPath;if(typeof e=="string")return U0(t,e);throw _f("Field path arguments must be of type string or ",t,!1,void 0,n)}const _6=new RegExp("[~\\*/\\[\\]]");function U0(t,e,n){if(e.search(_6)>=0)throw _f(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Vp(...e.split("."))._internalPath}catch{throw _f(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function _f(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new me(q.INVALID_ARGUMENT,a+t+l)}function OA(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DA{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Sn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new x6(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(B0("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class x6 extends DA{data(){return super.data()}}function B0(t,e){return typeof e=="string"?U0(t,e):e instanceof Vp?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jA(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new me(q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class $0{}class b6 extends $0{}function Eu(t,e,...n){let r=[];e instanceof $0&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof z0).length,a=s.filter(l=>l instanceof $p).length;if(o>1||o>0&&a>0)throw new me(q.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class $p extends b6{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new $p(e,n,r)}_apply(e){const n=this._parse(e);return LA(e._query,n),new mo(e.firestore,e.converter,av(e._query,n))}_parse(e){const n=V0(e.firestore);return function(s,o,a,l,c,d,f){let m;if(c.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new me(q.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){sE(f,d);const v=[];for(const w of f)v.push(iE(l,s,w));m={arrayValue:{values:v}}}else m=iE(l,s,f)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||sE(f,d),m=w6(a,o,f,d==="in"||d==="not-in");return Vt.create(c,d,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function E6(t,e,n){const r=e,i=B0("where",t);return $p._create(i,r,n)}class z0 extends $0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new z0(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:ri.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)LA(o,l),o=av(o,l)}(e._query,n),new mo(e.firestore,e.converter,av(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function iE(t,e,n){if(typeof(n=lt(n))=="string"){if(n==="")throw new me(q.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!FC(e)&&n.indexOf("/")!==-1)throw new me(q.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(st.fromString(n));if(!xe.isDocumentKey(r))throw new me(q.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Cb(t,new xe(r))}if(n instanceof Sn)return Cb(t,n._key);throw new me(q.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Lp(n)}.`)}function sE(t,e){if(!Array.isArray(t)||t.length===0)throw new me(q.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function LA(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new me(q.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new me(q.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class T6{convertValue(e,n="none"){switch(Zo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Lt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Jo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Ae()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ua(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new M0(Lt(e.latitude),Lt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=p0(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(wu(e));default:return null}}convertTimestamp(e){const n=io(e);return new zt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=st.fromString(e);at(aA(r));const i=new _u(r.get(1),r.get(3)),s=new xe(r.popFirst(5));return i.isEqual(n)||Zi(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S6(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class MA extends DA{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new yh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(B0("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class yh extends MA{data(e={}){return super.data(e)}}class VA{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new xc(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new yh(this._firestore,this._userDataWriter,r.key,r,new xc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new me(q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new yh(i._firestore,i._userDataWriter,a.doc.key,a.doc,new xc(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new yh(i._firestore,i._userDataWriter,a.doc.key,a.doc,new xc(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,d=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:I6(a.type),doc:l,oldIndex:c,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function I6(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ae()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function is(t){t=Yn(t,Sn);const e=Yn(t.firestore,oo);return s6(Mp(e),t._key).then(n=>FA(e,t,n))}class H0 extends T6{constructor(e){super(),this.firestore=e}convertBytes(e){return new wl(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Sn(this.firestore,null,n)}}function Ol(t){t=Yn(t,mo);const e=Yn(t.firestore,oo),n=Mp(e),r=new H0(e);return jA(t._query),o6(n,t._query).then(i=>new VA(e,r,t,i))}function Dl(t,e,n){t=Yn(t,Sn);const r=Yn(t.firestore,oo),i=S6(t.converter,e,n);return q0(r,[p6(V0(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Zr.none())])}function Uo(t,e,n,...r){t=Yn(t,Sn);const i=Yn(t.firestore,oo),s=V0(i);let o;return o=typeof(e=lt(e))=="string"||e instanceof Vp?v6(s,"updateDoc",t._key,e,n,r):y6(s,"updateDoc",t._key,e),q0(i,[o.toMutation(t._key,Zr.exists(!0))])}function C6(t){return q0(Yn(t.firestore,oo),[new v0(t._key,Zr.none())])}function W0(t,...e){var n,r,i;t=lt(t);let s={includeMetadataChanges:!1},o=0;typeof e[o]!="object"||rE(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(rE(e[o])){const f=e[o];e[o]=(n=f.next)===null||n===void 0?void 0:n.bind(f),e[o+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),e[o+2]=(i=f.complete)===null||i===void 0?void 0:i.bind(f)}let l,c,d;if(t instanceof Sn)c=Yn(t.firestore,oo),d=Cp(t._key.path),l={next:f=>{e[o]&&e[o](FA(c,t,f))},error:e[o+1],complete:e[o+2]};else{const f=Yn(t,mo);c=Yn(f.firestore,oo),d=f._query;const m=new H0(c);l={next:v=>{e[o]&&e[o](new VA(c,m,f,v))},error:e[o+1],complete:e[o+2]},jA(t._query)}return function(m,v,w,b){const E=new j0(b),x=new O0(v,E,w);return m.asyncQueue.enqueueAndForget(async()=>P0(await wf(m),x)),()=>{E.Na(),m.asyncQueue.enqueueAndForget(async()=>R0(await wf(m),x))}}(Mp(c),d,a,l)}function q0(t,e){return function(r,i){const s=new Wi;return r.asyncQueue.enqueueAndForget(async()=>WV(await i6(r),i,s)),s.promise}(Mp(t),e)}function FA(t,e,n){const r=n.docs.get(e._key),i=new H0(t);return new MA(t,i,e._key,r,new xc(n.hasPendingWrites,n.fromCache),e.converter)}function oE(...t){return new g6("arrayUnion",t)}(function(e,n=!0){(function(i){Al=i})(la),ti(new Nr("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new oo(new k3(r.getProvider("auth-internal")),new O3(r.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new me(q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new _u(c.options.projectId,d)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Qn(Eb,"4.4.0",e),Qn(Eb,"4.4.0","esm2017")})();function K0(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function UA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const A6=UA,BA=new aa("auth","Firebase",UA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xf=new lp("@firebase/auth");function k6(t,...e){xf.logLevel<=qe.WARN&&xf.warn(`Auth (${la}): ${t}`,...e)}function vh(t,...e){xf.logLevel<=qe.ERROR&&xf.error(`Auth (${la}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Or(t,...e){throw G0(t,...e)}function xi(t,...e){return G0(t,...e)}function $A(t,e,n){const r=Object.assign(Object.assign({},A6()),{[e]:n});return new aa("auth","Firebase",r).create(e,{appName:t.name})}function P6(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Or(t,"argument-error"),$A(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function G0(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return BA.create(t,...e)}function Se(t,e,...n){if(!t)throw G0(e,...n)}function $i(t){const e="INTERNAL ASSERTION FAILED: "+t;throw vh(e),new Error(e)}function ts(t,e){t||$i(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gv(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function R6(){return aE()==="http:"||aE()==="https:"}function aE(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N6(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(R6()||yI()||"connection"in navigator)?navigator.onLine:!0}function O6(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed{constructor(e,n){this.shortDelay=e,this.longDelay=n,ts(n>e,"Short delay should be less than long delay!"),this.isMobile=tL()||nL()}get(){return N6()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q0(t,e){ts(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zA{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;$i("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;$i("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;$i("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D6={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j6=new ed(3e4,6e4);function ss(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Ti(t,e,n,r,i={}){return HA(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=Vu(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),zA.fetch()(WA(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function HA(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},D6),e);try{const i=new M6(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Gd(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Gd(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Gd(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Gd(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw $A(t,d,c);Or(t,d)}}catch(i){if(i instanceof Dr)throw i;Or(t,"network-request-failed",{message:String(i)})}}async function td(t,e,n,r,i={}){const s=await Ti(t,e,n,r,i);return"mfaPendingCredential"in s&&Or(t,"multi-factor-auth-required",{_serverResponse:s}),s}function WA(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Q0(t.config,i):`${t.config.apiScheme}://${i}`}function L6(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class M6{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(xi(this.auth,"network-request-failed")),j6.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Gd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=xi(t,e,r);return i.customData._tokenResponse=n,i}function lE(t){return t!==void 0&&t.enterprise!==void 0}class V6{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return L6(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function F6(t,e){return Ti(t,"GET","/v2/recaptchaConfig",ss(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U6(t,e){return Ti(t,"POST","/v1/accounts:delete",e)}async function B6(t,e){return Ti(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function $6(t,e=!1){const n=lt(t),r=await n.getIdToken(e),i=Y0(r);Se(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Lc(mg(i.auth_time)),issuedAtTime:Lc(mg(i.iat)),expirationTime:Lc(mg(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function mg(t){return Number(t)*1e3}function Y0(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return vh("JWT malformed, contained fewer than 3 sections"),null;try{const i=dI(n);return i?JSON.parse(i):(vh("Failed to decode base64 JWT payload"),null)}catch(i){return vh("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function z6(t){const e=Y0(t);return Se(e,"internal-error"),Se(typeof e.exp<"u","internal-error"),Se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _l(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Dr&&H6(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function H6({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W6{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qA{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Lc(this.lastLoginAt),this.creationTime=Lc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bf(t){var e;const n=t.auth,r=await t.getIdToken(),i=await _l(t,B6(n,{idToken:r}));Se(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?G6(s.providerUserInfo):[],a=K6(t.providerData,o),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),d=l?c:!1,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new qA(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,f)}async function q6(t){const e=lt(t);await bf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function K6(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function G6(t){return t.map(e=>{var{providerId:n}=e,r=K0(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q6(t,e){const n=await HA(t,{},async()=>{const r=Vu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=WA(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",zA.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Y6(t,e){return Ti(t,"POST","/v2/accounts:revokeToken",ss(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Se(e.idToken,"internal-error"),Se(typeof e.idToken<"u","internal-error"),Se(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):z6(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return Se(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await Q6(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Tu;return r&&(Se(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(Se(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(Se(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Tu,this.toJSON())}_performRefresh(){return $i("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _s(t,e){Se(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Bo{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=K0(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new W6(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new qA(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await _l(this,this.stsTokenManager.getToken(this.auth,e));return Se(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return $6(this,e)}reload(){return q6(this)}_assign(e){this!==e&&(Se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Bo(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await bf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await _l(this,U6(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,c,d;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(i=n.email)!==null&&i!==void 0?i:void 0,v=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,w=(o=n.photoURL)!==null&&o!==void 0?o:void 0,b=(a=n.tenantId)!==null&&a!==void 0?a:void 0,E=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,x=(c=n.createdAt)!==null&&c!==void 0?c:void 0,_=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:T,emailVerified:R,isAnonymous:D,providerData:B,stsTokenManager:$}=n;Se(T&&$,e,"internal-error");const H=Tu.fromJSON(this.name,$);Se(typeof T=="string",e,"internal-error"),_s(f,e.name),_s(m,e.name),Se(typeof R=="boolean",e,"internal-error"),Se(typeof D=="boolean",e,"internal-error"),_s(v,e.name),_s(w,e.name),_s(b,e.name),_s(E,e.name),_s(x,e.name),_s(_,e.name);const se=new Bo({uid:T,auth:e,email:m,emailVerified:R,displayName:f,isAnonymous:D,photoURL:w,phoneNumber:v,tenantId:b,stsTokenManager:H,createdAt:x,lastLoginAt:_});return B&&Array.isArray(B)&&(se.providerData=B.map(re=>Object.assign({},re))),E&&(se._redirectEventId=E),se}static async _fromIdTokenResponse(e,n,r=!1){const i=new Tu;i.updateFromServerResponse(n);const s=new Bo({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await bf(s),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cE=new Map;function zi(t){ts(t instanceof Function,"Expected a class definition");let e=cE.get(t);return e?(ts(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,cE.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}KA.type="NONE";const uE=KA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wh(t,e,n){return`firebase:${t}:${e}:${n}`}class tl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=wh(this.userKey,i.apiKey,s),this.fullPersistenceKey=wh("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Bo._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new tl(zi(uE),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||zi(uE);const o=wh(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const d=await c._get(o);if(d){const f=Bo._fromJSON(e,d);c!==s&&(a=f),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new tl(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new tl(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(YA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(GA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(JA(e))return"Blackberry";if(ZA(e))return"Webos";if(X0(e))return"Safari";if((e.includes("chrome/")||QA(e))&&!e.includes("edge/"))return"Chrome";if(XA(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function GA(t=Cn()){return/firefox\//i.test(t)}function X0(t=Cn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function QA(t=Cn()){return/crios\//i.test(t)}function YA(t=Cn()){return/iemobile/i.test(t)}function XA(t=Cn()){return/android/i.test(t)}function JA(t=Cn()){return/blackberry/i.test(t)}function ZA(t=Cn()){return/webos/i.test(t)}function zp(t=Cn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function X6(t=Cn()){var e;return zp(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function J6(){return rL()&&document.documentMode===10}function ek(t=Cn()){return zp(t)||XA(t)||ZA(t)||JA(t)||/windows phone/i.test(t)||YA(t)}function Z6(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tk(t,e=[]){let n;switch(t){case"Browser":n=dE(Cn());break;case"Worker":n=`${dE(Cn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${la}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eF{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tF(t,e={}){return Ti(t,"GET","/v2/passwordPolicy",ss(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nF=6;class rF{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:nF,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iF{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new hE(this),this.idTokenSubscription=new hE(this),this.beforeStateQueue=new eF(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=BA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=zi(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await tl.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await bf(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=O6()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?lt(e):null;return n&&Se(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(zi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await tF(this),n=new rF(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new aa("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Y6(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&zi(e)||this._popupRedirectResolver;Se(n,this,"argument-error"),this.redirectPersistenceManager=await tl.create(this,[zi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Se(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=tk(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&k6(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function os(t){return lt(t)}class hE{constructor(e){this.auth=e,this.observer=null,this.addObserver=cL(n=>this.observer=n)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sF(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function nk(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=xi("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",sF().appendChild(r)})}function oF(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const aF="https://www.google.com/recaptcha/enterprise.js?render=",lF="recaptcha-enterprise",cF="NO_RECAPTCHA";class uF{constructor(e){this.type=lF,this.auth=os(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{F6(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new V6(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;lE(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(cF)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&lE(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}nk(aF+a).then(()=>{i(a,s,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})}}async function fE(t,e,n,r=!1){const i=new uF(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Ef(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await fE(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await fE(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dF(t,e){const n=uo(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(lu(s,e??{}))return i;Or(i,"already-initialized")}return n.initialize({options:e})}function hF(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(zi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function fF(t,e,n){const r=os(t);Se(r._canInitEmulator,r,"emulator-config-failed"),Se(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=rk(e),{host:o,port:a}=pF(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||mF()}function rk(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function pF(t){const e=rk(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:pE(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:pE(o)}}}function pE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function mF(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return $i("not implemented")}_getIdTokenResponse(e){return $i("not implemented")}_linkToIdToken(e,n){return $i("not implemented")}_getReauthenticationResolver(e){return $i("not implemented")}}async function gF(t,e){return Ti(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yF(t,e){return td(t,"POST","/v1/accounts:signInWithPassword",ss(t,e))}async function vF(t,e){return Ti(t,"POST","/v1/accounts:sendOobCode",ss(t,e))}async function wF(t,e){return vF(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _F(t,e){return td(t,"POST","/v1/accounts:signInWithEmailLink",ss(t,e))}async function xF(t,e){return td(t,"POST","/v1/accounts:signInWithEmailLink",ss(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su extends J0{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Su(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Su(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ef(e,n,"signInWithPassword",yF);case"emailLink":return _F(e,{email:this._email,oobCode:this._password});default:Or(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ef(e,r,"signUpPassword",gF);case"emailLink":return xF(e,{idToken:n,email:this._email,oobCode:this._password});default:Or(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nl(t,e){return td(t,"POST","/v1/accounts:signInWithIdp",ss(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bF="http://localhost";class ea extends J0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ea(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Or("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=K0(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new ea(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return nl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,nl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,nl(e,n)}buildRequest(){const e={requestUri:bF,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Vu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EF(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function TF(t){const e=mc(gc(t)).link,n=e?mc(gc(e)).deep_link_id:null,r=mc(gc(t)).deep_link_id;return(r?mc(gc(r)).link:null)||r||n||e||t}class Z0{constructor(e){var n,r,i,s,o,a;const l=mc(gc(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,d=(r=l.oobCode)!==null&&r!==void 0?r:null,f=EF((i=l.mode)!==null&&i!==void 0?i:null);Se(c&&d&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=d,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=TF(e);try{return new Z0(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{constructor(){this.providerId=jl.PROVIDER_ID}static credential(e,n){return Su._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Z0.parseLink(n);return Se(r,"argument-error"),Su._fromEmailAndCode(e,r.code,r.tenantId)}}jl.PROVIDER_ID="password";jl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";jl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e_{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd extends e_{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs extends nd{constructor(){super("facebook.com")}static credential(e){return ea._fromParams({providerId:Cs.PROVIDER_ID,signInMethod:Cs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Cs.credentialFromTaggedObject(e)}static credentialFromError(e){return Cs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Cs.credential(e.oauthAccessToken)}catch{return null}}}Cs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Cs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi extends nd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ea._fromParams({providerId:Vi.PROVIDER_ID,signInMethod:Vi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Vi.credentialFromTaggedObject(e)}static credentialFromError(e){return Vi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Vi.credential(n,r)}catch{return null}}}Vi.GOOGLE_SIGN_IN_METHOD="google.com";Vi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As extends nd{constructor(){super("github.com")}static credential(e){return ea._fromParams({providerId:As.PROVIDER_ID,signInMethod:As.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return As.credentialFromTaggedObject(e)}static credentialFromError(e){return As.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return As.credential(e.oauthAccessToken)}catch{return null}}}As.GITHUB_SIGN_IN_METHOD="github.com";As.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks extends nd{constructor(){super("twitter.com")}static credential(e,n){return ea._fromParams({providerId:ks.PROVIDER_ID,signInMethod:ks.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ks.credentialFromTaggedObject(e)}static credentialFromError(e){return ks.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ks.credential(n,r)}catch{return null}}}ks.TWITTER_SIGN_IN_METHOD="twitter.com";ks.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SF(t,e){return td(t,"POST","/v1/accounts:signUp",ss(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Bo._fromIdTokenResponse(e,r,i),o=mE(r);return new ta({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=mE(r);return new ta({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function mE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf extends Dr{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Tf.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Tf(e,n,r,i)}}function ik(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Tf._fromErrorAndOperation(t,s,e,r):s})}async function IF(t,e,n=!1){const r=await _l(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ta._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CF(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await _l(t,ik(r,i,e,t),n);Se(s.idToken,r,"internal-error");const o=Y0(s.idToken);Se(o,r,"internal-error");const{sub:a}=o;return Se(t.uid===a,r,"user-mismatch"),ta._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Or(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sk(t,e,n=!1){const r="signIn",i=await ik(t,r,e),s=await ta._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function AF(t,e){return sk(os(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kF(t,e,n){var r;Se(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),Se(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Se(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(Se(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ok(t){const e=os(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function PF(t,e,n){const r=os(t),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&kF(r,i,n),await Ef(r,i,"getOobCode",wF)}async function RF(t,e,n){const r=os(t),o=await Ef(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",SF).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&ok(t),l}),a=await ta._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function NF(t,e,n){return AF(lt(t),jl.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&ok(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OF(t,e){return Ti(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DF(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=lt(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await _l(r,OF(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function jF(t,e,n,r){return lt(t).onIdTokenChanged(e,n,r)}function LF(t,e,n){return lt(t).beforeAuthStateChanged(e,n)}function MF(t,e,n,r){return lt(t).onAuthStateChanged(e,n,r)}function VF(t){return lt(t).signOut()}const Sf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ak{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Sf,"1"),this.storage.removeItem(Sf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FF(){const t=Cn();return X0(t)||zp(t)}const UF=1e3,BF=10;class lk extends ak{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=FF()&&Z6(),this.fallbackToPolling=ek(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);J6()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,BF):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},UF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}lk.type="LOCAL";const $F=lk;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ck extends ak{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}ck.type="SESSION";const uk=ck;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zF(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Hp(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,s)),l=await zF(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Hp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t_(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HF{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=t_("",20);i.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(f){const m=f;if(m.data.eventId===c)switch(m.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(m.data.response);break;default:clearTimeout(d),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bi(){return window}function WF(t){bi().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dk(){return typeof bi().WorkerGlobalScope<"u"&&typeof bi().importScripts=="function"}async function qF(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function KF(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function GF(){return dk()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hk="firebaseLocalStorageDb",QF=1,If="firebaseLocalStorage",fk="fbase_key";class rd{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Wp(t,e){return t.transaction([If],e?"readwrite":"readonly").objectStore(If)}function YF(){const t=indexedDB.deleteDatabase(hk);return new rd(t).toPromise()}function yv(){const t=indexedDB.open(hk,QF);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(If,{keyPath:fk})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(If)?e(r):(r.close(),await YF(),e(await yv()))})})}async function gE(t,e,n){const r=Wp(t,!0).put({[fk]:e,value:n});return new rd(r).toPromise()}async function XF(t,e){const n=Wp(t,!1).get(e),r=await new rd(n).toPromise();return r===void 0?null:r.value}function yE(t,e){const n=Wp(t,!0).delete(e);return new rd(n).toPromise()}const JF=800,ZF=3;class pk{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await yv(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>ZF)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return dk()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Hp._getInstance(GF()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await qF(),!this.activeServiceWorker)return;this.sender=new HF(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||KF()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await yv();return await gE(e,Sf,"1"),await yE(e,Sf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>gE(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>XF(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>yE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Wp(i,!1).getAll();return new rd(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),JF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}pk.type="LOCAL";const e9=pk;new ed(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mk(t,e){return e?zi(e):(Se(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n_ extends J0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return nl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return nl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return nl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function t9(t){return sk(t.auth,new n_(t),t.bypassAuthState)}function n9(t){const{auth:e,user:n}=t;return Se(n,e,"internal-error"),CF(n,new n_(t),t.bypassAuthState)}async function r9(t){const{auth:e,user:n}=t;return Se(n,e,"internal-error"),IF(n,new n_(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gk{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return t9;case"linkViaPopup":case"linkViaRedirect":return r9;case"reauthViaPopup":case"reauthViaRedirect":return n9;default:Or(this.auth,"internal-error")}}resolve(e){ts(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ts(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i9=new ed(2e3,1e4);async function s9(t,e,n){const r=os(t);P6(t,e,e_);const i=mk(r,n);return new Do(r,"signInViaPopup",e,i).executeNotNull()}class Do extends gk{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Do.currentPopupAction&&Do.currentPopupAction.cancel(),Do.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Se(e,this.auth,"internal-error"),e}async onExecution(){ts(this.filter.length===1,"Popup operations only handle one event");const e=t_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(xi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(xi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Do.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(xi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,i9.get())};e()}}Do.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o9="pendingRedirect",_h=new Map;class a9 extends gk{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=_h.get(this.auth._key());if(!e){try{const r=await l9(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}_h.set(this.auth._key(),e)}return this.bypassAuthState||_h.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function l9(t,e){const n=d9(e),r=u9(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function c9(t,e){_h.set(t._key(),e)}function u9(t){return zi(t._redirectPersistence)}function d9(t){return wh(o9,t.config.apiKey,t.name)}async function h9(t,e,n=!1){const r=os(t),i=mk(r,e),o=await new a9(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f9=10*60*1e3;class p9{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!m9(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!yk(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(xi(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=f9&&this.cachedEventUids.clear(),this.cachedEventUids.has(vE(e))}saveEventToCache(e){this.cachedEventUids.add(vE(e)),this.lastProcessedEventTime=Date.now()}}function vE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function yk({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function m9(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return yk(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g9(t,e={}){return Ti(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y9=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,v9=/^https?/;async function w9(t){if(t.config.emulator)return;const{authorizedDomains:e}=await g9(t);for(const n of e)try{if(_9(n))return}catch{}Or(t,"unauthorized-domain")}function _9(t){const e=gv(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!v9.test(n))return!1;if(y9.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x9=new ed(3e4,6e4);function wE(){const t=bi().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function b9(t){return new Promise((e,n)=>{var r,i,s;function o(){wE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{wE(),n(xi(t,"network-request-failed"))},timeout:x9.get()})}if(!((i=(r=bi().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=bi().gapi)===null||s===void 0)&&s.load)o();else{const a=oF("iframefcb");return bi()[a]=()=>{gapi.load?o():n(xi(t,"network-request-failed"))},nk(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw xh=null,e})}let xh=null;function E9(t){return xh=xh||b9(t),xh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T9=new ed(5e3,15e3),S9="__/auth/iframe",I9="emulator/auth/iframe",C9={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},A9=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function k9(t){const e=t.config;Se(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Q0(e,I9):`https://${t.config.authDomain}/${S9}`,r={apiKey:e.apiKey,appName:t.name,v:la},i=A9.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Vu(r).slice(1)}`}async function P9(t){const e=await E9(t),n=bi().gapi;return Se(n,t,"internal-error"),e.open({where:document.body,url:k9(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:C9,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=xi(t,"network-request-failed"),a=bi().setTimeout(()=>{s(o)},T9.get());function l(){bi().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R9={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},N9=500,O9=600,D9="_blank",j9="http://localhost";class _E{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function L9(t,e,n,r=N9,i=O9){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},R9),{width:r.toString(),height:i.toString(),top:s,left:o}),c=Cn().toLowerCase();n&&(a=QA(c)?D9:n),GA(c)&&(e=e||j9,l.scrollbars="yes");const d=Object.entries(l).reduce((m,[v,w])=>`${m}${v}=${w},`,"");if(X6(c)&&a!=="_self")return M9(e||"",a),new _E(null);const f=window.open(e||"",a,d);Se(f,t,"popup-blocked");try{f.focus()}catch{}return new _E(f)}function M9(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V9="__/auth/handler",F9="emulator/auth/handler",U9=encodeURIComponent("fac");async function xE(t,e,n,r,i,s){Se(t.config.authDomain,t,"auth-domain-config-required"),Se(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:la,eventId:i};if(e instanceof e_){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",lL(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,f]of Object.entries(s||{}))o[d]=f}if(e instanceof nd){const d=e.getScopes().filter(f=>f!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),c=l?`#${U9}=${encodeURIComponent(l)}`:"";return`${B9(t)}?${Vu(a).slice(1)}${c}`}function B9({config:t}){return t.emulator?Q0(t,F9):`https://${t.authDomain}/${V9}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gg="webStorageSupport";class $9{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=uk,this._completeRedirectFn=h9,this._overrideRedirectResult=c9}async _openPopup(e,n,r,i){var s;ts((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await xE(e,n,r,gv(),i);return L9(e,o,t_())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await xE(e,n,r,gv(),i);return WF(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(ts(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await P9(e),r=new p9(e);return n.register("authEvent",i=>(Se(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(gg,{type:gg},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[gg];o!==void 0&&n(!!o),Or(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=w9(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return ek()||X0()||zp()}}const z9=$9;var bE="@firebase/auth",EE="1.5.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H9{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W9(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function q9(t){ti(new Nr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Se(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:tk(t)},c=new iF(r,i,s,l);return hF(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ti(new Nr("auth-internal",e=>{const n=os(e.getProvider("auth").getImmediate());return(r=>new H9(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Qn(bE,EE,W9(t)),Qn(bE,EE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K9=5*60,G9=mI("authIdTokenMaxAge")||K9;let TE=null;const Q9=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>G9)return;const i=n==null?void 0:n.token;TE!==i&&(TE=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function vk(t=cp()){const e=uo(t,"auth");if(e.isInitialized())return e.getImmediate();const n=dF(t,{popupRedirectResolver:z9,persistence:[e9,$F,uk]}),r=mI("authTokenSyncURL");if(r){const s=Q9(r);LF(n,s,()=>s(n.currentUser)),jF(n,o=>s(o))}const i=hI("auth");return i&&fF(n,`http://${i}`),n}q9("Browser");var Y9="firebase",X9="10.7.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Qn(Y9,X9,"app");const J9=(t,e)=>e.some(n=>t instanceof n);let SE,IE;function Z9(){return SE||(SE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function eU(){return IE||(IE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const wk=new WeakMap,vv=new WeakMap,_k=new WeakMap,yg=new WeakMap,r_=new WeakMap;function tU(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Gs(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&wk.set(n,t)}).catch(()=>{}),r_.set(e,t),e}function nU(t){if(vv.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});vv.set(t,e)}let wv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return vv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||_k.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Gs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function rU(t){wv=t(wv)}function iU(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(vg(this),e,...n);return _k.set(r,e.sort?e.sort():[e]),Gs(r)}:eU().includes(t)?function(...e){return t.apply(vg(this),e),Gs(wk.get(this))}:function(...e){return Gs(t.apply(vg(this),e))}}function sU(t){return typeof t=="function"?iU(t):(t instanceof IDBTransaction&&nU(t),J9(t,Z9())?new Proxy(t,wv):t)}function Gs(t){if(t instanceof IDBRequest)return tU(t);if(yg.has(t))return yg.get(t);const e=sU(t);return e!==t&&(yg.set(t,e),r_.set(e,t)),e}const vg=t=>r_.get(t);function oU(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Gs(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Gs(o.result),l.oldVersion,l.newVersion,Gs(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}const aU=["get","getKey","getAll","getAllKeys","count"],lU=["put","add","delete","clear"],wg=new Map;function CE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(wg.get(e))return wg.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=lU.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||aU.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return wg.set(e,s),s}rU(t=>({...t,get:(e,n,r)=>CE(e,n)||t.get(e,n,r),has:(e,n)=>!!CE(e,n)||t.has(e,n)}));const xk="@firebase/installations",i_="0.6.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bk=1e4,Ek=`w:${i_}`,Tk="FIS_v2",cU="https://firebaseinstallations.googleapis.com/v1",uU=60*60*1e3,dU="installations",hU="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fU={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},na=new aa(dU,hU,fU);function Sk(t){return t instanceof Dr&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ik({projectId:t}){return`${cU}/projects/${t}/installations`}function Ck(t){return{token:t.token,requestStatus:2,expiresIn:mU(t.expiresIn),creationTime:Date.now()}}async function Ak(t,e){const r=(await e.json()).error;return na.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function kk({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function pU(t,{refreshToken:e}){const n=kk(t);return n.append("Authorization",gU(e)),n}async function Pk(t){const e=await t();return e.status>=500&&e.status<600?t():e}function mU(t){return Number(t.replace("s","000"))}function gU(t){return`${Tk} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yU({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=Ik(t),i=kk(t),s=e.getImmediate({optional:!0});if(s){const c=await s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const o={fid:n,authVersion:Tk,appId:t.appId,sdkVersion:Ek},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await Pk(()=>fetch(r,a));if(l.ok){const c=await l.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:Ck(c.authToken)}}else throw await Ak("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rk(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vU(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wU=/^[cdef][\w-]{21}$/,_v="";function _U(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=xU(t);return wU.test(n)?n:_v}catch{return _v}}function xU(t){return vU(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qp(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nk=new Map;function Ok(t,e){const n=qp(t);Dk(n,e),bU(n,e)}function Dk(t,e){const n=Nk.get(t);if(n)for(const r of n)r(e)}function bU(t,e){const n=EU();n&&n.postMessage({key:t,fid:e}),TU()}let jo=null;function EU(){return!jo&&"BroadcastChannel"in self&&(jo=new BroadcastChannel("[Firebase] FID Change"),jo.onmessage=t=>{Dk(t.data.key,t.data.fid)}),jo}function TU(){Nk.size===0&&jo&&(jo.close(),jo=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SU="firebase-installations-database",IU=1,ra="firebase-installations-store";let _g=null;function s_(){return _g||(_g=oU(SU,IU,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(ra)}}})),_g}async function Cf(t,e){const n=qp(t),i=(await s_()).transaction(ra,"readwrite"),s=i.objectStore(ra),o=await s.get(n);return await s.put(e,n),await i.done,(!o||o.fid!==e.fid)&&Ok(t,e.fid),e}async function jk(t){const e=qp(t),r=(await s_()).transaction(ra,"readwrite");await r.objectStore(ra).delete(e),await r.done}async function Kp(t,e){const n=qp(t),i=(await s_()).transaction(ra,"readwrite"),s=i.objectStore(ra),o=await s.get(n),a=e(o);return a===void 0?await s.delete(n):await s.put(a,n),await i.done,a&&(!o||o.fid!==a.fid)&&Ok(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o_(t){let e;const n=await Kp(t.appConfig,r=>{const i=CU(r),s=AU(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===_v?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function CU(t){const e=t||{fid:_U(),registrationStatus:0};return Lk(e)}function AU(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(na.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=kU(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:PU(t)}:{installationEntry:e}}async function kU(t,e){try{const n=await yU(t,e);return Cf(t.appConfig,n)}catch(n){throw Sk(n)&&n.customData.serverCode===409?await jk(t.appConfig):await Cf(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function PU(t){let e=await AE(t.appConfig);for(;e.registrationStatus===1;)await Rk(100),e=await AE(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await o_(t);return r||n}return e}function AE(t){return Kp(t,e=>{if(!e)throw na.create("installation-not-found");return Lk(e)})}function Lk(t){return RU(t)?{fid:t.fid,registrationStatus:0}:t}function RU(t){return t.registrationStatus===1&&t.registrationTime+bk<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NU({appConfig:t,heartbeatServiceProvider:e},n){const r=OU(t,n),i=pU(t,n),s=e.getImmediate({optional:!0});if(s){const c=await s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const o={installation:{sdkVersion:Ek,appId:t.appId}},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await Pk(()=>fetch(r,a));if(l.ok){const c=await l.json();return Ck(c)}else throw await Ak("Generate Auth Token",l)}function OU(t,{fid:e}){return`${Ik(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a_(t,e=!1){let n;const r=await Kp(t.appConfig,s=>{if(!Mk(s))throw na.create("not-registered");const o=s.authToken;if(!e&&LU(o))return s;if(o.requestStatus===1)return n=DU(t,e),s;{if(!navigator.onLine)throw na.create("app-offline");const a=VU(s);return n=jU(t,a),a}});return n?await n:r.authToken}async function DU(t,e){let n=await kE(t.appConfig);for(;n.authToken.requestStatus===1;)await Rk(100),n=await kE(t.appConfig);const r=n.authToken;return r.requestStatus===0?a_(t,e):r}function kE(t){return Kp(t,e=>{if(!Mk(e))throw na.create("not-registered");const n=e.authToken;return FU(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function jU(t,e){try{const n=await NU(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await Cf(t.appConfig,r),n}catch(n){if(Sk(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await jk(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Cf(t.appConfig,r)}throw n}}function Mk(t){return t!==void 0&&t.registrationStatus===2}function LU(t){return t.requestStatus===2&&!MU(t)}function MU(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+uU}function VU(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function FU(t){return t.requestStatus===1&&t.requestTime+bk<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UU(t){const e=t,{installationEntry:n,registrationPromise:r}=await o_(e);return r?r.catch(console.error):a_(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BU(t,e=!1){const n=t;return await $U(n),(await a_(n,e)).token}async function $U(t){const{registrationPromise:e}=await o_(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zU(t){if(!t||!t.options)throw xg("App Configuration");if(!t.name)throw xg("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw xg(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function xg(t){return na.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vk="installations",HU="installations-internal",WU=t=>{const e=t.getProvider("app").getImmediate(),n=zU(e),r=uo(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},qU=t=>{const e=t.getProvider("app").getImmediate(),n=uo(e,Vk).getImmediate();return{getId:()=>UU(n),getToken:i=>BU(n,i)}};function KU(){ti(new Nr(Vk,WU,"PUBLIC")),ti(new Nr(HU,qU,"PRIVATE"))}KU();Qn(xk,i_);Qn(xk,i_,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Af="analytics",GU="firebase_id",QU="origin",YU=60*1e3,XU="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",l_="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xn=new lp("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JU={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},ur=new aa("analytics","Analytics",JU);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZU(t){if(!t.startsWith(l_)){const e=ur.create("invalid-gtag-resource",{gtagURL:t});return Xn.warn(e.message),""}return t}function Fk(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function e7(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function t7(t,e){const n=e7("firebase-js-sdk-policy",{createScriptURL:ZU}),r=document.createElement("script"),i=`${l_}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function n7(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function r7(t,e,n,r,i,s){const o=r[i];try{if(o)await e[o];else{const l=(await Fk(n)).find(c=>c.measurementId===i);l&&await e[l.appId]}}catch(a){Xn.error(a)}t("config",i,s)}async function i7(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=await Fk(n);for(const l of o){const c=a.find(f=>f.measurementId===l),d=c&&e[c.appId];if(d)s.push(d);else{s=[];break}}}s.length===0&&(s=Object.values(e)),await Promise.all(s),t("event",r,i||{})}catch(s){Xn.error(s)}}function s7(t,e,n,r){async function i(s,...o){try{if(s==="event"){const[a,l]=o;await i7(t,e,n,a,l)}else if(s==="config"){const[a,l]=o;await r7(t,e,n,r,a,l)}else if(s==="consent"){const[a]=o;t("consent","update",a)}else if(s==="get"){const[a,l,c]=o;t("get",a,l,c)}else if(s==="set"){const[a]=o;t("set",a)}else t(s,...o)}catch(a){Xn.error(a)}}return i}function o7(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=s7(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}function a7(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(l_)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l7=30,c7=1e3;class u7{constructor(e={},n=c7){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const Uk=new u7;function d7(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function h7(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:d7(r)},s=XU.replace("{app-id}",n),o=await fetch(s,i);if(o.status!==200&&o.status!==304){let a="";try{const l=await o.json();!((e=l.error)===null||e===void 0)&&e.message&&(a=l.error.message)}catch{}throw ur.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}async function f7(t,e=Uk,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw ur.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw ur.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new g7;return setTimeout(async()=>{a.abort()},n!==void 0?n:YU),Bk({appId:r,apiKey:i,measurementId:s},o,a,e)}async function Bk(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=Uk){var s;const{appId:o,measurementId:a}=t;try{await p7(r,e)}catch(l){if(a)return Xn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:o,measurementId:a};throw l}try{const l=await h7(t);return i.deleteThrottleMetadata(o),l}catch(l){const c=l;if(!m7(c)){if(i.deleteThrottleMetadata(o),a)return Xn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:o,measurementId:a};throw l}const d=Number((s=c==null?void 0:c.customData)===null||s===void 0?void 0:s.httpStatus)===503?tb(n,i.intervalMillis,l7):tb(n,i.intervalMillis),f={throttleEndTimeMillis:Date.now()+d,backoffCount:n+1};return i.setThrottleMetadata(o,f),Xn.debug(`Calling attemptFetch again in ${d} millis`),Bk(t,f,r,i)}}function p7(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(ur.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function m7(t){if(!(t instanceof Dr)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class g7{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function y7(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const s=await e,o=Object.assign(Object.assign({},r),{send_to:s});t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v7(){if(vI())try{await wI()}catch(t){return Xn.warn(ur.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return Xn.warn(ur.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function w7(t,e,n,r,i,s,o){var a;const l=f7(t);l.then(v=>{n[v.measurementId]=v.appId,t.options.measurementId&&v.measurementId!==t.options.measurementId&&Xn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${v.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(v=>Xn.error(v)),e.push(l);const c=v7().then(v=>{if(v)return r.getId()}),[d,f]=await Promise.all([l,c]);a7(s)||t7(s,d.measurementId),i("js",new Date);const m=(a=o==null?void 0:o.config)!==null&&a!==void 0?a:{};return m[QU]="firebase",m.update=!0,f!=null&&(m[GU]=f),i("config",d.measurementId,m),d.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _7{constructor(e){this.app=e}_delete(){return delete Mc[this.app.options.appId],Promise.resolve()}}let Mc={},PE=[];const RE={};let bg="dataLayer",x7="gtag",NE,$k,OE=!1;function b7(){const t=[];if(yI()&&t.push("This is a browser extension environment."),iL()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=ur.create("invalid-analytics-context",{errorInfo:e});Xn.warn(n.message)}}function E7(t,e,n){b7();const r=t.options.appId;if(!r)throw ur.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Xn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw ur.create("no-api-key");if(Mc[r]!=null)throw ur.create("already-exists",{id:r});if(!OE){n7(bg);const{wrappedGtag:s,gtagCore:o}=o7(Mc,PE,RE,bg,x7);$k=s,NE=o,OE=!0}return Mc[r]=w7(t,PE,RE,e,NE,bg,n),new _7(t)}function T7(t=cp()){t=lt(t);const e=uo(t,Af);return e.isInitialized()?e.getImmediate():S7(t)}function S7(t,e={}){const n=uo(t,Af);if(n.isInitialized()){const i=n.getImmediate();if(lu(e,n.getOptions()))return i;throw ur.create("already-initialized")}return n.initialize({options:e})}function I7(t,e,n,r){t=lt(t),y7($k,Mc[t.app.options.appId],e,n,r).catch(i=>Xn.error(i))}const DE="@firebase/analytics",jE="0.10.0";function C7(){ti(new Nr(Af,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return E7(r,i,n)},"PUBLIC")),ti(new Nr("analytics-internal",t,"PRIVATE")),Qn(DE,jE),Qn(DE,jE,"esm2017");function t(e){try{const n=e.getProvider(Af).getImmediate();return{logEvent:(r,i,s)=>I7(n,r,i,s)}}catch(n){throw ur.create("interop-component-reg-failed",{reason:n})}}}C7();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zk="firebasestorage.googleapis.com",Hk="storageBucket",A7=2*60*1e3,k7=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt extends Dr{constructor(e,n,r=0){super(Eg(e),`Firebase Storage: ${n} (${Eg(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Rt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Eg(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Pt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Pt||(Pt={}));function Eg(t){return"storage/"+t}function c_(){const t="An unknown error occurred, please check the error payload for server response.";return new Rt(Pt.UNKNOWN,t)}function P7(t){return new Rt(Pt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function R7(t){return new Rt(Pt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function N7(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Rt(Pt.UNAUTHENTICATED,t)}function O7(){return new Rt(Pt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function D7(t){return new Rt(Pt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function j7(){return new Rt(Pt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function L7(){return new Rt(Pt.CANCELED,"User canceled the upload/download.")}function M7(t){return new Rt(Pt.INVALID_URL,"Invalid URL '"+t+"'.")}function V7(t){return new Rt(Pt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function F7(){return new Rt(Pt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Hk+"' property when initializing the app?")}function U7(){return new Rt(Pt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function B7(){return new Rt(Pt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function $7(t){return new Rt(Pt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function xv(t){return new Rt(Pt.INVALID_ARGUMENT,t)}function Wk(){return new Rt(Pt.APP_DELETED,"The Firebase app was deleted.")}function z7(t){return new Rt(Pt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Vc(t,e){return new Rt(Pt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function ac(t){throw new Rt(Pt.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=ar.makeFromUrl(e,n)}catch{return new ar(e,"")}if(r.path==="")return r;throw V7(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(R){R.path.charAt(R.path.length-1)==="/"&&(R.path_=R.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function c(R){R.path_=decodeURIComponent(R.path)}const d="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),m="(/([^?#]*).*)?$",v=new RegExp(`^https?://${f}/${d}/b/${i}/o${m}`,"i"),w={bucket:1,path:3},b=n===zk?"(?:storage.googleapis.com|storage.cloud.google.com)":n,E="([^?#]*)",x=new RegExp(`^https?://${b}/${i}/${E}`,"i"),T=[{regex:a,indices:l,postModify:s},{regex:v,indices:w,postModify:c},{regex:x,indices:{bucket:1,path:2},postModify:c}];for(let R=0;R<T.length;R++){const D=T[R],B=D.regex.exec(e);if(B){const $=B[D.indices.bucket];let H=B[D.indices.path];H||(H=""),r=new ar($,H),D.postModify(r);break}}if(r==null)throw M7(e);return r}}class H7{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W7(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let c=!1;function d(...E){c||(c=!0,e.apply(null,E))}function f(E){i=setTimeout(()=>{i=null,t(v,l())},E)}function m(){s&&clearTimeout(s)}function v(E,...x){if(c){m();return}if(E){m(),d.call(null,E,...x);return}if(l()||o){m(),d.call(null,E,...x);return}r<64&&(r*=2);let T;a===1?(a=2,T=0):T=(r+Math.random())*1e3,f(T)}let w=!1;function b(E){w||(w=!0,m(),!c&&(i!==null?(E||(a=2),clearTimeout(i),f(0)):E||(a=1)))}return f(0),s=setTimeout(()=>{o=!0,b(!0)},n),b}function q7(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K7(t){return t!==void 0}function G7(t){return typeof t=="object"&&!Array.isArray(t)}function u_(t){return typeof t=="string"||t instanceof String}function LE(t){return d_()&&t instanceof Blob}function d_(){return typeof Blob<"u"}function ME(t,e,n,r){if(r<e)throw xv(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw xv(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h_(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function qk(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $o;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})($o||($o={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q7(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y7{constructor(e,n,r,i,s,o,a,l,c,d,f,m=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=d,this.connectionFactory_=f,this.retry=m,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((v,w)=>{this.resolve_=v,this.reject_=w,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Qd(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===$o.NO_ERROR,l=s.getStatus();if(!a||Q7(l,this.additionalRetryCodes_)&&this.retry){const d=s.getErrorCode()===$o.ABORT;r(!1,new Qd(!1,null,d));return}const c=this.successCodes_.indexOf(l)!==-1;r(!0,new Qd(c,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());K7(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=c_();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?Wk():L7();o(l)}else{const l=j7();o(l)}};this.canceled_?n(!1,new Qd(!1,null,!0)):this.backoffId_=W7(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&q7(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Qd{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function X7(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function J7(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Z7(t,e){e&&(t["X-Firebase-GMPID"]=e)}function eB(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function tB(t,e,n,r,i,s,o=!0){const a=qk(t.urlParams),l=t.url+a,c=Object.assign({},t.headers);return Z7(c,e),X7(c,n),J7(c,s),eB(c,r),new Y7(l,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nB(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function rB(...t){const e=nB();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(d_())return new Blob(t);throw new Rt(Pt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function iB(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sB(t){if(typeof atob>"u")throw $7("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pi={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Tg{constructor(e,n){this.data=e,this.contentType=n||null}}function oB(t,e){switch(t){case pi.RAW:return new Tg(Kk(e));case pi.BASE64:case pi.BASE64URL:return new Tg(Gk(t,e));case pi.DATA_URL:return new Tg(lB(e),cB(e))}throw c_()}function Kk(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function aB(t){let e;try{e=decodeURIComponent(t)}catch{throw Vc(pi.DATA_URL,"Malformed data URL.")}return Kk(e)}function Gk(t,e){switch(t){case pi.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw Vc(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case pi.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw Vc(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=sB(e)}catch(i){throw i.message.includes("polyfill")?i:Vc(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class Qk{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Vc(pi.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=uB(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function lB(t){const e=new Qk(t);return e.base64?Gk(pi.BASE64,e.rest):aB(e.rest)}function cB(t){return new Qk(t).contentType}function uB(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps{constructor(e,n){let r=0,i="";LE(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(LE(this.data_)){const r=this.data_,i=iB(r,e,n);return i===null?null:new Ps(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Ps(r,!0)}}static getBlob(...e){if(d_()){const n=e.map(r=>r instanceof Ps?r.data_:r);return new Ps(rB.apply(null,n))}else{const n=e.map(o=>u_(o)?oB(pi.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new Ps(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yk(t){let e;try{e=JSON.parse(t)}catch{return null}return G7(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dB(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function hB(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function Xk(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fB(t,e){return e}class Nn{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||fB}}let Yd=null;function pB(t){return!u_(t)||t.length<2?t:Xk(t)}function Jk(){if(Yd)return Yd;const t=[];t.push(new Nn("bucket")),t.push(new Nn("generation")),t.push(new Nn("metageneration")),t.push(new Nn("name","fullPath",!0));function e(s,o){return pB(o)}const n=new Nn("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new Nn("size");return i.xform=r,t.push(i),t.push(new Nn("timeCreated")),t.push(new Nn("updated")),t.push(new Nn("md5Hash",null,!0)),t.push(new Nn("cacheControl",null,!0)),t.push(new Nn("contentDisposition",null,!0)),t.push(new Nn("contentEncoding",null,!0)),t.push(new Nn("contentLanguage",null,!0)),t.push(new Nn("contentType",null,!0)),t.push(new Nn("metadata","customMetadata",!0)),Yd=t,Yd}function mB(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new ar(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function gB(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return mB(r,t),r}function Zk(t,e,n){const r=Yk(e);return r===null?null:gB(t,r,n)}function yB(t,e,n,r){const i=Yk(e);if(i===null||!u_(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(c=>{const d=t.bucket,f=t.fullPath,m="/b/"+o(d)+"/o/"+o(f),v=h_(m,n,r),w=qk({alt:"media",token:c});return v+w})[0]}function vB(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class eP{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tP(t){if(!t)throw c_()}function wB(t,e){function n(r,i){const s=Zk(t,i,e);return tP(s!==null),s}return n}function _B(t,e){function n(r,i){const s=Zk(t,i,e);return tP(s!==null),yB(s,i,t.host,t._protocol)}return n}function nP(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=O7():i=N7():n.getStatus()===402?i=R7(t.bucket):n.getStatus()===403?i=D7(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function xB(t){const e=nP(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=P7(t.path)),s.serverResponse=i.serverResponse,s}return n}function bB(t,e,n){const r=e.fullServerUrl(),i=h_(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new eP(i,s,_B(t,n),o);return a.errorHandler=xB(e),a}function EB(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function TB(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=EB(null,e)),r}function SB(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let T="";for(let R=0;R<2;R++)T=T+Math.random().toString().slice(2);return T}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const c=TB(e,r,i),d=vB(c,n),f="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+d+`\r
--`+l+`\r
Content-Type: `+c.contentType+`\r
\r
`,m=`\r
--`+l+"--",v=Ps.getBlob(f,r,m);if(v===null)throw U7();const w={name:c.fullPath},b=h_(s,t.host,t._protocol),E="POST",x=t.maxUploadRetryTime,_=new eP(b,E,wB(t,n),x);return _.urlParams=w,_.headers=o,_.body=v.uploadData(),_.errorHandler=nP(e),_}class IB{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=$o.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=$o.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=$o.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw ac("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw ac("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw ac("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw ac("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw ac("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class CB extends IB{initXhr(){this.xhr_.responseType="text"}}function rP(){return new CB}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(e,n){this._service=e,n instanceof ar?this._location=n:this._location=ar.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new ia(e,n)}get root(){const e=new ar(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Xk(this._location.path)}get storage(){return this._service}get parent(){const e=dB(this._location.path);if(e===null)return null;const n=new ar(this._location.bucket,e);return new ia(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw z7(e)}}function AB(t,e,n){t._throwIfRoot("uploadBytes");const r=SB(t.storage,t._location,Jk(),new Ps(e,!0),n);return t.storage.makeRequestWithTokens(r,rP).then(i=>({metadata:i,ref:t}))}function kB(t){t._throwIfRoot("getDownloadURL");const e=bB(t.storage,t._location,Jk());return t.storage.makeRequestWithTokens(e,rP).then(n=>{if(n===null)throw B7();return n})}function PB(t,e){const n=hB(t._location.path,e),r=new ar(t._location.bucket,n);return new ia(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RB(t){return/^[A-Za-z]+:\/\//.test(t)}function NB(t,e){return new ia(t,e)}function iP(t,e){if(t instanceof f_){const n=t;if(n._bucket==null)throw F7();const r=new ia(n,n._bucket);return e!=null?iP(r,e):r}else return e!==void 0?PB(t,e):t}function OB(t,e){if(e&&RB(e)){if(t instanceof f_)return NB(t,e);throw xv("To use ref(service, url), the first argument must be a Storage instance.")}else return iP(t,e)}function VE(t,e){const n=e==null?void 0:e[Hk];return n==null?null:ar.makeFromBucketSpec(n,t)}function DB(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:gI(i,t.app.options.projectId))}class f_{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=zk,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=A7,this._maxUploadRetryTime=k7,this._requests=new Set,i!=null?this._bucket=ar.makeFromBucketSpec(i,this._host):this._bucket=VE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ar.makeFromBucketSpec(this._url,e):this._bucket=VE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){ME("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){ME("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ia(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new H7(Wk());{const o=tB(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const FE="@firebase/storage",UE="0.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sP="storage";function jB(t,e,n){return t=lt(t),AB(t,e,n)}function LB(t){return t=lt(t),kB(t)}function MB(t,e){return t=lt(t),OB(t,e)}function VB(t=cp(),e){t=lt(t);const r=uo(t,sP).getImmediate({identifier:e}),i=fI("storage");return i&&FB(r,...i),r}function FB(t,e,n,r={}){DB(t,e,n,r)}function UB(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new f_(n,r,i,e,la)}function BB(){ti(new Nr(sP,UB,"PUBLIC").setMultipleInstances(!0)),Qn(FE,UE,""),Qn(FE,UE,"esm2017")}BB();let Xd;const $B=new Uint8Array(16);function zB(){if(!Xd&&(Xd=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Xd))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Xd($B)}const rn=[];for(let t=0;t<256;++t)rn.push((t+256).toString(16).slice(1));function HB(t,e=0){return rn[t[e+0]]+rn[t[e+1]]+rn[t[e+2]]+rn[t[e+3]]+"-"+rn[t[e+4]]+rn[t[e+5]]+"-"+rn[t[e+6]]+rn[t[e+7]]+"-"+rn[t[e+8]]+rn[t[e+9]]+"-"+rn[t[e+10]]+rn[t[e+11]]+rn[t[e+12]]+rn[t[e+13]]+rn[t[e+14]]+rn[t[e+15]]}const WB=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),BE={randomUUID:WB};function qB(t,e,n){if(BE.randomUUID&&!e&&!t)return BE.randomUUID();t=t||{};const r=t.random||(t.rng||zB)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(let i=0;i<16;++i)e[n+i]=r[i];return e}return HB(r)}const KB={apiKey:"AIzaSyDFN-v1U2QNl_tSYQEW2-Yn-BexwZpurak",authDomain:"vitalfitapp-2337c.firebaseapp.com",projectId:"vitalfitapp-2337c",storageBucket:"vitalfitapp-2337c.appspot.com",messagingSenderId:"464011271207",appId:"1:464011271207:web:cf8e1a0de93edfaa25c202",measurementId:"G-19E89HG41Y"},Gp=bI(KB),xl=vk(Gp),Tt=u6(Gp);T7(Gp);const GB=VB(Gp);async function bv(t){const e=MB(GB,qB());return await jB(e,t),await LB(e)}const QB=new Vi,YB=async()=>{try{const t=await s9(xl,QB),{displayName:e,email:n,photoURL:r,uid:i}=t.user;return{ok:!0,displayName:e,email:n,photoURL:r,uid:i}}catch(t){return t.code,{ok:!1,errorMessage:t.message}}},XB=async(t,e,n)=>{try{const r=await RF(xl,t,e),{uid:i,photoURL:s}=r.user;return await DF(xl.currentUser,{displayName:n}),{ok:!0,displayName:n,email:t,photoURL:s,uid:i}}catch(r){const i=r.code;return{ok:!1,errorMessage:r.message,errorCode:i}}},JB=async(t,e)=>{try{const n=await NF(xl,t,e),{uid:r,displayName:i,photoURL:s}=n.user;return{ok:!0,uid:r,displayName:i,photoURL:s}}catch(n){const r=n.code;return{ok:!1,errorMessage:n.message,errorCode:r}}},ZB=async t=>{try{const e=await PF(xl,t);return{ok:!0,successMessage:"Password reset email sent!"}}catch(e){const n=e.code;return{ok:!1,errorMessage:e.message,errorCode:n}}},p_=async t=>{try{const e=Zt(Tt,"users",t.id);await Dl(e,t)}catch(e){console.log(e)}},m_=async t=>{try{const e=Zt(Tt,"users",t);return(await is(e)).data()}catch(e){console.log(e.message)}},e$=(t,e)=>async n=>{n(lI());const{ok:r,uid:i,photoURL:s,displayName:o,errorCode:a}=await JB(t,e);if(!r)return n(Uw(a));const c=(await m_(i)).role||"user";n(Fw({email:t,uid:i,photoURL:s,displayName:o,role:c}))},t$=()=>async t=>{t(q5());const e=await YB();if(!e.ok)return t(Uw(e.errorMessage));t(Fw(e))},n$=(t,e,n,r="user")=>async i=>{i(lI());const{ok:s,uid:o,photoURL:a,errorCode:l}=await XB(t,e,n);if(await p_({email:t,id:o,photoURL:a,displayName:n,role:r}),!s)return i(Uw(l));i(Fw({email:t,uid:o,photoURL:a,displayName:n,role:r}))},oP=Mw({name:"orders",initialState:{orders:[],currentOrder:[],onOrder:{},totalPriceOrder:0,orderWindow:!1},reducers:{checkOutOrder:(t,e)=>{t.currentOrder=e.payload,t.orderWindow=!0},getCurrentOrder:(t,e)=>{t.onOrder=e.payload},getOrders:(t,e)=>{t.orders=e.payload},saveOrder:(t,e)=>{t.orders=[e.payload,...t.orders]},passTotalPrice:(t,e)=>{t.totalPriceOrder=e.payload}}});oP.actions;const aP=Mw({name:"product",initialState:{products:[],copyProducts:[],categories:[],product:{},loading:!0,currentPage:1,itemsPerPage:8,totalPages:0,shopListOpen:!1,shoppingCart:[],countTotal:0,search:"",filters:{category:"",minPrice:"",maxPrice:""},sorts:{sortByName:"",sortByPrice:""}},reducers:{startLoading:t=>{t.loading=!0},setProducts:(t,e)=>{t.products=e.payload,t.copyProducts.length||(t.copyProducts=e.payload),t.totalPages=Math.ceil(e.payload.length/8),t.loading=!1},setCategories:(t,e)=>{t.categories=e.payload},setCurrentPage:(t,e)=>{t.currentPage=e.payload},findbyProductById:(t,e)=>{t.product=e.payload,t.loading=!1},itemsAdded:(t,e)=>{const n=e.payload,r=t.shoppingCart.find(i=>i.id===n.id);r?r.count++:t.shoppingCart.push({...n,count:1}),t.countTotal+=1},removeItem:(t,e)=>{const n=e.payload,r=t.shoppingCart.find(i=>i.id===n);r&&(r.count--,r.count===0&&(t.shoppingCart=t.shoppingCart.filter(i=>i.id!==n)),t.countTotal-=1)},handleShopList:(t,e)=>{t.shopListOpen=e.payload},cleanEverything:(t,e)=>{t.shoppingCart=[],t.countTotal=0},setFilters:(t,e)=>{t.filters=e.payload},setSorts:(t,e)=>{t.sorts=e.payload},setSearch:(t,e)=>{t.search=e.payload},resetFilters:(t,e)=>{t.filters={category:"",minPrice:"",maxPrice:""}},resetSearch:(t,e)=>{t.search=""},resetSorts:(t,e)=>{t.sorts={sortByName:"",sortByPrice:""}}}}),{setProducts:r$,setCategories:i$,startLoading:g_,findbyProductById:s$,handleShopList:MK,itemsAdded:VK,removeItem:FK,setCurrentPage:lP,cleanEverything:UK,setFilters:o$,resetFilters:a$,setSorts:l$,setSearch:c$,resetSorts:u$,resetSearch:d$}=aP.actions;function cP(t,e){return function(){return t.apply(e,arguments)}}const{toString:h$}=Object.prototype,{getPrototypeOf:y_}=Object,Qp=(t=>e=>{const n=h$.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Si=t=>(t=t.toLowerCase(),e=>Qp(e)===t),Yp=t=>e=>typeof e===t,{isArray:Ll}=Array,Iu=Yp("undefined");function f$(t){return t!==null&&!Iu(t)&&t.constructor!==null&&!Iu(t.constructor)&&Ar(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const uP=Si("ArrayBuffer");function p$(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&uP(t.buffer),e}const m$=Yp("string"),Ar=Yp("function"),dP=Yp("number"),Xp=t=>t!==null&&typeof t=="object",g$=t=>t===!0||t===!1,bh=t=>{if(Qp(t)!=="object")return!1;const e=y_(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},y$=Si("Date"),v$=Si("File"),w$=Si("Blob"),_$=Si("FileList"),x$=t=>Xp(t)&&Ar(t.pipe),b$=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Ar(t.append)&&((e=Qp(t))==="formdata"||e==="object"&&Ar(t.toString)&&t.toString()==="[object FormData]"))},E$=Si("URLSearchParams"),T$=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function id(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),Ll(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{const s=n?Object.getOwnPropertyNames(t):Object.keys(t),o=s.length;let a;for(r=0;r<o;r++)a=s[r],e.call(null,t[a],a,t)}}function hP(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const fP=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),pP=t=>!Iu(t)&&t!==fP;function Ev(){const{caseless:t}=pP(this)&&this||{},e={},n=(r,i)=>{const s=t&&hP(e,i)||i;bh(e[s])&&bh(r)?e[s]=Ev(e[s],r):bh(r)?e[s]=Ev({},r):Ll(r)?e[s]=r.slice():e[s]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&id(arguments[r],n);return e}const S$=(t,e,n,{allOwnKeys:r}={})=>(id(e,(i,s)=>{n&&Ar(i)?t[s]=cP(i,n):t[s]=i},{allOwnKeys:r}),t),I$=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),C$=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},A$=(t,e,n,r)=>{let i,s,o;const a={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)o=i[s],(!r||r(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=n!==!1&&y_(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},k$=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},P$=t=>{if(!t)return null;if(Ll(t))return t;let e=t.length;if(!dP(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},R$=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&y_(Uint8Array)),N$=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},O$=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},D$=Si("HTMLFormElement"),j$=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),$E=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),L$=Si("RegExp"),mP=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};id(n,(i,s)=>{let o;(o=e(i,s,t))!==!1&&(r[s]=o||i)}),Object.defineProperties(t,r)},M$=t=>{mP(t,(e,n)=>{if(Ar(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(Ar(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},V$=(t,e)=>{const n={},r=i=>{i.forEach(s=>{n[s]=!0})};return Ll(t)?r(t):r(String(t).split(e)),n},F$=()=>{},U$=(t,e)=>(t=+t,Number.isFinite(t)?t:e),Sg="abcdefghijklmnopqrstuvwxyz",zE="0123456789",gP={DIGIT:zE,ALPHA:Sg,ALPHA_DIGIT:Sg+Sg.toUpperCase()+zE},B$=(t=16,e=gP.ALPHA_DIGIT)=>{let n="";const{length:r}=e;for(;t--;)n+=e[Math.random()*r|0];return n};function $$(t){return!!(t&&Ar(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const z$=t=>{const e=new Array(10),n=(r,i)=>{if(Xp(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const s=Ll(r)?[]:{};return id(r,(o,a)=>{const l=n(o,i+1);!Iu(l)&&(s[a]=l)}),e[i]=void 0,s}}return r};return n(t,0)},H$=Si("AsyncFunction"),W$=t=>t&&(Xp(t)||Ar(t))&&Ar(t.then)&&Ar(t.catch),W={isArray:Ll,isArrayBuffer:uP,isBuffer:f$,isFormData:b$,isArrayBufferView:p$,isString:m$,isNumber:dP,isBoolean:g$,isObject:Xp,isPlainObject:bh,isUndefined:Iu,isDate:y$,isFile:v$,isBlob:w$,isRegExp:L$,isFunction:Ar,isStream:x$,isURLSearchParams:E$,isTypedArray:R$,isFileList:_$,forEach:id,merge:Ev,extend:S$,trim:T$,stripBOM:I$,inherits:C$,toFlatObject:A$,kindOf:Qp,kindOfTest:Si,endsWith:k$,toArray:P$,forEachEntry:N$,matchAll:O$,isHTMLForm:D$,hasOwnProperty:$E,hasOwnProp:$E,reduceDescriptors:mP,freezeMethods:M$,toObjectSet:V$,toCamelCase:j$,noop:F$,toFiniteNumber:U$,findKey:hP,global:fP,isContextDefined:pP,ALPHABET:gP,generateString:B$,isSpecCompliantForm:$$,toJSONObject:z$,isAsyncFn:H$,isThenable:W$};function Ge(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}W.inherits(Ge,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:W.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const yP=Ge.prototype,vP={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{vP[t]={value:t}});Object.defineProperties(Ge,vP);Object.defineProperty(yP,"isAxiosError",{value:!0});Ge.from=(t,e,n,r,i,s)=>{const o=Object.create(yP);return W.toFlatObject(t,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),Ge.call(o,t.message,e,n,r,i),o.cause=t,o.name=t.name,s&&Object.assign(o,s),o};const q$=null;function Tv(t){return W.isPlainObject(t)||W.isArray(t)}function wP(t){return W.endsWith(t,"[]")?t.slice(0,-2):t}function HE(t,e,n){return t?t.concat(e).map(function(i,s){return i=wP(i),!n&&s?"["+i+"]":i}).join(n?".":""):e}function K$(t){return W.isArray(t)&&!t.some(Tv)}const G$=W.toFlatObject(W,{},null,function(e){return/^is[A-Z]/.test(e)});function Jp(t,e,n){if(!W.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=W.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(b,E){return!W.isUndefined(E[b])});const r=n.metaTokens,i=n.visitor||d,s=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&W.isSpecCompliantForm(e);if(!W.isFunction(i))throw new TypeError("visitor must be a function");function c(w){if(w===null)return"";if(W.isDate(w))return w.toISOString();if(!l&&W.isBlob(w))throw new Ge("Blob is not supported. Use a Buffer instead.");return W.isArrayBuffer(w)||W.isTypedArray(w)?l&&typeof Blob=="function"?new Blob([w]):Buffer.from(w):w}function d(w,b,E){let x=w;if(w&&!E&&typeof w=="object"){if(W.endsWith(b,"{}"))b=r?b:b.slice(0,-2),w=JSON.stringify(w);else if(W.isArray(w)&&K$(w)||(W.isFileList(w)||W.endsWith(b,"[]"))&&(x=W.toArray(w)))return b=wP(b),x.forEach(function(T,R){!(W.isUndefined(T)||T===null)&&e.append(o===!0?HE([b],R,s):o===null?b:b+"[]",c(T))}),!1}return Tv(w)?!0:(e.append(HE(E,b,s),c(w)),!1)}const f=[],m=Object.assign(G$,{defaultVisitor:d,convertValue:c,isVisitable:Tv});function v(w,b){if(!W.isUndefined(w)){if(f.indexOf(w)!==-1)throw Error("Circular reference detected in "+b.join("."));f.push(w),W.forEach(w,function(x,_){(!(W.isUndefined(x)||x===null)&&i.call(e,x,W.isString(_)?_.trim():_,b,m))===!0&&v(x,b?b.concat(_):[_])}),f.pop()}}if(!W.isObject(t))throw new TypeError("data must be an object");return v(t),e}function WE(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function v_(t,e){this._pairs=[],t&&Jp(t,this,e)}const _P=v_.prototype;_P.append=function(e,n){this._pairs.push([e,n])};_P.toString=function(e){const n=e?function(r){return e.call(this,r,WE)}:WE;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function Q$(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function xP(t,e,n){if(!e)return t;const r=n&&n.encode||Q$,i=n&&n.serialize;let s;if(i?s=i(e,n):s=W.isURLSearchParams(e)?e.toString():new v_(e,n).toString(r),s){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class Y${constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){W.forEach(this.handlers,function(r){r!==null&&e(r)})}}const qE=Y$,bP={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},X$=typeof URLSearchParams<"u"?URLSearchParams:v_,J$=typeof FormData<"u"?FormData:null,Z$=typeof Blob<"u"?Blob:null,e8={isBrowser:!0,classes:{URLSearchParams:X$,FormData:J$,Blob:Z$},protocols:["http","https","file","blob","url","data"]},EP=typeof window<"u"&&typeof document<"u",t8=(t=>EP&&["ReactNative","NativeScript","NS"].indexOf(t)<0)(typeof navigator<"u"&&navigator.product),n8=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),r8=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:EP,hasStandardBrowserEnv:t8,hasStandardBrowserWebWorkerEnv:n8},Symbol.toStringTag,{value:"Module"})),mi={...r8,...e8};function i8(t,e){return Jp(t,new mi.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,s){return mi.isNode&&W.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function s8(t){return W.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function o8(t){const e={},n=Object.keys(t);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],e[s]=t[s];return e}function TP(t){function e(n,r,i,s){let o=n[s++];const a=Number.isFinite(+o),l=s>=n.length;return o=!o&&W.isArray(i)?i.length:o,l?(W.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!a):((!i[o]||!W.isObject(i[o]))&&(i[o]=[]),e(n,r,i[o],s)&&W.isArray(i[o])&&(i[o]=o8(i[o])),!a)}if(W.isFormData(t)&&W.isFunction(t.entries)){const n={};return W.forEachEntry(t,(r,i)=>{e(s8(r),i,n,0)}),n}return null}function a8(t,e,n){if(W.isString(t))try{return(e||JSON.parse)(t),W.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const w_={transitional:bP,adapter:["xhr","http"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,s=W.isObject(e);if(s&&W.isHTMLForm(e)&&(e=new FormData(e)),W.isFormData(e))return i&&i?JSON.stringify(TP(e)):e;if(W.isArrayBuffer(e)||W.isBuffer(e)||W.isStream(e)||W.isFile(e)||W.isBlob(e))return e;if(W.isArrayBufferView(e))return e.buffer;if(W.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return i8(e,this.formSerializer).toString();if((a=W.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Jp(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||i?(n.setContentType("application/json",!1),a8(e)):e}],transformResponse:[function(e){const n=this.transitional||w_.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(e&&W.isString(e)&&(r&&!this.responseType||i)){const o=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?Ge.from(a,Ge.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:mi.classes.FormData,Blob:mi.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};W.forEach(["delete","get","head","post","put","patch"],t=>{w_.headers[t]={}});const __=w_,l8=W.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),c8=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(o){i=o.indexOf(":"),n=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!n||e[n]&&l8[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},KE=Symbol("internals");function lc(t){return t&&String(t).trim().toLowerCase()}function Eh(t){return t===!1||t==null?t:W.isArray(t)?t.map(Eh):String(t)}function u8(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const d8=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Ig(t,e,n,r,i){if(W.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!W.isString(e)){if(W.isString(r))return e.indexOf(r)!==-1;if(W.isRegExp(r))return r.test(e)}}function h8(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function f8(t,e){const n=W.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,s,o){return this[r].call(this,e,i,s,o)},configurable:!0})})}class Zp{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function s(a,l,c){const d=lc(l);if(!d)throw new Error("header name must be a non-empty string");const f=W.findKey(i,d);(!f||i[f]===void 0||c===!0||c===void 0&&i[f]!==!1)&&(i[f||l]=Eh(a))}const o=(a,l)=>W.forEach(a,(c,d)=>s(c,d,l));return W.isPlainObject(e)||e instanceof this.constructor?o(e,n):W.isString(e)&&(e=e.trim())&&!d8(e)?o(c8(e),n):e!=null&&s(n,e,r),this}get(e,n){if(e=lc(e),e){const r=W.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return u8(i);if(W.isFunction(n))return n.call(this,i,r);if(W.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=lc(e),e){const r=W.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||Ig(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function s(o){if(o=lc(o),o){const a=W.findKey(r,o);a&&(!n||Ig(r,r[a],a,n))&&(delete r[a],i=!0)}}return W.isArray(e)?e.forEach(s):s(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const s=n[r];(!e||Ig(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const n=this,r={};return W.forEach(this,(i,s)=>{const o=W.findKey(r,s);if(o){n[o]=Eh(i),delete n[s];return}const a=e?h8(s):String(s).trim();a!==s&&delete n[s],n[a]=Eh(i),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return W.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&W.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[KE]=this[KE]={accessors:{}}).accessors,i=this.prototype;function s(o){const a=lc(o);r[a]||(f8(i,o),r[a]=!0)}return W.isArray(e)?e.forEach(s):s(e),this}}Zp.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);W.reduceDescriptors(Zp.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});W.freezeMethods(Zp);const qi=Zp;function Cg(t,e){const n=this||__,r=e||n,i=qi.from(r.headers);let s=r.data;return W.forEach(t,function(a){s=a.call(n,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function SP(t){return!!(t&&t.__CANCEL__)}function sd(t,e,n){Ge.call(this,t??"canceled",Ge.ERR_CANCELED,e,n),this.name="CanceledError"}W.inherits(sd,Ge,{__CANCEL__:!0});function p8(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new Ge("Request failed with status code "+n.status,[Ge.ERR_BAD_REQUEST,Ge.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const m8=mi.hasStandardBrowserEnv?{write(t,e,n,r,i,s){const o=[t+"="+encodeURIComponent(e)];W.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),W.isString(r)&&o.push("path="+r),W.isString(i)&&o.push("domain="+i),s===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function g8(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function y8(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}function IP(t,e){return t&&!g8(e)?y8(t,e):e}const v8=mi.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let r;function i(s){let o=s;return e&&(n.setAttribute("href",o),o=n.href),n.setAttribute("href",o),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=i(window.location.href),function(o){const a=W.isString(o)?i(o):o;return a.protocol===r.protocol&&a.host===r.host}}():function(){return function(){return!0}}();function w8(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function _8(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,s=0,o;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),d=r[s];o||(o=c),n[i]=l,r[i]=c;let f=s,m=0;for(;f!==i;)m+=n[f++],f=f%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),c-o<e)return;const v=d&&c-d;return v?Math.round(m*1e3/v):void 0}}function GE(t,e){let n=0;const r=_8(50,250);return i=>{const s=i.loaded,o=i.lengthComputable?i.total:void 0,a=s-n,l=r(a),c=s<=o;n=s;const d={loaded:s,total:o,progress:o?s/o:void 0,bytes:a,rate:l||void 0,estimated:l&&o&&c?(o-s)/l:void 0,event:i};d[e?"download":"upload"]=!0,t(d)}}const x8=typeof XMLHttpRequest<"u",b8=x8&&function(t){return new Promise(function(n,r){let i=t.data;const s=qi.from(t.headers).normalize();let{responseType:o,withXSRFToken:a}=t,l;function c(){t.cancelToken&&t.cancelToken.unsubscribe(l),t.signal&&t.signal.removeEventListener("abort",l)}let d;if(W.isFormData(i)){if(mi.hasStandardBrowserEnv||mi.hasStandardBrowserWebWorkerEnv)s.setContentType(!1);else if((d=s.getContentType())!==!1){const[b,...E]=d?d.split(";").map(x=>x.trim()).filter(Boolean):[];s.setContentType([b||"multipart/form-data",...E].join("; "))}}let f=new XMLHttpRequest;if(t.auth){const b=t.auth.username||"",E=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";s.set("Authorization","Basic "+btoa(b+":"+E))}const m=IP(t.baseURL,t.url);f.open(t.method.toUpperCase(),xP(m,t.params,t.paramsSerializer),!0),f.timeout=t.timeout;function v(){if(!f)return;const b=qi.from("getAllResponseHeaders"in f&&f.getAllResponseHeaders()),x={data:!o||o==="text"||o==="json"?f.responseText:f.response,status:f.status,statusText:f.statusText,headers:b,config:t,request:f};p8(function(T){n(T),c()},function(T){r(T),c()},x),f=null}if("onloadend"in f?f.onloadend=v:f.onreadystatechange=function(){!f||f.readyState!==4||f.status===0&&!(f.responseURL&&f.responseURL.indexOf("file:")===0)||setTimeout(v)},f.onabort=function(){f&&(r(new Ge("Request aborted",Ge.ECONNABORTED,t,f)),f=null)},f.onerror=function(){r(new Ge("Network Error",Ge.ERR_NETWORK,t,f)),f=null},f.ontimeout=function(){let E=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const x=t.transitional||bP;t.timeoutErrorMessage&&(E=t.timeoutErrorMessage),r(new Ge(E,x.clarifyTimeoutError?Ge.ETIMEDOUT:Ge.ECONNABORTED,t,f)),f=null},mi.hasStandardBrowserEnv&&(a&&W.isFunction(a)&&(a=a(t)),a||a!==!1&&v8(m))){const b=t.xsrfHeaderName&&t.xsrfCookieName&&m8.read(t.xsrfCookieName);b&&s.set(t.xsrfHeaderName,b)}i===void 0&&s.setContentType(null),"setRequestHeader"in f&&W.forEach(s.toJSON(),function(E,x){f.setRequestHeader(x,E)}),W.isUndefined(t.withCredentials)||(f.withCredentials=!!t.withCredentials),o&&o!=="json"&&(f.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&f.addEventListener("progress",GE(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&f.upload&&f.upload.addEventListener("progress",GE(t.onUploadProgress)),(t.cancelToken||t.signal)&&(l=b=>{f&&(r(!b||b.type?new sd(null,t,f):b),f.abort(),f=null)},t.cancelToken&&t.cancelToken.subscribe(l),t.signal&&(t.signal.aborted?l():t.signal.addEventListener("abort",l)));const w=w8(m);if(w&&mi.protocols.indexOf(w)===-1){r(new Ge("Unsupported protocol "+w+":",Ge.ERR_BAD_REQUEST,t));return}f.send(i||null)})},Sv={http:q$,xhr:b8};W.forEach(Sv,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const QE=t=>`- ${t}`,E8=t=>W.isFunction(t)||t===null||t===!1,CP={getAdapter:t=>{t=W.isArray(t)?t:[t];const{length:e}=t;let n,r;const i={};for(let s=0;s<e;s++){n=t[s];let o;if(r=n,!E8(n)&&(r=Sv[(o=String(n)).toLowerCase()],r===void 0))throw new Ge(`Unknown adapter '${o}'`);if(r)break;i[o||"#"+s]=r}if(!r){const s=Object.entries(i).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=e?s.length>1?`since :
`+s.map(QE).join(`
`):" "+QE(s[0]):"as no adapter specified";throw new Ge("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:Sv};function Ag(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new sd(null,t)}function YE(t){return Ag(t),t.headers=qi.from(t.headers),t.data=Cg.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),CP.getAdapter(t.adapter||__.adapter)(t).then(function(r){return Ag(t),r.data=Cg.call(t,t.transformResponse,r),r.headers=qi.from(r.headers),r},function(r){return SP(r)||(Ag(t),r&&r.response&&(r.response.data=Cg.call(t,t.transformResponse,r.response),r.response.headers=qi.from(r.response.headers))),Promise.reject(r)})}const XE=t=>t instanceof qi?t.toJSON():t;function bl(t,e){e=e||{};const n={};function r(c,d,f){return W.isPlainObject(c)&&W.isPlainObject(d)?W.merge.call({caseless:f},c,d):W.isPlainObject(d)?W.merge({},d):W.isArray(d)?d.slice():d}function i(c,d,f){if(W.isUndefined(d)){if(!W.isUndefined(c))return r(void 0,c,f)}else return r(c,d,f)}function s(c,d){if(!W.isUndefined(d))return r(void 0,d)}function o(c,d){if(W.isUndefined(d)){if(!W.isUndefined(c))return r(void 0,c)}else return r(void 0,d)}function a(c,d,f){if(f in e)return r(c,d);if(f in t)return r(void 0,c)}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(c,d)=>i(XE(c),XE(d),!0)};return W.forEach(Object.keys(Object.assign({},t,e)),function(d){const f=l[d]||i,m=f(t[d],e[d],d);W.isUndefined(m)&&f!==a||(n[d]=m)}),n}const AP="1.6.2",x_={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{x_[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const JE={};x_.transitional=function(e,n,r){function i(s,o){return"[Axios v"+AP+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return(s,o,a)=>{if(e===!1)throw new Ge(i(o," has been removed"+(n?" in "+n:"")),Ge.ERR_DEPRECATED);return n&&!JE[o]&&(JE[o]=!0,console.warn(i(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,o,a):!0}};function T8(t,e,n){if(typeof t!="object")throw new Ge("options must be an object",Ge.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const s=r[i],o=e[s];if(o){const a=t[s],l=a===void 0||o(a,s,t);if(l!==!0)throw new Ge("option "+s+" must be "+l,Ge.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Ge("Unknown option "+s,Ge.ERR_BAD_OPTION)}}const Iv={assertOptions:T8,validators:x_},xs=Iv.validators;class kf{constructor(e){this.defaults=e,this.interceptors={request:new qE,response:new qE}}request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=bl(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:s}=n;r!==void 0&&Iv.assertOptions(r,{silentJSONParsing:xs.transitional(xs.boolean),forcedJSONParsing:xs.transitional(xs.boolean),clarifyTimeoutError:xs.transitional(xs.boolean)},!1),i!=null&&(W.isFunction(i)?n.paramsSerializer={serialize:i}:Iv.assertOptions(i,{encode:xs.function,serialize:xs.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=s&&W.merge(s.common,s[n.method]);s&&W.forEach(["delete","get","head","post","put","patch","common"],w=>{delete s[w]}),n.headers=qi.concat(o,s);const a=[];let l=!0;this.interceptors.request.forEach(function(b){typeof b.runWhen=="function"&&b.runWhen(n)===!1||(l=l&&b.synchronous,a.unshift(b.fulfilled,b.rejected))});const c=[];this.interceptors.response.forEach(function(b){c.push(b.fulfilled,b.rejected)});let d,f=0,m;if(!l){const w=[YE.bind(this),void 0];for(w.unshift.apply(w,a),w.push.apply(w,c),m=w.length,d=Promise.resolve(n);f<m;)d=d.then(w[f++],w[f++]);return d}m=a.length;let v=n;for(f=0;f<m;){const w=a[f++],b=a[f++];try{v=w(v)}catch(E){b.call(this,E);break}}try{d=YE.call(this,v)}catch(w){return Promise.reject(w)}for(f=0,m=c.length;f<m;)d=d.then(c[f++],c[f++]);return d}getUri(e){e=bl(this.defaults,e);const n=IP(e.baseURL,e.url);return xP(n,e.params,e.paramsSerializer)}}W.forEach(["delete","get","head","options"],function(e){kf.prototype[e]=function(n,r){return this.request(bl(r||{},{method:e,url:n,data:(r||{}).data}))}});W.forEach(["post","put","patch"],function(e){function n(r){return function(s,o,a){return this.request(bl(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}kf.prototype[e]=n(),kf.prototype[e+"Form"]=n(!0)});const Th=kf;class b_{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(a=>{r.subscribe(a),s=a}).then(i);return o.cancel=function(){r.unsubscribe(s)},o},e(function(s,o,a){r.reason||(r.reason=new sd(s,o,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}static source(){let e;return{token:new b_(function(i){e=i}),cancel:e}}}const S8=b_;function I8(t){return function(n){return t.apply(null,n)}}function C8(t){return W.isObject(t)&&t.isAxiosError===!0}const Cv={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Cv).forEach(([t,e])=>{Cv[e]=t});const A8=Cv;function kP(t){const e=new Th(t),n=cP(Th.prototype.request,e);return W.extend(n,Th.prototype,e,{allOwnKeys:!0}),W.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return kP(bl(t,i))},n}const Ft=kP(__);Ft.Axios=Th;Ft.CanceledError=sd;Ft.CancelToken=S8;Ft.isCancel=SP;Ft.VERSION=AP;Ft.toFormData=Jp;Ft.AxiosError=Ge;Ft.Cancel=Ft.CanceledError;Ft.all=function(e){return Promise.all(e)};Ft.spread=I8;Ft.isAxiosError=C8;Ft.mergeConfig=bl;Ft.AxiosHeaders=qi;Ft.formToJSON=t=>TP(W.isHTMLForm(t)?new FormData(t):t);Ft.getAdapter=CP.getAdapter;Ft.HttpStatusCode=A8;Ft.default=Ft;const Av=Ft,yo=Av.create({baseURL:"https://vitalfitapi.onrender.com"}),em=(t=1)=>async(e,n)=>{e(g_());const{filters:r,search:i,sorts:s}=n().product,{category:o,minPrice:a,maxPrice:l}=r,{sortByName:c,sortByPrice:d}=s,{data:f}=await yo.get("/",{params:{search:i,category:o,minPrice:a,maxPrice:l,sortByName:c,sortByPrice:d}});return e(r$(f)),e(lP(t)),f},k8=t=>async e=>{e(g_());const{data:n}=await yo.get(`/product/${t}`);e(s$(n))},P8=()=>async t=>{const{data:e}=await yo.get("/category");t(i$(e))},ZE=(t=1)=>async e=>{e(lP(t))},kv=t=>async e=>{e(o$(t))},Sh=()=>async t=>{t(a$())},Pv=()=>async t=>{t(d$())},Ih=()=>async t=>{t(u$())},R8=t=>async e=>{e(l$(t))},N8=t=>async e=>{e(c$(t))},O8=t=>async e=>{e(g_()),await yo.delete(`/product/${t}`),e(em())},D8=(t,e)=>async n=>{try{const r=await yo.post("/",t);e(!0),console.log(r)}catch(r){console.log("Error:",r.message),e(!1)}},PP=(t,e)=>async n=>{try{const r=await yo.put(`/product/${e}`,t);console.log(r.data)}catch(r){console.log("Error:",r.message)}},j8=t=>async e=>{try{const n=await yo.put(`/activar-desactivar/${t}`);console.log(n.data)}catch(n){console.log("Error:",n.message)}},L8=D5({reducer:{product:aP.reducer,orders:oP.reducer,auth:aI.reducer}});/**
 * @remix-run/router v1.13.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Cu(){return Cu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cu.apply(this,arguments)}var Ds;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ds||(Ds={}));const eT="popstate";function M8(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return Pf("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Au(i)}return RP(e,n,null,t)}function V8(t){t===void 0&&(t={});function e(i,s){let{pathname:o="/",search:a="",hash:l=""}=ha(i.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),Pf("",{pathname:o,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){let o=i.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let l=i.location.href,c=l.indexOf("#");a=c===-1?l:l.slice(0,c)}return a+"#"+(typeof s=="string"?s:Au(s))}function r(i,s){tm(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return RP(e,n,r,t)}function xt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function tm(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function F8(){return Math.random().toString(36).substr(2,8)}function tT(t,e){return{usr:t.state,key:t.key,idx:e}}function Pf(t,e,n,r){return n===void 0&&(n=null),Cu({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ha(e):e,{state:n,key:e&&e.key||r||F8()})}function Au(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ha(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function RP(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Ds.Pop,l=null,c=d();c==null&&(c=0,o.replaceState(Cu({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function f(){a=Ds.Pop;let E=d(),x=E==null?null:E-c;c=E,l&&l({action:a,location:b.location,delta:x})}function m(E,x){a=Ds.Push;let _=Pf(b.location,E,x);n&&n(_,E),c=d()+1;let T=tT(_,c),R=b.createHref(_);try{o.pushState(T,"",R)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;i.location.assign(R)}s&&l&&l({action:a,location:b.location,delta:1})}function v(E,x){a=Ds.Replace;let _=Pf(b.location,E,x);n&&n(_,E),c=d();let T=tT(_,c),R=b.createHref(_);o.replaceState(T,"",R),s&&l&&l({action:a,location:b.location,delta:0})}function w(E){let x=i.location.origin!=="null"?i.location.origin:i.location.href,_=typeof E=="string"?E:Au(E);return xt(x,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,x)}let b={get action(){return a},get location(){return t(i,o)},listen(E){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(eT,f),l=E,()=>{i.removeEventListener(eT,f),l=null}},createHref(E){return e(i,E)},createURL:w,encodeLocation(E){let x=w(E);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:m,replace:v,go(E){return o.go(E)}};return b}var nT;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(nT||(nT={}));function U8(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?ha(e):e,i=ku(r.pathname||"/",n);if(i==null)return null;let s=NP(t);B8(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=Y8(s[a],J8(i));return o}function NP(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(xt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Qs([r,l.relativePath]),d=n.concat(l);s.children&&s.children.length>0&&(xt(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),NP(s.children,e,d,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:G8(c,s.index),routesMeta:d})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of OP(s.path))i(s,o,l)}),e}function OP(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=OP(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function B8(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Q8(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const $8=/^:\w+$/,z8=3,H8=2,W8=1,q8=10,K8=-2,rT=t=>t==="*";function G8(t,e){let n=t.split("/"),r=n.length;return n.some(rT)&&(r+=K8),e&&(r+=H8),n.filter(i=>!rT(i)).reduce((i,s)=>i+($8.test(s)?z8:s===""?W8:q8),r)}function Q8(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function Y8(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,c=i==="/"?e:e.slice(i.length)||"/",d=Rv({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},c);if(!d)return null;Object.assign(r,d.params);let f=a.route;s.push({params:r,pathname:Qs([i,d.pathname]),pathnameBase:nz(Qs([i,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(i=Qs([i,d.pathnameBase]))}return s}function Rv(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=X8(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,d,f)=>{let{paramName:m,isOptional:v}=d;if(m==="*"){let b=a[f]||"";o=s.slice(0,s.length-b.length).replace(/(.)\/+$/,"$1")}const w=a[f];return v&&!w?c[m]=void 0:c[m]=Z8(w||"",m),c},{}),pathname:s,pathnameBase:o,pattern:t}}function X8(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),tm(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function J8(t){try{return decodeURI(t)}catch(e){return tm(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Z8(t,e){try{return decodeURIComponent(t)}catch(n){return tm(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function ku(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function ez(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?ha(t):t;return{pathname:n?n.startsWith("/")?n:tz(n,e):e,search:rz(r),hash:iz(i)}}function tz(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function kg(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function E_(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function T_(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=ha(t):(i=Cu({},t),xt(!i.pathname||!i.pathname.includes("?"),kg("?","pathname","search",i)),xt(!i.pathname||!i.pathname.includes("#"),kg("#","pathname","hash",i)),xt(!i.search||!i.search.includes("#"),kg("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else if(r){let f=e[e.length-1].replace(/^\//,"").split("/");if(o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),f.pop();i.pathname=m.join("/")}a="/"+f.join("/")}else{let f=e.length-1;if(o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),f-=1;i.pathname=m.join("/")}a=f>=0?e[f]:"/"}let l=ez(i,a),c=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const Qs=t=>t.join("/").replace(/\/\/+/g,"/"),nz=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),rz=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,iz=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function sz(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const DP=["post","put","patch","delete"];new Set(DP);const oz=["get",...DP];new Set(oz);/**
 * React Router v6.20.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Rf(){return Rf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Rf.apply(this,arguments)}const nm=C.createContext(null),jP=C.createContext(null),fa=C.createContext(null),rm=C.createContext(null),as=C.createContext({outlet:null,matches:[],isDataRoute:!1}),LP=C.createContext(null);function az(t,e){let{relative:n}=e===void 0?{}:e;Ml()||xt(!1);let{basename:r,navigator:i}=C.useContext(fa),{hash:s,pathname:o,search:a}=im(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Qs([r,o])),i.createHref({pathname:l,search:a,hash:s})}function Ml(){return C.useContext(rm)!=null}function Vl(){return Ml()||xt(!1),C.useContext(rm).location}function MP(t){C.useContext(fa).static||C.useLayoutEffect(t)}function ls(){let{isDataRoute:t}=C.useContext(as);return t?_z():lz()}function lz(){Ml()||xt(!1);let t=C.useContext(nm),{basename:e,navigator:n}=C.useContext(fa),{matches:r}=C.useContext(as),{pathname:i}=Vl(),s=JSON.stringify(E_(r).map(l=>l.pathnameBase)),o=C.useRef(!1);return MP(()=>{o.current=!0}),C.useCallback(function(l,c){if(c===void 0&&(c={}),!o.current)return;if(typeof l=="number"){n.go(l);return}let d=T_(l,JSON.parse(s),i,c.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Qs([e,d.pathname])),(c.replace?n.replace:n.push)(d,c.state,c)},[e,n,s,i,t])}function S_(){let{matches:t}=C.useContext(as),e=t[t.length-1];return e?e.params:{}}function im(t,e){let{relative:n}=e===void 0?{}:e,{matches:r}=C.useContext(as),{pathname:i}=Vl(),s=JSON.stringify(E_(r).map(o=>o.pathnameBase));return C.useMemo(()=>T_(t,JSON.parse(s),i,n==="path"),[t,s,i,n])}function cz(t,e){return uz(t,e)}function uz(t,e,n){Ml()||xt(!1);let{navigator:r}=C.useContext(fa),{matches:i}=C.useContext(as),s=i[i.length-1],o=s?s.params:{};s&&s.pathname;let a=s?s.pathnameBase:"/";s&&s.route;let l=Vl(),c;if(e){var d;let b=typeof e=="string"?ha(e):e;a==="/"||(d=b.pathname)!=null&&d.startsWith(a)||xt(!1),c=b}else c=l;let f=c.pathname||"/",m=a==="/"?f:f.slice(a.length)||"/",v=U8(t,{pathname:m}),w=mz(v&&v.map(b=>Object.assign({},b,{params:Object.assign({},o,b.params),pathname:Qs([a,r.encodeLocation?r.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?a:Qs([a,r.encodeLocation?r.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),i,n);return e&&w?C.createElement(rm.Provider,{value:{location:Rf({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:Ds.Pop}},w):w}function dz(){let t=wz(),e=sz(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},e),n?C.createElement("pre",{style:i},n):null,s)}const hz=C.createElement(dz,null);class fz extends C.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?C.createElement(as.Provider,{value:this.props.routeContext},C.createElement(LP.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function pz(t){let{routeContext:e,match:n,children:r}=t,i=C.useContext(nm);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),C.createElement(as.Provider,{value:e},r)}function mz(t,e,n){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),t==null){var i;if((i=n)!=null&&i.errors)t=n.matches;else return null}let s=t,o=(r=n)==null?void 0:r.errors;if(o!=null){let a=s.findIndex(l=>l.route.id&&(o==null?void 0:o[l.route.id]));a>=0||xt(!1),s=s.slice(0,Math.min(s.length,a+1))}return s.reduceRight((a,l,c)=>{let d=l.route.id?o==null?void 0:o[l.route.id]:null,f=null;n&&(f=l.route.errorElement||hz);let m=e.concat(s.slice(0,c+1)),v=()=>{let w;return d?w=f:l.route.Component?w=C.createElement(l.route.Component,null):l.route.element?w=l.route.element:w=a,C.createElement(pz,{match:l,routeContext:{outlet:a,matches:m,isDataRoute:n!=null},children:w})};return n&&(l.route.ErrorBoundary||l.route.errorElement||c===0)?C.createElement(fz,{location:n.location,revalidation:n.revalidation,component:f,error:d,children:v(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):v()},null)}var VP=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(VP||{}),Nf=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Nf||{});function gz(t){let e=C.useContext(nm);return e||xt(!1),e}function yz(t){let e=C.useContext(jP);return e||xt(!1),e}function vz(t){let e=C.useContext(as);return e||xt(!1),e}function FP(t){let e=vz(),n=e.matches[e.matches.length-1];return n.route.id||xt(!1),n.route.id}function wz(){var t;let e=C.useContext(LP),n=yz(Nf.UseRouteError),r=FP(Nf.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function _z(){let{router:t}=gz(VP.UseNavigateStable),e=FP(Nf.UseNavigateStable),n=C.useRef(!1);return MP(()=>{n.current=!0}),C.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Rf({fromRouteId:e},s)))},[t,e])}function I_(t){let{to:e,replace:n,state:r,relative:i}=t;Ml()||xt(!1);let{matches:s}=C.useContext(as),{pathname:o}=Vl(),a=ls(),l=T_(e,E_(s).map(d=>d.pathnameBase),o,i==="path"),c=JSON.stringify(l);return C.useEffect(()=>a(JSON.parse(c),{replace:n,state:r,relative:i}),[a,c,i,n,r]),null}function vt(t){xt(!1)}function UP(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Ds.Pop,navigator:s,static:o=!1}=t;Ml()&&xt(!1);let a=e.replace(/^\/*/,"/"),l=C.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof r=="string"&&(r=ha(r));let{pathname:c="/",search:d="",hash:f="",state:m=null,key:v="default"}=r,w=C.useMemo(()=>{let b=ku(c,a);return b==null?null:{location:{pathname:b,search:d,hash:f,state:m,key:v},navigationType:i}},[a,c,d,f,m,v,i]);return w==null?null:C.createElement(fa.Provider,{value:l},C.createElement(rm.Provider,{children:n,value:w}))}function C_(t){let{children:e,location:n}=t;return cz(Nv(e),n)}new Promise(()=>{});function Nv(t,e){e===void 0&&(e=[]);let n=[];return C.Children.forEach(t,(r,i)=>{if(!C.isValidElement(r))return;let s=[...e,i];if(r.type===C.Fragment){n.push.apply(n,Nv(r.props.children,s));return}r.type!==vt&&xt(!1),!r.props.index||!r.props.children||xt(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Nv(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.20.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Of(){return Of=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Of.apply(this,arguments)}function BP(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function xz(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function bz(t,e){return t.button===0&&(!e||e==="_self")&&!xz(t)}const Ez=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],Tz=["aria-current","caseSensitive","className","end","style","to","unstable_viewTransition","children"],Sz=C.createContext({isTransitioning:!1}),Iz="startTransition",Df=Uc[Iz];function Cz(t){let{basename:e,children:n,future:r,window:i}=t,s=C.useRef();s.current==null&&(s.current=M8({window:i,v5Compat:!0}));let o=s.current,[a,l]=C.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},d=C.useCallback(f=>{c&&Df?Df(()=>l(f)):l(f)},[l,c]);return C.useLayoutEffect(()=>o.listen(d),[o,d]),C.createElement(UP,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o})}function Az(t){let{basename:e,children:n,future:r,window:i}=t,s=C.useRef();s.current==null&&(s.current=V8({window:i,v5Compat:!0}));let o=s.current,[a,l]=C.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},d=C.useCallback(f=>{c&&Df?Df(()=>l(f)):l(f)},[l,c]);return C.useLayoutEffect(()=>o.listen(d),[o,d]),C.createElement(UP,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o})}const kz=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Pz=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,$n=C.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:d,unstable_viewTransition:f}=e,m=BP(e,Ez),{basename:v}=C.useContext(fa),w,b=!1;if(typeof c=="string"&&Pz.test(c)&&(w=c,kz))try{let T=new URL(window.location.href),R=c.startsWith("//")?new URL(T.protocol+c):new URL(c),D=ku(R.pathname,v);R.origin===T.origin&&D!=null?c=D+R.search+R.hash:b=!0}catch{}let E=az(c,{relative:i}),x=Nz(c,{replace:o,state:a,target:l,preventScrollReset:d,relative:i,unstable_viewTransition:f});function _(T){r&&r(T),T.defaultPrevented||x(T)}return C.createElement("a",Of({},m,{href:w||E,onClick:b||s?r:_,ref:n,target:l}))}),Ys=C.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:o=!1,style:a,to:l,unstable_viewTransition:c,children:d}=e,f=BP(e,Tz),m=im(l,{relative:f.relative}),v=Vl(),w=C.useContext(jP),{navigator:b}=C.useContext(fa),E=w!=null&&Oz(m)&&c===!0,x=b.encodeLocation?b.encodeLocation(m).pathname:m.pathname,_=v.pathname,T=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;i||(_=_.toLowerCase(),T=T?T.toLowerCase():null,x=x.toLowerCase());const R=x!=="/"&&x.endsWith("/")?x.length-1:x.length;let D=_===x||!o&&_.startsWith(x)&&_.charAt(R)==="/",B=T!=null&&(T===x||!o&&T.startsWith(x)&&T.charAt(x.length)==="/"),$={isActive:D,isPending:B,isTransitioning:E},H=D?r:void 0,se;typeof s=="function"?se=s($):se=[s,D?"active":null,B?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let re=typeof a=="function"?a($):a;return C.createElement($n,Of({},f,{"aria-current":H,className:se,ref:n,style:re,to:l,unstable_viewTransition:c}),typeof d=="function"?d($):d)});var Ov;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Ov||(Ov={}));var iT;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(iT||(iT={}));function Rz(t){let e=C.useContext(nm);return e||xt(!1),e}function Nz(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a}=e===void 0?{}:e,l=ls(),c=Vl(),d=im(t,{relative:o});return C.useCallback(f=>{if(bz(f,n)){f.preventDefault();let m=r!==void 0?r:Au(c)===Au(d);l(t,{replace:m,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a})}},[c,l,d,r,i,n,t,s,o,a])}function Oz(t,e){e===void 0&&(e={});let n=C.useContext(Sz);n==null&&xt(!1);let{basename:r}=Rz(Ov.useViewTransitionState),i=im(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=ku(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=ku(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Rv(i.pathname,o)!=null||Rv(i.pathname,s)!=null}const A_=({className:t})=>u.jsxs("svg",{className:t,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[u.jsx("path",{d:"M14.5 9.50002L9.5 14.5M9.49998 9.5L14.5 14.5",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),u.jsx("path",{d:"M7 3.33782C8.47087 2.48697 10.1786 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12C2 10.1786 2.48697 8.47087 3.33782 7",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"})]}),Dz=({className:t})=>u.jsx("svg",{className:t,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.48 3.499a.562.562 0 0 1 1.04 0l2.125 5.111a.563.563 0 0 0 .475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 0 0-.182.557l1.285 5.385a.562.562 0 0 1-.84.61l-4.725-2.885a.562.562 0 0 0-.586 0L6.982 20.54a.562.562 0 0 1-.84-.61l1.285-5.386a.562.562 0 0 0-.182-.557l-4.204-3.602a.562.562 0 0 1 .321-.988l5.518-.442a.563.563 0 0 0 .475-.345L11.48 3.5Z"})}),Fl=({className:t})=>u.jsx(Ys,{to:"/home",children:u.jsxs("svg",{className:t,viewBox:"0 0 290 578",xmlns:"http://www.w3.org/2000/svg",children:[u.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M116.763 22.5315C76.1601 29.4039 42.3028 53.1207 23.763 72.8144L9 58.6371C29.8444 36.4954 67.4896 10.0098 113.396 2.23973C159.964 -5.64222 214.014 5.94546 266 58.4514L251.595 73C204.171 25.1011 156.705 15.7711 116.763 22.5315Z",fill:"#D74545"}),u.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M158.237 556.086C198.84 549.402 232.697 526.335 251.237 507.181L266 520.969C245.156 542.505 207.51 568.264 161.604 575.822C115.036 583.488 60.9863 572.217 9 521.15L23.4046 507C70.8293 553.587 118.295 562.661 158.237 556.086Z",fill:"#D74545"}),u.jsx("path",{d:"M236.073 95.1334H255.702V202.2H288V220.045H236.073V95.1334Z",fill:"#D74545"}),u.jsx("path",{d:"M179.618 95.1334H206.207L226.549 220.045H206.921L203.352 195.241V195.598H181.046L177.477 220.045H159.276L179.618 95.1334ZM201.032 178.645L192.288 116.904H191.931L183.366 178.645H201.032Z",fill:"#D74545"}),u.jsx("path",{d:"M122.987 112.978H102.466V95.1334H163.137V112.978H142.616V220.045H122.987V112.978Z",fill:"#D74545"}),u.jsx("path",{d:"M73.3116 95.1334H92.9405V220.045H73.3116V95.1334Z",fill:"#D74545"}),u.jsx("path",{d:"M0 95.1334H19.8074L32.6554 192.029H33.0123L45.8603 95.1334H63.8832L44.968 220.045H18.9151L0 95.1334Z",fill:"#D74545"}),u.jsx("path",{d:"M211.507 267.706H172.41V233.709H288V267.706H248.903V471.688H211.507V267.706Z",fill:"#475157"}),u.jsx("path",{d:"M116.865 233.709H154.261V471.688H116.865V233.709Z",fill:"#475157"}),u.jsx("path",{d:"M0 233.709H98.9313V267.706H37.3967V334H85.6725V367.997H37.3967V471.688H0V233.709Z",fill:"#475157"})]})}),jz=({className:t})=>u.jsxs("svg",{className:t,viewBox:"0 0 76 151",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[u.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M30.886 5.88627C20.3124 7.68164 11.4953 13.8776 6.66729 19.0224L2.82275 15.3187C8.25098 9.53425 18.0544 2.61501 30.0092 0.58512C42.1362 -1.474 56.2118 1.55323 69.7498 15.2702L65.9987 19.0709C53.6485 6.55756 41.2875 4.12013 30.886 5.88627Z",fill:"white"}),u.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M41.6867 145.275C52.2604 143.529 61.0774 137.503 65.9055 132.499L69.75 136.101C64.3218 141.727 54.5183 148.457 42.5635 150.431C30.4365 152.434 16.361 149.489 2.82291 136.148L6.5741 132.452C18.9243 144.622 31.2853 146.993 41.6867 145.275Z",fill:"white"}),u.jsx("path",{d:"M61.9561 24.8533H67.0677V52.824H75.4788V57.4858H61.9561V24.8533Z",fill:"white"}),u.jsx("path",{d:"M47.2546 24.8533H54.1786L59.4762 57.4858H54.3645L53.4351 51.0059V51.0991H47.6264L46.697 57.4858H41.957L47.2546 24.8533ZM52.831 46.6704L50.554 30.5407H50.461L48.2305 46.6704H52.831Z",fill:"white"}),u.jsx("path",{d:"M32.5071 29.5151H27.1631V24.8533H42.9629V29.5151H37.6188V57.4858H32.5071V29.5151Z",fill:"white"}),u.jsx("path",{d:"M19.5708 24.8533H24.6825V57.4858H19.5708V24.8533Z",fill:"white"}),u.jsx("path",{d:"M0.479004 24.8533H5.63717L8.98301 50.1668H9.07595L12.4218 24.8533H17.1152L12.1894 57.4858H5.40482L0.479004 24.8533Z",fill:"white"}),u.jsx("path",{d:"M55.5588 69.9372H45.3774V61.0557H75.479V69.9372H65.2976V123.227H55.5588V69.9372Z",fill:"#D9D9D9"}),u.jsx("path",{d:"M30.9126 61.0557H40.6513V123.227H30.9126V61.0557Z",fill:"#D9D9D9"}),u.jsx("path",{d:"M0.479004 61.0557H26.2424V69.9372H10.2177V87.2563H22.7895V96.1379H10.2177V123.227H0.479004V61.0557Z",fill:"#D9D9D9"})]}),Lz=({className:t})=>u.jsxs("svg",{className:t,viewBox:"0 0 42 43",xmlns:"http://www.w3.org/2000/svg",children:[u.jsx("path",{d:"M17.5 39C19.433 39 21 37.433 21 35.5C21 33.567 19.433 32 17.5 32C15.567 32 14 33.567 14 35.5C14 37.433 15.567 39 17.5 39Z",fill:"current"}),u.jsx("path",{d:"M28 39C29.933 39 31.5 37.433 31.5 35.5C31.5 33.567 29.933 32 28 32C26.067 32 24.5 33.567 24.5 35.5C24.5 37.433 26.067 39 28 39Z",fill:"current"}),u.jsx("path",{d:"M37.8 14.15C37.1 13.275 36.05 12.75 35 12.75H15.05L14 6.8C13.65 5.225 12.25 4 10.5 4H7C5.075 4 3.5 5.575 3.5 7.5C3.5 9.425 5.075 11 7 11H7.525L10.5 25.7C10.85 27.45 12.25 28.5 14 28.5H31.5C33.075 28.5 34.3 27.45 34.825 26.05L38.325 17.3C38.675 16.25 38.5 15.2 37.8 14.15Z",fill:"current"})]}),Mz=({className:t})=>u.jsxs("svg",{className:t,viewBox:"0 0 42 43",xmlns:"http://www.w3.org/2000/svg",children:[u.jsx("path",{d:"M29.75 16.25C29.75 13.8333 28.77 11.6458 27.188 10.0638C25.6043 8.48 23.4167 7.5 21 7.5C18.5833 7.5 16.3957 8.48 14.812 10.0638C13.23 11.6458 12.25 13.8333 12.25 16.25C12.25 18.6667 13.23 20.8542 14.812 22.4362C16.3957 24.02 18.5833 25 21 25C23.4167 25 25.6043 24.02 27.188 22.4362C28.77 20.8542 29.75 18.6667 29.75 16.25Z",fill:"current"}),u.jsx("path",{d:"M10.5 33.75C10.5 35.5 14.4375 37.25 21 37.25C27.1565 37.25 31.5 35.5 31.5 33.75C31.5 30.25 27.3805 26.75 21 26.75C14.4375 26.75 10.5 30.25 10.5 33.75Z",fill:"current"})]}),$P=({className:t})=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"})}),Vz=({className:t})=>u.jsx("svg",{className:t,viewBox:"0 0 24 24",fill:"current",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12ZM8.96963 8.96965C9.26252 8.67676 9.73739 8.67676 10.0303 8.96965L12 10.9393L13.9696 8.96967C14.2625 8.67678 14.7374 8.67678 15.0303 8.96967C15.3232 9.26256 15.3232 9.73744 15.0303 10.0303L13.0606 12L15.0303 13.9696C15.3232 14.2625 15.3232 14.7374 15.0303 15.0303C14.7374 15.3232 14.2625 15.3232 13.9696 15.0303L12 13.0607L10.0303 15.0303C9.73742 15.3232 9.26254 15.3232 8.96965 15.0303C8.67676 14.7374 8.67676 14.2625 8.96965 13.9697L10.9393 12L8.96963 10.0303C8.67673 9.73742 8.67673 9.26254 8.96963 8.96965Z",fill:"current"})});var Fz=Object.defineProperty,Uz=(t,e,n)=>e in t?Fz(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Pg=(t,e,n)=>(Uz(t,typeof e!="symbol"?e+"":e,n),n);let Bz=class{constructor(){Pg(this,"current",this.detect()),Pg(this,"handoffState","pending"),Pg(this,"currentId",0)}set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},zo=new Bz,kr=(t,e)=>{zo.isServer?C.useEffect(t,e):C.useLayoutEffect(t,e)};function Xs(t){let e=C.useRef(t);return kr(()=>{e.current=t},[t]),e}let At=function(t){let e=Xs(t);return be.useCallback((...n)=>e.current(...n),[e])};function $z(t){typeof queueMicrotask=="function"?queueMicrotask(t):Promise.resolve().then(t).catch(e=>setTimeout(()=>{throw e}))}function ns(){let t=[],e={addEventListener(n,r,i,s){return n.addEventListener(r,i,s),e.add(()=>n.removeEventListener(r,i,s))},requestAnimationFrame(...n){let r=requestAnimationFrame(...n);return e.add(()=>cancelAnimationFrame(r))},nextFrame(...n){return e.requestAnimationFrame(()=>e.requestAnimationFrame(...n))},setTimeout(...n){let r=setTimeout(...n);return e.add(()=>clearTimeout(r))},microTask(...n){let r={current:!0};return $z(()=>{r.current&&n[0]()}),e.add(()=>{r.current=!1})},style(n,r,i){let s=n.style.getPropertyValue(r);return Object.assign(n.style,{[r]:i}),this.add(()=>{Object.assign(n.style,{[r]:s})})},group(n){let r=ns();return n(r),this.add(()=>r.dispose())},add(n){return t.push(n),()=>{let r=t.indexOf(n);if(r>=0)for(let i of t.splice(r,1))i()}},dispose(){for(let n of t.splice(0))n()}};return e}function sm(){let[t]=C.useState(ns);return C.useEffect(()=>()=>t.dispose(),[t]),t}function zz(){let t=typeof document>"u";return"useSyncExternalStore"in Uc?(e=>e.useSyncExternalStore)(Uc)(()=>()=>{},()=>!1,()=>!t):!1}function k_(){let t=zz(),[e,n]=C.useState(zo.isHandoffComplete);return e&&zo.isHandoffComplete===!1&&n(!1),C.useEffect(()=>{e!==!0&&n(!0)},[e]),C.useEffect(()=>zo.handoff(),[]),t?!1:e}var sT;let P_=(sT=be.useId)!=null?sT:function(){let t=k_(),[e,n]=be.useState(t?()=>zo.nextId():null);return kr(()=>{e===null&&n(zo.nextId())},[e]),e!=null?""+e:void 0};function lr(t,e,...n){if(t in e){let i=e[t];return typeof i=="function"?i(...n):i}let r=new Error(`Tried to handle "${t}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(i=>`"${i}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,lr),r}function om(t){return zo.isServer?null:t instanceof Node?t.ownerDocument:t!=null&&t.hasOwnProperty("current")&&t.current instanceof Node?t.current.ownerDocument:document}let Dv=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(t=>`${t}:not([tabindex='-1'])`).join(",");var jv=(t=>(t[t.First=1]="First",t[t.Previous=2]="Previous",t[t.Next=4]="Next",t[t.Last=8]="Last",t[t.WrapAround=16]="WrapAround",t[t.NoScroll=32]="NoScroll",t))(jv||{}),Hz=(t=>(t[t.Error=0]="Error",t[t.Overflow=1]="Overflow",t[t.Success=2]="Success",t[t.Underflow=3]="Underflow",t))(Hz||{}),Wz=(t=>(t[t.Previous=-1]="Previous",t[t.Next=1]="Next",t))(Wz||{});function zP(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(Dv)).sort((e,n)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var R_=(t=>(t[t.Strict=0]="Strict",t[t.Loose=1]="Loose",t))(R_||{});function N_(t,e=0){var n;return t===((n=om(t))==null?void 0:n.body)?!1:lr(e,{0(){return t.matches(Dv)},1(){let r=t;for(;r!==null;){if(r.matches(Dv))return!0;r=r.parentElement}return!1}})}function HP(t){let e=om(t);ns().nextFrame(()=>{e&&!N_(e.activeElement,0)&&Kz(t)})}var qz=(t=>(t[t.Keyboard=0]="Keyboard",t[t.Mouse=1]="Mouse",t))(qz||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",t=>{t.metaKey||t.altKey||t.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",t=>{t.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:t.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function Kz(t){t==null||t.focus({preventScroll:!0})}let Gz=["textarea","input"].join(",");function Qz(t){var e,n;return(n=(e=t==null?void 0:t.matches)==null?void 0:e.call(t,Gz))!=null?n:!1}function WP(t,e=n=>n){return t.slice().sort((n,r)=>{let i=e(n),s=e(r);if(i===null||s===null)return 0;let o=i.compareDocumentPosition(s);return o&Node.DOCUMENT_POSITION_FOLLOWING?-1:o&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function Yz(t,e){return Xz(zP(),e,{relativeTo:t})}function Xz(t,e,{sorted:n=!0,relativeTo:r=null,skipElements:i=[]}={}){let s=Array.isArray(t)?t.length>0?t[0].ownerDocument:document:t.ownerDocument,o=Array.isArray(t)?n?WP(t):t:zP(t);i.length>0&&o.length>1&&(o=o.filter(v=>!i.includes(v))),r=r??s.activeElement;let a=(()=>{if(e&5)return 1;if(e&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),l=(()=>{if(e&1)return 0;if(e&2)return Math.max(0,o.indexOf(r))-1;if(e&4)return Math.max(0,o.indexOf(r))+1;if(e&8)return o.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),c=e&32?{preventScroll:!0}:{},d=0,f=o.length,m;do{if(d>=f||d+f<=0)return 0;let v=l+d;if(e&16)v=(v+f)%f;else{if(v<0)return 3;if(v>=f)return 1}m=o[v],m==null||m.focus(c),d+=a}while(m!==s.activeElement);return e&6&&Qz(m)&&m.select(),2}function Jz(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function Zz(){return/Android/gi.test(window.navigator.userAgent)}function eH(){return Jz()||Zz()}function Jd(t,e,n){let r=Xs(e);C.useEffect(()=>{function i(s){r.current(s)}return document.addEventListener(t,i,n),()=>document.removeEventListener(t,i,n)},[t,n])}function tH(t,e,n){let r=Xs(e);C.useEffect(()=>{function i(s){r.current(s)}return window.addEventListener(t,i,n),()=>window.removeEventListener(t,i,n)},[t,n])}function nH(t,e,n=!0){let r=C.useRef(!1);C.useEffect(()=>{requestAnimationFrame(()=>{r.current=n})},[n]);function i(o,a){if(!r.current||o.defaultPrevented)return;let l=a(o);if(l===null||!l.getRootNode().contains(l)||!l.isConnected)return;let c=function d(f){return typeof f=="function"?d(f()):Array.isArray(f)||f instanceof Set?f:[f]}(t);for(let d of c){if(d===null)continue;let f=d instanceof HTMLElement?d:d.current;if(f!=null&&f.contains(l)||o.composed&&o.composedPath().includes(f))return}return!N_(l,R_.Loose)&&l.tabIndex!==-1&&o.preventDefault(),e(o,l)}let s=C.useRef(null);Jd("pointerdown",o=>{var a,l;r.current&&(s.current=((l=(a=o.composedPath)==null?void 0:a.call(o))==null?void 0:l[0])||o.target)},!0),Jd("mousedown",o=>{var a,l;r.current&&(s.current=((l=(a=o.composedPath)==null?void 0:a.call(o))==null?void 0:l[0])||o.target)},!0),Jd("click",o=>{eH()||s.current&&(i(o,()=>s.current),s.current=null)},!0),Jd("touchend",o=>i(o,()=>o.target instanceof HTMLElement?o.target:null),!0),tH("blur",o=>i(o,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function rH(...t){return C.useMemo(()=>om(...t),[...t])}function oT(t){var e;if(t.type)return t.type;let n=(e=t.as)!=null?e:"button";if(typeof n=="string"&&n.toLowerCase()==="button")return"button"}function iH(t,e){let[n,r]=C.useState(()=>oT(t));return kr(()=>{r(oT(t))},[t.type,t.as]),kr(()=>{n||e.current&&e.current instanceof HTMLButtonElement&&!e.current.hasAttribute("type")&&r("button")},[n,e]),n}let sH=Symbol();function Ul(...t){let e=C.useRef(t);C.useEffect(()=>{e.current=t},[t]);let n=At(r=>{for(let i of e.current)i!=null&&(typeof i=="function"?i(r):i.current=r)});return t.every(r=>r==null||(r==null?void 0:r[sH]))?void 0:n}function aT(t){return[t.screenX,t.screenY]}function oH(){let t=C.useRef([-1,-1]);return{wasMoved(e){let n=aT(e);return t.current[0]===n[0]&&t.current[1]===n[1]?!1:(t.current=n,!0)},update(e){t.current=aT(e)}}}function aH({container:t,accept:e,walk:n,enabled:r=!0}){let i=C.useRef(e),s=C.useRef(n);C.useEffect(()=>{i.current=e,s.current=n},[e,n]),kr(()=>{if(!t||!r)return;let o=om(t);if(!o)return;let a=i.current,l=s.current,c=Object.assign(f=>a(f),{acceptNode:a}),d=o.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,c,!1);for(;d.nextNode();)l(d.currentNode)},[t,r,i,s])}function jf(...t){return Array.from(new Set(t.flatMap(e=>typeof e=="string"?e.split(" "):[]))).filter(Boolean).join(" ")}var Lf=(t=>(t[t.None=0]="None",t[t.RenderStrategy=1]="RenderStrategy",t[t.Static=2]="Static",t))(Lf||{}),js=(t=>(t[t.Unmount=0]="Unmount",t[t.Hidden=1]="Hidden",t))(js||{});function Bl({ourProps:t,theirProps:e,slot:n,defaultTag:r,features:i,visible:s=!0,name:o,mergeRefs:a}){a=a??lH;let l=qP(e,t);if(s)return Zd(l,n,r,o,a);let c=i??0;if(c&2){let{static:d=!1,...f}=l;if(d)return Zd(f,n,r,o,a)}if(c&1){let{unmount:d=!0,...f}=l;return lr(d?0:1,{0(){return null},1(){return Zd({...f,hidden:!0,style:{display:"none"}},n,r,o,a)}})}return Zd(l,n,r,o,a)}function Zd(t,e={},n,r,i){let{as:s=n,children:o,refName:a="ref",...l}=Rg(t,["unmount","static"]),c=t.ref!==void 0?{[a]:t.ref}:{},d=typeof o=="function"?o(e):o;"className"in l&&l.className&&typeof l.className=="function"&&(l.className=l.className(e));let f={};if(e){let m=!1,v=[];for(let[w,b]of Object.entries(e))typeof b=="boolean"&&(m=!0),b===!0&&v.push(w);m&&(f["data-headlessui-state"]=v.join(" "))}if(s===C.Fragment&&Object.keys(lT(l)).length>0){if(!C.isValidElement(d)||Array.isArray(d)&&d.length>1)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(l).map(b=>`  - ${b}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(b=>`  - ${b}`).join(`
`)].join(`
`));let m=d.props,v=typeof(m==null?void 0:m.className)=="function"?(...b)=>jf(m==null?void 0:m.className(...b),l.className):jf(m==null?void 0:m.className,l.className),w=v?{className:v}:{};return C.cloneElement(d,Object.assign({},qP(d.props,lT(Rg(l,["ref"]))),f,c,{ref:i(d.ref,c.ref)},w))}return C.createElement(s,Object.assign({},Rg(l,["ref"]),s!==C.Fragment&&c,s!==C.Fragment&&f),d)}function lH(...t){return t.every(e=>e==null)?void 0:e=>{for(let n of t)n!=null&&(typeof n=="function"?n(e):n.current=e)}}function qP(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},n={};for(let r of t)for(let i in r)i.startsWith("on")&&typeof r[i]=="function"?(n[i]!=null||(n[i]=[]),n[i].push(r[i])):e[i]=r[i];if(e.disabled||e["aria-disabled"])return Object.assign(e,Object.fromEntries(Object.keys(n).map(r=>[r,void 0])));for(let r in n)Object.assign(e,{[r](i,...s){let o=n[r];for(let a of o){if((i instanceof Event||(i==null?void 0:i.nativeEvent)instanceof Event)&&i.defaultPrevented)return;a(i,...s)}}});return e}function pa(t){var e;return Object.assign(C.forwardRef(t),{displayName:(e=t.displayName)!=null?e:t.name})}function lT(t){let e=Object.assign({},t);for(let n in e)e[n]===void 0&&delete e[n];return e}function Rg(t,e=[]){let n=Object.assign({},t);for(let r of e)r in n&&delete n[r];return n}let O_=C.createContext(null);O_.displayName="OpenClosedContext";var rr=(t=>(t[t.Open=1]="Open",t[t.Closed=2]="Closed",t[t.Closing=4]="Closing",t[t.Opening=8]="Opening",t))(rr||{});function D_(){return C.useContext(O_)}function KP({value:t,children:e}){return be.createElement(O_.Provider,{value:t},e)}function cH(t){let e=t.parentElement,n=null;for(;e&&!(e instanceof HTMLFieldSetElement);)e instanceof HTMLLegendElement&&(n=e),e=e.parentElement;let r=(e==null?void 0:e.getAttribute("disabled"))==="";return r&&uH(n)?!1:r}function uH(t){if(!t)return!1;let e=t.previousElementSibling;for(;e!==null;){if(e instanceof HTMLLegendElement)return!1;e=e.previousElementSibling}return!0}function dH(t){throw new Error("Unexpected object: "+t)}var Qr=(t=>(t[t.First=0]="First",t[t.Previous=1]="Previous",t[t.Next=2]="Next",t[t.Last=3]="Last",t[t.Specific=4]="Specific",t[t.Nothing=5]="Nothing",t))(Qr||{});function hH(t,e){let n=e.resolveItems();if(n.length<=0)return null;let r=e.resolveActiveIndex(),i=r??-1;switch(t.focus){case 0:{for(let s=0;s<n.length;++s)if(!e.resolveDisabled(n[s],s,n))return s;return r}case 1:{for(let s=i-1;s>=0;--s)if(!e.resolveDisabled(n[s],s,n))return s;return r}case 2:{for(let s=i+1;s<n.length;++s)if(!e.resolveDisabled(n[s],s,n))return s;return r}case 3:{for(let s=n.length-1;s>=0;--s)if(!e.resolveDisabled(n[s],s,n))return s;return r}case 4:{for(let s=0;s<n.length;++s)if(e.resolveId(n[s],s,n)===t.id)return s;return r}case 5:return null;default:dH(t)}}var ln=(t=>(t.Space=" ",t.Enter="Enter",t.Escape="Escape",t.Backspace="Backspace",t.Delete="Delete",t.ArrowLeft="ArrowLeft",t.ArrowUp="ArrowUp",t.ArrowRight="ArrowRight",t.ArrowDown="ArrowDown",t.Home="Home",t.End="End",t.PageUp="PageUp",t.PageDown="PageDown",t.Tab="Tab",t))(ln||{});function j_(){let t=C.useRef(!1);return kr(()=>(t.current=!0,()=>{t.current=!1}),[]),t}let cT=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function uT(t){var e,n;let r=(e=t.innerText)!=null?e:"",i=t.cloneNode(!0);if(!(i instanceof HTMLElement))return r;let s=!1;for(let a of i.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))a.remove(),s=!0;let o=s?(n=i.innerText)!=null?n:"":r;return cT.test(o)&&(o=o.replace(cT,"")),o}function fH(t){let e=t.getAttribute("aria-label");if(typeof e=="string")return e.trim();let n=t.getAttribute("aria-labelledby");if(n){let r=n.split(" ").map(i=>{let s=document.getElementById(i);if(s){let o=s.getAttribute("aria-label");return typeof o=="string"?o.trim():uT(s).trim()}return null}).filter(Boolean);if(r.length>0)return r.join(", ")}return uT(t).trim()}function pH(t){let e=C.useRef(""),n=C.useRef("");return At(()=>{let r=t.current;if(!r)return"";let i=r.innerText;if(e.current===i)return n.current;let s=fH(r).trim().toLowerCase();return e.current=i,n.current=s,s})}var mH=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(mH||{}),gH=(t=>(t[t.Pointer=0]="Pointer",t[t.Other=1]="Other",t))(gH||{}),yH=(t=>(t[t.OpenMenu=0]="OpenMenu",t[t.CloseMenu=1]="CloseMenu",t[t.GoToItem=2]="GoToItem",t[t.Search=3]="Search",t[t.ClearSearch=4]="ClearSearch",t[t.RegisterItem=5]="RegisterItem",t[t.UnregisterItem=6]="UnregisterItem",t))(yH||{});function Ng(t,e=n=>n){let n=t.activeItemIndex!==null?t.items[t.activeItemIndex]:null,r=WP(e(t.items.slice()),s=>s.dataRef.current.domRef.current),i=n?r.indexOf(n):null;return i===-1&&(i=null),{items:r,activeItemIndex:i}}let vH={1(t){return t.menuState===1?t:{...t,activeItemIndex:null,menuState:1}},0(t){return t.menuState===0?t:{...t,__demoMode:!1,menuState:0}},2:(t,e)=>{var n;let r=Ng(t),i=hH(e,{resolveItems:()=>r.items,resolveActiveIndex:()=>r.activeItemIndex,resolveId:s=>s.id,resolveDisabled:s=>s.dataRef.current.disabled});return{...t,...r,searchQuery:"",activeItemIndex:i,activationTrigger:(n=e.trigger)!=null?n:1}},3:(t,e)=>{let n=t.searchQuery!==""?0:1,r=t.searchQuery+e.value.toLowerCase(),i=(t.activeItemIndex!==null?t.items.slice(t.activeItemIndex+n).concat(t.items.slice(0,t.activeItemIndex+n)):t.items).find(o=>{var a;return((a=o.dataRef.current.textValue)==null?void 0:a.startsWith(r))&&!o.dataRef.current.disabled}),s=i?t.items.indexOf(i):-1;return s===-1||s===t.activeItemIndex?{...t,searchQuery:r}:{...t,searchQuery:r,activeItemIndex:s,activationTrigger:1}},4(t){return t.searchQuery===""?t:{...t,searchQuery:"",searchActiveItemIndex:null}},5:(t,e)=>{let n=Ng(t,r=>[...r,{id:e.id,dataRef:e.dataRef}]);return{...t,...n}},6:(t,e)=>{let n=Ng(t,r=>{let i=r.findIndex(s=>s.id===e.id);return i!==-1&&r.splice(i,1),r});return{...t,...n,activationTrigger:1}}},L_=C.createContext(null);L_.displayName="MenuContext";function am(t){let e=C.useContext(L_);if(e===null){let n=new Error(`<${t} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,am),n}return e}function wH(t,e){return lr(e.type,vH,t,e)}let _H=C.Fragment;function xH(t,e){let{__demoMode:n=!1,...r}=t,i=C.useReducer(wH,{__demoMode:n,menuState:n?0:1,buttonRef:C.createRef(),itemsRef:C.createRef(),items:[],searchQuery:"",activeItemIndex:null,activationTrigger:1}),[{menuState:s,itemsRef:o,buttonRef:a},l]=i,c=Ul(e);nH([a,o],(v,w)=>{var b;l({type:1}),N_(w,R_.Loose)||(v.preventDefault(),(b=a.current)==null||b.focus())},s===0);let d=At(()=>{l({type:1})}),f=C.useMemo(()=>({open:s===0,close:d}),[s,d]),m={ref:c};return be.createElement(L_.Provider,{value:i},be.createElement(KP,{value:lr(s,{0:rr.Open,1:rr.Closed})},Bl({ourProps:m,theirProps:r,slot:f,defaultTag:_H,name:"Menu"})))}let bH="button";function EH(t,e){var n;let r=P_(),{id:i=`headlessui-menu-button-${r}`,...s}=t,[o,a]=am("Menu.Button"),l=Ul(o.buttonRef,e),c=sm(),d=At(b=>{switch(b.key){case ln.Space:case ln.Enter:case ln.ArrowDown:b.preventDefault(),b.stopPropagation(),a({type:0}),c.nextFrame(()=>a({type:2,focus:Qr.First}));break;case ln.ArrowUp:b.preventDefault(),b.stopPropagation(),a({type:0}),c.nextFrame(()=>a({type:2,focus:Qr.Last}));break}}),f=At(b=>{switch(b.key){case ln.Space:b.preventDefault();break}}),m=At(b=>{if(cH(b.currentTarget))return b.preventDefault();t.disabled||(o.menuState===0?(a({type:1}),c.nextFrame(()=>{var E;return(E=o.buttonRef.current)==null?void 0:E.focus({preventScroll:!0})})):(b.preventDefault(),a({type:0})))}),v=C.useMemo(()=>({open:o.menuState===0}),[o]),w={ref:l,id:i,type:iH(t,o.buttonRef),"aria-haspopup":"menu","aria-controls":(n=o.itemsRef.current)==null?void 0:n.id,"aria-expanded":o.menuState===0,onKeyDown:d,onKeyUp:f,onClick:m};return Bl({ourProps:w,theirProps:s,slot:v,defaultTag:bH,name:"Menu.Button"})}let TH="div",SH=Lf.RenderStrategy|Lf.Static;function IH(t,e){var n,r;let i=P_(),{id:s=`headlessui-menu-items-${i}`,...o}=t,[a,l]=am("Menu.Items"),c=Ul(a.itemsRef,e),d=rH(a.itemsRef),f=sm(),m=D_(),v=(()=>m!==null?(m&rr.Open)===rr.Open:a.menuState===0)();C.useEffect(()=>{let _=a.itemsRef.current;_&&a.menuState===0&&_!==(d==null?void 0:d.activeElement)&&_.focus({preventScroll:!0})},[a.menuState,a.itemsRef,d]),aH({container:a.itemsRef.current,enabled:a.menuState===0,accept(_){return _.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:_.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(_){_.setAttribute("role","none")}});let w=At(_=>{var T,R;switch(f.dispose(),_.key){case ln.Space:if(a.searchQuery!=="")return _.preventDefault(),_.stopPropagation(),l({type:3,value:_.key});case ln.Enter:if(_.preventDefault(),_.stopPropagation(),l({type:1}),a.activeItemIndex!==null){let{dataRef:D}=a.items[a.activeItemIndex];(R=(T=D.current)==null?void 0:T.domRef.current)==null||R.click()}HP(a.buttonRef.current);break;case ln.ArrowDown:return _.preventDefault(),_.stopPropagation(),l({type:2,focus:Qr.Next});case ln.ArrowUp:return _.preventDefault(),_.stopPropagation(),l({type:2,focus:Qr.Previous});case ln.Home:case ln.PageUp:return _.preventDefault(),_.stopPropagation(),l({type:2,focus:Qr.First});case ln.End:case ln.PageDown:return _.preventDefault(),_.stopPropagation(),l({type:2,focus:Qr.Last});case ln.Escape:_.preventDefault(),_.stopPropagation(),l({type:1}),ns().nextFrame(()=>{var D;return(D=a.buttonRef.current)==null?void 0:D.focus({preventScroll:!0})});break;case ln.Tab:_.preventDefault(),_.stopPropagation(),l({type:1}),ns().nextFrame(()=>{Yz(a.buttonRef.current,_.shiftKey?jv.Previous:jv.Next)});break;default:_.key.length===1&&(l({type:3,value:_.key}),f.setTimeout(()=>l({type:4}),350));break}}),b=At(_=>{switch(_.key){case ln.Space:_.preventDefault();break}}),E=C.useMemo(()=>({open:a.menuState===0}),[a]),x={"aria-activedescendant":a.activeItemIndex===null||(n=a.items[a.activeItemIndex])==null?void 0:n.id,"aria-labelledby":(r=a.buttonRef.current)==null?void 0:r.id,id:s,onKeyDown:w,onKeyUp:b,role:"menu",tabIndex:0,ref:c};return Bl({ourProps:x,theirProps:o,slot:E,defaultTag:TH,features:SH,visible:v,name:"Menu.Items"})}let CH=C.Fragment;function AH(t,e){let n=P_(),{id:r=`headlessui-menu-item-${n}`,disabled:i=!1,...s}=t,[o,a]=am("Menu.Item"),l=o.activeItemIndex!==null?o.items[o.activeItemIndex].id===r:!1,c=C.useRef(null),d=Ul(e,c);kr(()=>{if(o.__demoMode||o.menuState!==0||!l||o.activationTrigger===0)return;let D=ns();return D.requestAnimationFrame(()=>{var B,$;($=(B=c.current)==null?void 0:B.scrollIntoView)==null||$.call(B,{block:"nearest"})}),D.dispose},[o.__demoMode,c,l,o.menuState,o.activationTrigger,o.activeItemIndex]);let f=pH(c),m=C.useRef({disabled:i,domRef:c,get textValue(){return f()}});kr(()=>{m.current.disabled=i},[m,i]),kr(()=>(a({type:5,id:r,dataRef:m}),()=>a({type:6,id:r})),[m,r]);let v=At(()=>{a({type:1})}),w=At(D=>{if(i)return D.preventDefault();a({type:1}),HP(o.buttonRef.current)}),b=At(()=>{if(i)return a({type:2,focus:Qr.Nothing});a({type:2,focus:Qr.Specific,id:r})}),E=oH(),x=At(D=>E.update(D)),_=At(D=>{E.wasMoved(D)&&(i||l||a({type:2,focus:Qr.Specific,id:r,trigger:0}))}),T=At(D=>{E.wasMoved(D)&&(i||l&&a({type:2,focus:Qr.Nothing}))}),R=C.useMemo(()=>({active:l,disabled:i,close:v}),[l,i,v]);return Bl({ourProps:{id:r,ref:d,role:"menuitem",tabIndex:i===!0?void 0:-1,"aria-disabled":i===!0?!0:void 0,disabled:void 0,onClick:w,onFocus:b,onPointerEnter:x,onMouseEnter:x,onPointerMove:_,onMouseMove:_,onPointerLeave:T,onMouseLeave:T},theirProps:s,slot:R,defaultTag:CH,name:"Menu.Item"})}let kH=pa(xH),PH=pa(EH),RH=pa(IH),NH=pa(AH),eh=Object.assign(kH,{Button:PH,Items:RH,Item:NH});function OH(t=0){let[e,n]=C.useState(t),r=j_(),i=C.useCallback(l=>{r.current&&n(c=>c|l)},[e,r]),s=C.useCallback(l=>!!(e&l),[e]),o=C.useCallback(l=>{r.current&&n(c=>c&~l)},[n,r]),a=C.useCallback(l=>{r.current&&n(c=>c^l)},[n]);return{flags:e,addFlag:i,hasFlag:s,removeFlag:o,toggleFlag:a}}function DH(t){let e={called:!1};return(...n)=>{if(!e.called)return e.called=!0,t(...n)}}function Og(t,...e){t&&e.length>0&&t.classList.add(...e)}function Dg(t,...e){t&&e.length>0&&t.classList.remove(...e)}function jH(t,e){let n=ns();if(!t)return n.dispose;let{transitionDuration:r,transitionDelay:i}=getComputedStyle(t),[s,o]=[r,i].map(l=>{let[c=0]=l.split(",").filter(Boolean).map(d=>d.includes("ms")?parseFloat(d):parseFloat(d)*1e3).sort((d,f)=>f-d);return c}),a=s+o;if(a!==0){n.group(c=>{c.setTimeout(()=>{e(),c.dispose()},a),c.addEventListener(t,"transitionrun",d=>{d.target===d.currentTarget&&c.dispose()})});let l=n.addEventListener(t,"transitionend",c=>{c.target===c.currentTarget&&(e(),l())})}else e();return n.add(()=>e()),n.dispose}function LH(t,e,n,r){let i=n?"enter":"leave",s=ns(),o=r!==void 0?DH(r):()=>{};i==="enter"&&(t.removeAttribute("hidden"),t.style.display="");let a=lr(i,{enter:()=>e.enter,leave:()=>e.leave}),l=lr(i,{enter:()=>e.enterTo,leave:()=>e.leaveTo}),c=lr(i,{enter:()=>e.enterFrom,leave:()=>e.leaveFrom});return Dg(t,...e.base,...e.enter,...e.enterTo,...e.enterFrom,...e.leave,...e.leaveFrom,...e.leaveTo,...e.entered),Og(t,...e.base,...a,...c),s.nextFrame(()=>{Dg(t,...e.base,...a,...c),Og(t,...e.base,...a,...l),jH(t,()=>(Dg(t,...e.base,...a),Og(t,...e.base,...e.entered),o()))}),s.dispose}function MH({immediate:t,container:e,direction:n,classes:r,onStart:i,onStop:s}){let o=j_(),a=sm(),l=Xs(n);kr(()=>{t&&(l.current="enter")},[t]),kr(()=>{let c=ns();a.add(c.dispose);let d=e.current;if(d&&l.current!=="idle"&&o.current)return c.dispose(),i.current(l.current),c.add(LH(d,r.current,l.current==="enter",()=>{c.dispose(),s.current(l.current)})),c.dispose},[n])}function bs(t=""){return t.split(/\s+/).filter(e=>e.length>1)}let lm=C.createContext(null);lm.displayName="TransitionContext";var VH=(t=>(t.Visible="visible",t.Hidden="hidden",t))(VH||{});function FH(){let t=C.useContext(lm);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}function UH(){let t=C.useContext(cm);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}let cm=C.createContext(null);cm.displayName="NestingContext";function um(t){return"children"in t?um(t.children):t.current.filter(({el:e})=>e.current!==null).filter(({state:e})=>e==="visible").length>0}function GP(t,e){let n=Xs(t),r=C.useRef([]),i=j_(),s=sm(),o=At((v,w=js.Hidden)=>{let b=r.current.findIndex(({el:E})=>E===v);b!==-1&&(lr(w,{[js.Unmount](){r.current.splice(b,1)},[js.Hidden](){r.current[b].state="hidden"}}),s.microTask(()=>{var E;!um(r)&&i.current&&((E=n.current)==null||E.call(n))}))}),a=At(v=>{let w=r.current.find(({el:b})=>b===v);return w?w.state!=="visible"&&(w.state="visible"):r.current.push({el:v,state:"visible"}),()=>o(v,js.Unmount)}),l=C.useRef([]),c=C.useRef(Promise.resolve()),d=C.useRef({enter:[],leave:[],idle:[]}),f=At((v,w,b)=>{l.current.splice(0),e&&(e.chains.current[w]=e.chains.current[w].filter(([E])=>E!==v)),e==null||e.chains.current[w].push([v,new Promise(E=>{l.current.push(E)})]),e==null||e.chains.current[w].push([v,new Promise(E=>{Promise.all(d.current[w].map(([x,_])=>_)).then(()=>E())})]),w==="enter"?c.current=c.current.then(()=>e==null?void 0:e.wait.current).then(()=>b(w)):b(w)}),m=At((v,w,b)=>{Promise.all(d.current[w].splice(0).map(([E,x])=>x)).then(()=>{var E;(E=l.current.shift())==null||E()}).then(()=>b(w))});return C.useMemo(()=>({children:r,register:a,unregister:o,onStart:f,onStop:m,wait:c,chains:d}),[a,o,r,f,m,d,c])}function BH(){}let $H=["beforeEnter","afterEnter","beforeLeave","afterLeave"];function dT(t){var e;let n={};for(let r of $H)n[r]=(e=t[r])!=null?e:BH;return n}function zH(t){let e=C.useRef(dT(t));return C.useEffect(()=>{e.current=dT(t)},[t]),e}let HH="div",QP=Lf.RenderStrategy;function WH(t,e){var n,r;let{beforeEnter:i,afterEnter:s,beforeLeave:o,afterLeave:a,enter:l,enterFrom:c,enterTo:d,entered:f,leave:m,leaveFrom:v,leaveTo:w,...b}=t,E=C.useRef(null),x=Ul(E,e),_=(n=b.unmount)==null||n?js.Unmount:js.Hidden,{show:T,appear:R,initial:D}=FH(),[B,$]=C.useState(T?"visible":"hidden"),H=UH(),{register:se,unregister:re}=H;C.useEffect(()=>se(E),[se,E]),C.useEffect(()=>{if(_===js.Hidden&&E.current){if(T&&B!=="visible"){$("visible");return}return lr(B,{hidden:()=>re(E),visible:()=>se(E)})}},[B,E,se,re,T,_]);let ke=Xs({base:bs(b.className),enter:bs(l),enterFrom:bs(c),enterTo:bs(d),entered:bs(f),leave:bs(m),leaveFrom:bs(v),leaveTo:bs(w)}),fe=zH({beforeEnter:i,afterEnter:s,beforeLeave:o,afterLeave:a}),Ee=k_();C.useEffect(()=>{if(Ee&&B==="visible"&&E.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[E,B,Ee]);let Me=D&&!R,Je=R&&T&&D,Ie=(()=>!Ee||Me?"idle":T?"enter":"leave")(),Re=OH(0),J=At(nt=>lr(nt,{enter:()=>{Re.addFlag(rr.Opening),fe.current.beforeEnter()},leave:()=>{Re.addFlag(rr.Closing),fe.current.beforeLeave()},idle:()=>{}})),ge=At(nt=>lr(nt,{enter:()=>{Re.removeFlag(rr.Opening),fe.current.afterEnter()},leave:()=>{Re.removeFlag(rr.Closing),fe.current.afterLeave()},idle:()=>{}})),K=GP(()=>{$("hidden"),re(E)},H),Fe=C.useRef(!1);MH({immediate:Je,container:E,classes:ke,direction:Ie,onStart:Xs(nt=>{Fe.current=!0,K.onStart(E,nt,J)}),onStop:Xs(nt=>{Fe.current=!1,K.onStop(E,nt,ge),nt==="leave"&&!um(K)&&($("hidden"),re(E))})});let $e=b,Wt={ref:x};return Je?$e={...$e,className:jf(b.className,...ke.current.enter,...ke.current.enterFrom)}:Fe.current&&($e.className=jf(b.className,(r=E.current)==null?void 0:r.className),$e.className===""&&delete $e.className),be.createElement(cm.Provider,{value:K},be.createElement(KP,{value:lr(B,{visible:rr.Open,hidden:rr.Closed})|Re.flags},Bl({ourProps:Wt,theirProps:$e,defaultTag:HH,features:QP,visible:B==="visible",name:"Transition.Child"})))}function qH(t,e){let{show:n,appear:r=!1,unmount:i=!0,...s}=t,o=C.useRef(null),a=Ul(o,e);k_();let l=D_();if(n===void 0&&l!==null&&(n=(l&rr.Open)===rr.Open),![!0,!1].includes(n))throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[c,d]=C.useState(n?"visible":"hidden"),f=GP(()=>{d("hidden")}),[m,v]=C.useState(!0),w=C.useRef([n]);kr(()=>{m!==!1&&w.current[w.current.length-1]!==n&&(w.current.push(n),v(!1))},[w,n]);let b=C.useMemo(()=>({show:n,appear:r,initial:m}),[n,r,m]);C.useEffect(()=>{if(n)d("visible");else if(!um(f))d("hidden");else{let T=o.current;if(!T)return;let R=T.getBoundingClientRect();R.x===0&&R.y===0&&R.width===0&&R.height===0&&d("hidden")}},[n,f]);let E={unmount:i},x=At(()=>{var T;m&&v(!1),(T=t.beforeEnter)==null||T.call(t)}),_=At(()=>{var T;m&&v(!1),(T=t.beforeLeave)==null||T.call(t)});return be.createElement(cm.Provider,{value:f},be.createElement(lm.Provider,{value:b},Bl({ourProps:{...E,as:C.Fragment,children:be.createElement(YP,{ref:a,...E,...s,beforeEnter:x,beforeLeave:_})},theirProps:{},defaultTag:C.Fragment,features:QP,visible:c==="visible",name:"Transition"})))}function KH(t,e){let n=C.useContext(lm)!==null,r=D_()!==null;return be.createElement(be.Fragment,null,!n&&r?be.createElement(Lv,{ref:e,...t}):be.createElement(YP,{ref:e,...t}))}let Lv=pa(qH),YP=pa(WH),GH=pa(KH),QH=Object.assign(Lv,{Child:GH,Root:Lv});function YH({title:t,titleId:e,...n},r){return C.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?C.createElement("title",{id:e},t):null,C.createElement("path",{fillRule:"evenodd",d:"M5.22 8.22a.75.75 0 0 1 1.06 0L10 11.94l3.72-3.72a.75.75 0 1 1 1.06 1.06l-4.25 4.25a.75.75 0 0 1-1.06 0L5.22 9.28a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"}))}const XH=C.forwardRef(YH),JH=XH;function ZH(...t){return t.filter(Boolean).join(" ")}const jg=({title:t,options:e=[],handleOptionSelect:n})=>u.jsxs(eh,{as:"div",className:"relative inline-block text-left",children:[u.jsx("div",{children:u.jsxs(eh.Button,{className:"inline-flex w-full justify-between font-bebas gap-x-1.5 rounded-xl bg-[#1E1E1E] px-3 py-2 text-sm text-white shadow-sm ring-1 ring-inset ring-primaryDark hover:bg-gray-50 hover:text-[#1E1E1E]",children:[t,u.jsx(JH,{className:"-mr-1 h-5 w-5 text-primary","aria-hidden":"true"})]})}),u.jsx(QH,{as:C.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:u.jsx(eh.Items,{className:"absolute right-0 z-10 mt-2 w-full origin-top-right rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none",children:u.jsx("div",{className:"py-1",children:e.map(r=>u.jsx(eh.Item,{children:({active:i})=>u.jsx("a",{onClick:()=>n(r),className:ZH(i?"bg-gray-100 text-gray-900":"text-gray-700","block px-4 py-2 text-sm font-montserrat cursor-pointer"),children:r})},r))})})})]});function eW(){return u.jsx("nav",{children:u.jsx("div",{className:"font-bebas",children:u.jsxs("ul",{className:"px-3 flex gap-2 w-full justify-center items-center ",children:[u.jsx("li",{className:"w-[calc(50%+50px)]",children:"Productos"}),u.jsx("li",{className:"w-[10%]",children:"Stock"}),u.jsx("li",{className:"w-[20%]",children:"Precio"}),u.jsx("li",{className:"w-[15%]",children:"Acciones"})]})})})}const tW="_ImageContainer_yqjas_5",nW="_Image_yqjas_5",rW="_contenedor_yqjas_21",iW="_info_yqjas_35",sW="_infoname_yqjas_45",Lg={ImageContainer:tW,Image:nW,contenedor:rW,info:iW,infoname:sW},oW=({className:t})=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"})}),aW=({className:t})=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"})}),lW=({className:t})=>u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,children:[u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})]});function cW({id:t,name:e,price:n,image:r,stock:i,active:s,handlerDelete:o,handlerBorradoLogico:a}){return ii(l=>l.product),yr(),u.jsxs("section",{className:s?`flex gap-4 p-4 my-3 shadow-md rounded-xl transition hover:scale-[101%] font-montserrat text-sm  bg-white ${Lg.Card}`:`flex gap-4 p-4 my-3 shadow-md rounded-xl  font-montserrat text-sm bg-slate-400/50 ${Lg.Card}`,children:[u.jsx("div",{className:Lg.ImageContainer,children:u.jsx("img",{src:r,alt:"IMG",className:"w-[50px]"})}),u.jsxs("div",{className:"flex gap-2 w-full justify-center items-center ",children:[u.jsx("h3",{className:"w-[50%]",children:e}),u.jsxs("p",{className:"w-[10%]",children:[" ",i]}),u.jsxs("p",{className:"w-[20%]",children:["$",n]}),u.jsx("button",{className:"mr-2",onClick:()=>o(t),children:u.jsx($P,{className:"w-[22px] hover:text-primary"})}),u.jsx("button",{className:"mr-2",onClick:()=>a(t),children:s?u.jsx(aW,{className:"w-6 hover:text-secondary"}):u.jsx(lW,{className:"w-6 hover:text-teal-600"})}),u.jsx($n,{to:`editproduct/${t}`,children:u.jsx(oW,{className:"w-6 hover:text-teal-600"})})]})]})}var XP={exports:{}};/*!
* sweetalert2 v11.10.3
* Released under the MIT License.
*/(function(t,e){(function(n,r){t.exports=r()})(tr,function(){function n(y,h){var p=y==null?null:typeof Symbol<"u"&&y[Symbol.iterator]||y["@@iterator"];if(p!=null){var g,k,U,de,Oe=[],Ve=!0,dt=!1;try{if(U=(p=p.call(y)).next,h===0){if(Object(p)!==p)return;Ve=!1}else for(;!(Ve=(g=U.call(p)).done)&&(Oe.push(g.value),Oe.length!==h);Ve=!0);}catch(Ql){dt=!0,k=Ql}finally{try{if(!Ve&&p.return!=null&&(de=p.return(),Object(de)!==de))return}finally{if(dt)throw k}}return Oe}}function r(y,h){if(typeof y!="object"||!y)return y;var p=y[Symbol.toPrimitive];if(p!==void 0){var g=p.call(y,h||"default");if(typeof g!="object")return g;throw new TypeError("@@toPrimitive must return a primitive value.")}return(h==="string"?String:Number)(y)}function i(y){var h=r(y,"string");return typeof h=="symbol"?h:String(h)}function s(y){"@babel/helpers - typeof";return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h},s(y)}function o(y,h){if(!(y instanceof h))throw new TypeError("Cannot call a class as a function")}function a(y,h){for(var p=0;p<h.length;p++){var g=h[p];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(y,i(g.key),g)}}function l(y,h,p){return h&&a(y.prototype,h),p&&a(y,p),Object.defineProperty(y,"prototype",{writable:!1}),y}function c(y,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function");y.prototype=Object.create(h&&h.prototype,{constructor:{value:y,writable:!0,configurable:!0}}),Object.defineProperty(y,"prototype",{writable:!1}),h&&f(y,h)}function d(y){return d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(p){return p.__proto__||Object.getPrototypeOf(p)},d(y)}function f(y,h){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(g,k){return g.__proto__=k,g},f(y,h)}function m(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function v(y,h,p){return m()?v=Reflect.construct.bind():v=function(k,U,de){var Oe=[null];Oe.push.apply(Oe,U);var Ve=Function.bind.apply(k,Oe),dt=new Ve;return de&&f(dt,de.prototype),dt},v.apply(null,arguments)}function w(y){if(y===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y}function b(y,h){if(h&&(typeof h=="object"||typeof h=="function"))return h;if(h!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return w(y)}function E(y){var h=m();return function(){var g=d(y),k;if(h){var U=d(this).constructor;k=Reflect.construct(g,arguments,U)}else k=g.apply(this,arguments);return b(this,k)}}function x(y,h){for(;!Object.prototype.hasOwnProperty.call(y,h)&&(y=d(y),y!==null););return y}function _(){return typeof Reflect<"u"&&Reflect.get?_=Reflect.get.bind():_=function(h,p,g){var k=x(h,p);if(k){var U=Object.getOwnPropertyDescriptor(k,p);return U.get?U.get.call(arguments.length<3?h:g):U.value}},_.apply(this,arguments)}function T(y,h){return B(y)||n(y,h)||H(y,h)||ke()}function R(y){return D(y)||$(y)||H(y)||re()}function D(y){if(Array.isArray(y))return se(y)}function B(y){if(Array.isArray(y))return y}function $(y){if(typeof Symbol<"u"&&y[Symbol.iterator]!=null||y["@@iterator"]!=null)return Array.from(y)}function H(y,h){if(y){if(typeof y=="string")return se(y,h);var p=Object.prototype.toString.call(y).slice(8,-1);if(p==="Object"&&y.constructor&&(p=y.constructor.name),p==="Map"||p==="Set")return Array.from(y);if(p==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(p))return se(y,h)}}function se(y,h){(h==null||h>y.length)&&(h=y.length);for(var p=0,g=new Array(h);p<h;p++)g[p]=y[p];return g}function re(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ke(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fe(y,h){var p=Me(y,h,"get");return Je(y,p)}function Ee(y,h,p){var g=Me(y,h,"set");return Ie(y,g,p),p}function Me(y,h,p){if(!h.has(y))throw new TypeError("attempted to "+p+" private field on non-instance");return h.get(y)}function Je(y,h){return h.get?h.get.call(y):h.value}function Ie(y,h,p){if(h.set)h.set.call(y,p);else{if(!h.writable)throw new TypeError("attempted to set read only private field");h.value=p}}function Re(y,h){if(h.has(y))throw new TypeError("Cannot initialize the same private elements twice on an object")}function J(y,h,p){Re(y,h),h.set(y,p)}var ge=100,K={},Fe=function(){K.previousActiveElement instanceof HTMLElement?(K.previousActiveElement.focus(),K.previousActiveElement=null):document.body&&document.body.focus()},$e=function(h){return new Promise(function(p){if(!h)return p();var g=window.scrollX,k=window.scrollY;K.restoreFocusTimeout=setTimeout(function(){Fe(),p()},ge),window.scrollTo(g,k)})},Wt="swal2-",nt=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"],V=nt.reduce(function(y,h){return y[h]=Wt+h,y},{}),Un=["success","warning","info","question","error"],Jn=Un.reduce(function(y,h){return y[h]=Wt+h,y},{}),us="SweetAlert2:",Ii=function(h){return h.charAt(0).toUpperCase()+h.slice(1)},ct=function(h){console.warn("".concat(us," ").concat(s(h)==="object"?h.join(" "):h))},Zn=function(h){console.error("".concat(us," ").concat(h))},Ci=[],vo=function(h){Ci.includes(h)||(Ci.push(h),ct(h))},$l=function(h,p){vo('"'.concat(h,'" is deprecated and will be removed in the next major release. Please use "').concat(p,'" instead.'))},Ai=function(h){return typeof h=="function"?h():h},jr=function(h){return h&&typeof h.toPromise=="function"},ds=function(h){return jr(h)?h.toPromise():Promise.resolve(h)},ma=function(h){return h&&Promise.resolve(h)===h},qt=function(){return document.body.querySelector(".".concat(V.container))},N=function(h){var p=qt();return p?p.querySelector(h):null},L=function(h){return N(".".concat(h))},M=function(){return L(V.popup)},oe=function(){return L(V.icon)},ne=function(){return L(V["icon-content"])},Y=function(){return L(V.title)},ye=function(){return L(V["html-container"])},ze=function(){return L(V.image)},rt=function(){return L(V["progress-steps"])},Kt=function(){return L(V["validation-message"])},Dt=function(){return N(".".concat(V.actions," .").concat(V.confirm))},Lr=function(){return N(".".concat(V.actions," .").concat(V.cancel))},er=function(){return N(".".concat(V.actions," .").concat(V.deny))},z=function(){return L(V["input-label"])},Bn=function(){return N(".".concat(V.loader))},Mr=function(){return L(V.actions)},wo=function(){return L(V.footer)},ki=function(){return L(V["timer-progress-bar"])},zl=function(){return L(V.close)},Hl=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,Wl=function(){var h=M();if(!h)return[];var p=h.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),g=Array.from(p).sort(function(de,Oe){var Ve=parseInt(de.getAttribute("tabindex")||"0"),dt=parseInt(Oe.getAttribute("tabindex")||"0");return Ve>dt?1:Ve<dt?-1:0}),k=h.querySelectorAll(Hl),U=Array.from(k).filter(function(de){return de.getAttribute("tabindex")!=="-1"});return R(new Set(g.concat(U))).filter(function(de){return gn(de)})},Pi=function(){return Vr(document.body,V.shown)&&!Vr(document.body,V["toast-shown"])&&!Vr(document.body,V["no-backdrop"])},_o=function(){var h=M();return h?Vr(h,V.toast):!1},ld=function(){var h=M();return h?h.hasAttribute("data-loading"):!1},kn=function(h,p){if(h.textContent="",p){var g=new DOMParser,k=g.parseFromString(p,"text/html"),U=k.querySelector("head");U&&Array.from(U.childNodes).forEach(function(Oe){h.appendChild(Oe)});var de=k.querySelector("body");de&&Array.from(de.childNodes).forEach(function(Oe){Oe instanceof HTMLVideoElement||Oe instanceof HTMLAudioElement?h.appendChild(Oe.cloneNode(!0)):h.appendChild(Oe)})}},Vr=function(h,p){if(!p)return!1;for(var g=p.split(/\s+/),k=0;k<g.length;k++)if(!h.classList.contains(g[k]))return!1;return!0},hm=function(h,p){Array.from(h.classList).forEach(function(g){!Object.values(V).includes(g)&&!Object.values(Jn).includes(g)&&!Object.values(p.showClass||{}).includes(g)&&h.classList.remove(g)})},Pn=function(h,p,g){if(hm(h,p),p.customClass&&p.customClass[g]){if(typeof p.customClass[g]!="string"&&!p.customClass[g].forEach){ct("Invalid type of customClass.".concat(g,'! Expected string or iterable object, got "').concat(s(p.customClass[g]),'"'));return}Ue(h,p.customClass[g])}},Ri=function(h,p){if(!p)return null;switch(p){case"select":case"textarea":case"file":return h.querySelector(".".concat(V.popup," > .").concat(V[p]));case"checkbox":return h.querySelector(".".concat(V.popup," > .").concat(V.checkbox," input"));case"radio":return h.querySelector(".".concat(V.popup," > .").concat(V.radio," input:checked"))||h.querySelector(".".concat(V.popup," > .").concat(V.radio," input:first-child"));case"range":return h.querySelector(".".concat(V.popup," > .").concat(V.range," input"));default:return h.querySelector(".".concat(V.popup," > .").concat(V.input))}},ga=function(h){if(h.focus(),h.type!=="file"){var p=h.value;h.value="",h.value=p}},cd=function(h,p,g){!h||!p||(typeof p=="string"&&(p=p.split(/\s+/).filter(Boolean)),p.forEach(function(k){Array.isArray(h)?h.forEach(function(U){g?U.classList.add(k):U.classList.remove(k)}):g?h.classList.add(k):h.classList.remove(k)}))},Ue=function(h,p){cd(h,p,!0)},vr=function(h,p){cd(h,p,!1)},wr=function(h,p){for(var g=Array.from(h.children),k=0;k<g.length;k++){var U=g[k];if(U instanceof HTMLElement&&Vr(U,p))return U}},Ni=function(h,p,g){g==="".concat(parseInt(g))&&(g=parseInt(g)),g||parseInt(g)===0?h.style.setProperty(p,typeof g=="number"?"".concat(g,"px"):g):h.style.removeProperty(p)},St=function(h){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"flex";h&&(h.style.display=p)},Gt=function(h){h&&(h.style.display="none")},Oi=function(h){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"block";h&&new MutationObserver(function(){hs(h,h.innerHTML,p)}).observe(h,{childList:!0,subtree:!0})},ya=function(h,p,g,k){var U=h.querySelector(p);U&&U.style.setProperty(g,k)},hs=function(h,p){var g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"flex";p?St(h,g):Gt(h)},gn=function(h){return!!(h&&(h.offsetWidth||h.offsetHeight||h.getClientRects().length))},fm=function(){return!gn(Dt())&&!gn(er())&&!gn(Lr())},ud=function(h){return h.scrollHeight>h.clientHeight},ql=function(h){var p=window.getComputedStyle(h),g=parseFloat(p.getPropertyValue("animation-duration")||"0"),k=parseFloat(p.getPropertyValue("transition-duration")||"0");return g>0||k>0},va=function(h){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,g=ki();g&&gn(g)&&(p&&(g.style.transition="none",g.style.width="100%"),setTimeout(function(){g.style.transition="width ".concat(h/1e3,"s linear"),g.style.width="0%"},10))},fs=function(){var h=ki();if(h){var p=parseInt(window.getComputedStyle(h).width);h.style.removeProperty("transition"),h.style.width="100%";var g=parseInt(window.getComputedStyle(h).width),k=p/g*100;h.style.width="".concat(k,"%")}},Kl=function(){return typeof window>"u"||typeof document>"u"},dd=`
 <div aria-labelledby="`.concat(V.title,'" aria-describedby="').concat(V["html-container"],'" class="').concat(V.popup,`" tabindex="-1">
   <button type="button" class="`).concat(V.close,`"></button>
   <ul class="`).concat(V["progress-steps"],`"></ul>
   <div class="`).concat(V.icon,`"></div>
   <img class="`).concat(V.image,`" />
   <h2 class="`).concat(V.title,'" id="').concat(V.title,`"></h2>
   <div class="`).concat(V["html-container"],'" id="').concat(V["html-container"],`"></div>
   <input class="`).concat(V.input,'" id="').concat(V.input,`" />
   <input type="file" class="`).concat(V.file,`" />
   <div class="`).concat(V.range,`">
     <input type="range" />
     <output></output>
   </div>
   <select class="`).concat(V.select,'" id="').concat(V.select,`"></select>
   <div class="`).concat(V.radio,`"></div>
   <label class="`).concat(V.checkbox,`">
     <input type="checkbox" id="`).concat(V.checkbox,`" />
     <span class="`).concat(V.label,`"></span>
   </label>
   <textarea class="`).concat(V.textarea,'" id="').concat(V.textarea,`"></textarea>
   <div class="`).concat(V["validation-message"],'" id="').concat(V["validation-message"],`"></div>
   <div class="`).concat(V.actions,`">
     <div class="`).concat(V.loader,`"></div>
     <button type="button" class="`).concat(V.confirm,`"></button>
     <button type="button" class="`).concat(V.deny,`"></button>
     <button type="button" class="`).concat(V.cancel,`"></button>
   </div>
   <div class="`).concat(V.footer,`"></div>
   <div class="`).concat(V["timer-progress-bar-container"],`">
     <div class="`).concat(V["timer-progress-bar"],`"></div>
   </div>
 </div>
`).replace(/(^|\n)\s*/g,""),pm=function(){var h=qt();return h?(h.remove(),vr([document.documentElement,document.body],[V["no-backdrop"],V["toast-shown"],V["has-column"]]),!0):!1},Fr=function(){K.currentInstance.resetValidationMessage()},mm=function(){var h=M(),p=wr(h,V.input),g=wr(h,V.file),k=h.querySelector(".".concat(V.range," input")),U=h.querySelector(".".concat(V.range," output")),de=wr(h,V.select),Oe=h.querySelector(".".concat(V.checkbox," input")),Ve=wr(h,V.textarea);p.oninput=Fr,g.onchange=Fr,de.onchange=Fr,Oe.onchange=Fr,Ve.oninput=Fr,k.oninput=function(){Fr(),U.value=k.value},k.onchange=function(){Fr(),U.value=k.value}},yt=function(h){return typeof h=="string"?document.querySelector(h):h},wa=function(h){var p=M();p.setAttribute("role",h.toast?"alert":"dialog"),p.setAttribute("aria-live",h.toast?"polite":"assertive"),h.toast||p.setAttribute("aria-modal","true")},hd=function(h){window.getComputedStyle(h).direction==="rtl"&&Ue(qt(),V.rtl)},fd=function(h){var p=pm();if(Kl()){Zn("SweetAlert2 requires document to initialize");return}var g=document.createElement("div");g.className=V.container,p&&Ue(g,V["no-transition"]),kn(g,dd);var k=yt(h.target);k.appendChild(g),wa(h),hd(k),mm()},_a=function(h,p){h instanceof HTMLElement?p.appendChild(h):s(h)==="object"?gm(h,p):h&&kn(p,h)},gm=function(h,p){h.jquery?pd(p,h):kn(p,h.toString())},pd=function(h,p){if(h.textContent="",0 in p)for(var g=0;g in p;g++)h.appendChild(p[g].cloneNode(!0));else h.appendChild(p.cloneNode(!0))},Ur=function(){if(Kl())return!1;var y=document.createElement("div");return typeof y.style.webkitAnimation<"u"?"webkitAnimationEnd":typeof y.style.animation<"u"?"animationend":!1}(),ym=function(h,p){var g=Mr(),k=Bn();!g||!k||(!p.showConfirmButton&&!p.showDenyButton&&!p.showCancelButton?Gt(g):St(g),Pn(g,p,"actions"),P(g,k,p),kn(k,p.loaderHtml||""),Pn(k,p,"loader"))};function P(y,h,p){var g=Dt(),k=er(),U=Lr();!g||!k||!U||(O(g,"confirm",p),O(k,"deny",p),O(U,"cancel",p),I(g,k,U,p),p.reverseButtons&&(p.toast?(y.insertBefore(U,g),y.insertBefore(k,g)):(y.insertBefore(U,h),y.insertBefore(k,h),y.insertBefore(g,h))))}function I(y,h,p,g){if(!g.buttonsStyling){vr([y,h,p],V.styled);return}Ue([y,h,p],V.styled),g.confirmButtonColor&&(y.style.backgroundColor=g.confirmButtonColor,Ue(y,V["default-outline"])),g.denyButtonColor&&(h.style.backgroundColor=g.denyButtonColor,Ue(h,V["default-outline"])),g.cancelButtonColor&&(p.style.backgroundColor=g.cancelButtonColor,Ue(p,V["default-outline"]))}function O(y,h,p){var g=Ii(h);hs(y,p["show".concat(g,"Button")],"inline-block"),kn(y,p["".concat(h,"ButtonText")]||""),y.setAttribute("aria-label",p["".concat(h,"ButtonAriaLabel")]||""),y.className=V[h],Pn(y,p,"".concat(h,"Button"))}var j=function(h,p){var g=zl();g&&(kn(g,p.closeButtonHtml||""),Pn(g,p,"closeButton"),hs(g,p.showCloseButton),g.setAttribute("aria-label",p.closeButtonAriaLabel||""))},ee=function(h,p){var g=qt();g&&(we(g,p.backdrop),Be(g,p.position),A(g,p.grow),Pn(g,p,"container"))};function we(y,h){typeof h=="string"?y.style.background=h:h||Ue([document.documentElement,document.body],V["no-backdrop"])}function Be(y,h){h&&(h in V?Ue(y,V[h]):(ct('The "position" parameter is not valid, defaulting to "center"'),Ue(y,V.center)))}function A(y,h){h&&Ue(y,V["grow-".concat(h)])}var S={innerParams:new WeakMap,domCache:new WeakMap},F=["input","file","range","select","radio","checkbox","textarea"],Q=function(h,p){var g=M();if(g){var k=S.innerParams.get(h),U=!k||p.input!==k.input;F.forEach(function(de){var Oe=wr(g,V[de]);Oe&&(Ce(de,p.inputAttributes),Oe.className=V[de],U&&Gt(Oe))}),p.input&&(U&&te(p),Te(p))}},te=function(h){if(h.input){if(!ie[h.input]){Zn("Unexpected type of input! Expected ".concat(Object.keys(ie).join(" | "),', got "').concat(h.input,'"'));return}var p=ue(h.input),g=ie[h.input](p,h);St(p),h.inputAutoFocus&&setTimeout(function(){ga(g)})}},Z=function(h){for(var p=0;p<h.attributes.length;p++){var g=h.attributes[p].name;["id","type","value","style"].includes(g)||h.removeAttribute(g)}},Ce=function(h,p){var g=Ri(M(),h);if(g){Z(g);for(var k in p)g.setAttribute(k,p[k])}},Te=function(h){var p=ue(h.input);s(h.customClass)==="object"&&Ue(p,h.customClass.input)},Ne=function(h,p){(!h.placeholder||p.inputPlaceholder)&&(h.placeholder=p.inputPlaceholder)},ae=function(h,p,g){if(g.inputLabel){var k=document.createElement("label"),U=V["input-label"];k.setAttribute("for",h.id),k.className=U,s(g.customClass)==="object"&&Ue(k,g.customClass.inputLabel),k.innerText=g.inputLabel,p.insertAdjacentElement("beforebegin",k)}},ue=function(h){return wr(M(),V[h]||V.input)},he=function(h,p){["string","number"].includes(s(p))?h.value="".concat(p):ma(p)||ct('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(s(p),'"'))},ie={};ie.text=ie.email=ie.password=ie.number=ie.tel=ie.url=ie.search=ie.date=ie["datetime-local"]=ie.time=ie.week=ie.month=function(y,h){return he(y,h.inputValue),ae(y,y,h),Ne(y,h),y.type=h.input,y},ie.file=function(y,h){return ae(y,y,h),Ne(y,h),y},ie.range=function(y,h){var p=y.querySelector("input"),g=y.querySelector("output");return he(p,h.inputValue),p.type=h.input,he(g,h.inputValue),ae(p,y,h),y},ie.select=function(y,h){if(y.textContent="",h.inputPlaceholder){var p=document.createElement("option");kn(p,h.inputPlaceholder),p.value="",p.disabled=!0,p.selected=!0,y.appendChild(p)}return ae(y,y,h),y},ie.radio=function(y){return y.textContent="",y},ie.checkbox=function(y,h){var p=Ri(M(),"checkbox");p.value="1",p.checked=!!h.inputValue;var g=y.querySelector("span");return kn(g,h.inputPlaceholder),p},ie.textarea=function(y,h){he(y,h.inputValue),Ne(y,h),ae(y,y,h);var p=function(k){return parseInt(window.getComputedStyle(k).marginLeft)+parseInt(window.getComputedStyle(k).marginRight)};return setTimeout(function(){if("MutationObserver"in window){var g=parseInt(window.getComputedStyle(M()).width),k=function(){if(document.body.contains(y)){var de=y.offsetWidth+p(y);de>g?M().style.width="".concat(de,"px"):Ni(M(),"width",h.width)}};new MutationObserver(k).observe(y,{attributes:!0,attributeFilter:["style"]})}}),y};var je=function(h,p){var g=ye();g&&(Oi(g),Pn(g,p,"htmlContainer"),p.html?(_a(p.html,g),St(g,"block")):p.text?(g.textContent=p.text,St(g,"block")):Gt(g),Q(h,p))},Xe=function(h,p){var g=wo();g&&(Oi(g),hs(g,p.footer,"block"),p.footer&&_a(p.footer,g),Pn(g,p,"footer"))},mt=function(h,p){var g=S.innerParams.get(h),k=oe();if(k){if(g&&p.icon===g.icon){Qe(k,p),tn(k,p);return}if(!p.icon&&!p.iconHtml){Gt(k);return}if(p.icon&&Object.keys(Jn).indexOf(p.icon)===-1){Zn('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(p.icon,'"')),Gt(k);return}St(k),Qe(k,p),tn(k,p),Ue(k,p.showClass&&p.showClass.icon)}},tn=function(h,p){for(var g=0,k=Object.entries(Jn);g<k.length;g++){var U=T(k[g],2),de=U[0],Oe=U[1];p.icon!==de&&vr(h,Oe)}Ue(h,p.icon&&Jn[p.icon]),si(h,p),nn(),Pn(h,p,"icon")},nn=function(){var h=M();if(h)for(var p=window.getComputedStyle(h).getPropertyValue("background-color"),g=h.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix"),k=0;k<g.length;k++)g[k].style.backgroundColor=p},Ut=`
  <div class="swal2-success-circular-line-left"></div>
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>
  <div class="swal2-success-circular-line-right"></div>
`,ut=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,Qe=function(h,p){if(!(!p.icon&&!p.iconHtml)){var g=h.innerHTML,k="";if(p.iconHtml)k=ps(p.iconHtml);else if(p.icon==="success")k=Ut,g=g.replace(/ style=".*?"/g,"");else if(p.icon==="error")k=ut;else if(p.icon){var U={question:"?",warning:"!",info:"i"};k=ps(U[p.icon])}g.trim()!==k.trim()&&kn(h,k)}},si=function(h,p){if(p.iconColor){h.style.color=p.iconColor,h.style.borderColor=p.iconColor;for(var g=0,k=[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"];g<k.length;g++){var U=k[g];ya(h,U,"backgroundColor",p.iconColor)}ya(h,".swal2-success-ring","borderColor",p.iconColor)}},ps=function(h){return'<div class="'.concat(V["icon-content"],'">').concat(h,"</div>")},xo=function(h,p){var g=ze();if(g){if(!p.imageUrl){Gt(g);return}St(g,""),g.setAttribute("src",p.imageUrl),g.setAttribute("alt",p.imageAlt||""),Ni(g,"width",p.imageWidth),Ni(g,"height",p.imageHeight),g.className=V.image,Pn(g,p,"image")}},Br=function(h,p){var g=qt(),k=M();if(!(!g||!k)){if(p.toast){Ni(g,"width",p.width),k.style.width="100%";var U=Bn();U&&k.insertBefore(U,oe())}else Ni(k,"width",p.width);Ni(k,"padding",p.padding),p.color&&(k.style.color=p.color),p.background&&(k.style.background=p.background),Gt(Kt()),Di(k,p)}},Di=function(h,p){var g=p.showClass||{};h.className="".concat(V.popup," ").concat(gn(h)?g.popup:""),p.toast?(Ue([document.documentElement,document.body],V["toast-shown"]),Ue(h,V.toast)):Ue(h,V.modal),Pn(h,p,"popup"),typeof p.customClass=="string"&&Ue(h,p.customClass),p.icon&&Ue(h,V["icon-".concat(p.icon)])},_r=function(h,p){var g=rt();if(g){var k=p.progressSteps,U=p.currentProgressStep;if(!k||k.length===0||U===void 0){Gt(g);return}St(g),g.textContent="",U>=k.length&&ct("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),k.forEach(function(de,Oe){var Ve=ms(de);if(g.appendChild(Ve),Oe===U&&Ue(Ve,V["active-progress-step"]),Oe!==k.length-1){var dt=bo(p);g.appendChild(dt)}})}},ms=function(h){var p=document.createElement("li");return Ue(p,V["progress-step"]),kn(p,h),p},bo=function(h){var p=document.createElement("li");return Ue(p,V["progress-step-line"]),h.progressStepsDistance&&Ni(p,"width",h.progressStepsDistance),p},gs=function(h,p){var g=Y();g&&(Oi(g),hs(g,p.title||p.titleText,"block"),p.title&&_a(p.title,g),p.titleText&&(g.innerText=p.titleText),Pn(g,p,"title"))},ys=function(h,p){Br(h,p),ee(h,p),_r(h,p),mt(h,p),xo(h,p),gs(h,p),j(h,p),je(h,p),ym(h,p),Xe(h,p);var g=M();typeof p.didRender=="function"&&g&&p.didRender(g)},Rn=function(){return gn(M())},md=function(){var h;return(h=Dt())===null||h===void 0?void 0:h.click()},ER=function(){var h;return(h=er())===null||h===void 0?void 0:h.click()},TR=function(){var h;return(h=Lr())===null||h===void 0?void 0:h.click()},xa=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),Y_=function(h){h.keydownTarget&&h.keydownHandlerAdded&&(h.keydownTarget.removeEventListener("keydown",h.keydownHandler,{capture:h.keydownListenerCapture}),h.keydownHandlerAdded=!1)},SR=function(h,p,g){Y_(h),p.toast||(h.keydownHandler=function(k){return CR(p,k,g)},h.keydownTarget=p.keydownListenerCapture?window:M(),h.keydownListenerCapture=p.keydownListenerCapture,h.keydownTarget.addEventListener("keydown",h.keydownHandler,{capture:h.keydownListenerCapture}),h.keydownHandlerAdded=!0)},vm=function(h,p){var g,k=Wl();if(k.length){h=h+p,h===k.length?h=0:h===-1&&(h=k.length-1),k[h].focus();return}(g=M())===null||g===void 0||g.focus()},X_=["ArrowRight","ArrowDown"],IR=["ArrowLeft","ArrowUp"],CR=function(h,p,g){h&&(p.isComposing||p.keyCode===229||(h.stopKeydownPropagation&&p.stopPropagation(),p.key==="Enter"?AR(p,h):p.key==="Tab"?kR(p):[].concat(X_,IR).includes(p.key)?PR(p.key):p.key==="Escape"&&RR(p,h,g)))},AR=function(h,p){if(Ai(p.allowEnterKey)){var g=Ri(M(),p.input);if(h.target&&g&&h.target instanceof HTMLElement&&h.target.outerHTML===g.outerHTML){if(["textarea","file"].includes(p.input))return;md(),h.preventDefault()}}},kR=function(h){for(var p=h.target,g=Wl(),k=-1,U=0;U<g.length;U++)if(p===g[U]){k=U;break}h.shiftKey?vm(k,-1):vm(k,1),h.stopPropagation(),h.preventDefault()},PR=function(h){var p=Mr(),g=Dt(),k=er(),U=Lr();if(!(!p||!g||!k||!U)){var de=[g,k,U];if(!(document.activeElement instanceof HTMLElement&&!de.includes(document.activeElement))){var Oe=X_.includes(h)?"nextElementSibling":"previousElementSibling",Ve=document.activeElement;if(Ve){for(var dt=0;dt<p.children.length;dt++){if(Ve=Ve[Oe],!Ve)return;if(Ve instanceof HTMLButtonElement&&gn(Ve))break}Ve instanceof HTMLButtonElement&&Ve.focus()}}}},RR=function(h,p,g){Ai(p.allowEscapeKey)&&(h.preventDefault(),g(xa.esc))},ba={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap},NR=function(){var h=Array.from(document.body.children);h.forEach(function(p){p===qt()||p.contains(qt())||(p.hasAttribute("aria-hidden")&&p.setAttribute("data-previous-aria-hidden",p.getAttribute("aria-hidden")||""),p.setAttribute("aria-hidden","true"))})},J_=function(){var h=Array.from(document.body.children);h.forEach(function(p){p.hasAttribute("data-previous-aria-hidden")?(p.setAttribute("aria-hidden",p.getAttribute("data-previous-aria-hidden")||""),p.removeAttribute("data-previous-aria-hidden")):p.removeAttribute("aria-hidden")})},Z_=typeof window<"u"&&!!window.GestureEvent,OR=function(){if(Z_&&!Vr(document.body,V.iosfix)){var h=document.body.scrollTop;document.body.style.top="".concat(h*-1,"px"),Ue(document.body,V.iosfix),DR()}},DR=function(){var h=qt();if(h){var p;h.ontouchstart=function(g){p=jR(g)},h.ontouchmove=function(g){p&&(g.preventDefault(),g.stopPropagation())}}},jR=function(h){var p=h.target,g=qt(),k=ye();return!g||!k||LR(h)||MR(h)?!1:p===g||!ud(g)&&p instanceof HTMLElement&&p.tagName!=="INPUT"&&p.tagName!=="TEXTAREA"&&!(ud(k)&&k.contains(p))},LR=function(h){return h.touches&&h.touches.length&&h.touches[0].touchType==="stylus"},MR=function(h){return h.touches&&h.touches.length>1},VR=function(){if(Vr(document.body,V.iosfix)){var h=parseInt(document.body.style.top,10);vr(document.body,V.iosfix),document.body.style.top="",document.body.scrollTop=h*-1}},FR=function(){var h=document.createElement("div");h.className=V["scrollbar-measure"],document.body.appendChild(h);var p=h.getBoundingClientRect().width-h.clientWidth;return document.body.removeChild(h),p},Ea=null,UR=function(h){Ea===null&&(document.body.scrollHeight>window.innerHeight||h==="scroll")&&(Ea=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat(Ea+FR(),"px"))},BR=function(){Ea!==null&&(document.body.style.paddingRight="".concat(Ea,"px"),Ea=null)};function e1(y,h,p,g){_o()?n1(y,g):($e(p).then(function(){return n1(y,g)}),Y_(K)),Z_?(h.setAttribute("style","display:none !important"),h.removeAttribute("class"),h.innerHTML=""):h.remove(),Pi()&&(BR(),VR(),J_()),$R()}function $R(){vr([document.documentElement,document.body],[V.shown,V["height-auto"],V["no-backdrop"],V["toast-shown"]])}function vs(y){y=HR(y);var h=ba.swalPromiseResolve.get(this),p=zR(this);this.isAwaitingPromise?y.isDismissed||(Gl(this),h(y)):p&&h(y)}var zR=function(h){var p=M();if(!p)return!1;var g=S.innerParams.get(h);if(!g||Vr(p,g.hideClass.popup))return!1;vr(p,g.showClass.popup),Ue(p,g.hideClass.popup);var k=qt();return vr(k,g.showClass.backdrop),Ue(k,g.hideClass.backdrop),WR(h,p,g),!0};function t1(y){var h=ba.swalPromiseReject.get(this);Gl(this),h&&h(y)}var Gl=function(h){h.isAwaitingPromise&&(delete h.isAwaitingPromise,S.innerParams.get(h)||h._destroy())},HR=function(h){return typeof h>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},h)},WR=function(h,p,g){var k=qt(),U=Ur&&ql(p);typeof g.willClose=="function"&&g.willClose(p),U?qR(h,p,k,g.returnFocus,g.didClose):e1(h,k,g.returnFocus,g.didClose)},qR=function(h,p,g,k,U){Ur&&(K.swalCloseEventFinishedCallback=e1.bind(null,h,g,k,U),p.addEventListener(Ur,function(de){de.target===p&&(K.swalCloseEventFinishedCallback(),delete K.swalCloseEventFinishedCallback)}))},n1=function(h,p){setTimeout(function(){typeof p=="function"&&p.bind(h.params)(),h._destroy&&h._destroy()})},Ta=function(h){var p=M();if(p||new _d,p=M(),!!p){var g=Bn();_o()?Gt(oe()):KR(p,h),St(g),p.setAttribute("data-loading","true"),p.setAttribute("aria-busy","true"),p.focus()}},KR=function(h,p){var g=Mr(),k=Bn();!g||!k||(!p&&gn(Dt())&&(p=Dt()),St(g),p&&(Gt(p),k.setAttribute("data-button-to-replace",p.className),g.insertBefore(k,p)),Ue([h,g],V.loading))},GR=function(h,p){p.input==="select"||p.input==="radio"?ZR(h,p):["text","email","number","tel","textarea"].some(function(g){return g===p.input})&&(jr(p.inputValue)||ma(p.inputValue))&&(Ta(Dt()),eN(h,p))},QR=function(h,p){var g=h.getInput();if(!g)return null;switch(p.input){case"checkbox":return YR(g);case"radio":return XR(g);case"file":return JR(g);default:return p.inputAutoTrim?g.value.trim():g.value}},YR=function(h){return h.checked?1:0},XR=function(h){return h.checked?h.value:null},JR=function(h){return h.files&&h.files.length?h.getAttribute("multiple")!==null?h.files:h.files[0]:null},ZR=function(h,p){var g=M();if(g){var k=function(de){p.input==="select"?tN(g,r1(de),p):p.input==="radio"&&nN(g,r1(de),p)};jr(p.inputOptions)||ma(p.inputOptions)?(Ta(Dt()),ds(p.inputOptions).then(function(U){h.hideLoading(),k(U)})):s(p.inputOptions)==="object"?k(p.inputOptions):Zn("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(s(p.inputOptions)))}},eN=function(h,p){var g=h.getInput();g&&(Gt(g),ds(p.inputValue).then(function(k){g.value=p.input==="number"?"".concat(parseFloat(k)||0):"".concat(k),St(g),g.focus(),h.hideLoading()}).catch(function(k){Zn("Error in inputValue promise: ".concat(k)),g.value="",St(g),g.focus(),h.hideLoading()}))};function tN(y,h,p){var g=wr(y,V.select);if(g){var k=function(de,Oe,Ve){var dt=document.createElement("option");dt.value=Ve,kn(dt,Oe),dt.selected=i1(Ve,p.inputValue),de.appendChild(dt)};h.forEach(function(U){var de=U[0],Oe=U[1];if(Array.isArray(Oe)){var Ve=document.createElement("optgroup");Ve.label=de,Ve.disabled=!1,g.appendChild(Ve),Oe.forEach(function(dt){return k(Ve,dt[1],dt[0])})}else k(g,Oe,de)}),g.focus()}}function nN(y,h,p){var g=wr(y,V.radio);if(g){h.forEach(function(U){var de=U[0],Oe=U[1],Ve=document.createElement("input"),dt=document.createElement("label");Ve.type="radio",Ve.name=V.radio,Ve.value=de,i1(de,p.inputValue)&&(Ve.checked=!0);var Ql=document.createElement("span");kn(Ql,Oe),Ql.className=V.label,dt.appendChild(Ve),dt.appendChild(Ql),g.appendChild(dt)});var k=g.querySelectorAll("input");k.length&&k[0].focus()}}var r1=function y(h){var p=[];return h instanceof Map?h.forEach(function(g,k){var U=g;s(U)==="object"&&(U=y(U)),p.push([k,U])}):Object.keys(h).forEach(function(g){var k=h[g];s(k)==="object"&&(k=y(k)),p.push([g,k])}),p},i1=function(h,p){return!!p&&p.toString()===h.toString()},gd=void 0,rN=function(h){var p=S.innerParams.get(h);h.disableButtons(),p.input?s1(h,"confirm"):_m(h,!0)},iN=function(h){var p=S.innerParams.get(h);h.disableButtons(),p.returnInputValueOnDeny?s1(h,"deny"):wm(h,!1)},sN=function(h,p){h.disableButtons(),p(xa.cancel)},s1=function(h,p){var g=S.innerParams.get(h);if(!g.input){Zn('The "input" parameter is needed to be set when using returnInputValueOn'.concat(Ii(p)));return}var k=h.getInput(),U=QR(h,g);g.inputValidator?oN(h,U,p):k&&!k.checkValidity()?(h.enableButtons(),h.showValidationMessage(g.validationMessage)):p==="deny"?wm(h,U):_m(h,U)},oN=function(h,p,g){var k=S.innerParams.get(h);h.disableInput();var U=Promise.resolve().then(function(){return ds(k.inputValidator(p,k.validationMessage))});U.then(function(de){h.enableButtons(),h.enableInput(),de?h.showValidationMessage(de):g==="deny"?wm(h,p):_m(h,p)})},wm=function(h,p){var g=S.innerParams.get(h||gd);if(g.showLoaderOnDeny&&Ta(er()),g.preDeny){h.isAwaitingPromise=!0;var k=Promise.resolve().then(function(){return ds(g.preDeny(p,g.validationMessage))});k.then(function(U){U===!1?(h.hideLoading(),Gl(h)):h.close({isDenied:!0,value:typeof U>"u"?p:U})}).catch(function(U){return a1(h||gd,U)})}else h.close({isDenied:!0,value:p})},o1=function(h,p){h.close({isConfirmed:!0,value:p})},a1=function(h,p){h.rejectPromise(p)},_m=function(h,p){var g=S.innerParams.get(h||gd);if(g.showLoaderOnConfirm&&Ta(),g.preConfirm){h.resetValidationMessage(),h.isAwaitingPromise=!0;var k=Promise.resolve().then(function(){return ds(g.preConfirm(p,g.validationMessage))});k.then(function(U){gn(Kt())||U===!1?(h.hideLoading(),Gl(h)):o1(h,typeof U>"u"?p:U)}).catch(function(U){return a1(h||gd,U)})}else o1(h,p)};function yd(){var y=S.innerParams.get(this);if(y){var h=S.domCache.get(this);Gt(h.loader),_o()?y.icon&&St(oe()):aN(h),vr([h.popup,h.actions],V.loading),h.popup.removeAttribute("aria-busy"),h.popup.removeAttribute("data-loading"),h.confirmButton.disabled=!1,h.denyButton.disabled=!1,h.cancelButton.disabled=!1}}var aN=function(h){var p=h.popup.getElementsByClassName(h.loader.getAttribute("data-button-to-replace"));p.length?St(p[0],"inline-block"):fm()&&Gt(h.actions)};function l1(){var y=S.innerParams.get(this),h=S.domCache.get(this);return h?Ri(h.popup,y.input):null}function c1(y,h,p){var g=S.domCache.get(y);h.forEach(function(k){g[k].disabled=p})}function u1(y,h){var p=M();if(!(!p||!y))if(y.type==="radio")for(var g=p.querySelectorAll('[name="'.concat(V.radio,'"]')),k=0;k<g.length;k++)g[k].disabled=h;else y.disabled=h}function d1(){c1(this,["confirmButton","denyButton","cancelButton"],!1)}function h1(){c1(this,["confirmButton","denyButton","cancelButton"],!0)}function f1(){u1(this.getInput(),!1)}function p1(){u1(this.getInput(),!0)}function m1(y){var h=S.domCache.get(this),p=S.innerParams.get(this);kn(h.validationMessage,y),h.validationMessage.className=V["validation-message"],p.customClass&&p.customClass.validationMessage&&Ue(h.validationMessage,p.customClass.validationMessage),St(h.validationMessage);var g=this.getInput();g&&(g.setAttribute("aria-invalid","true"),g.setAttribute("aria-describedby",V["validation-message"]),ga(g),Ue(g,V.inputerror))}function g1(){var y=S.domCache.get(this);y.validationMessage&&Gt(y.validationMessage);var h=this.getInput();h&&(h.removeAttribute("aria-invalid"),h.removeAttribute("aria-describedby"),vr(h,V.inputerror))}var Sa={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,animation:!0,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},lN=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],cN={},uN=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],y1=function(h){return Object.prototype.hasOwnProperty.call(Sa,h)},v1=function(h){return lN.indexOf(h)!==-1},w1=function(h){return cN[h]},dN=function(h){y1(h)||ct('Unknown parameter "'.concat(h,'"'))},hN=function(h){uN.includes(h)&&ct('The parameter "'.concat(h,'" is incompatible with toasts'))},fN=function(h){var p=w1(h);p&&$l(h,p)},pN=function(h){h.backdrop===!1&&h.allowOutsideClick&&ct('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(var p in h)dN(p),h.toast&&hN(p),fN(p)};function _1(y){var h=M(),p=S.innerParams.get(this);if(!h||Vr(h,p.hideClass.popup)){ct("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}var g=mN(y),k=Object.assign({},p,g);ys(this,k),S.innerParams.set(this,k),Object.defineProperties(this,{params:{value:Object.assign({},this.params,y),writable:!1,enumerable:!0}})}var mN=function(h){var p={};return Object.keys(h).forEach(function(g){v1(g)?p[g]=h[g]:ct("Invalid parameter to update: ".concat(g))}),p};function x1(){var y=S.domCache.get(this),h=S.innerParams.get(this);if(!h){b1(this);return}y.popup&&K.swalCloseEventFinishedCallback&&(K.swalCloseEventFinishedCallback(),delete K.swalCloseEventFinishedCallback),typeof h.didDestroy=="function"&&h.didDestroy(),gN(this)}var gN=function(h){b1(h),delete h.params,delete K.keydownHandler,delete K.keydownTarget,delete K.currentInstance},b1=function(h){h.isAwaitingPromise?(xm(S,h),h.isAwaitingPromise=!0):(xm(ba,h),xm(S,h),delete h.isAwaitingPromise,delete h.disableButtons,delete h.enableButtons,delete h.getInput,delete h.disableInput,delete h.enableInput,delete h.hideLoading,delete h.disableLoading,delete h.showValidationMessage,delete h.resetValidationMessage,delete h.close,delete h.closePopup,delete h.closeModal,delete h.closeToast,delete h.rejectPromise,delete h.update,delete h._destroy)},xm=function(h,p){for(var g in h)h[g].delete(p)},yN=Object.freeze({__proto__:null,_destroy:x1,close:vs,closeModal:vs,closePopup:vs,closeToast:vs,disableButtons:h1,disableInput:p1,disableLoading:yd,enableButtons:d1,enableInput:f1,getInput:l1,handleAwaitingPromise:Gl,hideLoading:yd,rejectPromise:t1,resetValidationMessage:g1,showValidationMessage:m1,update:_1}),vN=function(h,p,g){h.toast?wN(h,p,g):(xN(p),bN(p),EN(h,p,g))},wN=function(h,p,g){p.popup.onclick=function(){h&&(_N(h)||h.timer||h.input)||g(xa.close)}},_N=function(h){return!!(h.showConfirmButton||h.showDenyButton||h.showCancelButton||h.showCloseButton)},vd=!1,xN=function(h){h.popup.onmousedown=function(){h.container.onmouseup=function(p){h.container.onmouseup=function(){},p.target===h.container&&(vd=!0)}}},bN=function(h){h.container.onmousedown=function(){h.popup.onmouseup=function(p){h.popup.onmouseup=function(){},(p.target===h.popup||p.target instanceof HTMLElement&&h.popup.contains(p.target))&&(vd=!0)}}},EN=function(h,p,g){p.container.onclick=function(k){if(vd){vd=!1;return}k.target===p.container&&Ai(h.allowOutsideClick)&&g(xa.backdrop)}},TN=function(h){return s(h)==="object"&&h.jquery},E1=function(h){return h instanceof Element||TN(h)},SN=function(h){var p={};return s(h[0])==="object"&&!E1(h[0])?Object.assign(p,h[0]):["title","html","icon"].forEach(function(g,k){var U=h[k];typeof U=="string"||E1(U)?p[g]=U:U!==void 0&&Zn("Unexpected type of ".concat(g,'! Expected "string" or "Element", got ').concat(s(U)))}),p};function IN(){for(var y=this,h=arguments.length,p=new Array(h),g=0;g<h;g++)p[g]=arguments[g];return v(y,p)}function CN(y){var h=function(p){c(k,p);var g=E(k);function k(){return o(this,k),g.apply(this,arguments)}return l(k,[{key:"_main",value:function(de,Oe){return _(d(k.prototype),"_main",this).call(this,de,Object.assign({},y,Oe))}}]),k}(this);return h}var AN=function(){return K.timeout&&K.timeout.getTimerLeft()},T1=function(){if(K.timeout)return fs(),K.timeout.stop()},S1=function(){if(K.timeout){var h=K.timeout.start();return va(h),h}},kN=function(){var h=K.timeout;return h&&(h.running?T1():S1())},PN=function(h){if(K.timeout){var p=K.timeout.increase(h);return va(p,!0),p}},RN=function(){return!!(K.timeout&&K.timeout.isRunning())},I1=!1,bm={};function NN(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"data-swal-template";bm[y]=this,I1||(document.body.addEventListener("click",ON),I1=!0)}var ON=function(h){for(var p=h.target;p&&p!==document;p=p.parentNode)for(var g in bm){var k=p.getAttribute(g);if(k){bm[g].fire({template:k});return}}},DN=Object.freeze({__proto__:null,argsToParams:SN,bindClickHandler:NN,clickCancel:TR,clickConfirm:md,clickDeny:ER,enableLoading:Ta,fire:IN,getActions:Mr,getCancelButton:Lr,getCloseButton:zl,getConfirmButton:Dt,getContainer:qt,getDenyButton:er,getFocusableElements:Wl,getFooter:wo,getHtmlContainer:ye,getIcon:oe,getIconContent:ne,getImage:ze,getInputLabel:z,getLoader:Bn,getPopup:M,getProgressSteps:rt,getTimerLeft:AN,getTimerProgressBar:ki,getTitle:Y,getValidationMessage:Kt,increaseTimer:PN,isDeprecatedParameter:w1,isLoading:ld,isTimerRunning:RN,isUpdatableParameter:v1,isValidParameter:y1,isVisible:Rn,mixin:CN,resumeTimer:S1,showLoading:Ta,stopTimer:T1,toggleTimer:kN}),jN=function(){function y(h,p){o(this,y),this.callback=h,this.remaining=p,this.running=!1,this.start()}return l(y,[{key:"start",value:function(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}},{key:"stop",value:function(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}},{key:"increase",value:function(p){var g=this.running;return g&&this.stop(),this.remaining+=p,g&&this.start(),this.remaining}},{key:"getTimerLeft",value:function(){return this.running&&(this.stop(),this.start()),this.remaining}},{key:"isRunning",value:function(){return this.running}}]),y}(),C1=["swal-title","swal-html","swal-footer"],LN=function(h){var p=typeof h.template=="string"?document.querySelector(h.template):h.template;if(!p)return{};var g=p.content;HN(g);var k=Object.assign(MN(g),VN(g),FN(g),UN(g),BN(g),$N(g),zN(g,C1));return k},MN=function(h){var p={},g=Array.from(h.querySelectorAll("swal-param"));return g.forEach(function(k){Eo(k,["name","value"]);var U=k.getAttribute("name"),de=k.getAttribute("value");typeof Sa[U]=="boolean"?p[U]=de!=="false":s(Sa[U])==="object"?p[U]=JSON.parse(de):p[U]=de}),p},VN=function(h){var p={},g=Array.from(h.querySelectorAll("swal-function-param"));return g.forEach(function(k){var U=k.getAttribute("name"),de=k.getAttribute("value");p[U]=new Function("return ".concat(de))()}),p},FN=function(h){var p={},g=Array.from(h.querySelectorAll("swal-button"));return g.forEach(function(k){Eo(k,["type","color","aria-label"]);var U=k.getAttribute("type");p["".concat(U,"ButtonText")]=k.innerHTML,p["show".concat(Ii(U),"Button")]=!0,k.hasAttribute("color")&&(p["".concat(U,"ButtonColor")]=k.getAttribute("color")),k.hasAttribute("aria-label")&&(p["".concat(U,"ButtonAriaLabel")]=k.getAttribute("aria-label"))}),p},UN=function(h){var p={},g=h.querySelector("swal-image");return g&&(Eo(g,["src","width","height","alt"]),g.hasAttribute("src")&&(p.imageUrl=g.getAttribute("src")),g.hasAttribute("width")&&(p.imageWidth=g.getAttribute("width")),g.hasAttribute("height")&&(p.imageHeight=g.getAttribute("height")),g.hasAttribute("alt")&&(p.imageAlt=g.getAttribute("alt"))),p},BN=function(h){var p={},g=h.querySelector("swal-icon");return g&&(Eo(g,["type","color"]),g.hasAttribute("type")&&(p.icon=g.getAttribute("type")),g.hasAttribute("color")&&(p.iconColor=g.getAttribute("color")),p.iconHtml=g.innerHTML),p},$N=function(h){var p={},g=h.querySelector("swal-input");g&&(Eo(g,["type","label","placeholder","value"]),p.input=g.getAttribute("type")||"text",g.hasAttribute("label")&&(p.inputLabel=g.getAttribute("label")),g.hasAttribute("placeholder")&&(p.inputPlaceholder=g.getAttribute("placeholder")),g.hasAttribute("value")&&(p.inputValue=g.getAttribute("value")));var k=Array.from(h.querySelectorAll("swal-input-option"));return k.length&&(p.inputOptions={},k.forEach(function(U){Eo(U,["value"]);var de=U.getAttribute("value"),Oe=U.innerHTML;p.inputOptions[de]=Oe})),p},zN=function(h,p){var g={};for(var k in p){var U=p[k],de=h.querySelector(U);de&&(Eo(de,[]),g[U.replace(/^swal-/,"")]=de.innerHTML.trim())}return g},HN=function(h){var p=C1.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(h.children).forEach(function(g){var k=g.tagName.toLowerCase();p.includes(k)||ct("Unrecognized element <".concat(k,">"))})},Eo=function(h,p){Array.from(h.attributes).forEach(function(g){p.indexOf(g.name)===-1&&ct(['Unrecognized attribute "'.concat(g.name,'" on <').concat(h.tagName.toLowerCase(),">."),"".concat(p.length?"Allowed attributes are: ".concat(p.join(", ")):"To set the value, use HTML within the element.")])})},A1=10,WN=function(h){var p=qt(),g=M();typeof h.willOpen=="function"&&h.willOpen(g);var k=window.getComputedStyle(document.body),U=k.overflowY;QN(p,g,h),setTimeout(function(){KN(p,g)},A1),Pi()&&(GN(p,h.scrollbarPadding,U),NR()),!_o()&&!K.previousActiveElement&&(K.previousActiveElement=document.activeElement),typeof h.didOpen=="function"&&setTimeout(function(){return h.didOpen(g)}),vr(p,V["no-transition"])},qN=function y(h){var p=M();if(!(h.target!==p||!Ur)){var g=qt();p.removeEventListener(Ur,y),g.style.overflowY="auto"}},KN=function(h,p){Ur&&ql(p)?(h.style.overflowY="hidden",p.addEventListener(Ur,qN)):h.style.overflowY="auto"},GN=function(h,p,g){OR(),p&&g!=="hidden"&&UR(g),setTimeout(function(){h.scrollTop=0})},QN=function(h,p,g){Ue(h,g.showClass.backdrop),g.animation?(p.style.setProperty("opacity","0","important"),St(p,"grid"),setTimeout(function(){Ue(p,g.showClass.popup),p.style.removeProperty("opacity")},A1)):St(p,"grid"),Ue([document.documentElement,document.body],V.shown),g.heightAuto&&g.backdrop&&!g.toast&&Ue([document.documentElement,document.body],V["height-auto"])},k1={email:function(h,p){return/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(h)?Promise.resolve():Promise.resolve(p||"Invalid email address")},url:function(h,p){return/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(h)?Promise.resolve():Promise.resolve(p||"Invalid URL")}};function YN(y){y.inputValidator||(y.input==="email"&&(y.inputValidator=k1.email),y.input==="url"&&(y.inputValidator=k1.url))}function XN(y){(!y.target||typeof y.target=="string"&&!document.querySelector(y.target)||typeof y.target!="string"&&!y.target.appendChild)&&(ct('Target parameter is not valid, defaulting to "body"'),y.target="body")}function JN(y){YN(y),y.showLoaderOnConfirm&&!y.preConfirm&&ct(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),XN(y),typeof y.title=="string"&&(y.title=y.title.split(`
`).join("<br />")),fd(y)}var oi,wd=new WeakMap,Nt=function(){function y(){if(o(this,y),J(this,wd,{writable:!0,value:void 0}),!(typeof window>"u")){oi=this;for(var h=arguments.length,p=new Array(h),g=0;g<h;g++)p[g]=arguments[g];var k=Object.freeze(this.constructor.argsToParams(p));this.params=k,this.isAwaitingPromise=!1,Ee(this,wd,this._main(oi.params))}}return l(y,[{key:"_main",value:function(p){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(pN(Object.assign({},g,p)),K.currentInstance){var k=ba.swalPromiseResolve.get(K.currentInstance),U=K.currentInstance.isAwaitingPromise;K.currentInstance._destroy(),U||k({isDismissed:!0}),Pi()&&J_()}K.currentInstance=oi;var de=eO(p,g);JN(de),Object.freeze(de),K.timeout&&(K.timeout.stop(),delete K.timeout),clearTimeout(K.restoreFocusTimeout);var Oe=tO(oi);return ys(oi,de),S.innerParams.set(oi,de),ZN(oi,Oe,de)}},{key:"then",value:function(p){return fe(this,wd).then(p)}},{key:"finally",value:function(p){return fe(this,wd).finally(p)}}]),y}(),ZN=function(h,p,g){return new Promise(function(k,U){var de=function(Ve){h.close({isDismissed:!0,dismiss:Ve})};ba.swalPromiseResolve.set(h,k),ba.swalPromiseReject.set(h,U),p.confirmButton.onclick=function(){rN(h)},p.denyButton.onclick=function(){iN(h)},p.cancelButton.onclick=function(){sN(h,de)},p.closeButton.onclick=function(){de(xa.close)},vN(g,p,de),SR(K,g,de),GR(h,g),WN(g),nO(K,g,de),rO(p,g),setTimeout(function(){p.container.scrollTop=0})})},eO=function(h,p){var g=LN(h),k=Object.assign({},Sa,p,g,h);return k.showClass=Object.assign({},Sa.showClass,k.showClass),k.hideClass=Object.assign({},Sa.hideClass,k.hideClass),k.animation===!1&&(k.showClass={backdrop:"swal2-noanimation"},k.hideClass={}),k},tO=function(h){var p={popup:M(),container:qt(),actions:Mr(),confirmButton:Dt(),denyButton:er(),cancelButton:Lr(),loader:Bn(),closeButton:zl(),validationMessage:Kt(),progressSteps:rt()};return S.domCache.set(h,p),p},nO=function(h,p,g){var k=ki();Gt(k),p.timer&&(h.timeout=new jN(function(){g("timer"),delete h.timeout},p.timer),p.timerProgressBar&&(St(k),Pn(k,p,"timerProgressBar"),setTimeout(function(){h.timeout&&h.timeout.running&&va(p.timer)})))},rO=function(h,p){if(!p.toast){if(!Ai(p.allowEnterKey)){sO();return}iO(h,p)||vm(-1,1)}},iO=function(h,p){return p.focusDeny&&gn(h.denyButton)?(h.denyButton.focus(),!0):p.focusCancel&&gn(h.cancelButton)?(h.cancelButton.focus(),!0):p.focusConfirm&&gn(h.confirmButton)?(h.confirmButton.focus(),!0):!1},sO=function(){document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){var P1=new Date,R1=localStorage.getItem("swal-initiation");R1?(P1.getTime()-Date.parse(R1))/(1e3*60*60*24)>3&&setTimeout(function(){document.body.style.pointerEvents="none";var y=document.createElement("audio");y.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",y.loop=!0,document.body.appendChild(y),setTimeout(function(){y.play().catch(function(){})},2500)},500):localStorage.setItem("swal-initiation","".concat(P1))}Nt.prototype.disableButtons=h1,Nt.prototype.enableButtons=d1,Nt.prototype.getInput=l1,Nt.prototype.disableInput=p1,Nt.prototype.enableInput=f1,Nt.prototype.hideLoading=yd,Nt.prototype.disableLoading=yd,Nt.prototype.showValidationMessage=m1,Nt.prototype.resetValidationMessage=g1,Nt.prototype.close=vs,Nt.prototype.closePopup=vs,Nt.prototype.closeModal=vs,Nt.prototype.closeToast=vs,Nt.prototype.rejectPromise=t1,Nt.prototype.update=_1,Nt.prototype._destroy=x1,Object.assign(Nt,DN),Object.keys(yN).forEach(function(y){Nt[y]=function(){if(oi&&oi[y]){var h;return(h=oi)[y].apply(h,arguments)}return null}}),Nt.DismissReason=xa,Nt.version="11.10.3";var _d=Nt;return _d.default=_d,_d}),typeof tr<"u"&&tr.Sweetalert2&&(tr.swal=tr.sweetAlert=tr.Swal=tr.SweetAlert=tr.Sweetalert2),typeof document<"u"&&function(n,r){var i=n.createElement("style");if(n.getElementsByTagName("head")[0].appendChild(i),i.styleSheet)i.styleSheet.disabled||(i.styleSheet.cssText=r);else try{i.innerHTML=r}catch{i.innerText=r}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:rgba(0,0,0,.4)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled).swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-confirm:focus{box-shadow:0 0 0 3px rgba(112,102,224,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-deny:focus{box-shadow:0 0 0 3px rgba(220,55,65,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,120,129,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-styled):focus{outline:none}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em;text-align:center}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em}div:where(.swal2-container) button:where(.swal2-close){z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:none;background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) .swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:#fff}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}div:where(.swal2-icon).swal2-warning{border-color:#facea8;color:#f8bb86}div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}div:where(.swal2-icon).swal2-info{border-color:#9de0f6;color:#3fc3ee}div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}div:where(.swal2-icon).swal2-question{border-color:#c9dae1;color:#87adbd}div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}')})(XP);var uW=XP.exports;const _e=Vv(uW),dW=()=>{const t=yr(),{products:e,currentPage:n,totalPages:r,filters:i,sorts:s}=ii(m=>m.product),[o,a]=C.useState(!0),[l,c]=C.useState(null);C.useEffect(()=>{const m=()=>{t(em()).then(v=>c(v))};return m(),()=>m()},[t,o]),C.useEffect(()=>{},[e]);const d=async m=>{const v=await _e.mixin({toast:!0,position:"top-end",showConfirmButton:!0,showCancelButton:!0,didOpen:w=>{w.onmouseenter=_e.stopTimer,w.onmouseleave=_e.resumeTimer}}).fire({icon:"question",title:"Seguro que quieres eliminar este producto?"});console.log(v),v.isConfirmed===!0&&(a(!o),t(O8(m)),_e.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:2e3,timerProgressBar:!0,didOpen:b=>{b.onmouseenter=_e.stopTimer,b.onmouseleave=_e.resumeTimer}}).fire({icon:"success",title:"Producto eliminado con xito"}))},f=async m=>{const v=await _e.mixin({toast:!0,position:"top-end",showConfirmButton:!0,showCancelButton:!0,didOpen:w=>{w.onmouseenter=_e.stopTimer,w.onmouseleave=_e.resumeTimer}}).fire({icon:"question",title:"Seguro que quieres modificar este producto?"});console.log(v),v.isConfirmed===!0&&(a(!o),t(j8(m)),_e.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:2e3,timerProgressBar:!0,didOpen:b=>{b.onmouseenter=_e.stopTimer,b.onmouseleave=_e.resumeTimer}}).fire({icon:"success",title:"Producto modificado con xito"}))};return u.jsxs("main",{className:"h-full",children:[u.jsx(eW,{}),u.jsx("section",{children:l==null?void 0:l.map(({id:m,name:v,price:w,image:b,stock:E,active:x})=>u.jsx(cW,{id:m,name:v,price:w,image:b,stock:E,active:x,handlerDelete:d,handlerBorradoLogico:f},m))})]})};var od=t=>t.type==="checkbox",Wa=t=>t instanceof Date,Dn=t=>t==null;const JP=t=>typeof t=="object";var Ht=t=>!Dn(t)&&!Array.isArray(t)&&JP(t)&&!Wa(t),ZP=t=>Ht(t)&&t.target?od(t.target)?t.target.checked:t.target.value:t,hW=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,eR=(t,e)=>t.has(hW(e)),fW=t=>{const e=t.constructor&&t.constructor.prototype;return Ht(e)&&e.hasOwnProperty("isPrototypeOf")},M_=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Hr(t){let e;const n=Array.isArray(t);if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(M_&&(t instanceof Blob||t instanceof FileList))&&(n||Ht(t)))if(e=n?[]:{},!n&&!fW(t))e=t;else for(const r in t)t.hasOwnProperty(r)&&(e[r]=Hr(t[r]));else return t;return e}var ad=t=>Array.isArray(t)?t.filter(Boolean):[],Ct=t=>t===void 0,ce=(t,e,n)=>{if(!e||!Ht(t))return n;const r=ad(e.split(/[,[\].]+?/)).reduce((i,s)=>Dn(i)?i:i[s],t);return Ct(r)||r===t?Ct(t[e])?n:t[e]:r},Tr=t=>typeof t=="boolean";const Mf={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Gr={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},ji={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},pW=be.createContext(null),V_=()=>be.useContext(pW);var tR=(t,e,n,r=!0)=>{const i={defaultValues:e._defaultValues};for(const s in t)Object.defineProperty(i,s,{get:()=>{const o=s;return e._proxyFormState[o]!==Gr.all&&(e._proxyFormState[o]=!r||Gr.all),n&&(n[o]=!0),t[o]}});return i},xr=t=>Ht(t)&&!Object.keys(t).length,nR=(t,e,n,r)=>{n(t);const{name:i,...s}=t;return xr(s)||Object.keys(s).length>=Object.keys(e).length||Object.keys(s).find(o=>e[o]===(!r||Gr.all))},Ch=t=>Array.isArray(t)?t:[t],rR=(t,e,n)=>!t||!e||t===e||Ch(t).some(r=>r&&(n?r===e:r.startsWith(e)||e.startsWith(r)));function F_(t){const e=be.useRef(t);e.current=t,be.useEffect(()=>{const n=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{n&&n.unsubscribe()}},[t.disabled])}function mW(t){const e=V_(),{control:n=e.control,disabled:r,name:i,exact:s}=t||{},[o,a]=be.useState(n._formState),l=be.useRef(!0),c=be.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1}),d=be.useRef(i);return d.current=i,F_({disabled:r,next:f=>l.current&&rR(d.current,f.name,s)&&nR(f,c.current,n._updateFormState)&&a({...n._formState,...f}),subject:n._subjects.state}),be.useEffect(()=>(l.current=!0,c.current.isValid&&n._updateValid(!0),()=>{l.current=!1}),[n]),tR(o,n,c.current,!1)}var gi=t=>typeof t=="string",iR=(t,e,n,r,i)=>gi(t)?(r&&e.watch.add(t),ce(n,t,i)):Array.isArray(t)?t.map(s=>(r&&e.watch.add(s),ce(n,s))):(r&&(e.watchAll=!0),n);function gW(t){const e=V_(),{control:n=e.control,name:r,defaultValue:i,disabled:s,exact:o}=t||{},a=be.useRef(r);a.current=r,F_({disabled:s,subject:n._subjects.values,next:d=>{rR(a.current,d.name,o)&&c(Hr(iR(a.current,n._names,d.values||n._formValues,!1,i)))}});const[l,c]=be.useState(n._getWatch(r,i));return be.useEffect(()=>n._removeUnmounted()),l}var U_=t=>/^\w*$/.test(t),sR=t=>ad(t.replace(/["|']|\]/g,"").split(/\.|\[/)),it=(t,e,n)=>{let r=-1;const i=U_(e)?[e]:sR(e),s=i.length,o=s-1;for(;++r<s;){const a=i[r];let l=n;if(r!==o){const c=t[a];l=Ht(c)||Array.isArray(c)?c:isNaN(+i[r+1])?{}:[]}t[a]=l,t=t[a]}return t};function yW(t){const e=V_(),{name:n,disabled:r,control:i=e.control,shouldUnregister:s}=t,o=eR(i._names.array,n),a=gW({control:i,name:n,defaultValue:ce(i._formValues,n,ce(i._defaultValues,n,t.defaultValue)),exact:!0}),l=mW({control:i,name:n}),c=be.useRef(i.register(n,{...t.rules,value:a,...Tr(t.disabled)?{disabled:t.disabled}:{}}));return be.useEffect(()=>{const d=i._options.shouldUnregister||s,f=(m,v)=>{const w=ce(i._fields,m);w&&(w._f.mount=v)};if(f(n,!0),d){const m=Hr(ce(i._options.defaultValues,n));it(i._defaultValues,n,m),Ct(ce(i._formValues,n))&&it(i._formValues,n,m)}return()=>{(o?d&&!i._state.action:d)?i.unregister(n):f(n,!1)}},[n,i,o,s]),be.useEffect(()=>{ce(i._fields,n)&&i._updateDisabledField({disabled:r,fields:i._fields,name:n,value:ce(i._fields,n)._f.value})},[r,n,i]),{field:{name:n,value:a,...Tr(r)||Tr(l.disabled)?{disabled:l.disabled||r}:{},onChange:be.useCallback(d=>c.current.onChange({target:{value:ZP(d),name:n},type:Mf.CHANGE}),[n]),onBlur:be.useCallback(()=>c.current.onBlur({target:{value:ce(i._formValues,n),name:n},type:Mf.BLUR}),[n,i]),ref:d=>{const f=ce(i._fields,n);f&&d&&(f._f.ref={focus:()=>d.focus(),select:()=>d.select(),setCustomValidity:m=>d.setCustomValidity(m),reportValidity:()=>d.reportValidity()})}},formState:l,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!ce(l.errors,n)},isDirty:{enumerable:!0,get:()=>!!ce(l.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!ce(l.touchedFields,n)},error:{enumerable:!0,get:()=>ce(l.errors,n)}})}}const vW=t=>t.render(yW(t));var wW=(t,e,n,r,i)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:i||!0}}:{},hT=t=>({isOnSubmit:!t||t===Gr.onSubmit,isOnBlur:t===Gr.onBlur,isOnChange:t===Gr.onChange,isOnAll:t===Gr.all,isOnTouch:t===Gr.onTouched}),fT=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const Fc=(t,e,n,r)=>{for(const i of n||Object.keys(t)){const s=ce(t,i);if(s){const{_f:o,...a}=s;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],i)&&!r)break;if(o.ref&&e(o.ref,o.name)&&!r)break;Fc(a,e)}else Ht(a)&&Fc(a,e)}}};var _W=(t,e,n)=>{const r=ad(ce(t,n));return it(r,"root",e[n]),it(t,n,r),t},B_=t=>t.type==="file",Ls=t=>typeof t=="function",Vf=t=>{if(!M_)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},Ah=t=>gi(t),$_=t=>t.type==="radio",Ff=t=>t instanceof RegExp;const pT={value:!1,isValid:!1},mT={value:!0,isValid:!0};var oR=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Ct(t[0].attributes.value)?Ct(t[0].value)||t[0].value===""?mT:{value:t[0].value,isValid:!0}:mT:pT}return pT};const gT={isValid:!1,value:null};var aR=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,gT):gT;function yT(t,e,n="validate"){if(Ah(t)||Array.isArray(t)&&t.every(Ah)||Tr(t)&&!t)return{type:n,message:Ah(t)?t:"",ref:e}}var Aa=t=>Ht(t)&&!Ff(t)?t:{value:t,message:""},vT=async(t,e,n,r,i)=>{const{ref:s,refs:o,required:a,maxLength:l,minLength:c,min:d,max:f,pattern:m,validate:v,name:w,valueAsNumber:b,mount:E,disabled:x}=t._f,_=ce(e,w);if(!E||x)return{};const T=o?o[0]:s,R=fe=>{r&&T.reportValidity&&(T.setCustomValidity(Tr(fe)?"":fe||""),T.reportValidity())},D={},B=$_(s),$=od(s),H=B||$,se=(b||B_(s))&&Ct(s.value)&&Ct(_)||Vf(s)&&s.value===""||_===""||Array.isArray(_)&&!_.length,re=wW.bind(null,w,n,D),ke=(fe,Ee,Me,Je=ji.maxLength,Ie=ji.minLength)=>{const Re=fe?Ee:Me;D[w]={type:fe?Je:Ie,message:Re,ref:s,...re(fe?Je:Ie,Re)}};if(i?!Array.isArray(_)||!_.length:a&&(!H&&(se||Dn(_))||Tr(_)&&!_||$&&!oR(o).isValid||B&&!aR(o).isValid)){const{value:fe,message:Ee}=Ah(a)?{value:!!a,message:a}:Aa(a);if(fe&&(D[w]={type:ji.required,message:Ee,ref:T,...re(ji.required,Ee)},!n))return R(Ee),D}if(!se&&(!Dn(d)||!Dn(f))){let fe,Ee;const Me=Aa(f),Je=Aa(d);if(!Dn(_)&&!isNaN(_)){const Ie=s.valueAsNumber||_&&+_;Dn(Me.value)||(fe=Ie>Me.value),Dn(Je.value)||(Ee=Ie<Je.value)}else{const Ie=s.valueAsDate||new Date(_),Re=K=>new Date(new Date().toDateString()+" "+K),J=s.type=="time",ge=s.type=="week";gi(Me.value)&&_&&(fe=J?Re(_)>Re(Me.value):ge?_>Me.value:Ie>new Date(Me.value)),gi(Je.value)&&_&&(Ee=J?Re(_)<Re(Je.value):ge?_<Je.value:Ie<new Date(Je.value))}if((fe||Ee)&&(ke(!!fe,Me.message,Je.message,ji.max,ji.min),!n))return R(D[w].message),D}if((l||c)&&!se&&(gi(_)||i&&Array.isArray(_))){const fe=Aa(l),Ee=Aa(c),Me=!Dn(fe.value)&&_.length>+fe.value,Je=!Dn(Ee.value)&&_.length<+Ee.value;if((Me||Je)&&(ke(Me,fe.message,Ee.message),!n))return R(D[w].message),D}if(m&&!se&&gi(_)){const{value:fe,message:Ee}=Aa(m);if(Ff(fe)&&!_.match(fe)&&(D[w]={type:ji.pattern,message:Ee,ref:s,...re(ji.pattern,Ee)},!n))return R(Ee),D}if(v){if(Ls(v)){const fe=await v(_,e),Ee=yT(fe,T);if(Ee&&(D[w]={...Ee,...re(ji.validate,Ee.message)},!n))return R(Ee.message),D}else if(Ht(v)){let fe={};for(const Ee in v){if(!xr(fe)&&!n)break;const Me=yT(await v[Ee](_,e),T,Ee);Me&&(fe={...Me,...re(Ee,Me.message)},R(Me.message),n&&(D[w]=fe))}if(!xr(fe)&&(D[w]={ref:T,...fe},!n))return D}}return R(!0),D};function xW(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=Ct(t)?r++:t[e[r++]];return t}function bW(t){for(const e in t)if(t.hasOwnProperty(e)&&!Ct(t[e]))return!1;return!0}function sn(t,e){const n=Array.isArray(e)?e:U_(e)?[e]:sR(e),r=n.length===1?t:xW(t,n),i=n.length-1,s=n[i];return r&&delete r[s],i!==0&&(Ht(r)&&xr(r)||Array.isArray(r)&&bW(r))&&sn(t,n.slice(0,-1)),t}var Mg=()=>{let t=[];return{get observers(){return t},next:i=>{for(const s of t)s.next&&s.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(s=>s!==i)}}),unsubscribe:()=>{t=[]}}},Uf=t=>Dn(t)||!JP(t);function Lo(t,e){if(Uf(t)||Uf(e))return t===e;if(Wa(t)&&Wa(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const i of n){const s=t[i];if(!r.includes(i))return!1;if(i!=="ref"){const o=e[i];if(Wa(s)&&Wa(o)||Ht(s)&&Ht(o)||Array.isArray(s)&&Array.isArray(o)?!Lo(s,o):s!==o)return!1}}return!0}var lR=t=>t.type==="select-multiple",EW=t=>$_(t)||od(t),Vg=t=>Vf(t)&&t.isConnected,cR=t=>{for(const e in t)if(Ls(t[e]))return!0;return!1};function Bf(t,e={}){const n=Array.isArray(t);if(Ht(t)||n)for(const r in t)Array.isArray(t[r])||Ht(t[r])&&!cR(t[r])?(e[r]=Array.isArray(t[r])?[]:{},Bf(t[r],e[r])):Dn(t[r])||(e[r]=!0);return e}function uR(t,e,n){const r=Array.isArray(t);if(Ht(t)||r)for(const i in t)Array.isArray(t[i])||Ht(t[i])&&!cR(t[i])?Ct(e)||Uf(n[i])?n[i]=Array.isArray(t[i])?Bf(t[i],[]):{...Bf(t[i])}:uR(t[i],Dn(e)?{}:e[i],n[i]):n[i]=!Lo(t[i],e[i]);return n}var Fg=(t,e)=>uR(t,e,Bf(e)),dR=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>Ct(t)?t:e?t===""?NaN:t&&+t:n&&gi(t)?new Date(t):r?r(t):t;function Ug(t){const e=t.ref;if(!(t.refs?t.refs.every(n=>n.disabled):e.disabled))return B_(e)?e.files:$_(e)?aR(t.refs).value:lR(e)?[...e.selectedOptions].map(({value:n})=>n):od(e)?oR(t.refs).value:dR(Ct(e.value)?t.ref.value:e.value,t)}var TW=(t,e,n,r)=>{const i={};for(const s of t){const o=ce(e,s);o&&it(i,s,o._f)}return{criteriaMode:n,names:[...t],fields:i,shouldUseNativeValidation:r}},cc=t=>Ct(t)?t:Ff(t)?t.source:Ht(t)?Ff(t.value)?t.value.source:t.value:t,SW=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function wT(t,e,n){const r=ce(t,n);if(r||U_(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const s=i.join("."),o=ce(e,s),a=ce(t,s);if(o&&!Array.isArray(o)&&n!==s)return{name:n};if(a&&a.type)return{name:s,error:a};i.pop()}return{name:n}}var IW=(t,e,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(e||t):(n?r.isOnBlur:i.isOnBlur)?!t:(n?r.isOnChange:i.isOnChange)?t:!0,CW=(t,e)=>!ad(ce(t,e)).length&&sn(t,e);const AW={mode:Gr.onSubmit,reValidateMode:Gr.onChange,shouldFocusError:!0};function kW(t={},e){let n={...AW,...t},r={submitCount:0,isDirty:!1,isLoading:Ls(n.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},errors:n.errors||{},disabled:!1},i={},s=Ht(n.defaultValues)||Ht(n.values)?Hr(n.defaultValues||n.values)||{}:{},o=n.shouldUnregister?{}:Hr(s),a={action:!1,mount:!1,watch:!1},l={mount:new Set,unMount:new Set,array:new Set,watch:new Set},c,d=0;const f={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},m={values:Mg(),array:Mg(),state:Mg()},v=t.resetOptions&&t.resetOptions.keepDirtyValues,w=hT(n.mode),b=hT(n.reValidateMode),E=n.criteriaMode===Gr.all,x=N=>L=>{clearTimeout(d),d=setTimeout(N,L)},_=async N=>{if(f.isValid||N){const L=n.resolver?xr((await re()).errors):await fe(i,!0);L!==r.isValid&&m.state.next({isValid:L})}},T=N=>f.isValidating&&m.state.next({isValidating:N}),R=(N,L=[],M,oe,ne=!0,Y=!0)=>{if(oe&&M){if(a.action=!0,Y&&Array.isArray(ce(i,N))){const ye=M(ce(i,N),oe.argA,oe.argB);ne&&it(i,N,ye)}if(Y&&Array.isArray(ce(r.errors,N))){const ye=M(ce(r.errors,N),oe.argA,oe.argB);ne&&it(r.errors,N,ye),CW(r.errors,N)}if(f.touchedFields&&Y&&Array.isArray(ce(r.touchedFields,N))){const ye=M(ce(r.touchedFields,N),oe.argA,oe.argB);ne&&it(r.touchedFields,N,ye)}f.dirtyFields&&(r.dirtyFields=Fg(s,o)),m.state.next({name:N,isDirty:Me(N,L),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else it(o,N,L)},D=(N,L)=>{it(r.errors,N,L),m.state.next({errors:r.errors})},B=N=>{r.errors=N,m.state.next({errors:r.errors,isValid:!1})},$=(N,L,M,oe)=>{const ne=ce(i,N);if(ne){const Y=ce(o,N,Ct(M)?ce(s,N):M);Ct(Y)||oe&&oe.defaultChecked||L?it(o,N,L?Y:Ug(ne._f)):Re(N,Y),a.mount&&_()}},H=(N,L,M,oe,ne)=>{let Y=!1,ye=!1;const ze={name:N},rt=!!(ce(i,N)&&ce(i,N)._f.disabled);if(!M||oe){f.isDirty&&(ye=r.isDirty,r.isDirty=ze.isDirty=Me(),Y=ye!==ze.isDirty);const Kt=rt||Lo(ce(s,N),L);ye=!!(!rt&&ce(r.dirtyFields,N)),Kt||rt?sn(r.dirtyFields,N):it(r.dirtyFields,N,!0),ze.dirtyFields=r.dirtyFields,Y=Y||f.dirtyFields&&ye!==!Kt}if(M){const Kt=ce(r.touchedFields,N);Kt||(it(r.touchedFields,N,M),ze.touchedFields=r.touchedFields,Y=Y||f.touchedFields&&Kt!==M)}return Y&&ne&&m.state.next(ze),Y?ze:{}},se=(N,L,M,oe)=>{const ne=ce(r.errors,N),Y=f.isValid&&Tr(L)&&r.isValid!==L;if(t.delayError&&M?(c=x(()=>D(N,M)),c(t.delayError)):(clearTimeout(d),c=null,M?it(r.errors,N,M):sn(r.errors,N)),(M?!Lo(ne,M):ne)||!xr(oe)||Y){const ye={...oe,...Y&&Tr(L)?{isValid:L}:{},errors:r.errors,name:N};r={...r,...ye},m.state.next(ye)}T(!1)},re=async N=>n.resolver(o,n.context,TW(N||l.mount,i,n.criteriaMode,n.shouldUseNativeValidation)),ke=async N=>{const{errors:L}=await re(N);if(N)for(const M of N){const oe=ce(L,M);oe?it(r.errors,M,oe):sn(r.errors,M)}else r.errors=L;return L},fe=async(N,L,M={valid:!0})=>{for(const oe in N){const ne=N[oe];if(ne){const{_f:Y,...ye}=ne;if(Y){const ze=l.array.has(Y.name),rt=await vT(ne,o,E,n.shouldUseNativeValidation&&!L,ze);if(rt[Y.name]&&(M.valid=!1,L))break;!L&&(ce(rt,Y.name)?ze?_W(r.errors,rt,Y.name):it(r.errors,Y.name,rt[Y.name]):sn(r.errors,Y.name))}ye&&await fe(ye,L,M)}}return M.valid},Ee=()=>{for(const N of l.unMount){const L=ce(i,N);L&&(L._f.refs?L._f.refs.every(M=>!Vg(M)):!Vg(L._f.ref))&&us(N)}l.unMount=new Set},Me=(N,L)=>(N&&L&&it(o,N,L),!Lo(Wt(),s)),Je=(N,L,M)=>iR(N,l,{...a.mount?o:Ct(L)?s:gi(N)?{[N]:L}:L},M,L),Ie=N=>ad(ce(a.mount?o:s,N,t.shouldUnregister?ce(s,N,[]):[])),Re=(N,L,M={})=>{const oe=ce(i,N);let ne=L;if(oe){const Y=oe._f;Y&&(!Y.disabled&&it(o,N,dR(L,Y)),ne=Vf(Y.ref)&&Dn(L)?"":L,lR(Y.ref)?[...Y.ref.options].forEach(ye=>ye.selected=ne.includes(ye.value)):Y.refs?od(Y.ref)?Y.refs.length>1?Y.refs.forEach(ye=>(!ye.defaultChecked||!ye.disabled)&&(ye.checked=Array.isArray(ne)?!!ne.find(ze=>ze===ye.value):ne===ye.value)):Y.refs[0]&&(Y.refs[0].checked=!!ne):Y.refs.forEach(ye=>ye.checked=ye.value===ne):B_(Y.ref)?Y.ref.value="":(Y.ref.value=ne,Y.ref.type||m.values.next({name:N,values:{...o}})))}(M.shouldDirty||M.shouldTouch)&&H(N,ne,M.shouldTouch,M.shouldDirty,!0),M.shouldValidate&&$e(N)},J=(N,L,M)=>{for(const oe in L){const ne=L[oe],Y=`${N}.${oe}`,ye=ce(i,Y);(l.array.has(N)||!Uf(ne)||ye&&!ye._f)&&!Wa(ne)?J(Y,ne,M):Re(Y,ne,M)}},ge=(N,L,M={})=>{const oe=ce(i,N),ne=l.array.has(N),Y=Hr(L);it(o,N,Y),ne?(m.array.next({name:N,values:{...o}}),(f.isDirty||f.dirtyFields)&&M.shouldDirty&&m.state.next({name:N,dirtyFields:Fg(s,o),isDirty:Me(N,Y)})):oe&&!oe._f&&!Dn(Y)?J(N,Y,M):Re(N,Y,M),fT(N,l)&&m.state.next({...r}),m.values.next({name:N,values:{...o}}),!a.mount&&e()},K=async N=>{const L=N.target;let M=L.name,oe=!0;const ne=ce(i,M),Y=()=>L.type?Ug(ne._f):ZP(N),ye=ze=>{oe=Number.isNaN(ze)||ze===ce(o,M,ze)};if(ne){let ze,rt;const Kt=Y(),Dt=N.type===Mf.BLUR||N.type===Mf.FOCUS_OUT,Lr=!SW(ne._f)&&!n.resolver&&!ce(r.errors,M)&&!ne._f.deps||IW(Dt,ce(r.touchedFields,M),r.isSubmitted,b,w),er=fT(M,l,Dt);it(o,M,Kt),Dt?(ne._f.onBlur&&ne._f.onBlur(N),c&&c(0)):ne._f.onChange&&ne._f.onChange(N);const z=H(M,Kt,Dt,!1),Bn=!xr(z)||er;if(!Dt&&m.values.next({name:M,type:N.type,values:{...o}}),Lr)return f.isValid&&_(),Bn&&m.state.next({name:M,...er?{}:z});if(!Dt&&er&&m.state.next({...r}),T(!0),n.resolver){const{errors:Mr}=await re([M]);if(ye(Kt),oe){const wo=wT(r.errors,i,M),ki=wT(Mr,i,wo.name||M);ze=ki.error,M=ki.name,rt=xr(Mr)}}else ze=(await vT(ne,o,E,n.shouldUseNativeValidation))[M],ye(Kt),oe&&(ze?rt=!1:f.isValid&&(rt=await fe(i,!0)));oe&&(ne._f.deps&&$e(ne._f.deps),se(M,rt,ze,z))}},Fe=(N,L)=>{if(ce(r.errors,L)&&N.focus)return N.focus(),1},$e=async(N,L={})=>{let M,oe;const ne=Ch(N);if(T(!0),n.resolver){const Y=await ke(Ct(N)?N:ne);M=xr(Y),oe=N?!ne.some(ye=>ce(Y,ye)):M}else N?(oe=(await Promise.all(ne.map(async Y=>{const ye=ce(i,Y);return await fe(ye&&ye._f?{[Y]:ye}:ye)}))).every(Boolean),!(!oe&&!r.isValid)&&_()):oe=M=await fe(i);return m.state.next({...!gi(N)||f.isValid&&M!==r.isValid?{}:{name:N},...n.resolver||!N?{isValid:M}:{},errors:r.errors,isValidating:!1}),L.shouldFocus&&!oe&&Fc(i,Fe,N?ne:l.mount),oe},Wt=N=>{const L={...s,...a.mount?o:{}};return Ct(N)?L:gi(N)?ce(L,N):N.map(M=>ce(L,M))},nt=(N,L)=>({invalid:!!ce((L||r).errors,N),isDirty:!!ce((L||r).dirtyFields,N),isTouched:!!ce((L||r).touchedFields,N),error:ce((L||r).errors,N)}),V=N=>{N&&Ch(N).forEach(L=>sn(r.errors,L)),m.state.next({errors:N?r.errors:{}})},Un=(N,L,M)=>{const oe=(ce(i,N,{_f:{}})._f||{}).ref;it(r.errors,N,{...L,ref:oe}),m.state.next({name:N,errors:r.errors,isValid:!1}),M&&M.shouldFocus&&oe&&oe.focus&&oe.focus()},Jn=(N,L)=>Ls(N)?m.values.subscribe({next:M=>N(Je(void 0,L),M)}):Je(N,L,!0),us=(N,L={})=>{for(const M of N?Ch(N):l.mount)l.mount.delete(M),l.array.delete(M),L.keepValue||(sn(i,M),sn(o,M)),!L.keepError&&sn(r.errors,M),!L.keepDirty&&sn(r.dirtyFields,M),!L.keepTouched&&sn(r.touchedFields,M),!n.shouldUnregister&&!L.keepDefaultValue&&sn(s,M);m.values.next({values:{...o}}),m.state.next({...r,...L.keepDirty?{isDirty:Me()}:{}}),!L.keepIsValid&&_()},Ii=({disabled:N,name:L,field:M,fields:oe,value:ne})=>{if(Tr(N)){const Y=N?void 0:Ct(ne)?Ug(M?M._f:ce(oe,L)._f):ne;it(o,L,Y),H(L,Y,!1,!1,!0)}},ct=(N,L={})=>{let M=ce(i,N);const oe=Tr(L.disabled);return it(i,N,{...M||{},_f:{...M&&M._f?M._f:{ref:{name:N}},name:N,mount:!0,...L}}),l.mount.add(N),M?Ii({field:M,disabled:L.disabled,name:N,value:L.value}):$(N,!0,L.value),{...oe?{disabled:L.disabled}:{},...n.progressive?{required:!!L.required,min:cc(L.min),max:cc(L.max),minLength:cc(L.minLength),maxLength:cc(L.maxLength),pattern:cc(L.pattern)}:{},name:N,onChange:K,onBlur:K,ref:ne=>{if(ne){ct(N,L),M=ce(i,N);const Y=Ct(ne.value)&&ne.querySelectorAll&&ne.querySelectorAll("input,select,textarea")[0]||ne,ye=EW(Y),ze=M._f.refs||[];if(ye?ze.find(rt=>rt===Y):Y===M._f.ref)return;it(i,N,{_f:{...M._f,...ye?{refs:[...ze.filter(Vg),Y,...Array.isArray(ce(s,N))?[{}]:[]],ref:{type:Y.type,name:N}}:{ref:Y}}}),$(N,!1,void 0,Y)}else M=ce(i,N,{}),M._f&&(M._f.mount=!1),(n.shouldUnregister||L.shouldUnregister)&&!(eR(l.array,N)&&a.action)&&l.unMount.add(N)}}},Zn=()=>n.shouldFocusError&&Fc(i,Fe,l.mount),Ci=N=>{Tr(N)&&(m.state.next({disabled:N}),Fc(i,(L,M)=>{let oe=N;const ne=ce(i,M);ne&&Tr(ne._f.disabled)&&(oe||(oe=ne._f.disabled)),L.disabled=oe},0,!1))},vo=(N,L)=>async M=>{M&&(M.preventDefault&&M.preventDefault(),M.persist&&M.persist());let oe=Hr(o);if(m.state.next({isSubmitting:!0}),n.resolver){const{errors:ne,values:Y}=await re();r.errors=ne,oe=Y}else await fe(i);sn(r.errors,"root"),xr(r.errors)?(m.state.next({errors:{}}),await N(oe,M)):(L&&await L({...r.errors},M),Zn(),setTimeout(Zn)),m.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:xr(r.errors),submitCount:r.submitCount+1,errors:r.errors})},$l=(N,L={})=>{ce(i,N)&&(Ct(L.defaultValue)?ge(N,ce(s,N)):(ge(N,L.defaultValue),it(s,N,L.defaultValue)),L.keepTouched||sn(r.touchedFields,N),L.keepDirty||(sn(r.dirtyFields,N),r.isDirty=L.defaultValue?Me(N,ce(s,N)):Me()),L.keepError||(sn(r.errors,N),f.isValid&&_()),m.state.next({...r}))},Ai=(N,L={})=>{const M=N?Hr(N):s,oe=Hr(M),ne=N&&!xr(N)?oe:s;if(L.keepDefaultValues||(s=M),!L.keepValues){if(L.keepDirtyValues||v)for(const Y of l.mount)ce(r.dirtyFields,Y)?it(ne,Y,ce(o,Y)):ge(Y,ce(ne,Y));else{if(M_&&Ct(N))for(const Y of l.mount){const ye=ce(i,Y);if(ye&&ye._f){const ze=Array.isArray(ye._f.refs)?ye._f.refs[0]:ye._f.ref;if(Vf(ze)){const rt=ze.closest("form");if(rt){rt.reset();break}}}}i={}}o=t.shouldUnregister?L.keepDefaultValues?Hr(s):{}:Hr(ne),m.array.next({values:{...ne}}),m.values.next({values:{...ne}})}l={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},!a.mount&&e(),a.mount=!f.isValid||!!L.keepIsValid,a.watch=!!t.shouldUnregister,m.state.next({submitCount:L.keepSubmitCount?r.submitCount:0,isDirty:L.keepDirty?r.isDirty:!!(L.keepDefaultValues&&!Lo(N,s)),isSubmitted:L.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:L.keepDirtyValues?r.dirtyFields:L.keepDefaultValues&&N?Fg(s,N):{},touchedFields:L.keepTouched?r.touchedFields:{},errors:L.keepErrors?r.errors:{},isSubmitSuccessful:L.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},jr=(N,L)=>Ai(Ls(N)?N(o):N,L);return{control:{register:ct,unregister:us,getFieldState:nt,handleSubmit:vo,setError:Un,_executeSchema:re,_getWatch:Je,_getDirty:Me,_updateValid:_,_removeUnmounted:Ee,_updateFieldArray:R,_updateDisabledField:Ii,_getFieldArray:Ie,_reset:Ai,_resetDefaultValues:()=>Ls(n.defaultValues)&&n.defaultValues().then(N=>{jr(N,n.resetOptions),m.state.next({isLoading:!1})}),_updateFormState:N=>{r={...r,...N}},_disableForm:Ci,_subjects:m,_proxyFormState:f,_setErrors:B,get _fields(){return i},get _formValues(){return o},get _state(){return a},set _state(N){a=N},get _defaultValues(){return s},get _names(){return l},set _names(N){l=N},get _formState(){return r},set _formState(N){r=N},get _options(){return n},set _options(N){n={...n,...N}}},trigger:$e,register:ct,handleSubmit:vo,watch:Jn,setValue:ge,getValues:Wt,reset:jr,resetField:$l,clearErrors:V,unregister:us,setError:Un,setFocus:(N,L={})=>{const M=ce(i,N),oe=M&&M._f;if(oe){const ne=oe.refs?oe.refs[0]:oe.ref;ne.focus&&(ne.focus(),L.shouldSelect&&ne.select())}},getFieldState:nt}}function hR(t={}){const e=be.useRef(),n=be.useRef(),[r,i]=be.useState({isDirty:!1,isValidating:!1,isLoading:Ls(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},errors:t.errors||{},disabled:!1,defaultValues:Ls(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...kW(t,()=>i(o=>({...o}))),formState:r});const s=e.current.control;return s._options=t,F_({subject:s._subjects.state,next:o=>{nR(o,s._proxyFormState,s._updateFormState,!0)&&i({...s._formState})}}),be.useEffect(()=>s._disableForm(t.disabled),[s,t.disabled]),be.useEffect(()=>{if(s._proxyFormState.isDirty){const o=s._getDirty();o!==r.isDirty&&s._subjects.state.next({isDirty:o})}},[s,r.isDirty]),be.useEffect(()=>{t.values&&!Lo(t.values,n.current)?(s._reset(t.values,s._options.resetOptions),n.current=t.values,i(o=>({...o}))):s._resetDefaultValues()},[t.values,s]),be.useEffect(()=>{t.errors&&s._setErrors(t.errors)},[t.errors,s]),be.useEffect(()=>{s._state.mount||(s._updateValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),e.current.formState=tR(r,s),e.current}function PW(){var R,D,B,$,H,se,re,ke,fe,Ee,Me,Je;const{register:t,handleSubmit:e,formState:{errors:n},control:r}=hR(),i=yr(),[s,o]=C.useState([]),[a,l]=C.useState([]),[c,d]=C.useState(!1),[f,m]=C.useState(null);console.log(f);const v=C.useRef([]),{products:w}=ii(Ie=>Ie.product),b=Ie=>(console.log(Ie),w.some(J=>J.name===Ie));C.useEffect(()=>{f?_e.fire({title:"El producto se creo con exito!",icon:"success"}):f===!1&&_e.fire({icon:"error",title:"Oops...",text:"El producto ya existe!"}),m(null)},[f]);const E=Ie=>{const Re=Ie.target.files,J=Array.from(Re),ge=J.map((K,Fe)=>({id:Fe,file:K,previewUrl:URL.createObjectURL(K)}));o(K=>[...K,...J]),l(K=>[...K,...ge])},x=Ie=>{const Re=a.filter((J,ge)=>ge!==Ie);l(Re),o(Re)},_=async Ie=>{Ie.preventDefault();try{const Re=await Promise.all(s.map(J=>bv(J)));v.current=Re,d(!0),console.log(Re)}catch(Re){console.error(Re)}},T=Ie=>{Ie.flavour=Ie.flavour.split(",").map(J=>J.trim()),Ie.pre_description=Ie.pre_description.split(",").map(J=>J.trim()),Ie.stock=Number(Ie.stock),Ie.image=s.length?v.current:s,Ie.categoryId=Number(Ie.categoryId),console.log(v);const Re=b(Ie.name);console.log(Re),console.log(Ie),Re===!1?i(D8(Ie,m)):m(!1)};return console.log(s),u.jsx("div",{className:" font-bebas text-gray-700 relative w-full h-[90%] overflow-y-scroll bg-primaryLight px-5 py-2 rounded-xl",children:u.jsxs("form",{onSubmit:e(T),children:[u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"block  text-sm font-bold mb-2 ",children:"Nombre del producto:"}),u.jsx("input",{className:"border-stone-400/90 rounded w-full py-1 px-3 bg-stone-200/70",type:"text",...t("name",{required:!0,maxLength:50})}),((R=n.name)==null?void 0:R.type)==="required"&&u.jsx("span",{className:"text-red-500 text-sm",children:"Campo Obligatorio"}),((D=n.name)==null?void 0:D.type)==="maxLength"&&u.jsx("span",{className:"text-red-500 text-sm",children:"El campo nombre debe tener menos de 50 caracteres"})]}),u.jsx("div",{className:"relative"}),u.jsx("label",{className:"block  text-sm font-bold mb-2 ",htmlFor:"price",children:"Precio:"}),u.jsxs("div",{className:"flex items-center",children:[u.jsx("span",{className:"absolute pl-1",children:"$"}),u.jsx(vW,{control:r,name:"price",render:({field:Ie})=>u.jsx("input",{className:" border-stone-400/90 bg-stone-200/70 rounded py-1 px-3 ",...Ie,type:"text",placeholder:"0.00",onChange:Re=>{const ge=Re.target.value.replace(/[^\d.]/g,""),[K,Fe]=ge.split("."),$e=Fe!==void 0?`.${Fe.slice(0,2)}`:"",Wt=`${K}${$e}`;Ie.onChange(Wt)}})}),((B=n.price)==null?void 0:B.type)==="required"&&u.jsx("span",{className:"text-red-500 text-sm",children:"Campo Obligatorio"})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:" block text-gray-700 text-sm font-bold mb-2",children:"Tamao:"}),u.jsx("input",{className:"border-stone-400/90 rounded w-full py-1 px-3 bg-stone-200/70",type:"text",...t("size",{required:!0,maxLength:30})}),(($=n.size)==null?void 0:$.type)==="required"&&u.jsx("span",{className:"text-red-500 text-sm",children:"Campo Obligatorio"}),((H=n.size)==null?void 0:H.type)==="maxLength"&&u.jsx("span",{className:"text-red-500 text-sm",children:"No puede tener mas de 30 caracteres"})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"  block text-gray-700 text-sm font-bold mb-2",children:"Stock:"}),u.jsx("input",{className:"border-stone-400/90 rounded w-full py-1 px-3 bg-stone-200/70",type:"text",...t("stock",{required:!0,maxLength:20,pattern:/^[0-9]+$/})}),((se=n.stock)==null?void 0:se.type)==="required"&&u.jsx("span",{className:"text-red-500 text-sm",children:"Campo Obligatorio"}),((re=n.stock)==null?void 0:re.type)==="maxLength"&&u.jsx("span",{className:"text-red-500 text-sm",children:"No puede tener mas de 20 caracteres"}),((ke=n.stock)==null?void 0:ke.type)==="pattern"&&u.jsx("span",{className:"text-red-500 text-sm",children:"No se permiten valores que no sean numeros"})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:" block text-gray-700 text-sm font-bold mb-2",children:"Imagen del producto:"}),u.jsx("input",{className:" border-stone-400/90 rounded w-full py-1 px-3 bg-stone-200/70",type:"file",multiple:!0,...t("image",{required:!0}),onChange:E}),u.jsx("div",{className:"mt-2 py-4 flex space-x-2",children:a.map((Ie,Re)=>u.jsxs("div",{className:"relative px-2 h-16",children:[u.jsx("img",{src:Ie.previewUrl,className:"h-full"}),u.jsx("button",{className:"absolute top-0 left-0 text-white px-2 py-1 rounded",onClick:()=>x(Re),children:u.jsx(Vz,{className:"w-6 fill-red-500"})})]},Re))}),u.jsx("button",{className:"bg-blue-500 text-white py-1 px-4 rounded hover:bg-blue-600",onClick:_,children:"cargar imagenes"}),((fe=n.image)==null?void 0:fe.type)==="required"&&u.jsx("span",{className:"text-red-500 text-sm",children:"Campo Obligatorio"})]}),c&&u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:" block text-gray-700 text-sm font-bold mb-2",children:"Sabor: (separado por comas)"}),u.jsx("input",{className:"border-stone-400/90 rounded w-full py-1 px-3 bg-stone-200/70",type:"text",...t("flavour",{required:!0})}),((Ee=n.flavour)==null?void 0:Ee.type)==="required"&&u.jsx("span",{className:"text-red-500 text-sm",children:"Campo Obligatorio"})]}),c&&u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:" block text-gray-700 text-sm font-bold mb-2",children:"Descripcion:"}),u.jsx("input",{className:"border-stone-400/90 rounded w-full py-1 px-3 bg-stone-200/70",type:"text",...t("description",{required:!0})}),((Me=n.description)==null?void 0:Me.type)==="required"&&u.jsx("span",{className:"text-red-500 text-sm",children:"Campo Obligatorio"})]}),c&&u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:" block text-gray-700 text-sm font-bold mb-2",children:"PreDescripcion: (separado por comas)"}),u.jsx("input",{className:"border-stone-400/90 rounded w-full py-1 px-3 bg-stone-200/70",type:"text",...t("pre_description",{required:!0})}),((Je=n.pre_description)==null?void 0:Je.type)==="required"&&u.jsx("span",{className:"text-red-500 text-sm",children:"Campo Obligatorio"})]}),c&&u.jsxs("div",{children:[u.jsx("label",{className:" block text-gray-700 text-sm font-bold mb-2",children:"Categoria"}),u.jsxs("select",{className:" border-stone-400/90 bg-stone-200/70 rounded py-1 px-3 ",...t("categoryId"),children:[u.jsx("option",{value:"1",children:"Proteina"}),u.jsx("option",{value:"2",children:"Control de peso"}),u.jsx("option",{value:"5",children:"Creatina"}),u.jsx("option",{value:"6",children:"Aminoacidos"}),u.jsx("option",{value:"8",children:"Energia"})]})]}),c&&u.jsx("button",{type:"submit",className:"bg-blue-500 text-white py-1 px-4 rounded hover:bg-blue-600",children:"Crear Producto"})]})})}const RW=({user:t,actualizarPadre:e})=>{const[n,r]=C.useState(t.disabled),{displayName:i,email:s,role:o,id:a}=t;C.useEffect(()=>{r(t.disabled)},[t.disabled]);const l=async c=>{const d=Zt(Tt,"users",c),m=(await is(d)).data().disabled;try{await Uo(d,{disabled:!m}),r(!n),e(),console.log("Usuario inhabilitado en Firestore")}catch(v){console.error("Error al inhabilitar usuario",v)}};return u.jsxs("main",{className:"py-2 px-4 h-12 bg-white/70  items-center rounded-xl flex gap-2 font-montserrat",children:[u.jsx("h2",{className:"w-[25%]",children:i}),u.jsx("p",{className:"w-[40%]",children:s}),u.jsx("span",{className:"text-red-500 w-[12%]",children:o}),u.jsx("button",{onClick:()=>l(a),className:`py-1 px-2 rounded ${n?"bg-red-500 hover:bg-red-700 text-white":"bg-green-500 hover:bg-green-700 text-white"}`,children:n?"inhabilitado":"habilitado"})]})};function NW(){const t=yr(),{id:e}=S_(),{products:n}=ii(x=>x.product),[r,i]=C.useState([]),[s,o]=C.useState([]),a=C.useRef([]),l=ls(),d=n.filter(x=>x.id==e)[0];console.log(d);const[f,m]=C.useState({name:d.name,price:d.price,size:d.size,stock:d.stock,image:d.image,flavour:d.flavour,description:d.description[0],pre_description:d.pre_description}),v=async x=>{x.preventDefault();try{const _=await Promise.all(r.map(T=>bv(T)));a.current=_,console.log(a.current)}catch(_){console.error(_)}},w=async x=>{const _=x.target.files,T=Array.from(_),R=T.map((D,B)=>({id:B,file:D,previewUrl:URL.createObjectURL(D)}));try{const D=await Promise.all(T.map(bv));a.current=D,i(B=>[...B,...T]),o(B=>[...B,...R]),m({...f,image:a.current.length>0?[a.current[0]]:[]})}catch(D){console.error(D)}},b=x=>{if(x.target.name===f.image)m({...f,[x.target.name]:a.current});else if(x.target.name===f.flavour){const _=x.target.value.split(",").map(T=>T.trim());m({...f,[x.target.value]:_})}else if(x.target.name===f.pre_description){const _=x.target.value.split(".").map(T=>T.trim());m({...f,[x.target.name]:_})}else m({...f,[x.target.name]:x.target.value})},E=async x=>{x.preventDefault(),await t(PP(f,e)),l("/dasboard")};return u.jsxs("div",{className:"max-w-md mx-auto my-8 p-4 bg-white rounded shadow-md",children:[u.jsx($n,{className:"fixed right-[93%] mb-4 bg-primary text-white py-2 px-4 rounded focus:outline-none focus:ring focus:border-blue-300",to:"/dasboard",children:"Volver"}),u.jsxs("form",{onSubmit:E,children:[u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-600",children:"Nombre"}),u.jsx("input",{type:"text",id:"name",value:f.name,name:"name",onChange:b,maxLength:20,className:"mt-1 p-2 w-full border rounded focus:outline-none focus:ring focus:border-blue-300"})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{htmlFor:"price",className:"block text-sm font-medium text-gray-600",children:"Precio"}),u.jsx("input",{type:"text",id:"price",value:f.price,name:"price",onChange:b,className:"mt-1 p-2 w-full border rounded focus:outline-none focus:ring focus:border-blue-300"})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{htmlFor:"size",className:"block text-sm font-medium text-gray-600",children:"Tamao"}),u.jsx("input",{type:"text",id:"size",value:f.size,name:"size",onChange:b,className:"mt-1 p-2 w-full border rounded focus:outline-none focus:ring focus:border-blue-300"})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{htmlFor:"stock",className:"block text-sm font-medium text-gray-600",children:"Stock"}),u.jsx("input",{type:"text",id:"stock",value:f.stock,name:"stock",onChange:b,className:"mt-1 p-2 w-full border rounded focus:outline-none focus:ring focus:border-blue-300"})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{htmlFor:"image",className:"block text-sm font-medium text-gray-600",children:"Imagen"}),u.jsx("img",{src:d.image[0],alt:"",className:"mt-1 mb-4 w-full h-auto rounded"}),u.jsx("input",{type:"file",id:"image",name:"image",onChange:w,className:"p-2 w-full border rounded focus:outline-none focus:ring focus:border-blue-300"}),u.jsx("div",{className:"mt-2 flex space-x-2",children:s.map((x,_)=>u.jsx("div",{children:u.jsx("img",{src:x.previewUrl,alt:`Preview ${_}`,className:"max-w-20 max-h-20"})},_))}),u.jsxs("button",{className:"bg-blue-500 text-white py-2 px-4 rounded focus:outline-none focus:ring focus:border-blue-300",onClick:v,children:[" ","Subir imagen"," "]})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{htmlFor:"flavour",className:"block text-sm font-medium text-gray-600",children:"Sabor"}),u.jsx("input",{type:"text",id:"flavour",value:f.flavour,name:"flavour",onChange:b,className:"mt-1 p-2 w-full border rounded focus:outline-none focus:ring focus:border-blue-300"})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-600",children:"Descripcion"}),u.jsx("textarea",{id:"description",value:f.description,name:"description",onChange:b,className:"mt-1 p-2 w-full border rounded focus:outline-none focus:ring focus:border-blue-300"})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{htmlFor:"pre_description",className:"block text-sm font-medium text-gray-600",children:"Pre descripcion"}),u.jsx("textarea",{id:"pre_description",value:f.pre_description.join(`
`),name:"pre_description",onChange:x=>b("pre_description",x.target.value.split(`
`)),className:"mt-1 p-2 w-full border rounded focus:outline-none focus:ring focus:border-blue-300"})]}),u.jsx("button",{type:"submit",className:"bg-blue-500 text-white py-2 px-4 rounded focus:outline-none focus:ring focus:border-blue-300",children:"Editar producto"})]})]})}const OW=async()=>{try{return(await Ol(go(Tt,"users"))).docs.map(n=>n.data())}catch(t){console.log(t.message)}},DW=()=>{const[t,e]=C.useState([]),[n,r]=C.useState(1),i=(n-1)*6,s=t.slice(i,i+6),o=Math.ceil(t.length/6),[a,l]=C.useState(!0);C.useEffect(()=>{(async()=>{const m=await OW();e(m)})()},[a]);const c=f=>{f.target.value==="prev"?r(n-1):r(n+1)},d=()=>{l(!a)};return u.jsxs("main",{className:"flex flex-col gap-5 h-full",children:[u.jsxs("div",{className:"h-[80%]",children:[u.jsx("section",{children:u.jsx("h1",{className:"font-bebas text-xl mb-2",children:"Usuarios"})}),u.jsx("section",{className:"flex flex-col gap-2",children:s.map((f,m)=>u.jsx(RW,{user:f,actualizarPadre:d},m))})]}),u.jsx("div",{className:"h-[20%] flex items-end justify-center",children:u.jsxs("section",{className:"flex items-center gap-2 w-full justify-center",children:[u.jsx("button",{value:"prev",onClick:c,disabled:n<=1,className:"font-bebas p-2 hover:text-primary disabled:opacity-25 disabled:hover:text-black",children:"prev"}),u.jsx("span",{className:"font-bebas text-primary text-xl mb-1",children:n}),u.jsx("button",{value:"next",onClick:c,disabled:n===o,className:"font-bebas p-2 hover:text-primary disabled:opacity-25 disabled:hover:text-black",children:"next"})]})})]})},z_="/assets/image-loginPage-902a2f2b.jpeg",H_=async()=>{try{const t=Eu(CA(Tt,"facturas")),e=await Ol(t),n=[];return e.forEach(r=>n.push(r.data())),n}catch(t){console.error("Error al obtener todas las facturas:",t.message)}},jW=({orderId:t,arrayData:e,fecha:n,status:r,quantityItems:i})=>{const s=t.slice(-6);console.log(e),ls();const o=e.length>1?e.reduce((l,c)=>l+c.quantity,0):e[0].quantity,a=e.length>1?e.reduce((l,c)=>l+c.unit_price*c.quantity,0):e[0].unit_price*e[0].quantity;return u.jsx($n,{to:`detail/${t}`,children:u.jsx("div",{className:"p-4 font-montserrat transition hover:scale-[101%]",children:u.jsxs("ul",{className:"px-3 flex gap-2 w-full justify-center items-center ",children:[u.jsx("li",{className:"w-[30%]",children:s}),u.jsxs("li",{className:"w-[36%]",children:[o," ",o>1?"productos":"producto"]}),u.jsx("li",{className:"w-[23%]",children:a}),u.jsx("li",{className:"w-[20%]",children:n}),u.jsx("li",{className:r=="succesfull"?"w-[13%] font-semibold text-red-500":r=="accept"?"w-[13%] font-semibold text-teal-600":r=="send"?"w-[13%] font-semibold text-orange-600":"w-[13%] font-semibold text-green-600",children:r=="succesfull"?"Pendiente":r=="accept"?"Preparando":r=="send"?"En camino":"Recibido"})]})})})};function LW(){return u.jsx("nav",{children:u.jsx("div",{className:"font-bebas",children:u.jsxs("ul",{className:"px-3 flex gap-2 w-full justify-center items-center ",children:[u.jsx("li",{className:"w-[30%]",children:"Orden"}),u.jsx("li",{className:"w-[30%]",children:"Cantidad"}),u.jsx("li",{className:"w-[20%]",children:"Total"}),u.jsx("li",{className:"w-[15%]",children:"Fecha"}),u.jsx("li",{className:"w-[15%]",children:"Estado"})]})})})}const _T=()=>{const[t,e]=C.useState(null);return C.useEffect(()=>{const n=async()=>{const r=await H_();if(r){const i=r.filter(s=>s.status!=="pending");e(i)}};return n(),()=>n()},[]),t==null||t.map(n=>n.data),u.jsxs("div",{children:[u.jsx(LW,{}),t&&t.map((n,r)=>u.jsx("div",{className:"bg-white rounded mt-3",children:u.jsx(jW,{orderId:n.billNumber,arrayData:n.data,fecha:n.fecha,status:n.status},r)}))]})},MW=()=>{const[t,e]=C.useState(""),n=i=>{e(i)},r=()=>{switch(t){case"Agregar productos":return u.jsx(PW,{});case"Inventario":return u.jsx(dW,{});case"Control de usuarios":return u.jsx(DW,{});case"Ordenes":return u.jsx(_T,{});default:return u.jsx(_T,{})}};return u.jsxs("main",{className:"h-screen w-full flex justify-center items-center",children:[u.jsx(Fl,{className:"w-[34px] h-[69px] absolute top-10 left-10 z-50"}),u.jsx("img",{className:"w-full h-full object-cover absolute top-0 left-0",src:z_}),u.jsxs("section",{className:"flex gap-5 justify-between items-center h-[70%] w-[80%] z-40 over",children:[u.jsxs("aside",{className:"bg-[#475157F2] h-full gap-1 w-[30%] rounded-xl flex flex-col p-5 ",children:[u.jsx(jg,{title:"ordenes",options:["Ordenes"],handleOptionSelect:n}),u.jsx(jg,{title:"control de inventario",options:["Agregar productos","Inventario"],handleOptionSelect:n}),u.jsx(jg,{title:"gestion de usuarios",options:["Control de usuarios"],handleOptionSelect:n})]}),u.jsx("section",{className:"overflow-scroll overflow-x-hidden bg-primaryLight w-full h-full rounded-xl p-5",children:r()})]})]})},VW=t=>/^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9-.]+$/.test(t)?"":"El email es invalido",fR=async()=>{try{const t=go(Tt,"users"),e=await Ol(t),n=[];return e.forEach(r=>{const i=r.data();n.push(i)}),n}catch(t){console.log(t.message,"aaaa")}},FW=()=>{const[t,e]=C.useState(""),[n,r]=C.useState(!1),[i,s]=C.useState(""),o=async l=>{l.preventDefault();try{const d=(await fR()).map(f=>f.email);console.log(d,"aqui usuarios"),d.includes(t)?(await ZB(t)).ok===!0&&(_e.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:5e3,timerProgressBar:!0,didOpen:v=>{v.onmouseenter=_e.stopTimer,v.onmouseleave=_e.resumeTimer}}).fire({icon:"success",title:"Revisa tu correo"}),e(""),r(!0)):_e.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:5e3,timerProgressBar:!0,didOpen:m=>{m.onmouseenter=_e.stopTimer,m.onmouseleave=_e.resumeTimer}}).fire({icon:"error",title:"Ups! Correo no encontrado"})}catch{_e.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:5e3,timerProgressBar:!0,didOpen:f=>{f.onmouseenter=_e.stopTimer,f.onmouseleave=_e.resumeTimer}}).fire({icon:"error",title:"Ups! Ocurri un error, intentalo ms tarde"})}},a=l=>{const c=l.target.value;e(c),s(VW(t))};return u.jsxs("form",{onSubmit:o,className:"relative",children:[u.jsx(Fl,{className:"w-[34px] h-[69px] absolute top-10 left-10"}),u.jsx("div",{className:"flex items-center justify-center h-screen overflow-hidden",children:u.jsx("img",{className:"w-full h-full object-cover",src:"../assets/image-loginPage.jpeg"})}),u.jsx("div",{className:"w-100% flex items-center justify-center",children:u.jsxs("div",{className:"absolute top-1/4 z-20",style:{background:"rgba(71, 81, 87, 0.8)",padding:"15px",borderRadius:"25px",boxShadow:"0 4px 6px rgba(10, 10, 10, 0.7)",width:"400px",alignItems:"center",marginTop:"6%"},children:[u.jsx("label",{style:{color:"#D9D9D9",fontFamily:"Nueva Fuente, bebas neue",fontSize:"1.6rem"},children:"CORREO"}),u.jsx("br",{}),u.jsx("input",{className:"w-full h-8",style:{borderRadius:"10px"},name:"correo",value:t,placeholder:"  Aqu tu correo...",onChange:a}),i?u.jsx("p",{className:"text-red-400",style:{marginTop:"10px",marginLeft:"5px"},children:i}):null,u.jsx("div",{style:{display:"flex",justifyContent:"center",alignContent:"center",marginTop:"5%"},children:n?u.jsx(Ys,{to:"/loginUser",children:u.jsx("button",{style:{background:"#D74545",padding:"3%",paddingRight:"4%",paddingLeft:"4%",fontFamily:"Nueva Fuente, bebas neue",color:"#D9D9D9",fontSize:"1.3rem",borderRadius:"15px"},children:"Volver al inicio de sesin"})}):u.jsxs("button",{disabled:!t||i,onClick:o,style:{background:"#D74545",padding:"3%",paddingRight:"4%",paddingLeft:"4%",fontFamily:"Nueva Fuente, bebas neue",color:"#D9D9D9",fontSize:"1.3rem",borderRadius:"15px"},children:[" ","Enviar"," "]})})]})})]})};const cs=()=>u.jsx("div",{className:"loading-container",children:u.jsx("div",{className:"loading-spinner"})}),UW="/assets/footerImage-406c546e.png",BW=()=>u.jsxs("footer",{className:"flex w-full h-[340px] py-10 px-20 gap-20 relative",children:[u.jsx("img",{className:"w-full absolute -z-50 top-0 left-0",src:UW,alt:""}),u.jsx("figure",{children:u.jsx(jz,{className:"w-[75px] h-[151px]"})}),u.jsxs("section",{className:"h-full",children:[u.jsx("h1",{className:"text-2xl font-bebas text-white",children:"Sitio Web"}),u.jsx("ul",{className:"text-white mt-2",children:u.jsx("li",{className:"hover:text-primary cursor-pointer",children:u.jsx($n,{to:"/productsPage",children:"Productos"})})})]}),u.jsxs("section",{className:"h-full text-white ",children:[u.jsx("h1",{className:"text-2xl font-bebas",children:"Social Media"}),u.jsxs("ul",{className:"text-white mt-2",children:[u.jsx("li",{className:"hover:text-primary cursor-pointer",children:"Facebook"}),u.jsx("li",{className:"hover:text-primary cursor-pointer",children:"Instagram"}),u.jsx("li",{className:"hover:text-primary cursor-pointer",children:"Youtube"}),u.jsx("li",{className:"hover:text-primary cursor-pointer",children:"TikTok"})]})]})]}),W_=async(t,e)=>{try{const n=Zt(Tt,"carritos",t),r=await is(n);if(Array.isArray(e)){const i=r.data().productos;if(i.length>0){const s=[...i,e];console.log("existing");const o=[];for(const a of s){const l=o.find(c=>c.id==a.id);l?l.cantidad+=a.cantidad:o.push(a)}o&&await Uo(n,{productos:o.flat()})}else console.log("not existing"),r.exists()&&e&&await Uo(n,{productos:oE(...e)})}else r.exists()&&e&&await Uo(n,{productos:oE(e)})}catch(n){console.log("Error al agregar producto al carrito",n.message)}},dm=async t=>{try{const e=Zt(Tt,"carritos",t),n=await is(e);return n.exists()?n.data().productos:[]}catch{}},pR=async t=>{const e=Zt(Tt,"carritos",t);try{!(await is(e)).exists()&&await Dl(e,{productos:[]})}catch(n){console.log("Error creando/verficando el carrito",n.message)}},$W=async t=>{try{const e=go(Tt,"users",t,"reviews"),n=Eu(e),r=await Ol(n),i=[];return r.forEach(s=>i.push(s.data())),i}catch(e){console.log("Error al obtener las reviews del usuario:",e.message)}},Pu=async(t,e,n)=>{try{const r=go(Tt,"users",t,"facturas"),i=Zt(r,e);return await Uo(i,n,{merge:!0}),{ok:!0}}catch(r){console.log("Error al actualizar factura:",r.message)}},Fn=C.createContext(),zW=({children:t})=>{const[e,n]=C.useState(null),[r,i]=C.useState(!0),[s,o]=C.useState(!1),[a,l]=C.useState(null),[c,d]=C.useState([]),[f,m]=C.useState([]),[v,w]=C.useState(null),[b,E]=C.useState(!1),[x,_]=C.useState(!1);return C.useEffect(()=>{MF(xl,async T=>{if(T){n(T);const R=await m_(T==null?void 0:T.uid);if(await H_(),console.log(R),R){l(R),o(!0),await dm()||await pR(T==null?void 0:T.uid);const B=JSON.parse(window.localStorage.getItem("products"));await W_(T==null?void 0:T.uid,B),localStorage.removeItem("products"),d([])}else await p_({role:"user",status:"active",photoURL:e.photoURL,id:e.uid,email:e.email,displayName:e.displayName}),o(!0);o(!1)}i(!1)})},[]),u.jsx(Fn.Provider,{value:{currentUser:e,isRegistered:s,loading:r,setLoading:i,user:a,showCart:b,setShowCart:E,showOrder:x,setShowOrder:_,productsLocalStorage:c,setProductsLocalStorage:d,products:f,setProducts:m,totalPay:v,setTotalPay:w},children:t})},HW=({setShowCart:t})=>{const{currentUser:e,productsLocalStorage:n,setProductsLocalStorage:r,products:i}=C.useContext(Fn),[s,o]=C.useState(0);C.useEffect(()=>{if(!e){const d=JSON.parse(window.localStorage.getItem("products"));r(d);return}const l=Zt(Tt,"carritos",e.uid),c=W0(l,d=>{if(d.exists()){const v=(d.data().productos||[]).reduce((w,b)=>w+b.cantidad,0);o(v)}else o(0)});return()=>c()},[e]);const a=n?n.reduce((l,c)=>l+c.cantidad,0):i?i.reduce((l,c)=>l+c.cantidad,0):0;return u.jsx("div",{children:u.jsxs("button",{onClick:()=>{t(!0)},className:"relative",children:[u.jsx(Lz,{className:"w-10 transition fill-primaryDark hover:scale-125 hover:fill-primary"}),u.jsx("span",{className:"absolute flex justify-center items-center w-5 h-5 text-xs top-0 right-[-4px] font-montserrat text-white bg-primary/90 rounded-full",children:s||a||0})]})})},q_=async(t,e,n)=>{try{const r=Zt(Tt,"carritos",t),i=await is(r);if(i.exists()){const o=i.data().productos,a=o==null?void 0:o.findIndex(l=>l.id==e);a!==-1?(n?(console.log("entr"),o[a].cantidad+=n):o[a].cantidad+=1,await Uo(r,{productos:o})):console.log("El producto no existe en el carrito")}else console.log("El carrito no existe para este usuario")}catch(r){console.log("Error al aumentar la cantidad del producto:",r.message)}},WW=async(t,e)=>{try{const n=Zt(Tt,"carritos",t),r=await is(n);if(r.exists()){const s=r.data().productos,o=s.findIndex(a=>a.id==e);o!==-1&&s[o].cantidad>0&&(s[o].cantidad-=1,s[o].cantidad===0&&s.splice(o,1),await Uo(n,{productos:s}),console.log("Cantidad disminuida con xito"))}}catch(n){console.log("El producto no existe en el carrito:",n.message)}},xT=({name:t,price:e,image:n,id:r,amount:i,stock:s})=>{const{currentUser:o,setProductsLocalStorage:a}=C.useContext(Fn),[l,c]=C.useState(0);C.useEffect(()=>{if(!o){const E=JSON.parse(window.localStorage.getItem("products")||[]).find(x=>x.id==r);c(E&&E.cantidad||0);return}const v=Zt(Tt,"carritos",o==null?void 0:o.uid),w=W0(v,b=>{if(b.exists()){const _=(b.data().products||[]).find(T=>T.id==r);c(_&&_.cantidad||0)}else c(0)});return()=>w()},[o==null?void 0:o.uid,r,i]);const d=async v=>{if(i>=s)return;const w=JSON.parse(window.localStorage.getItem("products"))||[],b=w.find(E=>E.id==v);b&&(b.cantidad=(b.cantidad||0)+1,c(b.cantidad)),window.localStorage.setItem("products",JSON.stringify(w)),a(w)},f=v=>{var E;const w=JSON.parse(window.localStorage.getItem("products"))||[],b=w.findIndex(x=>x.id==v);b!==-1&&(w[b].cantidad=(w[b].cantidad||0)-1,w[b].cantidad<=0&&w.splice(b,1),window.localStorage.setItem("products",JSON.stringify(w)),c(((E=w[b])==null?void 0:E.cantidad)||0),a(w))},m=()=>{i>=s||q_(o==null?void 0:o.uid,r)};return u.jsx("div",{children:u.jsx("li",{className:"flex border-b-slate-600 mb-2",children:u.jsxs("div",{className:"flex",children:[u.jsx("figure",{children:u.jsx("img",{src:n,alt:"foto de producto",width:130})}),u.jsxs("div",{children:[u.jsxs("div",{className:"font-bebas",children:[u.jsx("h2",{className:"text-2xl mt-3",children:t}),u.jsxs("span",{className:"text-lg",children:["Precio: $",e]})]}),u.jsxs("div",{children:[u.jsxs("span",{className:"font-bebas mr-6",children:[" Cant: ",i]}),o?u.jsx("button",{onClick:()=>WW(o==null?void 0:o.uid,r),className:"mr-3 text-3xl text-primary font-bold",children:"-"}):u.jsx("button",{className:"mr-3 text-3xl text-primary font-bold",onClick:()=>f(r),children:"-"}),o?u.jsx("button",{onClick:m,className:"mr-3",children:"+"}):u.jsx("button",{className:"mr-3 text-2xl text-teal-600 font-bold",onClick:()=>d(r),children:"+"})]})]})]})})})},qW=({})=>{const{currentUser:t,setProducts:e,products:n,productsLocalStorage:r,setShowCart:i,setShowOrder:s}=C.useContext(Fn),o=async()=>t?await dm(t.uid):[];C.useEffect(()=>{o().then(d=>{e(d)})},[t]),C.useEffect(()=>{if(!t)return;const d=Zt(Tt,"carritos",t.uid),f=W0(d,m=>{const w=m.data().productos||[],b=w.length&&w.filter(E=>E.cantidad>0);e(b)});return()=>{f()}},[]);let a=null,l=null;t?(a=u.jsx("ul",{children:n.length&&n.map(({price:d,name:f,image:m,cantidad:v,stock:w,id:b})=>u.jsx(xT,{id:b,name:f,price:d,image:m,amount:v,stock:w},b))}),l=n.length?n.reduce((d,f)=>d+f.price*f.cantidad,0).toFixed(2):0):(a=u.jsx("ul",{children:r==null?void 0:r.map(({id:d,name:f,price:m,image:v,cantidad:w,stock:b})=>u.jsx(xT,{id:d,name:f,price:m,image:v,amount:w,stock:b},d))}),l=r?r.reduce((d,f)=>d+f.price*f.cantidad,0).toFixed(2):0);const c=()=>{i(!1),s(!0)};return u.jsx("div",{children:u.jsxs("aside",{className:"sideMenuLayout",children:[u.jsx("button",{onClick:()=>i(!1),className:"fixed right-6",children:u.jsx(A_,{className:"mb-1 text-red-700/90 w-8 transition hover:scale-125 hover:text-red-600"})}),n!=null&&n.length?u.jsx("article",{className:"mb-10",children:a}):r!=null&&r.length?u.jsx("article",{className:"mb-10",children:a}):u.jsx("section",{className:"m-auto font-bebas text-3xl",children:u.jsx("span",{children:"Carrito vaco"})}),u.jsxs("section",{className:"flex justify-between items-center bg-white fixed bottom-0 h-12 w-72",children:[u.jsx("div",{className:"fixed right-7 bottom-2 font-bebas text-2xl",children:l>0&&u.jsx("button",{onClick:c,className:" bg-primary p-1 px-3 rounded-2xl text-white",children:"Comprar"})}),u.jsxs("div",{className:"relative left-3 font-bebas text-2xl",children:[u.jsx("span",{children:"Total: "}),u.jsxs("span",{children:["$ ",l]})]})]})]})})},mR=({className:t})=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:t,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"})});var K_={};Object.defineProperty(K_,"__esModule",{value:!0});var gR=K_.loadMercadoPago=void 0;const yR="https://sdk.mercadopago.com/js/v2",KW=/^https:\/\/sdk\.mercadopago\.com\/js\/v2\/?(\?.*)?$/,bT="MercadoPago has already been initialized in your window, please remove the duplicate import",GW="MercadoPago.js not available",QW="Failed to load MercadoPago.js",YW=()=>{for(var t=document.querySelectorAll(`script[src^="${yR}"`),e=0;e<t.length;e++){var n=t[e];if(KW.test(n.src))return n}return null},XW=()=>{const t=document.createElement("script");t.src=yR;const e=document.head||document.body;if(!e)throw new Error("Expected document.body or document.head not to be null. MercadoPago requires a <body> or a <head> element, please add on your project.");return e.appendChild(t),t};let th=null;const JW=()=>(th!==null||(th=new Promise((t,e)=>{if(typeof window>"u"){t(null);return}if(window.MercadoPago){console.warn(bT),t(window.MercadoPago);return}try{let n=YW();n?console.warn(bT):n||(n=XW()),n.addEventListener("load",()=>{window.MercadoPago?t(window.MercadoPago):e(new Error(GW))}),n.addEventListener("error",()=>{e(new Error(QW))})}catch(n){e(n);return}})),th);gR=K_.loadMercadoPago=JW;var ZW=globalThis&&globalThis.__awaiter||function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(d){try{c(r.next(d))}catch(f){o(f)}}function l(d){try{c(r.throw(d))}catch(f){o(f)}}function c(d){d.done?s(d.value):i(d.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};class di{static getInstance(){return ZW(this,void 0,void 0,function*(){if(this.publicKey)return this.loadedInstanceMercadoPago||(yield gR(),this.loadedInstanceMercadoPago=!0),this.instanceMercadoPago||(this.instanceMercadoPago=new window.MercadoPago(this.publicKey,this.options)),this.instanceMercadoPago;console.error("Expected the PUBLIC_KEY to render the MercadoPago SDK React")})}}di.publicKey=null;di.options={};di.instanceMercadoPago=void 0;di.loadedInstanceMercadoPago=!1;function eq(t,e){return Object.keys(t).length===Object.keys(e).length&&Object.keys(t).every(r=>Object.prototype.hasOwnProperty.call(e,r)&&t[r]===e[r])}const tq=(t,e)=>{const n=Object.assign(Object.assign({},e),{frontEndStack:"react"}),r=!eq(di.options,n);(t!==di.publicKey||r)&&(di.publicKey=t,di.options=n,di.instanceMercadoPago=void 0)},nq=200;var rq=globalThis&&globalThis.__awaiter||function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(d){try{c(r.next(d))}catch(f){o(f)}}function l(d){try{c(r.throw(d))}catch(f){o(f)}}function c(d){d.done?s(d.value):i(d.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const iq=()=>rq(void 0,void 0,void 0,function*(){}),sq=()=>{},oq=t=>{console.error(t)};var aq=globalThis&&globalThis.__awaiter||function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(d){try{c(r.next(d))}catch(f){o(f)}}function l(d){try{c(r.throw(d))}catch(f){o(f)}}function c(d){d.done?s(d.value):i(d.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const lq=({settings:t,name:e,divId:n,controller:r})=>aq(void 0,void 0,void 0,function*(){const i=yield di.getInstance(),s=i==null?void 0:i.bricks();window[r]=yield s==null?void 0:s.create(e,n,t)}),cq=({onReady:t=sq,onError:e=oq,onSubmit:n=iq,customization:r,initialization:i,locale:s})=>(C.useEffect(()=>{let o;const a={settings:{initialization:i,customization:r,locale:s,callbacks:{onReady:t,onSubmit:n,onError:e}},name:"wallet",divId:"walletBrick_container",controller:"walletBrickController"};return o=setTimeout(()=>{lq(a)},nq),()=>{var l;clearTimeout(o),(l=window.walletBrickController)===null||l===void 0||l.unmount()}},[r,i,t,e,n]),be.createElement("div",{id:"walletBrick_container"}));globalThis&&globalThis.__awaiter;globalThis&&globalThis.__awaiter;globalThis&&globalThis.__awaiter;globalThis&&globalThis.__awaiter;globalThis&&globalThis.__awaiter;globalThis&&globalThis.__awaiter;globalThis&&globalThis.__awaiter;const uq=()=>{const t=Date.now(),e=Math.floor(Math.random()*1e4);return`${t}${e}`},dq=()=>{const t=Date.now();return new Date(t).toLocaleDateString()},hq=async(t,e,n)=>{try{const r=uq(),i=dq(),s=go(Tt,"users",t,"facturas"),o=Zt(s,r);return await Dl(o,{billNumber:r,fecha:i,data:e,userData:n,status:"pending"}),r}catch(r){throw console.error("Error al crear la factura:",r),r}},fq=({userId:t,userEmail:e,arrayItems:n,userData:r})=>{const[i,s]=C.useState();return tq("TEST-96d6884d-30e9-4fe8-a75f-16fdc52d9ddb"),C.useEffect(()=>{(async()=>{try{const a=await hq(t,n,r),{data:l}=await yo.post("/create_preference",{userId:t,userEmail:e,items:n,orderId:a}),{id:c}=l;if(c&&s(c),c&&a){const d=await Pu(t,a,{orderMP:c})}return}catch(a){console.log(a)}})()},[]),u.jsx("div",{children:i?u.jsx(cq,{initialization:{preferenceId:i}}):u.jsx("p",{children:"Cargando..."})})},pq=()=>{const t=ls(),{currentUser:e,products:n,productsLocalStorage:r,setTotalPay:i,totalPay:s,setShowOrder:o,setShowCart:a}=C.useContext(Fn),[l,c]=C.useState(null),[d,f]=C.useState(null),[m,v]=C.useState(!1),[w,b]=C.useState(null),E=4500;let x,_,T=!1;C.useEffect(()=>{(async()=>{if(e){const ke=await m_(e==null?void 0:e.uid);b(ke)}})()},[e]),n.length?(x=u.jsx("ul",{children:n==null?void 0:n.map(({name:re,price:ke,cantidad:fe})=>u.jsxs("div",{className:"font-bebas text-2xl mb-3",children:[u.jsxs("p",{className:"text-primary",children:[re," ",u.jsxs("span",{className:"text-black ml-5 font-montserrat font-medium text-xl",children:[" ","x",fe]})]}),u.jsxs("p",{children:["total:"," ",u.jsxs("span",{className:"text-teal-600",children:[" $",ke*fe,".00"]})]})]}))}),_=n==null?void 0:n.reduce((re,ke)=>re+ke.price*ke.cantidad,0).toFixed(2)):(x=u.jsx("ul",{children:r==null?void 0:r.map(({name:re,price:ke,cantidad:fe})=>u.jsxs("div",{className:"font-bebas text-2xl mb-3",children:[u.jsxs("p",{className:"text-primary",children:[re," ",u.jsxs("span",{className:"text-black ml-5 font-montserrat font-medium text-xl",children:[" ","x",fe]})]}),u.jsxs("p",{children:["total:"," ",u.jsxs("span",{className:"text-teal-600",children:[" $",ke*fe,".00"]})]})]}))}),_=r==null?void 0:r.reduce((re,ke)=>re+ke.price*ke.cantidad,0).toFixed(2)),_>5e4&&(T=!0);const R=(_-_*10/100).toFixed(2),D=(_-R).toFixed(2),B=(Number(_)+E).toFixed(2);_<5e4?i(B):_>15e4?i(R):i(_);let $=n&&n.map(({id:re,name:ke,price:fe,cantidad:Ee,image:Me,stock:Je})=>({id:re,title:ke,unit_price:Math.round(fe),quantity:Ee,picture_url:Me,newStock:Number(Je-Ee)}));console.log(w);const H=async()=>{if(e||t("/auth/loginUser"),w!=null&&w.dataCompleted){c($),f({id:w.id,email:w.email,name:w.displayName,documento:w.documento,telefono:w.telefono,provincia:w.provincia,municipio:w.municipio,ciudad:w.ciudad,calle:w.calle,altura:w.altura,pisoDpto:w.pisoDpto||""}),v(!0);return}t("/preCheckout"),a(!1),o(!1)},se=()=>{o(!1),a(!0)};return u.jsx("div",{children:u.jsxs("aside",{className:"sideMenuLayout",children:[u.jsxs("section",{children:[u.jsx("button",{onClick:se,children:u.jsx(mR,{className:"mb-1 text-teal-700/90 w-7 transition hover:scale-125 hover:text-teal-600"})}),n!=null&&n.length?u.jsx("article",{className:"mb-10",children:x}):r!=null&&r.length?u.jsx("article",{className:"mb-10",children:x}):u.jsx("section",{className:"m-auto font-bebas text-3xl",children:u.jsx("span",{children:"Carrito vaco"})})]}),u.jsxs("div",{className:"mb-10",children:[u.jsxs("p",{className:"flex justify-between  font-medium mb-2",children:["Envo"," ",T?u.jsx("span",{className:"text-green-500",children:"Gratis"}):u.jsx("span",{className:"text-primary",children:E})]}),_>15e4?u.jsxs("p",{className:"flex justify-between  font-medium mb-5",children:["Descuento 10%"," ",u.jsxs("span",{className:"text-green-500",children:["-",D]})]}):null]}),e&&(w==null?void 0:w.calle)&&(w==null?void 0:w.altura)&&u.jsxs("div",{className:"mb-24 font-montserrat font-medium w-full text-end",children:[u.jsxs("span",{children:["Enviar a"," ",u.jsxs("span",{className:"text-primary",children:[w==null?void 0:w.calle," ",w==null?void 0:w.altura]})]}),u.jsx("a",{href:"/preCheckout",children:u.jsxs("p",{className:"text-sm text-teal-600 font-semibold",children:[" ","Cambiar direccin"]})})]}),u.jsxs("section",{className:"flex justify-between items-center fixed bottom-0 w-full h-28 bg-white",children:[u.jsx("div",{className:"font-bebas text-3xl mb-2",children:!m&&u.jsxs("div",{children:[u.jsxs("p",{className:"text-xl mt-2",children:["Sub-total: $",_]}),u.jsx("span",{children:"Total: "}),u.jsxs("span",{children:["$ ",s]})]})}),u.jsxs("div",{className:"fixed right-7 bottom-9 font-bebas text-2xl",children:[_>0&&!m&&u.jsx("button",{onClick:H,className:" bg-primary p-1 px-3 rounded-2xl text-white",children:"Pagar"}),u.jsx("div",{className:"relative right-7",children:l&&(w==null?void 0:w.dataCompleted)&&u.jsx("div",{className:"w-fit mx-auto",children:u.jsx(fq,{userId:e.uid,userEmail:e.email,arrayItems:$,userData:d})})})]})]})]})})};var vR={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},ET=be.createContext&&be.createContext(vR),Js=globalThis&&globalThis.__assign||function(){return Js=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Js.apply(this,arguments)},mq=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function wR(t){return t&&t.map(function(e,n){return be.createElement(e.tag,Js({key:n},e.attr),wR(e.child))})}function G_(t){return function(e){return be.createElement(gq,Js({attr:Js({},t.attr)},e),wR(t.child))}}function gq(t){var e=function(n){var r=t.attr,i=t.size,s=t.title,o=mq(t,["attr","size","title"]),a=i||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),be.createElement("svg",Js({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:Js(Js({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&be.createElement("title",null,s),t.children)};return ET!==void 0?be.createElement(ET.Consumer,null,function(n){return e(n)}):e(vR)}function yq(t){return G_({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"m2 12 5 4v-3h9v-2H7V8z"}},{tag:"path",attr:{d:"M13.001 2.999a8.938 8.938 0 0 0-6.364 2.637L8.051 7.05c1.322-1.322 3.08-2.051 4.95-2.051s3.628.729 4.95 2.051 2.051 3.08 2.051 4.95-.729 3.628-2.051 4.95-3.08 2.051-4.95 2.051-3.628-.729-4.95-2.051l-1.414 1.414c1.699 1.7 3.959 2.637 6.364 2.637s4.665-.937 6.364-2.637c1.7-1.699 2.637-3.959 2.637-6.364s-.937-4.665-2.637-6.364a8.938 8.938 0 0 0-6.364-2.637z"}}]})(t)}const vq=vk(),wq=async()=>(await _e.mixin({toast:!0,position:"top-end",showConfirmButton:!0,showCancelButton:!0,didOpen:e=>{e.onmouseenter=_e.stopTimer,e.onmouseleave=_e.resumeTimer}}).fire({icon:"question",title:"Quieres cerrar sesin?"})).isConfirmed===!0?(await VF(vq),console.log("El usuario cerro sesin exitosamente"),_e.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:2e3,timerProgressBar:!0,didOpen:n=>{n.onmouseenter=_e.stopTimer,n.onmouseleave=_e.resumeTimer}}).fire({icon:"success",title:"Sesin cerrada exitosamente"}),setTimeout(()=>{window.location.href="/home"},2e3),!0):(console.log("No se pudo cerrar sesion"),!1),_q=()=>{const t=ls();return u.jsxs("div",{className:"group inline-block ",children:[u.jsx("button",{className:"outline-none focus:outline-none  px-3 py-1  rounded-sm flex items-center min-w-32 max-sm:w-screen",children:u.jsx("span",{className:"pr-1 font-semibold flex",children:u.jsx(Dz,{className:"w-10 transition fill-primaryDark hover:scale-125 hover:fill-primary -mt-1"})})}),u.jsx("ul",{className:`bg-white border rounded-sm transform scale-0 group-hover:scale-100 absolute \r
transition duration-150 ease-in-out origin-top min-w-32 z-10`,children:u.jsxs("ul",{children:[u.jsx("li",{className:"rounded-sm px-3 py-1 hover:bg-gray-100 font-montserrat",children:u.jsx("button",{onClick:()=>t("/orders"),children:"Mis compras"})}),u.jsx("li",{className:"rounded-sm px-3 py-1 hover:bg-gray-100 font-montserrat",children:u.jsx("button",{onClick:()=>t("/createReviews"),children:"Agregar review"})}),u.jsx("li",{className:"rounded-sm px-3 py-1 hover:bg-gray-100 font-montserrat",children:u.jsx("button",{onClick:()=>t("/reviews"),children:"Mis reviews"})})]})})]})},xq=()=>{const t=yr(),{currentUser:e,showCart:n,showOrder:r,setShowOrder:i,setShowCart:s,setCurrentUser:o,setProductsLocalStorage:a,setProducts:l}=C.useContext(Fn),c=async()=>{await wq()&&(o(null),a([]),l([]))};C.useEffect(()=>{e&&pR(e.uid)},[e]);const d=()=>{t(Sh()),t(Ih()),t(Pv())};return u.jsx(u.Fragment,{children:u.jsxs("nav",{className:"flex w-full bg-primaryLight h-24 items-center py-5 px-10 justify-between",children:[u.jsx(Fl,{className:"w-[34px] h-[69px] mr-[128px]"}),u.jsxs("section",{className:"font-bebas flex gap-2 text-2xl",children:[u.jsx(Ys,{to:"home",className:({isActive:f})=>`hover:text-tertiary ${f?"text-primary underline decoration-primary underline-offset-4":"text-black"}`,children:"Home"}),u.jsx(Ys,{to:"productsPage",className:({isActive:f})=>`hover:text-tertiary ${f?"text-primary underline decoration-primary underline-offset-4":"text-black"}`,onClick:d,children:"Productos"})]}),u.jsxs("section",{className:"flex gap-2 w-[195px]",children:[e&&u.jsx(yq,{onClick:c,style:{width:"19%",height:"19%",marginTop:"2.5%"},className:"w-10 transition fill-primaryDark hover:scale-125 hover:fill-primary cursor-pointer"}),!e&&u.jsx(Ys,{to:"auth/loginPage",children:u.jsx(Mz,{className:"w-10 transition fill-primaryDark hover:scale-125 hover:fill-primary"})}),e&&u.jsx(_q,{}),u.jsx(HW,{setShowCart:s}),n&&u.jsx(qW,{setShowCart:s,setShowOrder:i}),r&&u.jsx(pq,{setShowOrder:i,setShowCart:s})]})]})})},bq="_container_s3phc_3",Eq="_Image_s3phc_47",Tq="_texto_s3phc_65",Sq="_addButton_s3phc_83",Iq={container:bq,Image:Eq,texto:Tq,addButton:Sq};function Mv({id:t,name:e,price:n,image:r,stock:i}){const{currentUser:s,productsLocalStorage:o,setProductsLocalStorage:a}=C.useContext(Fn),l=async()=>{if(i>0)if(s){const d=o==null?void 0:o.find(f=>f.id==t);if(d)d.cantidad+=1,a([...o]);else{const f=await dm(s.uid);(f==null?void 0:f.find(v=>v.id==t))?q_(s.uid,t):W_(s.uid,{name:e,price:n,image:r[0],stock:i,cantidad:1,id:t})}}else{const d=JSON.parse(localStorage.getItem("products"))||[];console.log(d);const f=d.find(m=>m.id==t);if(f){if(f.cantidad>=i)return;f.cantidad+=1,localStorage.setItem("products",JSON.stringify(d)),a(d)}else d.push({name:e,price:n,image:r[0],cantidad:1,id:t,stock:i}),localStorage.setItem("products",JSON.stringify(d)),a(d)}_e.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:1500,timerProgressBar:!0}).fire({icon:"success",title:"Producto agregado al carrito"})};return u.jsx("section",{className:"flex flex-col justify-center items-center w-52 py-5 shadow-md rounded-xl transition hover:scale-110 bg-white",children:u.jsx("div",{className:"flex flex-col justify-center items-center",children:u.jsxs("div",{className:"flex flex-col items-center font-bebas text-center gap-1",children:[u.jsx($n,{to:`/detail/${t}`,children:u.jsx("img",{src:r,alt:"IMG",className:Iq.Image})}),u.jsx("h3",{children:e}),u.jsxs("p",{className:"text-black text-lg",children:["$",n]}),u.jsx("div",{className:"h-10",children:u.jsx("button",{className:"addButton",onClick:l,children:"AGREGAR"})})]})})})}function Cq(t){return G_({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"}}]})(t)}const Aq=()=>{const t=Date.now(),e=Math.floor(Math.random()*1e4);return`${t}${e}`},kq=()=>{const t=Date.now();return new Date(t).toLocaleDateString()},Pq=async(t,e)=>{try{const n=Aq(),r=kq(),i=go(Tt,"users",t,"reviews"),s=Zt(i,n);return await Dl(s,{reviewNumber:n,fecha:r,...e}),n}catch(n){console.log("Error al crear la resea:",n.message)}},Rq=({setShowReview:t,selectedItem:e})=>{const{currentUser:n}=C.useContext(Fn),r=Array(5).fill(0),[i,s]=C.useState(0),[o,a]=C.useState(void 0),[l,c]=C.useState(""),d={id:n.uid,name:n.displayName,photoURL:n.photoURL},f=E=>s(E),m=E=>a(E),v=()=>a(void 0),w=E=>{l.length<250&&c(E.target.value)},b=async E=>{if(E.preventDefault(),!l.trim()){_e.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:2e3,timerProgressBar:!0,didOpen:T=>{T.onmouseenter=_e.stopTimer,T.onmouseleave=_e.resumeTimer}}).fire({icon:"error",title:"Por favor, ingresa tu comentario antes de enviar"});return}if(!i){_e.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:2e3,timerProgressBar:!0,didOpen:T=>{T.onmouseenter=_e.stopTimer,T.onmouseleave=_e.resumeTimer}}).fire({icon:"error",title:"Por favor, ingresa una puntuacin"});return}await Pq(n==null?void 0:n.uid,{itemName:e.title,feedback:l,itemId:e.id,userReview:d,rating:i,itemImg:e.picture_url}),t(!1),_e.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:2e3,timerProgressBar:!0,didOpen:_=>{_.onmouseenter=_e.stopTimer,_.onmouseleave=_e.resumeTimer}}).fire({icon:"success",title:"Gracias por tus comentarios!"})};return u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-30 backdrop-blur-sm justify-center items-center ",children:u.jsxs("div",{className:`bg-white\r
        rounded\r
        mt-20\r
        flex\r
        flex-col\r
        justify-center\r
        items-center\r
        m-auto\r
        w-[50vw]\r
        h-auto \r
        p-5\r
      \r
      `,children:[u.jsx("section",{className:" w-[45vw]  text-right",children:u.jsx("button",{onClick:()=>t(),children:u.jsx(A_,{className:"mb-1 text-red-700/90 w-8 transition hover:scale-125 hover:text-red-600"})})}),u.jsxs("span",{className:"font-bebas text-3xl",children:[" ","Review para ",u.jsx("span",{className:"text-primary",children:e.title})]}),u.jsx("div",{children:u.jsx("div",{className:"flex my-3",children:r.map((E,x)=>u.jsx(Cq,{size:24,color:(o||i)>x?"#D6774F":"#94a3b8",onClick:()=>f(x+1),onMouseOver:()=>m(x+1),onMouseLeave:v},x))})}),u.jsxs("div",{children:[u.jsx("textarea",{className:"w-[40vw] font-montserrat border-slate-400 resize-none h-36 focus:ring-0 focus:border-slate-400",placeholder:"Escribe tu opinin del producto recibido",value:l,onChange:w}),u.jsxs("p",{className:" text-end  text-slate-600",children:[l.length,"/250"]}),u.jsx("div",{className:"text-center",children:u.jsx("button",{className:"bg-primary p-2 rounded font-bebas text-white text-xl mt-2",onClick:b,children:"Enviar"})})]})]})})},Nq=()=>{const{id:t}=S_(),[e,n]=C.useState(),[r,i]=C.useState(!0),[s,o]=C.useState(!1),[a,l]=C.useState(!1),[c,d]=C.useState(!1),[f,m]=C.useState(!1);C.useEffect(()=>{(async()=>{const x=await H_();if(x){const _=x.filter(T=>T.billNumber==t);n(_[0]),i(!1)}})()},[t]),console.log(e);const v=async()=>{await Pu(e.userData.id,e.billNumber,{status:"accept"}),o(!0),d(!0)},w=async()=>{await Pu(e.userData.id,e.billNumber,{status:"send"}),m(!0),l(!0)},b=e&&e.data.reduce((E,x)=>E+x.quantity*x.unit_price,0);return console.log(b),u.jsx("div",{children:r?u.jsx(cs,{}):u.jsxs("div",{className:" w-fit mx-auto my-5 font-montserrat p-8",children:[u.jsxs("section",{className:"flex items-center",children:[u.jsx("article",{className:"",children:u.jsx(Fl,{className:"w-20"})}),u.jsxs("article",{className:"mx-20",children:[u.jsxs("h2",{children:[u.jsx("span",{className:"font-semibold",children:"Orden N: "}),t]}),u.jsxs("p",{children:[u.jsx("span",{className:"font-semibold",children:"ID de pago: "}),e.payment_id]}),u.jsxs("p",{children:[u.jsx("span",{className:"font-semibold",children:"Tipo de pago: "})," ","MercadoPago"]}),u.jsxs("p",{children:[u.jsx("span",{className:"font-semibold",children:"Fecha: "}),e.fecha]})]}),u.jsxs("article",{children:[u.jsxs("p",{children:[u.jsx("span",{className:"font-semibold",children:"Destinatario: "})," ",e.userData.name]}),u.jsxs("p",{children:[u.jsx("span",{className:"font-semibold",children:"Email: "})," ",e.userData.email]}),u.jsxs("p",{children:[u.jsx("span",{className:"font-semibold",children:"Telfono: "})," ",e.userData.telefono]}),u.jsxs("p",{children:[u.jsx("span",{className:"font-semibold",children:"Documento: "})," ",e.userData.documento]})]})]}),u.jsxs("section",{className:"mt-8 mb-10",children:[u.jsx("h2",{className:"text-xl",children:"Direccin"}),u.jsxs("article",{className:"grid grid-cols-2 indent-4",children:[u.jsxs("p",{children:[u.jsx("span",{className:"font-semibold",children:"Provincia: "})," ",e.userData.provincia]}),u.jsxs("p",{children:[u.jsx("span",{className:"font-semibold",children:"Municipio: "})," ",e.userData.municipio]})]}),u.jsxs("article",{className:"grid grid-cols-2 indent-4 ",children:[u.jsxs("p",{children:[u.jsx("span",{className:"font-semibold",children:"Ciudad: "})," ",e.userData.ciudad]}),u.jsxs("p",{children:[u.jsx("span",{className:"font-semibold",children:"Calle: "})," ",e.userData.calle]})]}),u.jsxs("article",{className:"grid grid-cols-2 indent-4",children:[u.jsxs("p",{children:[u.jsx("span",{className:"font-semibold",children:"Altura: "})," ",e.userData.altura]}),u.jsxs("p",{children:[u.jsx("span",{className:"font-semibold",children:"Piso / Dpto: "}),e.userData.pisoDpto?e.userData.pisoDpto:""]})]})]}),u.jsxs("section",{children:[u.jsxs("section",{className:"flex text-xl font-medium mb-5",children:[u.jsx("span",{className:"w-[20%]",children:"IMG"}),u.jsx("span",{className:"w-[50%]",children:"Nombre producto"}),u.jsx("span",{className:"w-[15%]",children:"Cant"}),u.jsx("span",{className:"w-[15%]",children:"Precio unit"})]}),e.data&&e.data.map((E,x)=>u.jsxs("div",{className:"flex items-center bg-slate-100 rounded mx-auto w-full",children:[u.jsx("article",{className:"w-[20%]",children:u.jsx("img",{src:E.picture_url,width:60,alt:""})}),u.jsx("article",{className:"w-[50%]",children:u.jsx("span",{className:"text-lg font-medium",children:E.title})}),u.jsxs("span",{className:"text-lg font-medium w-[15%]",children:[" ","X ",E.quantity]}),u.jsx("article",{className:"w-[15%]",children:u.jsxs("span",{className:"text-lg font-medium",children:[" ","$",E.unit_price]})})]},x))]}),u.jsx("section",{children:u.jsxs("article",{className:"text-end mt-5 font-semibold text-xl",children:["TOTAL: $",b]})}),u.jsx("section",{className:" text-end mt-5",children:e.status=="succesfull"&&!s?u.jsx("button",{onClick:v,className:"p-3 bg-primary text-white font-bebas text-xl rounded mt-5",children:"Aceptar orden"}):e.status=="accept"&&!a?u.jsx("button",{onClick:w,className:"p-3 bg-green-500 text-white font-bebas text-xl rounded mt-5",children:"Marcar como enviada"}):null}),u.jsx("section",{children:c?u.jsx("p",{className:"text-end font-medium text-lg text-teal-600",children:"Orden en proceso!"}):f?u.jsx("p",{className:"text-end font-medium text-lg text-teal-600",children:"Productos en camino!"}):null})]})})},Oq=()=>u.jsx(u.Fragment,{children:u.jsxs(C_,{children:[u.jsx(vt,{path:"dasboard",element:u.jsx(MW,{})}),u.jsx(vt,{path:"/*",element:u.jsx(I_,{to:"/dasboard"})}),u.jsx(vt,{path:"dasboard/editproduct/:id",element:u.jsx(NW,{})}),u.jsx(vt,{path:"dasboard/detail/:id",element:u.jsx(Nq,{})})]})}),Dq=async()=>{try{const t=Eu(CA(Tt,"reviews")),e=await Ol(t),n=[];return e.forEach(r=>n.push(r.data())),n}catch(t){console.error("Error al obtener todas las facturas:",t.message)}},jq=({name:t,feedback:e,rating:n,fecha:r})=>u.jsxs("div",{className:"w-[450px] mx-auto relative bg-gradient-to-r from-slate-200 to-slate-300 text-black rounded-lg overflow-hidden shadow-lg mb-5 flex p-4",children:[u.jsx("div",{className:"p-1 rounded-full shadow-md h-fit",children:u.jsx("img",{src:"https://i0.wp.com/digitalhealthskills.com/wp-content/uploads/2022/11/3da39-no-user-image-icon-27.png?fit=500%2C500&ssl=1",alt:t,width:65,className:"rounded-full"})}),u.jsxs("div",{className:"px-4 py-2  w-[80%]",children:[u.jsxs("div",{className:"flex  justify-between",children:[u.jsx("div",{className:"text-xl font-bebas mr-5",children:t}),u.jsx("div",{className:"flex gap-1",children:Array.from({length:5}).map((i,s)=>u.jsx("span",{className:`text-xl ${s<n?"text-yellow-400":"text-gray-500"}`,children:""},s))})]}),u.jsx("p",{className:" text-sm mt-2 font-montserrat font-medium text-slate-900",children:e}),u.jsx("p",{className:"text-end text-slate-600 mt-2",children:r})]})]});var _R={exports:{}};(function(t,e){(function(n,r){t.exports=r(C)})(tr,n=>(()=>{var r={703:(a,l,c)=>{var d=c(414);function f(){}function m(){}m.resetWarningCache=f,a.exports=function(){function v(E,x,_,T,R,D){if(D!==d){var B=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw B.name="Invariant Violation",B}}function w(){return v}v.isRequired=v;var b={array:v,bool:v,func:v,number:v,object:v,string:v,symbol:v,any:v,arrayOf:w,element:v,elementType:v,instanceOf:w,node:v,objectOf:w,oneOf:w,oneOfType:w,shape:w,exact:w,checkPropTypes:m,resetWarningCache:f};return b.PropTypes=b,b}},697:(a,l,c)=>{a.exports=c(703)()},414:a=>{a.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},590:a=>{var l=typeof Element<"u",c=typeof Map=="function",d=typeof Set=="function",f=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function m(v,w){if(v===w)return!0;if(v&&w&&typeof v=="object"&&typeof w=="object"){if(v.constructor!==w.constructor)return!1;var b,E,x,_;if(Array.isArray(v)){if((b=v.length)!=w.length)return!1;for(E=b;E--!=0;)if(!m(v[E],w[E]))return!1;return!0}if(c&&v instanceof Map&&w instanceof Map){if(v.size!==w.size)return!1;for(_=v.entries();!(E=_.next()).done;)if(!w.has(E.value[0]))return!1;for(_=v.entries();!(E=_.next()).done;)if(!m(E.value[1],w.get(E.value[0])))return!1;return!0}if(d&&v instanceof Set&&w instanceof Set){if(v.size!==w.size)return!1;for(_=v.entries();!(E=_.next()).done;)if(!w.has(E.value[0]))return!1;return!0}if(f&&ArrayBuffer.isView(v)&&ArrayBuffer.isView(w)){if((b=v.length)!=w.length)return!1;for(E=b;E--!=0;)if(v[E]!==w[E])return!1;return!0}if(v.constructor===RegExp)return v.source===w.source&&v.flags===w.flags;if(v.valueOf!==Object.prototype.valueOf)return v.valueOf()===w.valueOf();if(v.toString!==Object.prototype.toString)return v.toString()===w.toString();if((b=(x=Object.keys(v)).length)!==Object.keys(w).length)return!1;for(E=b;E--!=0;)if(!Object.prototype.hasOwnProperty.call(w,x[E]))return!1;if(l&&v instanceof Element)return!1;for(E=b;E--!=0;)if((x[E]!=="_owner"&&x[E]!=="__v"&&x[E]!=="__o"||!v.$$typeof)&&!m(v[x[E]],w[x[E]]))return!1;return!0}return v!=v&&w!=w}a.exports=function(v,w){try{return m(v,w)}catch(b){if((b.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw b}}},359:a=>{a.exports=n}},i={};function s(a){var l=i[a];if(l!==void 0)return l.exports;var c=i[a]={exports:{}};return r[a](c,c.exports,s),c.exports}s.n=a=>{var l=a&&a.__esModule?()=>a.default:()=>a;return s.d(l,{a:l}),l},s.d=(a,l)=>{for(var c in l)s.o(l,c)&&!s.o(a,c)&&Object.defineProperty(a,c,{enumerable:!0,get:l[c]})},s.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),s.o=(a,l)=>Object.prototype.hasOwnProperty.call(a,l),s.r=a=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})};var o={};return(()=>{function a(P){var I,O,j="";if(typeof P=="string"||typeof P=="number")j+=P;else if(typeof P=="object")if(Array.isArray(P))for(I=0;I<P.length;I++)P[I]&&(O=a(P[I]))&&(j&&(j+=" "),j+=O);else for(I in P)P[I]&&(j&&(j+=" "),j+=I);return j}function l(){for(var P,I,O=0,j="";O<arguments.length;)(P=arguments[O++])&&(I=a(P))&&(j&&(j+=" "),j+=I);return j}s.r(o),s.d(o,{default:()=>ym});var c=s(359),d=s.n(c);const f=function(P){var I=typeof P;return P!=null&&(I=="object"||I=="function")},m=typeof tr=="object"&&tr&&tr.Object===Object&&tr;var v=typeof self=="object"&&self&&self.Object===Object&&self;const w=m||v||Function("return this")(),b=function(){return w.Date.now()};var E=/\s/,x=/^\s+/;const _=function(P){return P&&P.slice(0,function(I){for(var O=I.length;O--&&E.test(I.charAt(O)););return O}(P)+1).replace(x,"")},T=w.Symbol;var R=Object.prototype,D=R.hasOwnProperty,B=R.toString,$=T?T.toStringTag:void 0,H=Object.prototype.toString,se=T?T.toStringTag:void 0;const re=function(P){return P==null?P===void 0?"[object Undefined]":"[object Null]":se&&se in Object(P)?function(I){var O=D.call(I,$),j=I[$];try{I[$]=void 0;var ee=!0}catch{}var we=B.call(I);return ee&&(O?I[$]=j:delete I[$]),we}(P):function(I){return H.call(I)}(P)};var ke=/^[-+]0x[0-9a-f]+$/i,fe=/^0b[01]+$/i,Ee=/^0o[0-7]+$/i,Me=parseInt;const Je=function(P){if(typeof P=="number")return P;if(function(j){return typeof j=="symbol"||function(ee){return ee!=null&&typeof ee=="object"}(j)&&re(j)=="[object Symbol]"}(P))return NaN;if(f(P)){var I=typeof P.valueOf=="function"?P.valueOf():P;P=f(I)?I+"":I}if(typeof P!="string")return P===0?P:+P;P=_(P);var O=fe.test(P);return O||Ee.test(P)?Me(P.slice(2),O?2:8):ke.test(P)?NaN:+P};var Ie=Math.max,Re=Math.min;const J=function(P,I,O){var j,ee,we,Be,A,S,F=0,Q=!1,te=!1,Z=!0;if(typeof P!="function")throw new TypeError("Expected a function");function Ce(ie){var je=j,Xe=ee;return j=ee=void 0,F=ie,Be=P.apply(Xe,je)}function Te(ie){return F=ie,A=setTimeout(ae,I),Q?Ce(ie):Be}function Ne(ie){var je=ie-S;return S===void 0||je>=I||je<0||te&&ie-F>=we}function ae(){var ie=b();if(Ne(ie))return ue(ie);A=setTimeout(ae,function(je){var Xe=I-(je-S);return te?Re(Xe,we-(je-F)):Xe}(ie))}function ue(ie){return A=void 0,Z&&j?Ce(ie):(j=ee=void 0,Be)}function he(){var ie=b(),je=Ne(ie);if(j=arguments,ee=this,S=ie,je){if(A===void 0)return Te(S);if(te)return clearTimeout(A),A=setTimeout(ae,I),Ce(S)}return A===void 0&&(A=setTimeout(ae,I)),Be}return I=Je(I)||0,f(O)&&(Q=!!O.leading,we=(te="maxWait"in O)?Ie(Je(O.maxWait)||0,I):we,Z="trailing"in O?!!O.trailing:Z),he.cancel=function(){A!==void 0&&clearTimeout(A),F=0,j=S=ee=A=void 0},he.flush=function(){return A===void 0?Be:ue(b())},he},ge=function(P,I,O){var j=!0,ee=!0;if(typeof P!="function")throw new TypeError("Expected a function");return f(O)&&(j="leading"in O?!!O.leading:j,ee="trailing"in O?!!O.trailing:ee),J(P,I,{leading:j,maxWait:I,trailing:ee})};var K=s(590),Fe=s.n(K),$e=function(){if(typeof Map<"u")return Map;function P(I,O){var j=-1;return I.some(function(ee,we){return ee[0]===O&&(j=we,!0)}),j}return function(){function I(){this.__entries__=[]}return Object.defineProperty(I.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),I.prototype.get=function(O){var j=P(this.__entries__,O),ee=this.__entries__[j];return ee&&ee[1]},I.prototype.set=function(O,j){var ee=P(this.__entries__,O);~ee?this.__entries__[ee][1]=j:this.__entries__.push([O,j])},I.prototype.delete=function(O){var j=this.__entries__,ee=P(j,O);~ee&&j.splice(ee,1)},I.prototype.has=function(O){return!!~P(this.__entries__,O)},I.prototype.clear=function(){this.__entries__.splice(0)},I.prototype.forEach=function(O,j){j===void 0&&(j=null);for(var ee=0,we=this.__entries__;ee<we.length;ee++){var Be=we[ee];O.call(j,Be[1],Be[0])}},I}()}(),Wt=typeof window<"u"&&typeof document<"u"&&window.document===document,nt=s.g!==void 0&&s.g.Math===Math?s.g:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")(),V=typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(nt):function(P){return setTimeout(function(){return P(Date.now())},1e3/60)},Un=["top","right","bottom","left","width","height","size","weight"],Jn=typeof MutationObserver<"u",us=function(){function P(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(I,O){var j=!1,ee=!1,we=0;function Be(){j&&(j=!1,I()),ee&&S()}function A(){V(Be)}function S(){var F=Date.now();if(j){if(F-we<2)return;ee=!0}else j=!0,ee=!1,setTimeout(A,20);we=F}return S}(this.refresh.bind(this))}return P.prototype.addObserver=function(I){~this.observers_.indexOf(I)||this.observers_.push(I),this.connected_||this.connect_()},P.prototype.removeObserver=function(I){var O=this.observers_,j=O.indexOf(I);~j&&O.splice(j,1),!O.length&&this.connected_&&this.disconnect_()},P.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},P.prototype.updateObservers_=function(){var I=this.observers_.filter(function(O){return O.gatherActive(),O.hasActive()});return I.forEach(function(O){return O.broadcastActive()}),I.length>0},P.prototype.connect_=function(){Wt&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),Jn?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},P.prototype.disconnect_=function(){Wt&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},P.prototype.onTransitionEnd_=function(I){var O=I.propertyName,j=O===void 0?"":O;Un.some(function(ee){return!!~j.indexOf(ee)})&&this.refresh()},P.getInstance=function(){return this.instance_||(this.instance_=new P),this.instance_},P.instance_=null,P}(),Ii=function(P,I){for(var O=0,j=Object.keys(I);O<j.length;O++){var ee=j[O];Object.defineProperty(P,ee,{value:I[ee],enumerable:!1,writable:!1,configurable:!0})}return P},ct=function(P){return P&&P.ownerDocument&&P.ownerDocument.defaultView||nt},Zn=jr(0,0,0,0);function Ci(P){return parseFloat(P)||0}function vo(P){for(var I=[],O=1;O<arguments.length;O++)I[O-1]=arguments[O];return I.reduce(function(j,ee){return j+Ci(P["border-"+ee+"-width"])},0)}var $l=typeof SVGGraphicsElement<"u"?function(P){return P instanceof ct(P).SVGGraphicsElement}:function(P){return P instanceof ct(P).SVGElement&&typeof P.getBBox=="function"};function Ai(P){return Wt?$l(P)?function(I){var O=I.getBBox();return jr(0,0,O.width,O.height)}(P):function(I){var O=I.clientWidth,j=I.clientHeight;if(!O&&!j)return Zn;var ee=ct(I).getComputedStyle(I),we=function(Z){for(var Ce={},Te=0,Ne=["top","right","bottom","left"];Te<Ne.length;Te++){var ae=Ne[Te],ue=Z["padding-"+ae];Ce[ae]=Ci(ue)}return Ce}(ee),Be=we.left+we.right,A=we.top+we.bottom,S=Ci(ee.width),F=Ci(ee.height);if(ee.boxSizing==="border-box"&&(Math.round(S+Be)!==O&&(S-=vo(ee,"left","right")+Be),Math.round(F+A)!==j&&(F-=vo(ee,"top","bottom")+A)),!function(Z){return Z===ct(Z).document.documentElement}(I)){var Q=Math.round(S+Be)-O,te=Math.round(F+A)-j;Math.abs(Q)!==1&&(S-=Q),Math.abs(te)!==1&&(F-=te)}return jr(we.left,we.top,S,F)}(P):Zn}function jr(P,I,O,j){return{x:P,y:I,width:O,height:j}}var ds=function(){function P(I){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=jr(0,0,0,0),this.target=I}return P.prototype.isActive=function(){var I=Ai(this.target);return this.contentRect_=I,I.width!==this.broadcastWidth||I.height!==this.broadcastHeight},P.prototype.broadcastRect=function(){var I=this.contentRect_;return this.broadcastWidth=I.width,this.broadcastHeight=I.height,I},P}(),ma=function(P,I){var O,j,ee,we,Be,A,S,F=(j=(O=I).x,ee=O.y,we=O.width,Be=O.height,A=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,S=Object.create(A.prototype),Ii(S,{x:j,y:ee,width:we,height:Be,top:ee,right:j+we,bottom:Be+ee,left:j}),S);Ii(this,{target:P,contentRect:F})},qt=function(){function P(I,O,j){if(this.activeObservations_=[],this.observations_=new $e,typeof I!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=I,this.controller_=O,this.callbackCtx_=j}return P.prototype.observe=function(I){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(typeof Element<"u"&&Element instanceof Object){if(!(I instanceof ct(I).Element))throw new TypeError('parameter 1 is not of type "Element".');var O=this.observations_;O.has(I)||(O.set(I,new ds(I)),this.controller_.addObserver(this),this.controller_.refresh())}},P.prototype.unobserve=function(I){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(typeof Element<"u"&&Element instanceof Object){if(!(I instanceof ct(I).Element))throw new TypeError('parameter 1 is not of type "Element".');var O=this.observations_;O.has(I)&&(O.delete(I),O.size||this.controller_.removeObserver(this))}},P.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},P.prototype.gatherActive=function(){var I=this;this.clearActive(),this.observations_.forEach(function(O){O.isActive()&&I.activeObservations_.push(O)})},P.prototype.broadcastActive=function(){if(this.hasActive()){var I=this.callbackCtx_,O=this.activeObservations_.map(function(j){return new ma(j.target,j.broadcastRect())});this.callback_.call(I,O,I),this.clearActive()}},P.prototype.clearActive=function(){this.activeObservations_.splice(0)},P.prototype.hasActive=function(){return this.activeObservations_.length>0},P}(),N=typeof WeakMap<"u"?new WeakMap:new $e,L=function P(I){if(!(this instanceof P))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var O=us.getInstance(),j=new qt(I,O,this);N.set(this,j)};["observe","unobserve","disconnect"].forEach(function(P){L.prototype[P]=function(){var I;return(I=N.get(this))[P].apply(I,arguments)}});const M=nt.ResizeObserver!==void 0?nt.ResizeObserver:L,oe="Left",ne="Right",Y="Up",ye="Down",ze={delta:10,preventScrollOnSwipe:!1,rotationAngle:0,trackMouse:!1,trackTouch:!0,swipeDuration:1/0,touchEventOptions:{passive:!0}},rt={first:!0,initial:[0,0],start:0,swiping:!1,xy:[0,0]},Kt="mousemove",Dt="mouseup";function Lr(P,I){if(I===0)return P;const O=Math.PI/180*I;return[P[0]*Math.cos(O)+P[1]*Math.sin(O),P[1]*Math.cos(O)-P[0]*Math.sin(O)]}function er(P){const{trackMouse:I}=P,O=c.useRef(Object.assign({},rt)),j=c.useRef(Object.assign({},ze)),ee=c.useRef(Object.assign({},j.current));let we;for(we in ee.current=Object.assign({},j.current),j.current=Object.assign(Object.assign({},ze),P),ze)j.current[we]===void 0&&(j.current[we]=ze[we]);const[Be,A]=c.useMemo(()=>function(S,F){const Q=ae=>{const ue="touches"in ae;ue&&ae.touches.length>1||S((he,ie)=>{ie.trackMouse&&!ue&&(document.addEventListener(Kt,te),document.addEventListener(Dt,Ce));const{clientX:je,clientY:Xe}=ue?ae.touches[0]:ae,mt=Lr([je,Xe],ie.rotationAngle);return ie.onTouchStartOrOnMouseDown&&ie.onTouchStartOrOnMouseDown({event:ae}),Object.assign(Object.assign(Object.assign({},he),rt),{initial:mt.slice(),xy:mt,start:ae.timeStamp||0})})},te=ae=>{S((ue,he)=>{const ie="touches"in ae;if(ie&&ae.touches.length>1)return ue;if(ae.timeStamp-ue.start>he.swipeDuration)return ue.swiping?Object.assign(Object.assign({},ue),{swiping:!1}):ue;const{clientX:je,clientY:Xe}=ie?ae.touches[0]:ae,[mt,tn]=Lr([je,Xe],he.rotationAngle),nn=mt-ue.xy[0],Ut=tn-ue.xy[1],ut=Math.abs(nn),Qe=Math.abs(Ut),si=(ae.timeStamp||0)-ue.start,ps=Math.sqrt(ut*ut+Qe*Qe)/(si||1),xo=[nn/(si||1),Ut/(si||1)],Br=function(bo,gs,ys,Rn){return bo>gs?ys>0?ne:oe:Rn>0?ye:Y}(ut,Qe,nn,Ut),Di=typeof he.delta=="number"?he.delta:he.delta[Br.toLowerCase()]||ze.delta;if(ut<Di&&Qe<Di&&!ue.swiping)return ue;const _r={absX:ut,absY:Qe,deltaX:nn,deltaY:Ut,dir:Br,event:ae,first:ue.first,initial:ue.initial,velocity:ps,vxvy:xo};_r.first&&he.onSwipeStart&&he.onSwipeStart(_r),he.onSwiping&&he.onSwiping(_r);let ms=!1;return(he.onSwiping||he.onSwiped||he[`onSwiped${Br}`])&&(ms=!0),ms&&he.preventScrollOnSwipe&&he.trackTouch&&ae.cancelable&&ae.preventDefault(),Object.assign(Object.assign({},ue),{first:!1,eventData:_r,swiping:!0})})},Z=ae=>{S((ue,he)=>{let ie;if(ue.swiping&&ue.eventData){if(ae.timeStamp-ue.start<he.swipeDuration){ie=Object.assign(Object.assign({},ue.eventData),{event:ae}),he.onSwiped&&he.onSwiped(ie);const je=he[`onSwiped${ie.dir}`];je&&je(ie)}}else he.onTap&&he.onTap({event:ae});return he.onTouchEndOrOnMouseUp&&he.onTouchEndOrOnMouseUp({event:ae}),Object.assign(Object.assign(Object.assign({},ue),rt),{eventData:ie})})},Ce=ae=>{document.removeEventListener(Kt,te),document.removeEventListener(Dt,Ce),Z(ae)},Te=(ae,ue)=>{let he=()=>{};if(ae&&ae.addEventListener){const ie=Object.assign(Object.assign({},ze.touchEventOptions),ue.touchEventOptions),je=[["touchstart",Q,ie],["touchmove",te,Object.assign(Object.assign({},ie),ue.preventScrollOnSwipe?{passive:!1}:{})],["touchend",Z,ie]];je.forEach(([Xe,mt,tn])=>ae.addEventListener(Xe,mt,tn)),he=()=>je.forEach(([Xe,mt])=>ae.removeEventListener(Xe,mt))}return he},Ne={ref:ae=>{ae!==null&&S((ue,he)=>{if(ue.el===ae)return ue;const ie={};return ue.el&&ue.el!==ae&&ue.cleanUpTouch&&(ue.cleanUpTouch(),ie.cleanUpTouch=void 0),he.trackTouch&&ae&&(ie.cleanUpTouch=Te(ae,he)),Object.assign(Object.assign(Object.assign({},ue),{el:ae}),ie)})}};return F.trackMouse&&(Ne.onMouseDown=Q),[Ne,Te]}(S=>O.current=S(O.current,j.current),{trackMouse:I}),[I]);return O.current=function(S,F,Q,te){return F.trackTouch&&S.el?S.cleanUpTouch?F.preventScrollOnSwipe!==Q.preventScrollOnSwipe||F.touchEventOptions.passive!==Q.touchEventOptions.passive?(S.cleanUpTouch(),Object.assign(Object.assign({},S),{cleanUpTouch:te(S.el,F)})):S:Object.assign(Object.assign({},S),{cleanUpTouch:te(S.el,F)}):(S.cleanUpTouch&&S.cleanUpTouch(),Object.assign(Object.assign({},S),{cleanUpTouch:void 0}))}(O.current,j.current,ee.current,A),Be}var z=s(697);function Bn(P){return Bn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(I){return typeof I}:function(I){return I&&typeof Symbol=="function"&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":typeof I},Bn(P)}function Mr(P,I){var O=Object.keys(P);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(P);I&&(j=j.filter(function(ee){return Object.getOwnPropertyDescriptor(P,ee).enumerable})),O.push.apply(O,j)}return O}function wo(P){for(var I=1;I<arguments.length;I++){var O=arguments[I]!=null?arguments[I]:{};I%2?Mr(Object(O),!0).forEach(function(j){ki(P,j,O[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(P,Object.getOwnPropertyDescriptors(O)):Mr(Object(O)).forEach(function(j){Object.defineProperty(P,j,Object.getOwnPropertyDescriptor(O,j))})}return P}function ki(P,I,O){return(I=function(j){var ee=function(we,Be){if(Bn(we)!=="object"||we===null)return we;var A=we[Symbol.toPrimitive];if(A!==void 0){var S=A.call(we,Be);if(Bn(S)!=="object")return S;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(we)}(j,"string");return Bn(ee)==="symbol"?ee:String(ee)}(I))in P?Object.defineProperty(P,I,{value:O,enumerable:!0,configurable:!0,writable:!0}):P[I]=O,P}var zl={description:"",fullscreen:"",isFullscreen:!1,originalAlt:"",originalHeight:"",originalWidth:"",originalTitle:"",sizes:"",srcSet:"",loading:"eager"},Hl=d().memo(function(P){var I=wo(wo({},zl),P),O=I.description,j=I.fullscreen,ee=I.handleImageLoaded,we=I.isFullscreen,Be=I.onImageError,A=I.original,S=I.originalAlt,F=I.originalHeight,Q=I.originalWidth,te=I.originalTitle,Z=I.sizes,Ce=I.srcSet,Te=I.loading,Ne=we&&j||A;return d().createElement(d().Fragment,null,d().createElement("img",{className:"image-gallery-image",src:Ne,alt:S,srcSet:Ce,height:F,width:Q,sizes:Z,title:te,onLoad:function(ae){return ee(ae,A)},onError:Be,loading:Te}),O&&d().createElement("span",{className:"image-gallery-description"},O))});Hl.displayName="Item",Hl.propTypes={description:z.string,fullscreen:z.string,handleImageLoaded:z.func.isRequired,isFullscreen:z.bool,onImageError:z.func.isRequired,original:z.string.isRequired,originalAlt:z.string,originalHeight:z.string,originalWidth:z.string,originalTitle:z.string,sizes:z.string,srcSet:z.string,loading:z.string};const Wl=Hl;function Pi(P){return Pi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(I){return typeof I}:function(I){return I&&typeof Symbol=="function"&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":typeof I},Pi(P)}function _o(P,I){var O=Object.keys(P);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(P);I&&(j=j.filter(function(ee){return Object.getOwnPropertyDescriptor(P,ee).enumerable})),O.push.apply(O,j)}return O}function ld(P){for(var I=1;I<arguments.length;I++){var O=arguments[I]!=null?arguments[I]:{};I%2?_o(Object(O),!0).forEach(function(j){kn(P,j,O[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(P,Object.getOwnPropertyDescriptors(O)):_o(Object(O)).forEach(function(j){Object.defineProperty(P,j,Object.getOwnPropertyDescriptor(O,j))})}return P}function kn(P,I,O){return(I=function(j){var ee=function(we,Be){if(Pi(we)!=="object"||we===null)return we;var A=we[Symbol.toPrimitive];if(A!==void 0){var S=A.call(we,Be);if(Pi(S)!=="object")return S;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(we)}(j,"string");return Pi(ee)==="symbol"?ee:String(ee)}(I))in P?Object.defineProperty(P,I,{value:O,enumerable:!0,configurable:!0,writable:!0}):P[I]=O,P}var Vr={left:d().createElement("polyline",{points:"15 18 9 12 15 6"}),right:d().createElement("polyline",{points:"9 18 15 12 9 6"}),maximize:d().createElement("path",{d:"M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"}),minimize:d().createElement("path",{d:"M8 3v3a2 2 0 0 1-2 2H3m18 0h-3a2 2 0 0 1-2-2V3m0 18v-3a2 2 0 0 1 2-2h3M3 16h3a2 2 0 0 1 2 2v3"}),play:d().createElement("polygon",{points:"5 3 19 12 5 21 5 3"}),pause:d().createElement(d().Fragment,null,d().createElement("rect",{x:"6",y:"4",width:"4",height:"16"}),d().createElement("rect",{x:"14",y:"4",width:"4",height:"16"}))},hm={strokeWidth:1,viewBox:"0 0 24 24"},Pn=function(P){var I=ld(ld({},hm),P),O=I.strokeWidth,j=I.viewBox,ee=I.icon;return d().createElement("svg",{className:"image-gallery-svg",xmlns:"http://www.w3.org/2000/svg",viewBox:j,fill:"none",stroke:"currentColor",strokeWidth:O,strokeLinecap:"round",strokeLinejoin:"round"},Vr[ee])};Pn.propTypes={strokeWidth:z.number,viewBox:z.string,icon:(0,z.oneOf)(["left","right","maximize","minimize","play","pause"]).isRequired};const Ri=Pn;var ga=d().memo(function(P){var I=P.isFullscreen,O=P.onClick;return d().createElement("button",{type:"button",className:"image-gallery-icon image-gallery-fullscreen-button",onClick:O,"aria-label":"Open Fullscreen"},d().createElement(Ri,{strokeWidth:2,icon:I?"minimize":"maximize"}))});ga.displayName="Fullscreen",ga.propTypes={isFullscreen:z.bool.isRequired,onClick:z.func.isRequired};const cd=ga;var Ue=d().memo(function(P){var I=P.disabled,O=P.onClick;return d().createElement("button",{type:"button",className:"image-gallery-icon image-gallery-left-nav",disabled:I,onClick:O,"aria-label":"Previous Slide"},d().createElement(Ri,{icon:"left",viewBox:"6 0 12 24"}))});Ue.displayName="LeftNav",Ue.propTypes={disabled:z.bool.isRequired,onClick:z.func.isRequired};const vr=Ue;var wr=d().memo(function(P){var I=P.disabled,O=P.onClick;return d().createElement("button",{type:"button",className:"image-gallery-icon image-gallery-right-nav",disabled:I,onClick:O,"aria-label":"Next Slide"},d().createElement(Ri,{icon:"right",viewBox:"6 0 12 24"}))});wr.displayName="RightNav",wr.propTypes={disabled:z.bool.isRequired,onClick:z.func.isRequired};const Ni=wr;var St=d().memo(function(P){var I=P.isPlaying,O=P.onClick;return d().createElement("button",{type:"button",className:"image-gallery-icon image-gallery-play-button",onClick:O,"aria-label":"Play or Pause Slideshow"},d().createElement(Ri,{strokeWidth:2,icon:I?"pause":"play"}))});St.displayName="PlayPause",St.propTypes={isPlaying:z.bool.isRequired,onClick:z.func.isRequired};const Gt=St;function Oi(P){return Oi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(I){return typeof I}:function(I){return I&&typeof Symbol=="function"&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":typeof I},Oi(P)}function ya(){return ya=Object.assign?Object.assign.bind():function(P){for(var I=1;I<arguments.length;I++){var O=arguments[I];for(var j in O)Object.prototype.hasOwnProperty.call(O,j)&&(P[j]=O[j])}return P},ya.apply(this,arguments)}function hs(P,I){var O=Object.keys(P);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(P);I&&(j=j.filter(function(ee){return Object.getOwnPropertyDescriptor(P,ee).enumerable})),O.push.apply(O,j)}return O}function gn(P){for(var I=1;I<arguments.length;I++){var O=arguments[I]!=null?arguments[I]:{};I%2?hs(Object(O),!0).forEach(function(j){fm(P,j,O[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(P,Object.getOwnPropertyDescriptors(O)):hs(Object(O)).forEach(function(j){Object.defineProperty(P,j,Object.getOwnPropertyDescriptor(O,j))})}return P}function fm(P,I,O){return(I=function(j){var ee=function(we,Be){if(Oi(we)!=="object"||we===null)return we;var A=we[Symbol.toPrimitive];if(A!==void 0){var S=A.call(we,Be);if(Oi(S)!=="object")return S;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(we)}(j,"string");return Oi(ee)==="symbol"?ee:String(ee)}(I))in P?Object.defineProperty(P,I,{value:O,enumerable:!0,configurable:!0,writable:!0}):P[I]=O,P}var ud={className:"",delta:0,onSwiping:function(){},onSwiped:function(){}},ql=function(P){var I=gn(gn({},ud),P),O=I.children,j=I.className,ee=er({delta:I.delta,onSwiping:I.onSwiping,onSwiped:I.onSwiped});return d().createElement("div",ya({},ee,{className:j}),O)};ql.propTypes={children:z.node.isRequired,className:z.string,delta:z.number,onSwiped:z.func,onSwiping:z.func};const va=ql;function fs(P){return fs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(I){return typeof I}:function(I){return I&&typeof Symbol=="function"&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":typeof I},fs(P)}function Kl(P,I){var O=Object.keys(P);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(P);I&&(j=j.filter(function(ee){return Object.getOwnPropertyDescriptor(P,ee).enumerable})),O.push.apply(O,j)}return O}function dd(P){for(var I=1;I<arguments.length;I++){var O=arguments[I]!=null?arguments[I]:{};I%2?Kl(Object(O),!0).forEach(function(j){hd(P,j,O[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(P,Object.getOwnPropertyDescriptors(O)):Kl(Object(O)).forEach(function(j){Object.defineProperty(P,j,Object.getOwnPropertyDescriptor(O,j))})}return P}function pm(P,I){for(var O=0;O<I.length;O++){var j=I[O];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(P,fd(j.key),j)}}function Fr(P,I){return Fr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(O,j){return O.__proto__=j,O},Fr(P,I)}function mm(P,I){if(I&&(fs(I)==="object"||typeof I=="function"))return I;if(I!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yt(P)}function yt(P){if(P===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P}function wa(P){return wa=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(I){return I.__proto__||Object.getPrototypeOf(I)},wa(P)}function hd(P,I,O){return(I=fd(I))in P?Object.defineProperty(P,I,{value:O,enumerable:!0,configurable:!0,writable:!0}):P[I]=O,P}function fd(P){var I=function(O,j){if(fs(O)!=="object"||O===null)return O;var ee=O[Symbol.toPrimitive];if(ee!==void 0){var we=ee.call(O,j);if(fs(we)!=="object")return we;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(O)}(P,"string");return fs(I)==="symbol"?I:String(I)}var _a=["fullscreenchange","MSFullscreenChange","mozfullscreenchange","webkitfullscreenchange"],gm=(0,z.arrayOf)((0,z.shape)({srcSet:z.string,media:z.string}));function pd(P){var I=parseInt(P.keyCode||P.which||0,10);return I===66||I===62}var Ur=function(P){(function(A,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function");A.prototype=Object.create(S&&S.prototype,{constructor:{value:A,writable:!0,configurable:!0}}),Object.defineProperty(A,"prototype",{writable:!1}),S&&Fr(A,S)})(Be,P);var I,O,j,ee,we=(j=Be,ee=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var A,S=wa(j);if(ee){var F=wa(this).constructor;A=Reflect.construct(S,arguments,F)}else A=S.apply(this,arguments);return mm(this,A)});function Be(A){var S;return function(F,Q){if(!(F instanceof Q))throw new TypeError("Cannot call a class as a function")}(this,Be),hd(yt(S=we.call(this,A)),"onBulletClick",function(F,Q){var te=S.props,Z=te.onBulletClick,Ce=te.items,Te=S.state.currentIndex;F.target.blur(),Te!==Q&&(Ce.length===2?S.slideToIndexWithStyleReset(Q,F):S.slideToIndex(Q,F)),Z&&Z(F,Q)}),S.state={currentIndex:A.startIndex,thumbsTranslate:0,thumbsSwipedTranslate:0,currentSlideOffset:0,galleryWidth:0,thumbnailsWrapperWidth:0,thumbnailsWrapperHeight:0,thumbsStyle:{transition:"all ".concat(A.slideDuration,"ms ease-out")},isFullscreen:!1,isSwipingThumbnail:!1,isPlaying:!1},S.loadedImages={},S.imageGallery=d().createRef(),S.thumbnailsWrapper=d().createRef(),S.thumbnails=d().createRef(),S.imageGallerySlideWrapper=d().createRef(),S.handleImageLoaded=S.handleImageLoaded.bind(yt(S)),S.handleKeyDown=S.handleKeyDown.bind(yt(S)),S.handleMouseDown=S.handleMouseDown.bind(yt(S)),S.handleResize=S.handleResize.bind(yt(S)),S.handleTouchMove=S.handleTouchMove.bind(yt(S)),S.handleOnSwiped=S.handleOnSwiped.bind(yt(S)),S.handleScreenChange=S.handleScreenChange.bind(yt(S)),S.handleSwiping=S.handleSwiping.bind(yt(S)),S.handleThumbnailSwiping=S.handleThumbnailSwiping.bind(yt(S)),S.handleOnThumbnailSwiped=S.handleOnThumbnailSwiped.bind(yt(S)),S.onThumbnailMouseLeave=S.onThumbnailMouseLeave.bind(yt(S)),S.handleImageError=S.handleImageError.bind(yt(S)),S.pauseOrPlay=S.pauseOrPlay.bind(yt(S)),S.renderThumbInner=S.renderThumbInner.bind(yt(S)),S.renderItem=S.renderItem.bind(yt(S)),S.slideLeft=S.slideLeft.bind(yt(S)),S.slideRight=S.slideRight.bind(yt(S)),S.toggleFullScreen=S.toggleFullScreen.bind(yt(S)),S.togglePlay=S.togglePlay.bind(yt(S)),S.unthrottledSlideToIndex=S.slideToIndex,S.slideToIndex=ge(S.unthrottledSlideToIndex,A.slideDuration,{trailing:!1}),A.lazyLoad&&(S.lazyLoaded=[]),S}return I=Be,O=[{key:"componentDidMount",value:function(){var A=this.props,S=A.autoPlay,F=A.useWindowKeyDown;S&&this.play(),F?window.addEventListener("keydown",this.handleKeyDown):this.imageGallery.current.addEventListener("keydown",this.handleKeyDown),window.addEventListener("mousedown",this.handleMouseDown),window.addEventListener("touchmove",this.handleTouchMove,{passive:!1}),this.initSlideWrapperResizeObserver(this.imageGallerySlideWrapper),this.initThumbnailWrapperResizeObserver(this.thumbnailsWrapper),this.addScreenChangeEvent()}},{key:"componentDidUpdate",value:function(A,S){var F=this.props,Q=F.items,te=F.lazyLoad,Z=F.slideDuration,Ce=F.slideInterval,Te=F.startIndex,Ne=F.thumbnailPosition,ae=F.showThumbnails,ue=F.useWindowKeyDown,he=this.state,ie=he.currentIndex,je=he.isPlaying,Xe=A.items.length!==Q.length,mt=!Fe()(A.items,Q),tn=A.startIndex!==Te,nn=A.thumbnailPosition!==Ne,Ut=A.showThumbnails!==ae;Ce===A.slideInterval&&Z===A.slideDuration||je&&(this.pause(),this.play()),nn&&(this.removeResizeObserver(),this.initSlideWrapperResizeObserver(this.imageGallerySlideWrapper),this.initThumbnailWrapperResizeObserver(this.thumbnailsWrapper)),Ut&&ae&&this.initThumbnailWrapperResizeObserver(this.thumbnailsWrapper),Ut&&!ae&&this.removeThumbnailsResizeObserver(),(Xe||Ut)&&this.handleResize(),S.currentIndex!==ie&&this.slideThumbnailBar(),A.slideDuration!==Z&&(this.slideToIndex=ge(this.unthrottledSlideToIndex,Z,{trailing:!1})),!te||A.lazyLoad&&!mt||(this.lazyLoaded=[]),ue!==A.useWindowKeyDown&&(ue?(this.imageGallery.current.removeEventListener("keydown",this.handleKeyDown),window.addEventListener("keydown",this.handleKeyDown)):(window.removeEventListener("keydown",this.handleKeyDown),this.imageGallery.current.addEventListener("keydown",this.handleKeyDown))),(tn||mt)&&this.setState({currentIndex:Te,slideStyle:{transition:"none"}})}},{key:"componentWillUnmount",value:function(){var A=this.props.useWindowKeyDown;window.removeEventListener("mousedown",this.handleMouseDown),window.removeEventListener("touchmove",this.handleTouchMove),this.removeScreenChangeEvent(),this.removeResizeObserver(),this.playPauseIntervalId&&(window.clearInterval(this.playPauseIntervalId),this.playPauseIntervalId=null),this.transitionTimer&&window.clearTimeout(this.transitionTimer),A?window.removeEventListener("keydown",this.handleKeyDown):this.imageGallery.current.removeEventListener("keydown",this.handleKeyDown)}},{key:"onSliding",value:function(){var A=this,S=this.state,F=S.currentIndex,Q=S.isTransitioning,te=this.props,Z=te.onSlide,Ce=te.slideDuration;this.transitionTimer=window.setTimeout(function(){Q&&(A.setState({isTransitioning:!Q,isSwipingThumbnail:!1}),Z&&Z(F))},Ce+50)}},{key:"onThumbnailClick",value:function(A,S){var F=this.props,Q=F.onThumbnailClick,te=F.items,Z=this.state.currentIndex;A.target.parentNode.parentNode.blur(),Z!==S&&(te.length===2?this.slideToIndexWithStyleReset(S,A):this.slideToIndex(S,A)),Q&&Q(A,S)}},{key:"onThumbnailMouseOver",value:function(A,S){var F=this;this.thumbnailMouseOverTimer&&(window.clearTimeout(this.thumbnailMouseOverTimer),this.thumbnailMouseOverTimer=null),this.thumbnailMouseOverTimer=window.setTimeout(function(){F.slideToIndex(S),F.pause()},300)}},{key:"onThumbnailMouseLeave",value:function(){if(this.thumbnailMouseOverTimer){var A=this.props.autoPlay;window.clearTimeout(this.thumbnailMouseOverTimer),this.thumbnailMouseOverTimer=null,A&&this.play()}}},{key:"setThumbsTranslate",value:function(A){this.setState({thumbsTranslate:A})}},{key:"setModalFullscreen",value:function(A){var S=this.props.onScreenChange;this.setState({modalFullscreen:A}),S&&S(A)}},{key:"getThumbsTranslate",value:function(A){var S,F=this.props,Q=F.disableThumbnailScroll,te=F.items,Z=this.state,Ce=Z.thumbnailsWrapperWidth,Te=Z.thumbnailsWrapperHeight,Ne=this.thumbnails&&this.thumbnails.current;if(Q)return 0;if(Ne){if(this.isThumbnailVertical()){if(Ne.scrollHeight<=Te)return 0;S=Ne.scrollHeight-Te}else{if(Ne.scrollWidth<=Ce||Ce<=0)return 0;S=Ne.scrollWidth-Ce}return A*(S/(te.length-1))}return 0}},{key:"getThumbnailPositionClassName",value:function(A){switch(A){case"left":A=" ".concat("image-gallery-thumbnails-left");break;case"right":A=" ".concat("image-gallery-thumbnails-right");break;case"bottom":A=" ".concat("image-gallery-thumbnails-bottom");break;case"top":A=" ".concat("image-gallery-thumbnails-top")}return A}},{key:"getAlignmentClassName",value:function(A){var S=this.state.currentIndex,F=this.props,Q=F.infinite,te=F.items,Z="",Ce="image-gallery-left",Te="image-gallery-right";switch(A){case S-1:Z=" ".concat(Ce);break;case S:Z=" ".concat("image-gallery-center");break;case S+1:Z=" ".concat(Te)}return te.length>=3&&Q&&(A===0&&S===te.length-1?Z=" ".concat(Te):A===te.length-1&&S===0&&(Z=" ".concat(Ce))),Z}},{key:"getTranslateXForTwoSlide",value:function(A){var S=this.state,F=S.currentIndex,Q=S.currentSlideOffset,te=S.previousIndex,Z=F!==te,Ce=A===0&&te===0,Te=A===1&&te===1,Ne=A===0&&F===1,ae=A===1&&F===0,ue=Q===0,he=-100*F+100*A+Q;return Q>0?this.direction="left":Q<0&&(this.direction="right"),ae&&Q>0&&(he=-100+Q),Ne&&Q<0&&(he=100+Q),Z?Ce&&ue&&this.direction==="left"?he=100:Te&&ue&&this.direction==="right"&&(he=-100):(ae&&ue&&this.direction==="left"&&(he=-100),Ne&&ue&&this.direction==="right"&&(he=100)),he}},{key:"getThumbnailBarHeight",value:function(){return this.isThumbnailVertical()?{height:this.state.gallerySlideWrapperHeight}:{}}},{key:"getSlideStyle",value:function(A){var S=this.state,F=S.currentIndex,Q=S.currentSlideOffset,te=S.slideStyle,Z=this.props,Ce=Z.infinite,Te=Z.items,Ne=Z.useTranslate3D,ae=Z.isRTL,ue=-100*F,he=Te.length-1,ie=(ue+100*A)*(ae?-1:1)+Q;Ce&&Te.length>2&&(F===0&&A===he?ie=-100*(ae?-1:1)+Q:F===he&&A===0&&(ie=100*(ae?-1:1)+Q)),Ce&&Te.length===2&&(ie=this.getTranslateXForTwoSlide(A));var je="translate(".concat(ie,"%, 0)");return Ne&&(je="translate3d(".concat(ie,"%, 0, 0)")),dd({display:this.isSlideVisible(A)?"inherit":"none",WebkitTransform:je,MozTransform:je,msTransform:je,OTransform:je,transform:je},te)}},{key:"getCurrentIndex",value:function(){return this.state.currentIndex}},{key:"getThumbnailStyle",value:function(){var A,S=this.props,F=S.useTranslate3D,Q=S.isRTL,te=this.state,Z=te.thumbsTranslate,Ce=te.thumbsStyle,Te=Q?-1*Z:Z;return this.isThumbnailVertical()?(A="translate(0, ".concat(Z,"px)"),F&&(A="translate3d(0, ".concat(Z,"px, 0)"))):(A="translate(".concat(Te,"px, 0)"),F&&(A="translate3d(".concat(Te,"px, 0, 0)"))),dd({WebkitTransform:A,MozTransform:A,msTransform:A,OTransform:A,transform:A},Ce)}},{key:"getSlideItems",value:function(){var A=this,S=this.state.currentIndex,F=this.props,Q=F.items,te=F.slideOnThumbnailOver,Z=F.onClick,Ce=F.lazyLoad,Te=F.onTouchMove,Ne=F.onTouchEnd,ae=F.onTouchStart,ue=F.onMouseOver,he=F.onMouseLeave,ie=F.renderItem,je=F.renderThumbInner,Xe=F.showThumbnails,mt=F.showBullets,tn=[],nn=[],Ut=[];return Q.forEach(function(ut,Qe){var si=A.getAlignmentClassName(Qe),ps=ut.originalClass?" ".concat(ut.originalClass):"",xo=ut.thumbnailClass?" ".concat(ut.thumbnailClass):"",Br=ut.renderItem||ie||A.renderItem,Di=ut.renderThumbInner||je||A.renderThumbInner,_r=!Ce||si||A.lazyLoaded[Qe];_r&&Ce&&!A.lazyLoaded[Qe]&&(A.lazyLoaded[Qe]=!0);var ms=A.getSlideStyle(Qe),bo=d().createElement("div",{"aria-label":"Go to Slide ".concat(Qe+1),key:"slide-".concat(Qe),tabIndex:"-1",className:"image-gallery-slide ".concat(si," ").concat(ps),style:ms,onClick:Z,onKeyUp:A.handleSlideKeyUp,onTouchMove:Te,onTouchEnd:Ne,onTouchStart:ae,onMouseOver:ue,onFocus:ue,onMouseLeave:he,role:"button"},_r?Br(ut):d().createElement("div",{style:{height:"100%"}}));if(tn.push(bo),Xe&&ut.thumbnail){var gs=l("image-gallery-thumbnail",xo,{active:S===Qe});nn.push(d().createElement("button",{key:"thumbnail-".concat(Qe),type:"button",tabIndex:"0","aria-pressed":S===Qe?"true":"false","aria-label":"Go to Slide ".concat(Qe+1),className:gs,onMouseLeave:te?A.onThumbnailMouseLeave:null,onMouseOver:function(Rn){return A.handleThumbnailMouseOver(Rn,Qe)},onFocus:function(Rn){return A.handleThumbnailMouseOver(Rn,Qe)},onKeyUp:function(Rn){return A.handleThumbnailKeyUp(Rn,Qe)},onClick:function(Rn){return A.onThumbnailClick(Rn,Qe)}},Di(ut)))}if(mt){var ys=l("image-gallery-bullet",ut.bulletClass,{active:S===Qe});Ut.push(d().createElement("button",{type:"button",key:"bullet-".concat(Qe),className:ys,onClick:function(Rn){return A.onBulletClick(Rn,Qe)},"aria-pressed":S===Qe?"true":"false","aria-label":"Go to Slide ".concat(Qe+1)}))}}),{slides:tn,thumbnails:nn,bullets:Ut}}},{key:"ignoreIsTransitioning",value:function(){var A=this.props.items,S=this.state,F=S.previousIndex,Q=S.currentIndex,te=A.length-1;return Math.abs(F-Q)>1&&!(F===0&&Q===te)&&!(F===te&&Q===0)}},{key:"isFirstOrLastSlide",value:function(A){return A===this.props.items.length-1||A===0}},{key:"slideIsTransitioning",value:function(A){var S=this.state,F=S.isTransitioning,Q=S.previousIndex,te=S.currentIndex;return F&&!(A===Q||A===te)}},{key:"isSlideVisible",value:function(A){return!this.slideIsTransitioning(A)||this.ignoreIsTransitioning()&&!this.isFirstOrLastSlide(A)}},{key:"slideThumbnailBar",value:function(){var A=this.state,S=A.currentIndex,F=A.isSwipingThumbnail,Q=-this.getThumbsTranslate(S);F||(S===0?this.setState({thumbsTranslate:0,thumbsSwipedTranslate:0}):this.setState({thumbsTranslate:Q,thumbsSwipedTranslate:Q}))}},{key:"canSlide",value:function(){return this.props.items.length>=2}},{key:"canSlideLeft",value:function(){return this.props.infinite||this.canSlidePrevious()}},{key:"canSlideRight",value:function(){return this.props.infinite||this.canSlideNext()}},{key:"canSlidePrevious",value:function(){return this.state.currentIndex>0}},{key:"canSlideNext",value:function(){return this.state.currentIndex<this.props.items.length-1}},{key:"handleSwiping",value:function(A){var S=A.event,F=A.absX,Q=A.dir,te=this.props,Z=te.disableSwipe,Ce=te.stopPropagation,Te=this.state,Ne=Te.galleryWidth,ae=Te.isTransitioning,ue=Te.swipingUpDown,he=Te.swipingLeftRight;if(Q!==Y&&Q!==ye&&!ue||he){if(Q!==oe&&Q!==ne||he||this.setState({swipingLeftRight:!0}),!Z){var ie=this.props.swipingTransitionDuration;if(Ce&&S.preventDefault(),ae)this.setState({currentSlideOffset:0});else{var je=Q===ne?1:-1,Xe=F/Ne*100;Math.abs(Xe)>=100&&(Xe=100);var mt={transition:"transform ".concat(ie,"ms ease-out")};this.setState({currentSlideOffset:je*Xe,slideStyle:mt})}}}else ue||this.setState({swipingUpDown:!0})}},{key:"handleThumbnailSwiping",value:function(A){var S=A.event,F=A.absX,Q=A.absY,te=A.dir,Z=this.props,Ce=Z.stopPropagation,Te=Z.swipingThumbnailTransitionDuration,Ne=this.state,ae=Ne.thumbsSwipedTranslate,ue=Ne.thumbnailsWrapperHeight,he=Ne.thumbnailsWrapperWidth,ie=Ne.swipingUpDown,je=Ne.swipingLeftRight;if(this.isThumbnailVertical()){if((te===oe||te===ne||je)&&!ie)return void(je||this.setState({swipingLeftRight:!0}));te!==Y&&te!==ye||ie||this.setState({swipingUpDown:!0})}else{if((te===Y||te===ye||ie)&&!je)return void(ie||this.setState({swipingUpDown:!0}));te!==oe&&te!==ne||je||this.setState({swipingLeftRight:!0})}var Xe,mt,tn,nn,Ut,ut=this.thumbnails&&this.thumbnails.current;if(this.isThumbnailVertical()?(Xe=ae+(te===ye?Q:-Q),mt=ut.scrollHeight-ue+20,tn=Math.abs(Xe)>mt,nn=Xe>20,Ut=ut.scrollHeight<=ue):(Xe=ae+(te===ne?F:-F),mt=ut.scrollWidth-he+20,tn=Math.abs(Xe)>mt,nn=Xe>20,Ut=ut.scrollWidth<=he),!Ut&&(te!==oe&&te!==Y||!tn)&&(te!==ne&&te!==ye||!nn)){Ce&&S.stopPropagation();var Qe={transition:"transform ".concat(Te,"ms ease-out")};this.setState({thumbsTranslate:Xe,thumbsStyle:Qe})}}},{key:"handleOnThumbnailSwiped",value:function(){var A=this.state.thumbsTranslate,S=this.props.slideDuration;this.resetSwipingDirection(),this.setState({isSwipingThumbnail:!0,thumbsSwipedTranslate:A,thumbsStyle:{transition:"all ".concat(S,"ms ease-out")}})}},{key:"sufficientSwipe",value:function(){var A=this.state.currentSlideOffset,S=this.props.swipeThreshold;return Math.abs(A)>S}},{key:"resetSwipingDirection",value:function(){var A=this.state,S=A.swipingUpDown,F=A.swipingLeftRight;S&&this.setState({swipingUpDown:!1}),F&&this.setState({swipingLeftRight:!1})}},{key:"handleOnSwiped",value:function(A){var S=A.event,F=A.dir,Q=A.velocity,te=this.props,Z=te.disableSwipe,Ce=te.stopPropagation,Te=te.flickThreshold;if(!Z){var Ne=this.props.isRTL;Ce&&S.stopPropagation(),this.resetSwipingDirection();var ae=(F===oe?1:-1)*(Ne?-1:1),ue=Q>Te&&!(F===Y||F===ye);this.handleOnSwipedTo(ae,ue)}}},{key:"handleOnSwipedTo",value:function(A,S){var F=this.state,Q=F.currentIndex,te=F.isTransitioning,Z=Q;!this.sufficientSwipe()&&!S||te||(Z+=A),(A===-1&&!this.canSlideLeft()||A===1&&!this.canSlideRight())&&(Z=Q),this.unthrottledSlideToIndex(Z)}},{key:"handleTouchMove",value:function(A){this.state.swipingLeftRight&&A.preventDefault()}},{key:"handleMouseDown",value:function(){this.imageGallery.current.classList.add("image-gallery-using-mouse")}},{key:"handleKeyDown",value:function(A){var S=this.props,F=S.disableKeyDown,Q=S.useBrowserFullscreen,te=this.state.isFullscreen;if(this.imageGallery.current.classList.remove("image-gallery-using-mouse"),!F)switch(parseInt(A.keyCode||A.which||0,10)){case 37:this.canSlideLeft()&&!this.playPauseIntervalId&&this.slideLeft(A);break;case 39:this.canSlideRight()&&!this.playPauseIntervalId&&this.slideRight(A);break;case 27:te&&!Q&&this.exitFullScreen()}}},{key:"handleImageError",value:function(A){var S=this.props.onErrorImageURL;S&&A.target.src.indexOf(S)===-1&&(A.target.src=S)}},{key:"removeThumbnailsResizeObserver",value:function(){this.resizeThumbnailWrapperObserver&&this.thumbnailsWrapper&&this.thumbnailsWrapper.current&&(this.resizeThumbnailWrapperObserver.unobserve(this.thumbnailsWrapper.current),this.resizeThumbnailWrapperObserver=null)}},{key:"removeResizeObserver",value:function(){this.resizeSlideWrapperObserver&&this.imageGallerySlideWrapper&&this.imageGallerySlideWrapper.current&&(this.resizeSlideWrapperObserver.unobserve(this.imageGallerySlideWrapper.current),this.resizeSlideWrapperObserver=null),this.removeThumbnailsResizeObserver()}},{key:"handleResize",value:function(){var A=this.state.currentIndex;this.imageGallery&&(this.imageGallery&&this.imageGallery.current&&this.setState({galleryWidth:this.imageGallery.current.offsetWidth}),this.imageGallerySlideWrapper&&this.imageGallerySlideWrapper.current&&this.setState({gallerySlideWrapperHeight:this.imageGallerySlideWrapper.current.offsetHeight}),this.setThumbsTranslate(-this.getThumbsTranslate(A)))}},{key:"initSlideWrapperResizeObserver",value:function(A){var S=this;A&&!A.current||(this.resizeSlideWrapperObserver=new M(J(function(F){F&&F.forEach(function(Q){S.setState({thumbnailsWrapperWidth:Q.contentRect.width},S.handleResize)})},50)),this.resizeSlideWrapperObserver.observe(A.current))}},{key:"initThumbnailWrapperResizeObserver",value:function(A){var S=this;A&&!A.current||(this.resizeThumbnailWrapperObserver=new M(J(function(F){F&&F.forEach(function(Q){S.setState({thumbnailsWrapperHeight:Q.contentRect.height},S.handleResize)})},50)),this.resizeThumbnailWrapperObserver.observe(A.current))}},{key:"toggleFullScreen",value:function(){this.state.isFullscreen?this.exitFullScreen():this.fullScreen()}},{key:"togglePlay",value:function(){this.playPauseIntervalId?this.pause():this.play()}},{key:"handleScreenChange",value:function(){var A=this.props,S=A.onScreenChange,F=A.useBrowserFullscreen,Q=document.fullscreenElement||document.msFullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement,te=this.imageGallery.current===Q;S&&S(te),F&&this.setState({isFullscreen:te})}},{key:"slideToIndex",value:function(A,S){var F=this.state,Q=F.currentIndex,te=F.isTransitioning,Z=this.props,Ce=Z.items,Te=Z.slideDuration,Ne=Z.onBeforeSlide;if(!te){S&&this.playPauseIntervalId&&(this.pause(!1),this.play(!1));var ae=Ce.length-1,ue=A;A<0?ue=ae:A>ae&&(ue=0),Ne&&ue!==Q&&Ne(ue),this.setState({previousIndex:Q,currentIndex:ue,isTransitioning:ue!==Q,currentSlideOffset:0,slideStyle:{transition:"all ".concat(Te,"ms ease-out")}},this.onSliding)}}},{key:"slideLeft",value:function(A){var S=this.props.isRTL;this.slideTo(A,S?"right":"left")}},{key:"slideRight",value:function(A){var S=this.props.isRTL;this.slideTo(A,S?"left":"right")}},{key:"slideTo",value:function(A,S){var F=this.state,Q=F.currentIndex,te=F.isTransitioning,Z=this.props.items,Ce=Q+(S==="left"?-1:1);te||(Z.length===2?this.slideToIndexWithStyleReset(Ce,A):this.slideToIndex(Ce,A))}},{key:"slideToIndexWithStyleReset",value:function(A,S){var F=this,Q=this.state,te=Q.currentIndex,Z=Q.currentSlideOffset;this.setState({currentSlideOffset:Z+(te>A?.001:-.001),slideStyle:{transition:"none"}},function(){window.setTimeout(function(){return F.slideToIndex(A,S)},25)})}},{key:"handleThumbnailMouseOver",value:function(A,S){this.props.slideOnThumbnailOver&&this.onThumbnailMouseOver(A,S)}},{key:"handleThumbnailKeyUp",value:function(A,S){pd(A)&&this.onThumbnailClick(A,S)}},{key:"handleSlideKeyUp",value:function(A){pd(A)&&(0,this.props.onClick)(A)}},{key:"isThumbnailVertical",value:function(){var A=this.props.thumbnailPosition;return A==="left"||A==="right"}},{key:"addScreenChangeEvent",value:function(){var A=this;_a.forEach(function(S){document.addEventListener(S,A.handleScreenChange)})}},{key:"removeScreenChangeEvent",value:function(){var A=this;_a.forEach(function(S){document.removeEventListener(S,A.handleScreenChange)})}},{key:"fullScreen",value:function(){var A=this.props.useBrowserFullscreen,S=this.imageGallery.current;A?S.requestFullscreen?S.requestFullscreen():S.msRequestFullscreen?S.msRequestFullscreen():S.mozRequestFullScreen?S.mozRequestFullScreen():S.webkitRequestFullscreen?S.webkitRequestFullscreen():this.setModalFullscreen(!0):this.setModalFullscreen(!0),this.setState({isFullscreen:!0})}},{key:"exitFullScreen",value:function(){var A=this.state.isFullscreen,S=this.props.useBrowserFullscreen;A&&(S?document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen?document.msExitFullscreen():this.setModalFullscreen(!1):this.setModalFullscreen(!1),this.setState({isFullscreen:!1}))}},{key:"pauseOrPlay",value:function(){var A=this.props.infinite,S=this.state.currentIndex;A||this.canSlideRight()?this.slideToIndex(S+1):this.pause()}},{key:"play",value:function(){var A=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],S=this.props,F=S.onPlay,Q=S.slideInterval,te=S.slideDuration,Z=this.state.currentIndex;this.playPauseIntervalId||(this.setState({isPlaying:!0}),this.playPauseIntervalId=window.setInterval(this.pauseOrPlay,Math.max(Q,te)),F&&A&&F(Z))}},{key:"pause",value:function(){var A=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],S=this.props.onPause,F=this.state.currentIndex;this.playPauseIntervalId&&(window.clearInterval(this.playPauseIntervalId),this.playPauseIntervalId=null,this.setState({isPlaying:!1}),S&&A&&S(F))}},{key:"isImageLoaded",value:function(A){return!!this.loadedImages[A.original]||(this.loadedImages[A.original]=!0,!1)}},{key:"handleImageLoaded",value:function(A,S){var F=this.props.onImageLoad;!this.loadedImages[S]&&F&&(this.loadedImages[S]=!0,F(A))}},{key:"renderItem",value:function(A){var S=this.state.isFullscreen,F=this.props.onImageError||this.handleImageError;return d().createElement(Wl,{description:A.description,fullscreen:A.fullscreen,handleImageLoaded:this.handleImageLoaded,isFullscreen:S,onImageError:F,original:A.original,originalAlt:A.originalAlt,originalHeight:A.originalHeight,originalWidth:A.originalWidth,originalTitle:A.originalTitle,sizes:A.sizes,loading:A.loading,srcSet:A.srcSet})}},{key:"renderThumbInner",value:function(A){var S=this.props.onThumbnailError||this.handleImageError;return d().createElement("span",{className:"image-gallery-thumbnail-inner"},d().createElement("img",{className:"image-gallery-thumbnail-image",src:A.thumbnail,height:A.thumbnailHeight,width:A.thumbnailWidth,alt:A.thumbnailAlt,title:A.thumbnailTitle,loading:A.thumbnailLoading,onError:S}),A.thumbnailLabel&&d().createElement("div",{className:"image-gallery-thumbnail-label"},A.thumbnailLabel))}},{key:"render",value:function(){var A=this.state,S=A.currentIndex,F=A.isFullscreen,Q=A.modalFullscreen,te=A.isPlaying,Z=this.props,Ce=Z.additionalClass,Te=Z.disableThumbnailSwipe,Ne=Z.indexSeparator,ae=Z.isRTL,ue=Z.items,he=Z.thumbnailPosition,ie=Z.renderFullscreenButton,je=Z.renderCustomControls,Xe=Z.renderLeftNav,mt=Z.renderRightNav,tn=Z.showBullets,nn=Z.showFullscreenButton,Ut=Z.showIndex,ut=Z.showThumbnails,Qe=Z.showNav,si=Z.showPlayButton,ps=Z.renderPlayPauseButton,xo=this.getThumbnailStyle(),Br=this.getSlideItems(),Di=Br.slides,_r=Br.thumbnails,ms=Br.bullets,bo=l("image-gallery-slide-wrapper",this.getThumbnailPositionClassName(he),{"image-gallery-rtl":ae}),gs=d().createElement("div",{ref:this.imageGallerySlideWrapper,className:bo},je&&je(),this.canSlide()?d().createElement(d().Fragment,null,Qe&&d().createElement(d().Fragment,null,Xe(this.slideLeft,!this.canSlideLeft()),mt(this.slideRight,!this.canSlideRight())),d().createElement(va,{className:"image-gallery-swipe",delta:0,onSwiping:this.handleSwiping,onSwiped:this.handleOnSwiped},d().createElement("div",{className:"image-gallery-slides"},Di))):d().createElement("div",{className:"image-gallery-slides"},Di),si&&ps(this.togglePlay,te),tn&&d().createElement("div",{className:"image-gallery-bullets"},d().createElement("div",{className:"image-gallery-bullets-container",role:"navigation","aria-label":"Bullet Navigation"},ms)),nn&&ie(this.toggleFullScreen,F),Ut&&d().createElement("div",{className:"image-gallery-index"},d().createElement("span",{className:"image-gallery-index-current"},S+1),d().createElement("span",{className:"image-gallery-index-separator"},Ne),d().createElement("span",{className:"image-gallery-index-total"},ue.length))),ys=l("image-gallery",Ce,{"fullscreen-modal":Q}),Rn=l("image-gallery-content",this.getThumbnailPositionClassName(he),{fullscreen:F}),md=l("image-gallery-thumbnails-wrapper",this.getThumbnailPositionClassName(he),{"thumbnails-wrapper-rtl":!this.isThumbnailVertical()&&ae},{"thumbnails-swipe-horizontal":!this.isThumbnailVertical()&&!Te},{"thumbnails-swipe-vertical":this.isThumbnailVertical()&&!Te});return d().createElement("div",{ref:this.imageGallery,className:ys,"aria-live":"polite"},d().createElement("div",{className:Rn},(he==="bottom"||he==="right")&&gs,ut&&_r.length>0?d().createElement(va,{className:md,delta:0,onSwiping:!Te&&this.handleThumbnailSwiping,onSwiped:!Te&&this.handleOnThumbnailSwiped},d().createElement("div",{className:"image-gallery-thumbnails",ref:this.thumbnailsWrapper,style:this.getThumbnailBarHeight()},d().createElement("nav",{ref:this.thumbnails,className:"image-gallery-thumbnails-container",style:xo,"aria-label":"Thumbnail Navigation"},_r))):null,(he==="top"||he==="left")&&gs))}}],O&&pm(I.prototype,O),Object.defineProperty(I,"prototype",{writable:!1}),Be}(d().Component);Ur.propTypes={flickThreshold:z.number,items:(0,z.arrayOf)((0,z.shape)({bulletClass:z.string,bulletOnClick:z.func,description:z.string,original:z.string,originalHeight:z.number,originalWidth:z.number,loading:z.string,thumbnailHeight:z.number,thumbnailWidth:z.number,thumbnailLoading:z.string,fullscreen:z.string,originalAlt:z.string,originalTitle:z.string,thumbnail:z.string,thumbnailAlt:z.string,thumbnailLabel:z.string,thumbnailTitle:z.string,originalClass:z.string,thumbnailClass:z.string,renderItem:z.func,renderThumbInner:z.func,imageSet:gm,srcSet:z.string,sizes:z.string})).isRequired,showNav:z.bool,autoPlay:z.bool,lazyLoad:z.bool,infinite:z.bool,showIndex:z.bool,showBullets:z.bool,showThumbnails:z.bool,showPlayButton:z.bool,showFullscreenButton:z.bool,disableThumbnailScroll:z.bool,disableKeyDown:z.bool,disableSwipe:z.bool,disableThumbnailSwipe:z.bool,useBrowserFullscreen:z.bool,onErrorImageURL:z.string,indexSeparator:z.string,thumbnailPosition:(0,z.oneOf)(["top","bottom","left","right"]),startIndex:z.number,slideDuration:z.number,slideInterval:z.number,slideOnThumbnailOver:z.bool,swipeThreshold:z.number,swipingTransitionDuration:z.number,swipingThumbnailTransitionDuration:z.number,onSlide:z.func,onBeforeSlide:z.func,onScreenChange:z.func,onPause:z.func,onPlay:z.func,onClick:z.func,onImageLoad:z.func,onImageError:z.func,onTouchMove:z.func,onTouchEnd:z.func,onTouchStart:z.func,onMouseOver:z.func,onMouseLeave:z.func,onBulletClick:z.func,onThumbnailError:z.func,onThumbnailClick:z.func,renderCustomControls:z.func,renderLeftNav:z.func,renderRightNav:z.func,renderPlayPauseButton:z.func,renderFullscreenButton:z.func,renderItem:z.func,renderThumbInner:z.func,stopPropagation:z.bool,additionalClass:z.string,useTranslate3D:z.bool,isRTL:z.bool,useWindowKeyDown:z.bool},Ur.defaultProps={onErrorImageURL:"",additionalClass:"",showNav:!0,autoPlay:!1,lazyLoad:!1,infinite:!0,showIndex:!1,showBullets:!1,showThumbnails:!0,showPlayButton:!0,showFullscreenButton:!0,disableThumbnailScroll:!1,disableKeyDown:!1,disableSwipe:!1,disableThumbnailSwipe:!1,useTranslate3D:!0,isRTL:!1,useBrowserFullscreen:!0,flickThreshold:.4,stopPropagation:!1,indexSeparator:" / ",thumbnailPosition:"bottom",startIndex:0,slideDuration:450,swipingTransitionDuration:0,swipingThumbnailTransitionDuration:0,onSlide:null,onBeforeSlide:null,onScreenChange:null,onPause:null,onPlay:null,onClick:null,onImageLoad:null,onImageError:null,onTouchMove:null,onTouchEnd:null,onTouchStart:null,onMouseOver:null,onMouseLeave:null,onBulletClick:null,onThumbnailError:null,onThumbnailClick:null,renderCustomControls:null,renderThumbInner:null,renderItem:null,slideInterval:3e3,slideOnThumbnailOver:!1,swipeThreshold:30,renderLeftNav:function(P,I){return d().createElement(vr,{onClick:P,disabled:I})},renderRightNav:function(P,I){return d().createElement(Ni,{onClick:P,disabled:I})},renderPlayPauseButton:function(P,I){return d().createElement(Gt,{onClick:P,isPlaying:I})},renderFullscreenButton:function(P,I){return d().createElement(cd,{onClick:P,isFullscreen:I})},useWindowKeyDown:!0};const ym=Ur})(),o})())})(_R);var Lq=_R.exports;const Mq=Vv(Lq);const TT=()=>{const t=yr(),e=ls(),{id:n}=S_(),{product:r,loading:i}=ii($=>$.product),[s,o]=C.useState(1);C.useState([]);const[a,l]=C.useState(null),[c,d]=C.useState(null),{currentUser:f,productsLocalStorage:m,setProductsLocalStorage:v}=C.useContext(Fn),{name:w,price:b,image:E,stock:x}=r;C.useEffect(()=>{t(k8(n)),window.scrollTo(0,0)},[n]),C.useEffect(()=>{(async()=>{const se=(await Dq()).filter(re=>re.itemId==n);if(se.length>0){l(se);const ke=se.map(fe=>fe.rating).reduce((fe,Ee)=>fe+Ee,0);d(ke/se.length)}})()},[f,n]);const _=(E==null?void 0:E.map($=>({original:$,thumbnail:$})))||[],T=async()=>{if(x>0)if(f){const H=m==null?void 0:m.find(se=>se.id==n);if(H)H.cantidad+=s,v([...m]);else{const se=await dm(f.uid);(se==null?void 0:se.find(ke=>ke.id==n))?q_(f.uid,n,s):W_(f.uid,{name:w,price:b,image:E[0],stock:x,cantidad:s,id:n})}}else{const H=JSON.parse(localStorage.getItem("products"))||[];console.log(H);const se=H.find(re=>re.id==n);if(se){if(se.cantidad>=x)return;se.cantidad+=s,localStorage.setItem("products",JSON.stringify(H)),v(H)}else H.push({name:w,price:b,image:E[0],cantidad:s,id:n,stock:x}),localStorage.setItem("products",JSON.stringify(H)),v(H)}_e.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:1500,timerProgressBar:!0}).fire({icon:"success",title:"Producto agregado al carrito"})},R=()=>{o(s+1)},D=()=>{s<=1||o(s-1)},B=()=>{e("/productsPage")};return u.jsx("main",{className:"w-auto h-full flex flex-col items-center mt-6 mx-8 gap-16",children:i?u.jsx(cs,{}):u.jsxs(u.Fragment,{children:[u.jsx("section",{className:"flex flex-row items-center gap-2 h-full w-[90vw]",children:u.jsxs("section",{className:"flex",children:[u.jsx("section",{className:"",children:u.jsx("button",{onClick:B,children:u.jsx(mR,{className:"mb-1 text-primary/90 w-10 mr-20 transition hover:scale-125 hover:text-primary"})})}),u.jsx(Mq,{items:_,thumbnailPosition:"left"}),u.jsxs("dl",{className:"flex-1 flex flex-col p-7 w-auto h-auto bg-primaryLight/30 rounded-xl",children:[u.jsxs("section",{className:"flex flex-col w-auto items-start ",children:[u.jsx("dt",{className:"font-bebas text-3xl",children:r.name}),u.jsxs("dd",{className:"font-montserrat mb-3",children:[u.jsx("span",{className:"mr-3",children:c}),Array.from({length:5}).map(($,H)=>u.jsx("span",{className:`text-xl ${H<c?"text-yellow-400":"text-gray-500"}`,children:""},H)),u.jsx("span",{className:"ml-3",children:a==null?void 0:a.length}),(a==null?void 0:a.length)>1?u.jsx("span",{className:"ml-3",children:"Opiniones"}):(a==null?void 0:a.length)>0?u.jsx("span",{className:"ml-3",children:"Opinin"}):u.jsx("span",{className:"ml-3",children:"An no hay opiniones"})]}),u.jsxs("span",{className:"font-montserrat font-medium text-primary text-2xl",children:["$",r.price]})]}),u.jsxs("section",{className:"flex items-center h-12 gap-2.5 mt-1",children:[u.jsxs("figure",{className:"flex px-3 py-2 items-center gap-2 font-bebas rounded-full border-solid border-2 border-black text-black",children:[u.jsx("button",{className:"transition hover:scale-150 hover:text-primary px-2",onClick:D,children:"-"}),s,u.jsx("button",{className:"transition hover:scale-150 hover:text-primary px-2",onClick:R,children:"+"})]}),u.jsx("button",{className:"addButton",onClick:T,children:"AGREGAR"})]}),u.jsx("section",{className:"flex flex-col py-2.5 gap-2.5 font-montserrat",children:u.jsxs("div",{children:[u.jsx("dt",{className:"font-bold",children:"Caractersticas"}),u.jsxs("ul",{className:"list-disc",children:[r.pre_description&&r.pre_description.map(($,H)=>u.jsx("li",{className:"ml-5 ",children:$})),u.jsxs("li",{className:"ml-5",children:[u.jsx("span",{className:"font-bold",children:"Tamao: "}),r.size]}),u.jsxs("li",{className:"ml-5",children:[u.jsx("span",{className:"font-bold",children:"Stock: "}),r.stock]})]})]})})]})]})}),u.jsxs("section",{className:" bg-primaryLight/40 rounded-xl w-[80vw] p-10 font-montserrat font-normal",children:[u.jsx("h3",{className:"font-bold",children:"Descripcin"}),r.description&&r.description.map(($,H)=>u.jsxs("p",{className:"indent-5",children:[$,"."]},H)),u.jsx("h3",{className:"font-bold",children:"Dosis"}),r.dose&&u.jsx("p",{className:"indent-5",children:r.dose})]}),u.jsx("section",{className:"grid lg:grid-cols-2 sm:grid-cols-1 md:grid-cols-2  w-[98%] items-start ",children:a&&a.map(($,H)=>u.jsx("div",{className:"",children:u.jsx(jq,{name:$.userReview.name,feedback:$.feedback,rating:$.rating,fecha:$.fecha},H)}))}),u.jsx("section",{})]})})};const Vq=()=>{const{copyProducts:t,loading:e,filters:n}=ii(f=>f.product),r=C.useMemo(()=>d(t,5),[t]),i=C.useMemo(()=>c(t),[t]),s=c(t),o=c(t),a=yr(),l=f=>{a(kv({...n,category:f.target.value}))};function c(f){const m=Math.floor(Math.random()*f.length);return f[m]}function d(f,m){if(f.length===0||m<=0||m>f.length)return[];const v=f.slice(),w=[];for(let b=0;b<m;b++){const E=Math.floor(Math.random()*v.length),x=v.splice(E,1)[0];w.push(x)}return w}return u.jsx("div",{children:e?u.jsx(cs,{}):u.jsxs(u.Fragment,{children:[u.jsx("div",{className:" bg-[url('/images/Rectangle.jpg')] bg-center bg-no-repeat bg-cover",children:u.jsxs("section",{className:"header flex w-full h-[420px] justify-evenly bg-black/60",children:[u.jsx("section",{className:"textHeader flex items-center text-white font-montserrat text-4xl font-extralight	",children:u.jsxs("span",{children:["Vuelvete imparable con el ",u.jsx("br",{})," Nuevo "," ",u.jsx("strong",{children:i.name})]})}),u.jsx("section",{className:"offerCard flex justify-center items-center",children:u.jsx(Mv,{...i})})]})}),u.jsx("div",{className:"categories flex justify-center bg-primaryLight py-5",children:u.jsxs("section",{className:"buttonsCategories flex gap-12",children:[u.jsx($n,{to:"/productsPage",children:u.jsx("button",{className:"categoriesButton",value:"Protena",onClick:l,children:"PROTEINA"})}),u.jsx($n,{to:"/productsPage",children:u.jsx("button",{className:"categoriesButton",value:"Creatina",onClick:l,children:"CREATINA"})}),u.jsx($n,{to:"/productsPage",children:u.jsx("button",{className:"categoriesButton",value:"Energa",onClick:l,children:"ENERGIA"})}),u.jsx($n,{to:"/productsPage",children:u.jsx("button",{className:"categoriesButton",value:"Control de peso",onClick:l,children:"CONTROL DE PESO"})})]})}),u.jsx("div",{className:"destacadosTitle font-bebas text-center text-[40px] pt-8",children:u.jsx("span",{children:"DESTACADOS"})}),u.jsx("div",{className:"destacadosCards flex justify-evenly",children:r.map(f=>u.jsx(Mv,{...f},f.id))}),u.jsxs("div",{className:"photosContainer flex justify-evenly h-[600px] my-[60px]",children:[u.jsxs("section",{className:"photoDiv1 flex flex-col items-center justify-between w-[45%] bg-[url('/images/menconcapucha.jpg')] bg-no-repeat bg-cover",children:[u.jsx("section",{className:"descriptionText bg-primaryLight w-[90%] rounded-[20px] font-bebas text-2xl py-2.5 px-5 mt-3.5 text-center ",children:u.jsx("p",{children:"Los productos Mass Gain estn compuestos principalmente por carbohidratos. Su funcin principal es contribuir en la ganancia de masa muscular y en el aumento de peso."})}),u.jsx("section",{className:"productSection flex justify-center items-end h-1/2",children:u.jsxs("div",{className:"productDescription bg-white flex items-center w-[70%] h-1/2 rounded-[20px] mb-[8%] relative",children:[u.jsx("section",{className:"w-1/4 overflow-hidden ml-[5px]",children:u.jsx($n,{to:`/detail/${s.id}`,className:"w-full",children:u.jsx("img",{src:s.image,alt:"",className:"images-inphoto"})})}),u.jsx("section",{className:"w-3/4",children:u.jsx("p",{className:"parrafoProducto font-montserrat text-xs font-semibold m-[5%] line-clamp-5",children:s.description})}),u.jsx($n,{to:`/detail/${s.id}`,children:u.jsx("button",{className:"addButton absolute top-[90%] left-[40%] ",children:"Ver detalles"})})]})})]}),u.jsxs("section",{className:"photoDiv1 flex flex-col items-center justify-between w-[45%] bg-[url('/images/mujersogas.jpg')] bg-no-repeat bg-cover bg-center",children:[u.jsx("section",{className:"descriptionText bg-primaryLight w-[90%] rounded-[20px] font-bebas text-2xl py-2.5 px-5 mt-3.5 text-center ",children:u.jsx("p",{children:"Las creatinas aportan energa y vitalidad, fomentando no solo el rendimiento deportivo, sino que tambin el rendimiento mental."})}),u.jsx("section",{className:"productSection flex justify-center items-end h-1/2",children:u.jsxs("div",{className:"productDescription bg-white flex items-center w-[70%] h-1/2 rounded-[20px] mb-[8%] relative",children:[u.jsx("section",{className:"w-1/4 overflow-hidden ml-[5px]",children:u.jsx($n,{to:`/detail/${o.id}`,className:"w-full",children:u.jsx("img",{src:o.image,alt:"",className:"images-inphoto"})})}),u.jsx("section",{className:"w-3/4",children:u.jsx("p",{className:"parrafoProducto font-montserrat text-xs font-semibold m-[5%] line-clamp-5",children:o.description})}),u.jsx($n,{to:`/detail/${o.id}`,children:u.jsx("button",{className:"addButton absolute top-[90%] left-[40%] ",children:"Ver detalles"})})]})})]})]}),u.jsx("div",{className:"font-bebas text-center text-[40px] pt-8",children:u.jsxs("span",{children:["POR QUE"," ",u.jsx("span",{className:"text-primary",children:"VITALFIT?"})]})}),u.jsxs("div",{className:"characteristicsViatlFit flex flex-wrap justify-center gap-[80px] mt-[30px] mb-[90px]",children:[u.jsxs("div",{className:"characteristic flex w-[350px] flex-col items-center text-center",children:[u.jsx("img",{src:"images/confianza.jpg",alt:""}),u.jsx("h6",{className:"font-bebas text-2xl text-primary",children:"CONFIANZA"}),u.jsx("p",{children:"Comprometidos con tu bienestar, aseguramos productos consistentes y de alta calidad"})]}),u.jsxs("div",{className:"characteristic flex w-[350px] flex-col items-center text-center",children:[u.jsx("img",{src:"images/transparencia.jpg",alt:""}),u.jsx("h6",{className:"font-bebas text-2xl text-primary",children:"TRANSPARENCIA"}),u.jsx("p",{children:"Informacin clara sobre nuestras vitaminas y suplementos. Creemos en construir una relacin honesta, y tomes decisiones informadas sobre tu bienestar."})]}),u.jsxs("div",{className:"characteristic flex w-[350px] flex-col items-center text-center",children:[u.jsx("img",{src:"images/respeto.jpg",alt:""}),u.jsx("h6",{className:"font-bebas text-2xl text-primary",children:"RESPETO"}),u.jsx("p",{children:"Tu bienestar es nuestra prioridad, y nos esforzamos por ganarnos tu confianza con cada eleccin que hagas con nosotros."})]}),u.jsxs("div",{className:"characteristic flex w-[350px] flex-col items-center text-center",children:[u.jsx("img",{src:"images/orientacion.jpg",alt:""}),u.jsx("h6",{className:"font-bebas text-2xl text-primary",children:"ORIENTACION"}),u.jsx("p",{children:"Seguimos estndares rigurosos. Nuestras directrices garantizan la calidad y eficacia de cada vitamina y suplemento proteico que ofrecemos."})]}),u.jsxs("div",{className:"characteristic flex w-[350px] flex-col items-center text-center",children:[u.jsx("img",{src:"images/empatia.jpg",alt:""}),u.jsx("h6",{className:"font-bebas text-2xl text-primary",children:"EMPATIA"}),u.jsx("p",{children:"Comprendemos tus necesidades y aspiraciones de bienestar, y trabajamos para ser parte de tu jornada hacia una vida ms saludable y plena."})]}),u.jsxs("div",{className:"characteristic flex w-[350px] flex-col items-center text-center",children:[u.jsx("img",{src:"images/cercania.jpg",alt:""}),u.jsx("h6",{className:"font-bebas text-2xl text-primary",children:"CERCANIA"}),u.jsxs("p",{children:[" ","Estamos cerca de ti en tu bsqueda de bienestar, ofreciendo vitaminas y suplementos de calidad, queriendo hacer parte de proceso saludable."," "]})]})]}),u.jsxs("div",{className:"flex justify-center gap-10 my-10",children:[u.jsx("div",{className:"vasoFoto 2-[40%]",children:u.jsx("img",{src:"images/vaso.jpg",alt:""})}),u.jsxs("div",{className:"noestasSeguroContainer flex w-[30%] bg-primaryLight font-bebas text-[42px] p-2.5 flex-col justify-around",children:[u.jsxs("div",{className:"w-[40%]",children:[u.jsx("p",{children:"No estas seguro de qu es mejor para ti?"}),u.jsx("p",{className:"font-montserrat text-xl",children:"No te preocupes!"})]}),u.jsx("button",{className:"w-full categoriesButton",children:"SEPARA UNA ASESORIA"})]})]}),u.jsxs("div",{className:"bg-tertiary flex",children:[u.jsx("div",{className:"w-3/5 flex items-center justify-center",children:u.jsx("img",{src:"images/suplementos.jpg",alt:"",className:"w-4/6 m-3"})}),u.jsxs("div",{className:"flex flex-col justify-center items-start w-1/4 gap-5 ",children:[u.jsx("div",{className:"w-2/4",children:u.jsxs("p",{className:"font-['Bebas_Neue'] text-3xl",children:["SUSCRIBITE A ",u.jsx("br",{})," NUESTRO NEWSLETTER"]})}),u.jsxs("div",{className:"flex items-center h-8  w-1/3",children:[u.jsx("input",{type:"text",placeholder:"Ingresa tu E-mail",className:"border-black h-full text-center    rounded-l-lg font-['Montserrat']"}),u.jsx("button",{className:"bg-primary text-white   rounded-r-lg font-['Bebas_neue'] text-lg px-5 h-full transition hover:scale-110 duration-300",children:"ENVIAR"})]})]})]})]})})},Fq="_Container_326zu_3",Uq="_cardsContainer_326zu_25",Bq="_controls_326zu_47",$q="_search_326zu_65",zq="_searchInput_326zu_87",Hq="_searchButton_326zu_107",Wq="_filter_326zu_137",qq="_line_326zu_157",Kq="_title_326zu_169",Gq="_Columna_326zu_183",Qq="_Input_326zu_195",Yq="_Checks_326zu_209",Xq="_Check_326zu_209",Jq="_CheckboxLabel_326zu_227",Zq="_paginado_326zu_243",eK="_buttonPag_326zu_263",tK="_filtro_326zu_289",nK="_pag_326zu_243",rK="_Orden_326zu_325",iK={Container:Fq,cardsContainer:Uq,controls:Bq,search:$q,searchInput:zq,searchButton:Hq,filter:Wq,line:qq,title:Kq,Columna:Gq,Input:Qq,Checks:Yq,Check:Xq,CheckboxLabel:Jq,paginado:Zq,buttonPag:eK,filtro:tK,pag:nK,Orden:rK},sK=()=>{const t=/^([0-9])*$/,e=yr(),{filters:n,categories:r,products:i}=ii(R=>R.product),[s,o]=C.useState({minPrice:"",maxPrice:""}),[a,l]=C.useState(""),[c,d]=C.useState(""),f=R=>{console.log(R.target.value),e(Pv()),e(kv({...n,category:R.target.value}))},m=R=>{const D=R.target.name,B=R.target.value;o({...s,[D]:B})},v=()=>{if(!t.test(s.minPrice)||!t.test(s.maxPrice))return d("Por favor introducir solo nmeros");e(Sh()),e(Ih()),e(kv({...n,minPrice:s.minPrice,maxPrice:s.maxPrice})),d("")},w=R=>{l(R.target.value)},b=()=>{const R=document.getElementById("orders"),D=document.getElementById("categories");R.selectedIndex=0,D.selectedIndex=0,o({minPrice:"",maxPrice:""}),e(Sh()),e(Ih()),e(N8(a)),l("")},E=R=>{const D=R.target.value;let B={};D.includes("price")?B=D==="priceA"?{sortByPrice:"ASC",sortByName:""}:{sortByPrice:"DESC",sortByName:""}:B=D==="nameA"?{sortByName:"ASC",sortByPrice:""}:{sortByName:"DESC",sortByPrice:""},e(R8(B))},x=()=>{const R=document.getElementById("orders"),D=document.getElementById("categories");R.selectedIndex=0,D.selectedIndex=0,l(""),o({minPrice:"",maxPrice:""}),e(Sh()),e(Pv()),e(Ih())},_=R=>{R.key==="Enter"&&b()},T=R=>{R.key==="Enter"&&v()};return u.jsxs("div",{className:"mt-2 font-bebas",children:[u.jsxs("div",{className:"h-40 flex flex-col items-center w-[330px] bg-primaryLight rounded-xl p-5",children:[u.jsx("h3",{className:"text-2xl mb-2",children:"Buscar por nombre"}),u.jsx("input",{className:"mb-2 rounded border-none w-60 placeholder:text-center",type:"search",placeholder:"Ingrese el nombre de un producto",value:a,onChange:w,onKeyDown:_}),u.jsx("button",{onClick:b,className:" bg-teal-400 text-xl text-white w-32 p-1 rounded-xl mx-auto mt-2",children:"Buscar"})]}),u.jsxs("div",{className:"mt-4 flex flex-col justify-start w-full bg-primaryLight rounded-xl p-5",children:[u.jsxs("div",{className:"flex justify-baseline items-center",children:[u.jsx("h3",{className:"text-xl",children:"Categoras"}),u.jsxs("select",{id:"categories",onChange:f,className:" appearance-none focus:ring-0 border-none rounded-xl w-44 ml-10 focus:outline-none  hover:bg-slate-100 cursor-pointer",value:n.category?n.category:"",children:[u.jsx("option",{value:"",className:"appearance-none hover:bg-teal-500 focus:bg-teal-500",children:"Todas las categorias"}),r.map((R,D)=>u.jsx("option",{value:R.name,children:R.name},D))]})]}),u.jsx("h3",{className:"text-xl  my-2",children:"Rango de Precios"}),u.jsxs("div",{className:"flex items-center justify-center",children:[u.jsx("input",{type:"text",placeholder:"Min",name:"minPrice",value:s.minPrice,onChange:m,className:"w-24 border-none mx-2 rounded-xl focus:ring-0",onKeyDown:T}),u.jsx("span",{children:" - "}),u.jsx("input",{type:"text",placeholder:"Max",name:"maxPrice",value:s.maxPrice,onChange:m,className:"w-24 border-none mx-2 rounded-xl focus:ring-0",onKeyDown:T}),u.jsx("button",{onClick:v,children:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"w-6 h-6",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m5.25 4.5 7.5 7.5-7.5 7.5m6-15 7.5 7.5-7.5 7.5"})})})]}),c&&u.jsx("div",{className:"flex justify-center text-red-600 mt-3",children:c}),u.jsxs("div",{className:"flex justify-baseline items-center mt-3",children:[u.jsx("h3",{className:"text-xl",children:"Ordenar por"}),u.jsxs("select",{id:"orders",onChange:E,className:" appearance-none border-none rounded-xl w-44 ml-7 focus:ring-0 cursor-pointer hover:bg-slate-100",children:[u.jsx("option",{value:"",children:"Ms relevantes"}),u.jsx("option",{value:"priceD",children:"Mayor precio"}),u.jsx("option",{value:"priceA",children:"Menor precio"}),u.jsx("option",{value:"nameA",children:"A - Z"}),u.jsx("option",{value:"nameD",children:"Z - A"})]})]}),u.jsx("button",{onClick:x,className:"bg-teal-400 text-white text-xl w-32 p-1 rounded-xl mx-auto mt-3",children:"Reset"})]})]})};function oK(){const t=yr(),{products:e,currentPage:n,totalPages:r,filters:i,sorts:s,loading:o}=ii(d=>d.product);C.useEffect(()=>{t(em()),window.scrollTo(0,0)},[t,i,s]);const a=(n-1)*8,l=()=>{n>1&&(t(ZE(n-1)),window.scrollTo(0,0))},c=()=>{n<r&&(t(ZE(n+1)),window.scrollTo(0,0))};return u.jsxs("div",{className:"flex h-full p-2 w-[ '98vw' ]",children:[u.jsx(sK,{}),u.jsxs("main",{className:"flex flex-1 flex-col justify-center h-full ",children:[o?u.jsx(cs,{}):u.jsx("section",{className:iK.cardsContainer,children:e.length?e.slice(a,a+8).map(({id:d,name:f,price:m,image:v,stock:w})=>u.jsx(Mv,{id:d,name:f,price:m,image:v,stock:w},d)):u.jsx("p",{className:"text-2xl mt-[10%]",children:"Ups! No hay productos que coincidan con tu bsqueda."})}),e.length>0&&u.jsxs("section",{className:"flex items-center justify-center gap-2 mr-5 mb-5",children:[u.jsx("button",{onClick:l,className:"font-bebas p-2 hover:text-primary",children:"prev"}),u.jsxs("span",{className:"font-bebas text-primary text-xl mb-1",children:[n," ",u.jsxs("span",{className:" text-gray-800",children:["/ ",r]})]}),u.jsx("button",{onClick:c,className:"font-bebas p-2 hover:text-primary",children:"next"})]})]})]})}const aK=t=>{let e={},n=/^[0-9]+$/,r=/^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9-.]+$/,i=/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{6,}$/;return t.nombre||(e.nombre="El nombre debe ser requerido"),t.apellido||(e.apellido="El apellido debe ser requerido"),n.test(t.dni)||(e.dni="El DNI debe contener slo numeros"),r.test(t.correo)||(e.correo="El email es invalido"),i.test(t.contrasea)||(e.contrasea="La contrasea debe tener mayusculas, numeros y letras, al menos 6 caracteres"),t.confirmarContrasea!==t.contrasea&&(e.confirmarContrasea="La contrasea no coincide con la anterior"),e};function lK(t){return G_({tag:"svg",attr:{version:"1.1",x:"0px",y:"0px",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48"},child:[{tag:"path",attr:{fill:"#FFC107",d:`M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12\r
	c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24\r
	c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z`}},{tag:"path",attr:{fill:"#FF3D00",d:`M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657\r
	C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z`}},{tag:"path",attr:{fill:"#4CAF50",d:`M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36\r
	c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z`}},{tag:"path",attr:{fill:"#1976D2",d:`M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571\r
	c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z`}}]})(t)}const Ru={_origin:"https://api.emailjs.com"},cK=(t,e="https://api.emailjs.com")=>{Ru._userID=t,Ru._origin=e},xR=(t,e,n)=>{if(!t)throw"The user ID is required. Visit https://dashboard.emailjs.com/admin/integration";if(!e)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!n)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates";return!0};class ST{constructor(e){this.status=e.status,this.text=e.responseText}}const bR=(t,e,n={})=>new Promise((r,i)=>{const s=new XMLHttpRequest;s.addEventListener("load",({target:o})=>{const a=new ST(o);a.status===200||a.text==="OK"?r(a):i(a)}),s.addEventListener("error",({target:o})=>{i(new ST(o))}),s.open("POST",Ru._origin+t,!0),Object.keys(n).forEach(o=>{s.setRequestHeader(o,n[o])}),s.send(e)}),uK=(t,e,n,r)=>{const i=r||Ru._userID;return xR(i,t,e),bR("/api/v1.0/email/send",JSON.stringify({lib_version:"3.2.0",user_id:i,service_id:t,template_id:e,template_params:n}),{"Content-type":"application/json"})},dK=t=>{let e;if(typeof t=="string"?e=document.querySelector(t):e=t,!e||e.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of form";return e},hK=(t,e,n,r)=>{const i=r||Ru._userID,s=dK(n);xR(i,t,e);const o=new FormData(s);return o.append("lib_version","3.2.0"),o.append("service_id",t),o.append("template_id",e),o.append("user_id",i),bR("/api/v1.0/email/send-form",o)},IT={init:cK,send:uK,sendForm:hK},CT=async(t,e,n)=>{const r={from_name:"VitalFitApp!",from_email:"VitalFitApp.4@gmail.com",to_email:t,message:e,finishMessage:n},i="service_b7x0yxk",s="template_flad8yt";IT.init("NAmw66C0MvdblO1rC"),IT.send(i,s,r).then(o=>{console.log("Correo electrnico enviado con xito:",o)}).catch(o=>{console.error("Error al enviar el correo electrnico:",o)})},fK=()=>{const t=yr(),{status:e}=ii(c=>c.auth),[n,r]=C.useState({nombre:"",apellido:"",correo:"",contrasea:"",confirmarContrasea:""}),[i,s]=C.useState({}),o=async c=>{c.preventDefault();try{CT(n.correo,"te enviamos este correo para contarte que tu registro fue exitoso!","Bienvenido! Espero disfrutes de nuestro viaje juntos!"),console.log(CT,"aqui email ");const d=n.nombre+" "+n.apellido,f=await t(n$(n.correo,n.contrasea,d));console.log(f),f.ok===!0?(await p_({role:"user",status:"active",id:f.uid,email:f.email,displayName:f.displayName}),_e.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:5e3,timerProgressBar:!0,didOpen:v=>{v.onmouseenter=_e.stopTimer,v.onmouseleave=_e.resumeTimer}}).fire({icon:"success",title:`Usuario creado con exito: ${f.displayName} `})):_e.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:5e3,timerProgressBar:!0,didOpen:v=>{v.onmouseenter=_e.stopTimer,v.onmouseleave=_e.resumeTimer}}).fire({icon:"error",title:"Ups, ocurrio un error, intenta un nuevo email"})}catch(d){console.log(d.message,"mensaje")}r({nombre:"",apellido:"",correo:"",contrasea:"",confirmarContrasea:""})},a=async c=>{c.preventDefault();try{const d=await t(t$());if(d.ok===!1)_e.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:5e3,timerProgressBar:!0,didOpen:m=>{m.onmouseenter=_e.stopTimer,m.onmouseleave=_e.resumeTimer}}).fire({icon:"error",title:" Upss! Ocurrio un error, intentalo ms tarde"});else return d}catch(d){console.log(d.message,"mensaje")}},l=c=>{const{name:d,value:f}=c.target;r({...n,[d]:f}),s(aK({...n,[d]:f}))};return u.jsxs("form",{className:" h-[calc(100vh+35vh)]",children:[u.jsx(Fl,{className:"w-[34px] h-[69px] absolute top-10 left-10"}),u.jsx("div",{className:"flex items-center justify-center h-full",children:u.jsx("img",{className:"w-full h-full object-cover object-center",src:z_})}),u.jsx("div",{className:"w-100% flex items-center justify-center",children:u.jsxs("div",{className:"absolute top-20 z-20 justify-center",style:{background:"rgba(71, 81, 87, 0.8)",padding:"15px",borderRadius:"25px",boxShadow:"0 4px 6px rgba(10, 10, 10, 0.7)",width:"400px",marginTop:"3%"},children:[u.jsx("h1",{style:{fontFamily:"NuevaFuente, bebas neue",color:" #D9D9D9",fontSize:"1.4rem",marginBottom:"8px"},className:"text-lg font-bold text-64x43",children:"CREAR CUENTA"}),u.jsx("label",{style:{fontFamily:"NuevaFuente, bebas neue",color:" #D9D9D9",fontSize:"1.4rem"},children:"NOMBRE"}),u.jsx("br",{}),u.jsx("input",{className:"w-full h-9",style:{borderRadius:"10px",marginBottom:"10px"},name:"nombre",type:"text",placeholder:" Nombre...",value:n.nombre,onChange:l}),i.nombre&&u.jsx("p",{className:"text-red-400",children:i.nombre}),u.jsx("br",{}),u.jsx("label",{style:{fontFamily:"NuevaFuente, bebas neue",color:" #D9D9D9",fontSize:"1.4rem"},children:"APELLIDO"}),u.jsx("br",{}),u.jsx("input",{className:"w-full h-9",style:{borderRadius:"10px",marginBottom:"1px"},name:"apellido",type:"text",placeholder:" Apellido...",value:n.apellido,onChange:l}),i.apellido&&u.jsx("p",{className:"text-red-400",children:i.apellido}),u.jsx("br",{}),u.jsx("label",{style:{fontFamily:"NuevaFuente, bebas neue",color:" #D9D9D9",fontSize:"1.5rem"},children:"CORREO"}),u.jsx("input",{className:"w-full h-9",style:{borderRadius:"10px",marginBottom:"10px"},name:"correo",type:"text",placeholder:" Email...",value:n.correo,onChange:l}),i.correo&&u.jsx("p",{className:"text-red-400",children:i.correo}),u.jsx("label",{style:{fontFamily:"NuevaFuente, bebas neue",color:" #D9D9D9",fontSize:"1.5rem",marginTop:"10px"},children:"CONTRASEA"}),u.jsx("input",{className:"w-full h-9",style:{borderRadius:"10px",marginBottom:"10px"},name:"contrasea",type:"password",placeholder:" Contrasea...",value:n.contrasea,onChange:l}),i.contrasea&&u.jsx("p",{className:"text-red-400",children:i.contrasea}),u.jsx("label",{style:{fontFamily:"NuevaFuente, bebas neue",color:" #D9D9D9",fontSize:"1.5rem"},children:"CONFIRMAR CONTRASEA"}),u.jsx("input",{className:"w-full h-9",style:{borderRadius:"10px",marginBottom:"10px"},name:"confirmarContrasea",type:"password",placeholder:" Confirmar contrasea...",value:n.confirmarContrasea,onChange:l}),i.confirmarContrasea&&u.jsx("p",{className:"text-red-400",children:i.confirmarContrasea}),u.jsx("button",{disabled:e==="checking",onClick:o,style:{fontFamily:"NuevaFuente, bebas neue",color:" #D9D9D9",fontSize:"1.2rem",background:"#D74545",padding:"6px",paddingLeft:"25px",paddingRight:"25px",borderRadius:"15px",marginBottom:"15px",marginTop:"12px",marginLeft:"145px"},className:"disabled:opacity-70",children:"CREAR"}),u.jsx("br",{}),u.jsxs("button",{onClick:a,style:{display:"flex",alignItems:"center",marginLeft:"19%",background:"#D74545",padding:"2.5%",borderRadius:"9px"},disabled:e==="checking",className:"disabled:opacity-70",children:[u.jsx(lK,{})," ",u.jsx("span",{style:{marginLeft:"8px",fontFamily:"NuevaFuente, montserrat",color:"white"},children:"Inicia sesin con Google"})]}),u.jsx("br",{}),u.jsx("span",{style:{fontFamily:"NuevaFuente, montserrat",color:" #D9D9D9",fontSize:"0.9rem",marginLeft:"80px"},children:"Ya tienes cuenta?"}),u.jsx(Ys,{to:"/auth/loginPage",children:u.jsx("span",{style:{fontFamily:"NuevaFuente, montserrat",color:" #2FD6BD  ",marginLeft:"5px",fontSize:"0.9rem"},children:"Inicia sesin."})})]})})]})},pK=t=>{let e={},n=/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{6,}$/;return/^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9-.]+$/.test(t.correo)||(e.correo="El correo es invalido"),n.test(t.contrasea)||(e.contrasea="La contrasea debe tener mayusculas, numeros y letras, al menos 6 caracteres"),e},mK=()=>{const t=yr(),{status:e}=ii(l=>l.auth),[n,r]=C.useState({}),[i,s]=C.useState({correo:"",contrasea:""}),o=l=>{const{name:c,value:d}=l.target;s({...i,[c]:d}),r(pK({...i,[c]:d}))},a=async l=>{l.preventDefault();try{const d=(await fR()).find(f=>f.email===i.correo);if(d)if(d.disabled)_e.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:5e3,timerProgressBar:!0,didOpen:m=>{m.onmouseenter=_e.stopTimer,m.onmouseleave=_e.resumeTimer}}).fire({icon:"error",title:"Usuario bloqueado, comunicate con soporte"});else{const f=await t(e$(i.correo,i.contrasea)),m=_e.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:5e3,timerProgressBar:!0,didOpen:v=>{v.onmouseenter=_e.stopTimer,v.onmouseleave=_e.resumeTimer}});f.displayName?(m.fire({icon:"success",title:`Bienvenido ${f.displayName}`}),s({correo:"",contrasea:""})):m.fire({icon:"error",title:"Usuario no encontrado, email o contrasea incorrectos"})}}catch(c){console.log(c.message,"mensaje")}};return u.jsxs("form",{className:"relative",onSubmit:a,children:[u.jsx(Fl,{className:"w-[34px] h-[69px] absolute top-10 left-10"}),u.jsx("div",{className:"flex items-center justify-center h-screen overflow-hidden",children:u.jsx("img",{className:"w-full h-full object-cover",src:z_})}),u.jsx("div",{className:"w-100% flex items-center justify-center",children:u.jsxs("div",{className:"absolute top-1/4 z-20",style:{background:"rgba(71, 81, 87, 0.8)",padding:"15px",borderRadius:"25px",boxShadow:"0 4px 6px rgba(10, 10, 10, 0.7)",width:"400px"},children:[u.jsx("h1",{style:{fontFamily:"NuevaFuente, bebas neue",color:" #D9D9D9",fontSize:"1.5rem",marginBottom:"25px"},className:"text-lg font-bold text-64x43",children:"LOGIN"}),u.jsx("label",{style:{fontFamily:"NuevaFuente, bebas neue",color:" #D9D9D9",fontSize:"1.5rem"},children:"CORREO"}),u.jsx("br",{}),u.jsx("input",{className:"w-full h-9",style:{borderRadius:"10px",marginBottom:"10px"},name:"correo",type:"text",placeholder:" Correo...",value:i.correo,onChange:o}),n.correo&&u.jsx("p",{className:"text-red-400",children:n.correo}),u.jsx("br",{}),u.jsx("label",{style:{fontFamily:"NuevaFuente, bebas neue",color:" #D9D9D9",fontSize:"1.5rem",marginTop:"10px"},children:"CONTRASEA"}),u.jsx("br",{}),u.jsx("input",{className:"w-full h-9",style:{borderRadius:"10px",marginBottom:"10px"},name:"contrasea",type:"password",placeholder:" Contrasea...",value:i.contrasea,onChange:o}),n.contrasea&&u.jsx("p",{className:"text-red-400",children:n.contrasea}),u.jsx("br",{}),u.jsx("button",{type:"submit",style:{fontFamily:"NuevaFuente, bebas neue",color:" #D9D9D9",fontSize:"1.2rem",background:"#D74545",padding:"6px",paddingLeft:"25px",paddingRight:"25px",borderRadius:"15px",marginBottom:"10px",marginTop:"12px",marginLeft:"145px",cursor:"pointer"},disabled:e==="checking",className:"disabled:opacity-70",children:"ENTRAR"}),u.jsx("br",{}),u.jsx("span",{style:{fontFamily:"NuevaFuente, montserrat",color:" #D9D9D9",fontSize:"0.9rem",marginLeft:"80px"},children:"No tienes cuenta?"}),u.jsx(Ys,{to:"/auth/signUpPage",children:u.jsx("span",{style:{fontFamily:"NuevaFuente, montserrat",color:" #2FD6BD  ",marginLeft:"5px",fontSize:"0.9rem"},children:"Registrate."})}),u.jsx("br",{}),u.jsx(Ys,{to:"/auth/resetPass",children:u.jsx("span",{style:{fontFamily:"NuevaFuente, montserrat",color:" #2FD6BD  ",marginLeft:"5px",fontSize:"0.9rem",marginLeft:"27.5%"},children:"Olvide mi contrasea"})})]})})]})},gK=async t=>{try{const e=Zt(Tt,"carritos",t);(await is(e)).exists()&&await Dl(e,{productos:[]},{merge:!0})}catch(e){console.log("Error al vaciar el carrito:",e.message)}},Q_=async(t,e)=>{try{const n=go(Tt,"users",t,"facturas"),r=e?Eu(n,E6("billNumber","==",e)):Eu(n),i=await Ol(r),s=[];return i.forEach(o=>s.push(o.data())),s}catch(n){console.log("Error al obtener las facturas del usuario:",n.message)}},yK=()=>{const{currentUser:t,loading:e}=C.useContext(Fn),n=new URLSearchParams(window.location.search),r=n.get("payment_id"),s=n.get("external_reference").split("-_")[0],o=yr(),[a,l]=C.useState(),c=async()=>{await Pu(t.uid,s,{payment_id:r,status:"succesfull"});const m=await Q_(t.uid,s);await gK(t.uid),l(m[0].data),sendEmail(t.email,"te enviamos este correo para que sepas que tu compra fue finalizada y todo sali existoso! Pronto llegar tu pedido a la puerta de tu casa!","Esperamos disfrutes tu compra, gracias por preferirnos!")},d=()=>{a==null||a.map(m=>o(PP({stock:m.newStock},m.id)))};C.useEffect(()=>{localStorage.removeItem("products"),t&&(a||c(),d())},[t]);let f=a==null?void 0:a.reduce((m,v)=>m+v.unit_price*v.quantity,0);return u.jsx("div",{children:e?u.jsx(cs,{}):u.jsxs("div",{className:"text-center mt-6 font-montserrat font-medium text-xl indent-3",children:[u.jsx("h1",{className:"text-primary font-bebas text-5xl font-normal mb-3",children:"Pago exitoso!"}),u.jsx("h1",{className:"mb-2",children:"Gracias por confiar en nosotros!"}),u.jsx("p",{className:"mb-2",children:"Tu compra ha sido procesada y te estaremos informando cuando est en camino!"}),u.jsx("p",{className:"mb-2",children:"Disfruta del producto y gracias por comprar!"}),u.jsxs("div",{children:[u.jsx("p",{className:"mb-14",children:"Los productos de tu compra son:"}),a&&a.map((m,v)=>u.jsxs("div",{className:" w-fit mx-auto flex items-center mb-14",children:[u.jsx("img",{src:m.picture_url,width:85,alt:"",className:"mr-4"}),u.jsxs("h1",{className:"mr-10 font-bebas text-3xl",children:[m.title," ",u.jsxs("span",{className:"font-montserrat text-2xl ml-3 text-teal-600",children:["X ",m.quantity]})]}),u.jsxs("p",{children:["Precio unit:"," ",u.jsxs("span",{className:"ml-3 text-teal-600 font-semibold",children:["$",m.unit_price]})]})]},v)),u.jsx("div",{className:"mb-5",children:u.jsxs("p",{children:["El total de tu compra fue:"," ",u.jsxs("span",{className:"ml-3 font-semibold  text-primary ",children:[" ","$",a&&f]})]})})]})]})})},vK=async(t,e)=>{const n=Zt(Tt,"users",t);return(await is(n)).exists()&&await Dl(n,{...e,dataCompleted:!0},{merge:!0}),{ok:!0}},wK=()=>{var E,x,_,T,R,D,B,$;const{currentUser:t,user:e,loading:n,setShowOrder:r}=C.useContext(Fn),[i,s]=C.useState([]),[o,a]=C.useState([]);C.useEffect(()=>{async function H(){const{data:se}=await Av("https://apis.datos.gob.ar/georef/api/provincias");s(se.provincias)}H()},[]),ls();const{getValues:l,register:c,handleSubmit:d,formState:{errors:f}}=hR(),{provincia:m}=l(),v=async H=>{w(H.target.value)},w=async H=>{const{data:se}=await Av(`https://apis.datos.gob.ar/georef/api/municipios?provincia=${H}&max=500`);a(se.municipios)};n||e.dataCompleted&&(o.length||w(m));const b=async H=>{H&&await vK(t.uid,H),r(!0)};return u.jsx("div",{children:n?u.jsx(cs,{}):u.jsxs("form",{className:"flex-row my-2 mx-auto w-[50vw] font-bebas text-xl",children:[u.jsxs("p",{children:["Los campos con ",u.jsx("span",{className:"text-primary",children:"*"})," son obligatorios"]}),u.jsxs("div",{className:"max-w-fit mx-auto",children:[u.jsxs("div",{className:"m-2",children:[u.jsxs("label",{htmlFor:"documento",className:"m-5",children:[u.jsx("span",{className:"text-primary text-2xl mr-1",children:"*"}),"DNI:"]}),u.jsx("input",{id:"documento",...c("documento",{required:{value:!0,message:"El campo es obligatorio"},pattern:{value:/^[0-9-]+$/i,message:"Documento invalido"},maxLength:{value:15,message:"Debe tener menos de 15 caracteres"},value:e.documento||""}),type:"text",className:`p-1.5 w-72 font-montserrat border-x-transparent  border-t-transparent border-b-2 focus:ring-0 focus:border-transparent focus:border-b-red-500${f.documento?"bg-red-200":""} border-zinc-600`,placeholder:"numero de documento"}),u.jsx("p",{className:" text-red-500 font-medium",children:(E=f.documento)==null?void 0:E.message})]}),u.jsxs("div",{className:"m-2",children:[u.jsxs("label",{htmlFor:"telfono",className:"m-5",children:[u.jsx("span",{className:"text-primary text-2xl mr-1",children:"*"}),"Telfono:"]}),u.jsx("input",{id:"telefono",...c("telefono",{required:{value:!0,message:"El campo es obligatorio"},pattern:{value:/^\+\d{1,3}\s?\d{4,}$/,message:"Numero de telfono invalido"},value:e.telefono||""}),type:"text",className:`p-1.5 w-72 font-montserrat  border-x-transparent  border-t-transparent border-b-2 focus:ring-0 focus:border-transparent focus:border-b-red-500${f.telefono?"bg-red-200":""} border-zinc-600`,placeholder:"+573245271273"}),u.jsx("p",{className:" text-red-500 font-medium",children:(x=f.telefono)==null?void 0:x.message})]}),u.jsxs("div",{className:"m-2",children:[u.jsxs("label",{htmlFor:"provincias",className:"m-5",children:[u.jsx("span",{className:"text-primary text-2xl mr-1",children:"*"}),"Provincia:"]}),u.jsxs("select",{id:"provincia",...c("provincia",{required:{value:!0,message:"El campo es obligatorio"},value:e.provincia||""}),onChange:v,className:"border-x-transparent border-t-transparent border-b-2 w-72 font-montserrat focus:ring-0 focus:border-transparent focus:border-b-red-500",children:[u.jsx("option",{value:"Elige una provincia",disabled:!0,children:"Elige una provincia"}),i.length&&i.map((H,se)=>u.jsx("option",{value:H.nombre,children:H.nombre},se))]}),u.jsx("p",{className:" text-red-500 font-medium",children:(_=f.provincia)==null?void 0:_.message})]}),u.jsxs("div",{className:"m-2",children:[u.jsxs("label",{htmlFor:"municipios",className:"m-5",children:[u.jsx("span",{className:"text-primary text-2xl mr-1",children:"*"}),"Municipio:"]}),u.jsxs("select",{id:"municipio",...c("municipio",{required:{value:!0,message:"El campo es obligatorio"},value:e.municipio||""}),className:"border-x-transparent border-t-transparent border-b-2 w-72 font-montserrat focus:ring-0 focus:border-transparent focus:border-b-red-500",children:[u.jsx("option",{value:"Elige un municipio",disabled:!0,children:"Elige un municipio"}),o.length&&o.map((H,se)=>u.jsx("option",{value:H.nombre,children:H.nombre},se))]}),u.jsx("p",{className:" text-red-500 font-medium",children:(T=f.municipio)==null?void 0:T.message})]}),u.jsxs("div",{className:"m-2",children:[u.jsxs("label",{htmlFor:"ciudad",className:"m-5",children:[u.jsx("span",{className:"text-primary text-2xl mr-1",children:"*"}),"Ciudad:"]}),u.jsx("input",{id:"ciudad",...c("ciudad",{required:{value:!0,message:"El campo es obligatorio"},pattern:{value:/^[A-Za-z0-9.-\s\-,#.]+$/,message:"Ciudad invlida"},maxLength:{value:25,message:"Debe tener menos de 25 caracteres"},value:e.ciudad||""}),type:"text",className:`p-1.5 w-72 font-montserrat  border-x-transparent  border-t-transparent border-b-2 focus:ring-0 focus:border-transparent focus:border-b-red-500${f.ciudad?"bg-red-200":""} border-zinc-600`,placeholder:"Ingrese una ciudad"}),u.jsx("p",{className:" text-red-500 font-medium",children:(R=f.ciudad)==null?void 0:R.message})]}),u.jsxs("div",{className:"m-2",children:[u.jsxs("label",{htmlFor:"calle",className:"m-5",children:[u.jsx("span",{className:"text-primary text-2xl mr-1",children:"*"}),"Calle:"]}),u.jsx("input",{...c("calle",{required:{value:!0,message:"El campo es obligatorio"},maxLength:{value:20,message:"Debe tener menos de 20 caracteres"},pattern:{value:/^[A-Za-z0-9.-\s\-,#.]+$/,message:"Calle invlida"},value:e.calle||""}),type:"text",className:`p-1.5 w-72 font-montserrat  border-x-transparent  border-t-transparent border-b-2 focus:ring-0 focus:border-transparent focus:border-b-red-500${f.calle?"bg-red-200":""} border-zinc-600`,placeholder:"nombre de calle"}),u.jsx("p",{className:" text-red-500 font-medium",children:(D=f.calle)==null?void 0:D.message})]}),u.jsxs("div",{className:"m-2",children:[u.jsxs("label",{htmlFor:"Altura",className:"m-5",children:[u.jsx("span",{className:"text-primary text-2xl mr-1",children:"*"}),"Altura:"]}),u.jsx("input",{id:"altura",...c("altura",{required:{value:!0,message:"El campo es obligatorio"},maxLength:{value:10,message:"Debe tener menos de 10 caracteres"},pattern:{value:/^[A-Za-z0-9\s\-,#.]+$/,message:"Altura de calle invlida"},value:e.altura||""}),type:"text",className:`p-1.5 w-72 font-montserrat  border-x-transparent  border-t-transparent border-b-2 focus:ring-0 focus:border-transparent focus:border-b-red-500${f.altura?"bg-red-200":""} border-zinc-600`,placeholder:"altura de calle"}),u.jsx("p",{className:" text-red-500 font-medium",children:(B=f.altura)==null?void 0:B.message})]}),u.jsxs("div",{className:"m-2",children:[u.jsx("label",{htmlFor:"piso/departamento",className:"m-5",children:"Piso / Dpto :"}),u.jsx("input",{id:"pisoDpto",...c("pisoDpto",{pattern:{value:/^[A-Za-z0-9\s\-,#.]+$/,message:"Piso / dpto invlido"},value:e.pisoDpto||""}),type:"text",className:`p-1.5 w-72 font-montserrat  border-x-transparent  border-t-transparent border-b-2 focus:ring-0 focus:border-transparent focus:border-b-red-500${f.pisoDpto?"bg-red-200":""} border-zinc-600`,placeholder:"n de piso / departamento"}),u.jsx("p",{className:" text-red-500 font-medium",children:($=f.pisoDpto)==null?void 0:$.message})]})]}),u.jsx("div",{className:"max-w-fit mx-auto",children:u.jsx("button",{className:" text-white bg-primary p-2 px-5 rounded-xl",onClick:d(b),children:"finalizar"})})]})})},_K=()=>{const{currentUser:t}=C.useContext(Fn),[e,n]=C.useState(!1),[r,i]=C.useState([]),[s,o]=C.useState(!0),[a,l]=C.useState(null);C.useEffect(()=>{(async()=>{try{if(t){const m=await Q_(t==null?void 0:t.uid);let v=[];if(m){const w=m.filter(x=>x.status=="succesfull").map(x=>x.data).flat(),b={},E=w.filter(x=>{const _=x.title;return b[_]?!1:(b[_]=!0,!0)});i(E)}else i([]);o(!1)}}catch(m){console.log("Error al obtener las compras del usuario:",m.message),o(!1)}})()},[t]);const c=f=>{l(f),n(!0)},d=()=>{n(!1)};return u.jsx("div",{children:s?u.jsx(cs,{}):u.jsxs("div",{className:" max-w-max mx-auto p-10 mt-18",children:[u.jsx("h2",{className:"text-3xl font-bebas mb-10 text-center",children:"Estos son los productos que has comprado!"}),u.jsx("div",{className:r.length<3?"mb-40 mx-auto":"mx-auto",children:r&&r.map((f,m)=>u.jsxs("section",{className:"flex min-w-max justify-between p-3 text-xl font-montserrat",children:[u.jsx("article",{children:u.jsx("img",{src:f.picture_url,alt:"",width:67})}),u.jsx("article",{className:"w-52 ml-4 my-auto font-semibold",children:f.title}),u.jsxs("article",{className:"w-20 mr-5 my-auto font-semibold",children:["$",f.unit_price]}),u.jsx("button",{className:"bg-primary p-2 text-lg rounded font-bebas text-white h-min my-auto",onClick:()=>{c(f)},children:"Agregar resea"})]},m))}),e&&a&&u.jsx("div",{children:u.jsx("div",{children:u.jsx(Rq,{setShowReview:d,selectedItem:a})})})]})})},xK=({setShowOrders:t,fecha:e,status:n,products:r,id:i})=>{const{currentUser:s}=C.useContext(Fn),[o,a]=C.useState(!1),l=ls(),c=async()=>{await Pu(s.uid,i,{status:"received"}),a(!0),t(),location.reload()},d=()=>{t(),l("/createReviews")};return u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-30 backdrop-blur-sm justify-center items-center font-montserrat font-medium",children:u.jsxs("div",{className:`bg-white\r
        rounded\r
        mt-20\r
        flex\r
        flex-col\r
        justify-center\r
        items-center\r
        m-auto\r
        w-fit \r
        p-5\r
      \r
      `,children:[u.jsx("section",{className:" w-full  text-right",children:u.jsx("button",{onClick:()=>t(),children:u.jsx(A_,{className:"mb-1 text-red-700/90 w-8 transition hover:scale-125 hover:text-red-600"})})}),u.jsx("section",{className:" w-full mb-2 ",children:u.jsxs("h3",{className:"justify-start",children:["Compra #",i.slice(-6)]})}),u.jsx("section",{className:"grid grid-cols-3",children:r&&r.map((f,m)=>u.jsx("div",{className:"w-full",children:u.jsxs("div",{className:"flex items-center justify-start",children:[u.jsx("img",{src:f.picture_url,alt:f.title,width:70}),u.jsxs("h2",{className:"font-bebas text-2xl",children:[f.title," ",u.jsxs("span",{className:"text-teal-600 font-montserrat text-xl ml-3",children:["X ",f.quantity]})]})]})},m))}),u.jsxs("h4",{className:"mt-3",children:["Fecha de compra: ",e]}),u.jsxs("h4",{children:["Estado de compra:"," ",n=="accept"?u.jsx("span",{children:"Preparando para envo"}):n=="send"?u.jsx("span",{children:"En camino"}):n=="received"?u.jsx("span",{children:"Recibido!"}):u.jsx("span",{children:"En proceso"})]}),n=="send"&&u.jsx("h2",{children:"Djanos saber cuando recibas tu compra!"}),u.jsxs("div",{className:"flex mt-2",children:[n=="received"&&u.jsx("button",{onClick:d,className:"bg-primary p-2 font-bebas rounded text-white mx-2",children:"Agregar resea"}),n=="send"&&!o&&u.jsx("button",{onClick:c,className:"bg-primary p-2 font-bebas rounded text-white mx-2",children:"Recibido"})]})]})})},bK=({className:t})=>u.jsx("div",{children:u.jsxs("svg",{id:"Layer_1","data-name":"Layer 1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",className:t,children:[u.jsx("title",{children:"Delivery Truck"}),u.jsx("path",{d:"M72.078,341.333H21.334a32,32,0,0,0,32,32h5.6A58.374,58.374,0,0,1,72.078,341.333Z"}),u.jsx("path",{d:"M320,341.333H162.589a58.374,58.374,0,0,1,13.142,32H320a10.667,10.667,0,0,0,10.667-10.667V352A10.667,10.667,0,0,0,320,341.333Z"}),u.jsx("circle",{cx:"117.334",cy:"378.667",r:"37.333"}),u.jsx("path",{d:"M507.219,275.173,466.234,185.01A42.749,42.749,0,0,0,427.4,160H362.667A10.667,10.667,0,0,0,352,170.667V338.484a58.588,58.588,0,0,1,101.064,34.849H480a32,32,0,0,0,32-32V297.242A53.32,53.32,0,0,0,507.219,275.173Zm-48.633-8.507H389.333A10.667,10.667,0,0,1,378.667,256V213.333a10.667,10.667,0,0,1,10.667-10.667h42.991a21.333,21.333,0,0,1,19.421,12.5L468.3,251.586A10.667,10.667,0,0,1,458.586,266.667Z"}),u.jsx("circle",{cx:"394.667",cy:"378.667",r:"37.333"}),u.jsx("path",{d:"M298.667,96H53.333a32,32,0,0,0-32,32V256h-10.1C5.925,256,1,259.63.146,264.875a10.675,10.675,0,0,0,10.521,12.459h26.1c5.314,0,10.238,3.63,11.092,8.875a10.675,10.675,0,0,1-10.521,12.459h-26.1C5.925,298.667,1,302.3.146,307.541A10.675,10.675,0,0,0,10.667,320H320a10.667,10.667,0,0,0,10.667-10.667V128A32,32,0,0,0,298.667,96Z"})]})}),EK=({className:t})=>u.jsx("div",{children:u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64",className:t,children:[u.jsx("title",{children:"2"}),u.jsx("g",{id:"Layer_57","data-name":"Layer 57",children:u.jsx("path",{d:"M52,53.08H49.1v-6A17.11,17.11,0,0,0,40,32,17.11,17.11,0,0,0,49.1,16.9v-6H52a2,2,0,1,0,0-4H12a2,2,0,1,0,0,4h2.9v6A17.11,17.11,0,0,0,24,32,17.11,17.11,0,0,0,14.9,47.1v6H12a2,2,0,0,0,0,4H52a2,2,0,0,0,0-4ZM18.9,16.9v-6H45.1v6a13.1,13.1,0,0,1-26.19,0Zm0,36.17v-6a13.1,13.1,0,0,1,26.19,0v6Z"})})]})}),TK=({className:t})=>u.jsx("div",{children:u.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:t,children:[u.jsx("g",{id:"SVGRepo_bgCarrier","stroke-width":"0"}),u.jsx("g",{id:"SVGRepo_tracerCarrier","stroke-linecap":"round","stroke-linejoin":"round"}),u.jsxs("g",{id:"SVGRepo_iconCarrier",children:[" ",u.jsx("path",{d:"M15.5777 3.38197L17.5777 4.43152C19.7294 5.56066 20.8052 6.12523 21.4026 7.13974C22 8.15425 22 9.41667 22 11.9415V12.0585C22 14.5833 22 15.8458 21.4026 16.8603C20.8052 17.8748 19.7294 18.4393 17.5777 19.5685L15.5777 20.618C13.8221 21.5393 12.9443 22 12 22C11.0557 22 10.1779 21.5393 8.42229 20.618L6.42229 19.5685C4.27063 18.4393 3.19479 17.8748 2.5974 16.8603C2 15.8458 2 14.5833 2 12.0585V11.9415C2 9.41667 2 8.15425 2.5974 7.13974C3.19479 6.12523 4.27063 5.56066 6.42229 4.43152L8.42229 3.38197C10.1779 2.46066 11.0557 2 12 2C12.9443 2 13.8221 2.46066 15.5777 3.38197Z",stroke:"#D74545","stroke-width":"1.5","stroke-linecap":"round"})," ",u.jsx("path",{d:"M21 7.5L12 12M12 12L3 7.5M12 12V21.5",stroke:"#D74545","stroke-width":"1.5","stroke-linecap":"round"})," "]})]})}),SK=({className:t})=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"})}),IK=()=>{const{currentUser:t}=C.useContext(Fn),[e,n]=C.useState(null),[r,i]=C.useState(!0),[s,o]=C.useState(!1),[a,l]=C.useState(null);C.useEffect(()=>{const f=async()=>{try{if(t){const m=await Q_(t==null?void 0:t.uid);if(m){const v=m.filter(w=>w.status!=="pending");n(v)}i(!1);return}}catch{}};return f(),()=>f()},[t]);const c=f=>{l(f),o(!0)},d=()=>{o(!1)};return u.jsx("div",{children:r?u.jsx(cs,{}):u.jsxs("div",{className:" max-w-max mx-auto p-10 mt-4",children:[u.jsx("h2",{className:"text-3xl font-bebas mb-10 text-center",children:"Tus compras"}),u.jsx("div",{className:"mx-auto grid grid-cols-2",children:e&&e.map((f,m)=>u.jsx("section",{className:`my-5 bg-stone-300 mx-10\r
                    p-5 font-montserrat font-medium rounded hover:cursor-pointer`,onClick:()=>c(f),children:u.jsxs("div",{className:"flex",children:[u.jsx("article",{className:"mr-10",children:u.jsx("img",{src:f.data[0].picture_url,width:120,className:"rounded"})}),u.jsxs("article",{children:[u.jsxs("article",{className:"text-slate-600 mb-1",children:["Compra #",f.billNumber.slice(-6)]}),u.jsx("article",{className:"mb-1",children:u.jsxs("p",{children:[f.data[0].title," ",f.data.length-1>0&&u.jsxs("span",{children:["y ",f.data.length-1,f.data.length==2?" producto ms":" productos ms"]})]})}),u.jsx("article",{className:"text-slate-600 mb-1",children:f.fecha}),u.jsx("article",{className:"",children:f.status=="send"?u.jsxs("div",{className:"flex text-sm items-center text-slate-700",children:[u.jsx(bK,{className:"mb-1 fill-primary w-10 "}),u.jsx("p",{className:"ml-3",children:"Tu compra est en camino"})]}):f.status=="accept"?u.jsxs("div",{className:"flex text-sm items-center",children:[u.jsx(TK,{className:"mb-1  w-10"}),u.jsx("p",{className:"ml-3 text-slate-700",children:"Estamos preparando tu orden"})]}):f.status=="received"?u.jsxs("div",{className:"flex text-sm items-center",children:[u.jsx(SK,{className:"mb-1 text-primary w-9 "}),u.jsx("p",{className:"ml-3 text-slate-700",children:"Indicaste que recibiste tu pedido!"})]}):u.jsxs("div",{className:"flex text-sm items-center",children:[u.jsx(EK,{className:"mb-1 fill-primary w-9 "}),u.jsx("p",{className:"ml-3 text-slate-700",children:"Tu orden an no ha sido procesada"})]})})]})]})},m))}),s&&a&&u.jsx("div",{children:u.jsx(xK,{setShowOrders:d,fecha:a.fecha,status:a.status,products:a.data,id:a.billNumber})})]})})},CK=async(t,e)=>{const n=Zt(Tt,"users",t);try{const r=Zt(go(n,"reviews"),e);await C6(r),console.log("Review eliminada exitosamente")}catch(r){console.error("Error al eliminar la review:",r)}},AK=()=>{const[t,e]=C.useState(null),[n,r]=C.useState(null),{currentUser:i,loading:s}=C.useContext(Fn);C.useEffect(()=>{(async()=>{if(i){const l=await $W(i==null?void 0:i.uid);l&&e(l)}})()},[i,n]);const o=async a=>{await CK(i==null?void 0:i.uid,a),_e.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:2e3,timerProgressBar:!0,didOpen:c=>{c.onmouseenter=_e.stopTimer,c.onmouseleave=_e.resumeTimer}}).fire({icon:"success",title:"La review ha sido eliminada con xito"}),setTimeout(()=>{location.reload()},2e3)};return u.jsx("div",{children:s?u.jsx(cs,{}):t&&t.length>0?u.jsxs("div",{className:"w-[90vw] mx-auto my-16",children:[u.jsx("h2",{className:"font-bebas text-4xl mx-auto text-center mb-5",children:"Mis reviews"}),u.jsx("div",{className:"flex flex-col w-[90vw] font-montserrat mx-auto",children:t&&t.map((a,l)=>u.jsxs("section",{className:"flex bg-primaryLight/80 rounded p-5 w-[800px] mx-auto mb-10 h-auto",children:[u.jsx("section",{className:"my-auto",children:u.jsx("article",{className:"mr-6",children:u.jsx("img",{src:a.itemImg,width:100,className:"rounded"})})}),u.jsxs("section",{className:"w-[700px]",children:[u.jsxs("section",{className:"flex justify-between",children:[u.jsx("article",{className:"mr-5 font-bebas text-2xl w-80 mb-3",children:a.itemName}),u.jsx("article",{className:"mr-5",children:Array.from({length:5}).map((c,d)=>u.jsx("span",{className:`text-2xl items-center ${d<a.rating?"text-yellow-400":"text-gray-500"}`,children:""},d))})]}),u.jsx("article",{className:"indent-5 mr-6 max-w-fit mb-3",children:a.feedback}),u.jsx("article",{className:" text-end mr-6 text-slate-600 ",children:a.fecha})]}),u.jsx("section",{className:" my-auto",children:u.jsx("button",{onClick:()=>o(a.reviewNumber),children:u.jsx($P,{className:"text-primary w-10"})})})]},l))})]}):u.jsx("h2",{className:"font-bebas text-4xl mx-auto text-center my-16",children:"An no publicas ninguna review"})})},AT=()=>u.jsxs(u.Fragment,{children:[u.jsx(xq,{}),u.jsxs(C_,{children:[u.jsx(vt,{path:"home",element:u.jsx(Vq,{})}),u.jsx(vt,{path:"/productspage",element:u.jsx(oK,{})}),u.jsx(vt,{path:"/preCheckout",element:u.jsx(wK,{})}),u.jsx(vt,{path:"/checkout/successfull",element:u.jsx(yK,{})}),u.jsx(vt,{path:"/reviews",element:u.jsx(AK,{})}),u.jsx(vt,{path:"/detail",element:u.jsx(TT,{})}),u.jsx(vt,{path:"/*",element:u.jsx(I_,{to:"/home"})}),u.jsx(vt,{path:"/detail/:id",element:u.jsx(TT,{})}),u.jsx(vt,{path:"/createReviews",element:u.jsx(_K,{})}),u.jsx(vt,{path:"/orders",element:u.jsx(IK,{})})]}),u.jsx(BW,{})]}),kK=()=>u.jsxs(C_,{children:[u.jsx(vt,{path:"/signUpPage",element:u.jsx(fK,{})}),u.jsx(vt,{path:"/loginPage",element:u.jsx(mK,{})}),u.jsx(vt,{path:"/resetPass",element:u.jsx(FW,{})}),u.jsx(vt,{path:"/*",element:u.jsx(I_,{to:"/auth/loginPage"})})]}),PK=()=>{const{status:t,user:e}=ii(r=>r.auth),n=yr();return C.useEffect(()=>{n(em()),n(P8())},[n]),u.jsxs(Az,{children:[e.role==="admin"?u.jsx(vt,{path:"/*",element:u.jsx(Oq,{})}):u.jsx(vt,{path:"/*",element:u.jsx(AT,{})}),t!=="online"&&u.jsxs(u.Fragment,{children:[u.jsx(vt,{path:"auth/*",element:u.jsx(kK,{})}),u.jsx(vt,{path:"/*",element:u.jsx(AT,{})})]})]})},RK=()=>u.jsx(Xj,{store:L8,children:u.jsx(zW,{children:u.jsx(PK,{})})});Bg.createRoot(document.getElementById("root")).render(u.jsx(be.StrictMode,{children:u.jsx(Cz,{children:u.jsx(RK,{})})}));
