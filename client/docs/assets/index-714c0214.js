function ON(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var yi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function wT(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var _T={exports:{}},kf={},ET={exports:{}},me={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _u=Symbol.for("react.element"),LN=Symbol.for("react.portal"),jN=Symbol.for("react.fragment"),MN=Symbol.for("react.strict_mode"),VN=Symbol.for("react.profiler"),FN=Symbol.for("react.provider"),UN=Symbol.for("react.context"),$N=Symbol.for("react.forward_ref"),BN=Symbol.for("react.suspense"),zN=Symbol.for("react.memo"),HN=Symbol.for("react.lazy"),b_=Symbol.iterator;function qN(t){return t===null||typeof t!="object"?null:(t=b_&&t[b_]||t["@@iterator"],typeof t=="function"?t:null)}var xT={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},TT=Object.assign,bT={};function va(t,e,n){this.props=t,this.context=e,this.refs=bT,this.updater=n||xT}va.prototype.isReactComponent={};va.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};va.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function IT(){}IT.prototype=va.prototype;function ky(t,e,n){this.props=t,this.context=e,this.refs=bT,this.updater=n||xT}var Ny=ky.prototype=new IT;Ny.constructor=ky;TT(Ny,va.prototype);Ny.isPureReactComponent=!0;var I_=Array.isArray,ST=Object.prototype.hasOwnProperty,Dy={current:null},CT={key:!0,ref:!0,__self:!0,__source:!0};function AT(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)ST.call(e,r)&&!CT.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:_u,type:t,key:s,ref:o,props:i,_owner:Dy.current}}function WN(t,e){return{$$typeof:_u,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Oy(t){return typeof t=="object"&&t!==null&&t.$$typeof===_u}function KN(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var S_=/\/+/g;function gp(t,e){return typeof t=="object"&&t!==null&&t.key!=null?KN(""+t.key):e.toString(36)}function qc(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case _u:case LN:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+gp(o,0):r,I_(i)?(n="",t!=null&&(n=t.replace(S_,"$&/")+"/"),qc(i,e,n,"",function(u){return u})):i!=null&&(Oy(i)&&(i=WN(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(S_,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",I_(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+gp(s,a);o+=qc(s,e,n,l,i)}else if(l=qN(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+gp(s,a++),o+=qc(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function cc(t,e,n){if(t==null)return t;var r=[],i=0;return qc(t,r,"","",function(s){return e.call(n,s,i++)}),r}function GN(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var nn={current:null},Wc={transition:null},QN={ReactCurrentDispatcher:nn,ReactCurrentBatchConfig:Wc,ReactCurrentOwner:Dy};me.Children={map:cc,forEach:function(t,e,n){cc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return cc(t,function(){e++}),e},toArray:function(t){return cc(t,function(e){return e})||[]},only:function(t){if(!Oy(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};me.Component=va;me.Fragment=jN;me.Profiler=VN;me.PureComponent=ky;me.StrictMode=MN;me.Suspense=BN;me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=QN;me.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=TT({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Dy.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)ST.call(e,l)&&!CT.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:_u,type:t.type,key:i,ref:s,props:r,_owner:o}};me.createContext=function(t){return t={$$typeof:UN,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:FN,_context:t},t.Consumer=t};me.createElement=AT;me.createFactory=function(t){var e=AT.bind(null,t);return e.type=t,e};me.createRef=function(){return{current:null}};me.forwardRef=function(t){return{$$typeof:$N,render:t}};me.isValidElement=Oy;me.lazy=function(t){return{$$typeof:HN,_payload:{_status:-1,_result:t},_init:GN}};me.memo=function(t,e){return{$$typeof:zN,type:t,compare:e===void 0?null:e}};me.startTransition=function(t){var e=Wc.transition;Wc.transition={};try{t()}finally{Wc.transition=e}};me.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};me.useCallback=function(t,e){return nn.current.useCallback(t,e)};me.useContext=function(t){return nn.current.useContext(t)};me.useDebugValue=function(){};me.useDeferredValue=function(t){return nn.current.useDeferredValue(t)};me.useEffect=function(t,e){return nn.current.useEffect(t,e)};me.useId=function(){return nn.current.useId()};me.useImperativeHandle=function(t,e,n){return nn.current.useImperativeHandle(t,e,n)};me.useInsertionEffect=function(t,e){return nn.current.useInsertionEffect(t,e)};me.useLayoutEffect=function(t,e){return nn.current.useLayoutEffect(t,e)};me.useMemo=function(t,e){return nn.current.useMemo(t,e)};me.useReducer=function(t,e,n){return nn.current.useReducer(t,e,n)};me.useRef=function(t){return nn.current.useRef(t)};me.useState=function(t){return nn.current.useState(t)};me.useSyncExternalStore=function(t,e,n){return nn.current.useSyncExternalStore(t,e,n)};me.useTransition=function(){return nn.current.useTransition()};me.version="18.2.0";ET.exports=me;var C=ET.exports;const he=wT(C),Nl=ON({__proto__:null,default:he},[C]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YN=C,XN=Symbol.for("react.element"),JN=Symbol.for("react.fragment"),ZN=Object.prototype.hasOwnProperty,eD=YN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,tD={key:!0,ref:!0,__self:!0,__source:!0};function PT(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)ZN.call(e,r)&&!tD.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:XN,type:t,key:s,ref:o,props:i,_owner:eD.current}}kf.Fragment=JN;kf.jsx=PT;kf.jsxs=PT;_T.exports=kf;var f=_T.exports,Om={},RT={exports:{}},Pn={},kT={exports:{}},NT={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(q,re){var $=q.length;q.push(re);e:for(;0<$;){var be=$-1>>>1,xe=q[be];if(0<i(xe,re))q[be]=re,q[$]=xe,$=be;else break e}}function n(q){return q.length===0?null:q[0]}function r(q){if(q.length===0)return null;var re=q[0],$=q.pop();if($!==re){q[0]=$;e:for(var be=0,xe=q.length,Nn=xe>>>1;be<Nn;){var Ze=2*(be+1)-1,N=q[Ze],Dn=Ze+1,Yn=q[Dn];if(0>i(N,$))Dn<xe&&0>i(Yn,N)?(q[be]=Yn,q[Dn]=$,be=Dn):(q[be]=N,q[Ze]=$,be=Ze);else if(Dn<xe&&0>i(Yn,$))q[be]=Yn,q[Dn]=$,be=Dn;else break e}}return re}function i(q,re){var $=q.sortIndex-re.sortIndex;return $!==0?$:q.id-re.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,h=null,m=3,w=!1,_=!1,x=!1,b=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(q){for(var re=n(u);re!==null;){if(re.callback===null)r(u);else if(re.startTime<=q)r(u),re.sortIndex=re.expirationTime,e(l,re);else break;re=n(u)}}function S(q){if(x=!1,T(q),!_)if(n(l)!==null)_=!0,pt(P);else{var re=n(u);re!==null&&$e(S,re.startTime-q)}}function P(q,re){_=!1,x&&(x=!1,E(U),U=-1),w=!0;var $=m;try{for(T(re),h=n(l);h!==null&&(!(h.expirationTime>re)||q&&!ce());){var be=h.callback;if(typeof be=="function"){h.callback=null,m=h.priorityLevel;var xe=be(h.expirationTime<=re);re=t.unstable_now(),typeof xe=="function"?h.callback=xe:h===n(l)&&r(l),T(re)}else r(l);h=n(l)}if(h!==null)var Nn=!0;else{var Ze=n(u);Ze!==null&&$e(S,Ze.startTime-re),Nn=!1}return Nn}finally{h=null,m=$,w=!1}}var L=!1,M=null,U=-1,Z=5,G=-1;function ce(){return!(t.unstable_now()-G<Z)}function ee(){if(M!==null){var q=t.unstable_now();G=q;var re=!0;try{re=M(!0,q)}finally{re?de():(L=!1,M=null)}}else L=!1}var de;if(typeof v=="function")de=function(){v(ee)};else if(typeof MessageChannel<"u"){var we=new MessageChannel,Ue=we.port2;we.port1.onmessage=ee,de=function(){Ue.postMessage(null)}}else de=function(){b(ee,0)};function pt(q){M=q,L||(L=!0,de())}function $e(q,re){U=b(function(){q(t.unstable_now())},re)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(q){q.callback=null},t.unstable_continueExecution=function(){_||w||(_=!0,pt(P))},t.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Z=0<q?Math.floor(1e3/q):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(q){switch(m){case 1:case 2:case 3:var re=3;break;default:re=m}var $=m;m=re;try{return q()}finally{m=$}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(q,re){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var $=m;m=q;try{return re()}finally{m=$}},t.unstable_scheduleCallback=function(q,re,$){var be=t.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?be+$:be):$=be,q){case 1:var xe=-1;break;case 2:xe=250;break;case 5:xe=1073741823;break;case 4:xe=1e4;break;default:xe=5e3}return xe=$+xe,q={id:c++,callback:re,priorityLevel:q,startTime:$,expirationTime:xe,sortIndex:-1},$>be?(q.sortIndex=$,e(u,q),n(l)===null&&q===n(u)&&(x?(E(U),U=-1):x=!0,$e(S,$-be))):(q.sortIndex=xe,e(l,q),_||w||(_=!0,pt(P))),q},t.unstable_shouldYield=ce,t.unstable_wrapCallback=function(q){var re=m;return function(){var $=m;m=re;try{return q.apply(this,arguments)}finally{m=$}}}})(NT);kT.exports=NT;var nD=kT.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DT=C,In=nD;function F(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var OT=new Set,Dl={};function to(t,e){Jo(t,e),Jo(t+"Capture",e)}function Jo(t,e){for(Dl[t]=e,t=0;t<e.length;t++)OT.add(e[t])}var Xr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Lm=Object.prototype.hasOwnProperty,rD=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,C_={},A_={};function iD(t){return Lm.call(A_,t)?!0:Lm.call(C_,t)?!1:rD.test(t)?A_[t]=!0:(C_[t]=!0,!1)}function sD(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function oD(t,e,n,r){if(e===null||typeof e>"u"||sD(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function rn(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Ot={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ot[t]=new rn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ot[e]=new rn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ot[t]=new rn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ot[t]=new rn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ot[t]=new rn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ot[t]=new rn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ot[t]=new rn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ot[t]=new rn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ot[t]=new rn(t,5,!1,t.toLowerCase(),null,!1,!1)});var Ly=/[\-:]([a-z])/g;function jy(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Ly,jy);Ot[e]=new rn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Ly,jy);Ot[e]=new rn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Ly,jy);Ot[e]=new rn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ot[t]=new rn(t,1,!1,t.toLowerCase(),null,!1,!1)});Ot.xlinkHref=new rn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ot[t]=new rn(t,1,!1,t.toLowerCase(),null,!0,!0)});function My(t,e,n,r){var i=Ot.hasOwnProperty(e)?Ot[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(oD(e,n,i,r)&&(n=null),r||i===null?iD(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ai=DT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,dc=Symbol.for("react.element"),Co=Symbol.for("react.portal"),Ao=Symbol.for("react.fragment"),Vy=Symbol.for("react.strict_mode"),jm=Symbol.for("react.profiler"),LT=Symbol.for("react.provider"),jT=Symbol.for("react.context"),Fy=Symbol.for("react.forward_ref"),Mm=Symbol.for("react.suspense"),Vm=Symbol.for("react.suspense_list"),Uy=Symbol.for("react.memo"),Ti=Symbol.for("react.lazy"),MT=Symbol.for("react.offscreen"),P_=Symbol.iterator;function $a(t){return t===null||typeof t!="object"?null:(t=P_&&t[P_]||t["@@iterator"],typeof t=="function"?t:null)}var qe=Object.assign,yp;function nl(t){if(yp===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);yp=e&&e[1]||""}return`
`+yp+t}var vp=!1;function wp(t,e){if(!t||vp)return"";vp=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{vp=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?nl(t):""}function aD(t){switch(t.tag){case 5:return nl(t.type);case 16:return nl("Lazy");case 13:return nl("Suspense");case 19:return nl("SuspenseList");case 0:case 2:case 15:return t=wp(t.type,!1),t;case 11:return t=wp(t.type.render,!1),t;case 1:return t=wp(t.type,!0),t;default:return""}}function Fm(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ao:return"Fragment";case Co:return"Portal";case jm:return"Profiler";case Vy:return"StrictMode";case Mm:return"Suspense";case Vm:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case jT:return(t.displayName||"Context")+".Consumer";case LT:return(t._context.displayName||"Context")+".Provider";case Fy:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Uy:return e=t.displayName||null,e!==null?e:Fm(t.type)||"Memo";case Ti:e=t._payload,t=t._init;try{return Fm(t(e))}catch{}}return null}function lD(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Fm(e);case 8:return e===Vy?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Zi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function VT(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function uD(t){var e=VT(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function fc(t){t._valueTracker||(t._valueTracker=uD(t))}function FT(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=VT(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function yd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Um(t,e){var n=e.checked;return qe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function R_(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Zi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function UT(t,e){e=e.checked,e!=null&&My(t,"checked",e,!1)}function $m(t,e){UT(t,e);var n=Zi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Bm(t,e.type,n):e.hasOwnProperty("defaultValue")&&Bm(t,e.type,Zi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function k_(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Bm(t,e,n){(e!=="number"||yd(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var rl=Array.isArray;function $o(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Zi(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function zm(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(F(91));return qe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function N_(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(F(92));if(rl(n)){if(1<n.length)throw Error(F(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Zi(n)}}function $T(t,e){var n=Zi(e.value),r=Zi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function D_(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function BT(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Hm(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?BT(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var hc,zT=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(hc=hc||document.createElement("div"),hc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=hc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ol(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var pl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},cD=["Webkit","ms","Moz","O"];Object.keys(pl).forEach(function(t){cD.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),pl[e]=pl[t]})});function HT(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||pl.hasOwnProperty(t)&&pl[t]?(""+e).trim():e+"px"}function qT(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=HT(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var dD=qe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function qm(t,e){if(e){if(dD[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(F(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(F(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(F(61))}if(e.style!=null&&typeof e.style!="object")throw Error(F(62))}}function Wm(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Km=null;function $y(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Gm=null,Bo=null,zo=null;function O_(t){if(t=Tu(t)){if(typeof Gm!="function")throw Error(F(280));var e=t.stateNode;e&&(e=jf(e),Gm(t.stateNode,t.type,e))}}function WT(t){Bo?zo?zo.push(t):zo=[t]:Bo=t}function KT(){if(Bo){var t=Bo,e=zo;if(zo=Bo=null,O_(t),e)for(t=0;t<e.length;t++)O_(e[t])}}function GT(t,e){return t(e)}function QT(){}var _p=!1;function YT(t,e,n){if(_p)return t(e,n);_p=!0;try{return GT(t,e,n)}finally{_p=!1,(Bo!==null||zo!==null)&&(QT(),KT())}}function Ll(t,e){var n=t.stateNode;if(n===null)return null;var r=jf(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(F(231,e,typeof n));return n}var Qm=!1;if(Xr)try{var Ba={};Object.defineProperty(Ba,"passive",{get:function(){Qm=!0}}),window.addEventListener("test",Ba,Ba),window.removeEventListener("test",Ba,Ba)}catch{Qm=!1}function fD(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var ml=!1,vd=null,wd=!1,Ym=null,hD={onError:function(t){ml=!0,vd=t}};function pD(t,e,n,r,i,s,o,a,l){ml=!1,vd=null,fD.apply(hD,arguments)}function mD(t,e,n,r,i,s,o,a,l){if(pD.apply(this,arguments),ml){if(ml){var u=vd;ml=!1,vd=null}else throw Error(F(198));wd||(wd=!0,Ym=u)}}function no(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function XT(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function L_(t){if(no(t)!==t)throw Error(F(188))}function gD(t){var e=t.alternate;if(!e){if(e=no(t),e===null)throw Error(F(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return L_(i),t;if(s===r)return L_(i),e;s=s.sibling}throw Error(F(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(F(189))}}if(n.alternate!==r)throw Error(F(190))}if(n.tag!==3)throw Error(F(188));return n.stateNode.current===n?t:e}function JT(t){return t=gD(t),t!==null?ZT(t):null}function ZT(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=ZT(t);if(e!==null)return e;t=t.sibling}return null}var eb=In.unstable_scheduleCallback,j_=In.unstable_cancelCallback,yD=In.unstable_shouldYield,vD=In.unstable_requestPaint,rt=In.unstable_now,wD=In.unstable_getCurrentPriorityLevel,By=In.unstable_ImmediatePriority,tb=In.unstable_UserBlockingPriority,_d=In.unstable_NormalPriority,_D=In.unstable_LowPriority,nb=In.unstable_IdlePriority,Nf=null,Ir=null;function ED(t){if(Ir&&typeof Ir.onCommitFiberRoot=="function")try{Ir.onCommitFiberRoot(Nf,t,void 0,(t.current.flags&128)===128)}catch{}}var sr=Math.clz32?Math.clz32:bD,xD=Math.log,TD=Math.LN2;function bD(t){return t>>>=0,t===0?32:31-(xD(t)/TD|0)|0}var pc=64,mc=4194304;function il(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ed(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=il(a):(s&=o,s!==0&&(r=il(s)))}else o=n&~i,o!==0?r=il(o):s!==0&&(r=il(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-sr(e),i=1<<n,r|=t[n],e&=~i;return r}function ID(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function SD(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-sr(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=ID(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Xm(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function rb(){var t=pc;return pc<<=1,!(pc&4194240)&&(pc=64),t}function Ep(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Eu(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-sr(e),t[e]=n}function CD(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-sr(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function zy(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-sr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Ce=0;function ib(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var sb,Hy,ob,ab,lb,Jm=!1,gc=[],Vi=null,Fi=null,Ui=null,jl=new Map,Ml=new Map,Ii=[],AD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function M_(t,e){switch(t){case"focusin":case"focusout":Vi=null;break;case"dragenter":case"dragleave":Fi=null;break;case"mouseover":case"mouseout":Ui=null;break;case"pointerover":case"pointerout":jl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ml.delete(e.pointerId)}}function za(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Tu(e),e!==null&&Hy(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function PD(t,e,n,r,i){switch(e){case"focusin":return Vi=za(Vi,t,e,n,r,i),!0;case"dragenter":return Fi=za(Fi,t,e,n,r,i),!0;case"mouseover":return Ui=za(Ui,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return jl.set(s,za(jl.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Ml.set(s,za(Ml.get(s)||null,t,e,n,r,i)),!0}return!1}function ub(t){var e=bs(t.target);if(e!==null){var n=no(e);if(n!==null){if(e=n.tag,e===13){if(e=XT(n),e!==null){t.blockedOn=e,lb(t.priority,function(){ob(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Kc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Zm(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Km=r,n.target.dispatchEvent(r),Km=null}else return e=Tu(n),e!==null&&Hy(e),t.blockedOn=n,!1;e.shift()}return!0}function V_(t,e,n){Kc(t)&&n.delete(e)}function RD(){Jm=!1,Vi!==null&&Kc(Vi)&&(Vi=null),Fi!==null&&Kc(Fi)&&(Fi=null),Ui!==null&&Kc(Ui)&&(Ui=null),jl.forEach(V_),Ml.forEach(V_)}function Ha(t,e){t.blockedOn===e&&(t.blockedOn=null,Jm||(Jm=!0,In.unstable_scheduleCallback(In.unstable_NormalPriority,RD)))}function Vl(t){function e(i){return Ha(i,t)}if(0<gc.length){Ha(gc[0],t);for(var n=1;n<gc.length;n++){var r=gc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Vi!==null&&Ha(Vi,t),Fi!==null&&Ha(Fi,t),Ui!==null&&Ha(Ui,t),jl.forEach(e),Ml.forEach(e),n=0;n<Ii.length;n++)r=Ii[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ii.length&&(n=Ii[0],n.blockedOn===null);)ub(n),n.blockedOn===null&&Ii.shift()}var Ho=ai.ReactCurrentBatchConfig,xd=!0;function kD(t,e,n,r){var i=Ce,s=Ho.transition;Ho.transition=null;try{Ce=1,qy(t,e,n,r)}finally{Ce=i,Ho.transition=s}}function ND(t,e,n,r){var i=Ce,s=Ho.transition;Ho.transition=null;try{Ce=4,qy(t,e,n,r)}finally{Ce=i,Ho.transition=s}}function qy(t,e,n,r){if(xd){var i=Zm(t,e,n,r);if(i===null)kp(t,e,r,Td,n),M_(t,r);else if(PD(i,t,e,n,r))r.stopPropagation();else if(M_(t,r),e&4&&-1<AD.indexOf(t)){for(;i!==null;){var s=Tu(i);if(s!==null&&sb(s),s=Zm(t,e,n,r),s===null&&kp(t,e,r,Td,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else kp(t,e,r,null,n)}}var Td=null;function Zm(t,e,n,r){if(Td=null,t=$y(r),t=bs(t),t!==null)if(e=no(t),e===null)t=null;else if(n=e.tag,n===13){if(t=XT(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Td=t,null}function cb(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(wD()){case By:return 1;case tb:return 4;case _d:case _D:return 16;case nb:return 536870912;default:return 16}default:return 16}}var ki=null,Wy=null,Gc=null;function db(){if(Gc)return Gc;var t,e=Wy,n=e.length,r,i="value"in ki?ki.value:ki.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Gc=i.slice(t,1<r?1-r:void 0)}function Qc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function yc(){return!0}function F_(){return!1}function Rn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?yc:F_,this.isPropagationStopped=F_,this}return qe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=yc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=yc)},persist:function(){},isPersistent:yc}),e}var wa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ky=Rn(wa),xu=qe({},wa,{view:0,detail:0}),DD=Rn(xu),xp,Tp,qa,Df=qe({},xu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Gy,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==qa&&(qa&&t.type==="mousemove"?(xp=t.screenX-qa.screenX,Tp=t.screenY-qa.screenY):Tp=xp=0,qa=t),xp)},movementY:function(t){return"movementY"in t?t.movementY:Tp}}),U_=Rn(Df),OD=qe({},Df,{dataTransfer:0}),LD=Rn(OD),jD=qe({},xu,{relatedTarget:0}),bp=Rn(jD),MD=qe({},wa,{animationName:0,elapsedTime:0,pseudoElement:0}),VD=Rn(MD),FD=qe({},wa,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),UD=Rn(FD),$D=qe({},wa,{data:0}),$_=Rn($D),BD={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zD={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},HD={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qD(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=HD[t])?!!e[t]:!1}function Gy(){return qD}var WD=qe({},xu,{key:function(t){if(t.key){var e=BD[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Qc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?zD[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Gy,charCode:function(t){return t.type==="keypress"?Qc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Qc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),KD=Rn(WD),GD=qe({},Df,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),B_=Rn(GD),QD=qe({},xu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Gy}),YD=Rn(QD),XD=qe({},wa,{propertyName:0,elapsedTime:0,pseudoElement:0}),JD=Rn(XD),ZD=qe({},Df,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),eO=Rn(ZD),tO=[9,13,27,32],Qy=Xr&&"CompositionEvent"in window,gl=null;Xr&&"documentMode"in document&&(gl=document.documentMode);var nO=Xr&&"TextEvent"in window&&!gl,fb=Xr&&(!Qy||gl&&8<gl&&11>=gl),z_=String.fromCharCode(32),H_=!1;function hb(t,e){switch(t){case"keyup":return tO.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function pb(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Po=!1;function rO(t,e){switch(t){case"compositionend":return pb(e);case"keypress":return e.which!==32?null:(H_=!0,z_);case"textInput":return t=e.data,t===z_&&H_?null:t;default:return null}}function iO(t,e){if(Po)return t==="compositionend"||!Qy&&hb(t,e)?(t=db(),Gc=Wy=ki=null,Po=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return fb&&e.locale!=="ko"?null:e.data;default:return null}}var sO={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function q_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!sO[t.type]:e==="textarea"}function mb(t,e,n,r){WT(r),e=bd(e,"onChange"),0<e.length&&(n=new Ky("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var yl=null,Fl=null;function oO(t){Sb(t,0)}function Of(t){var e=No(t);if(FT(e))return t}function aO(t,e){if(t==="change")return e}var gb=!1;if(Xr){var Ip;if(Xr){var Sp="oninput"in document;if(!Sp){var W_=document.createElement("div");W_.setAttribute("oninput","return;"),Sp=typeof W_.oninput=="function"}Ip=Sp}else Ip=!1;gb=Ip&&(!document.documentMode||9<document.documentMode)}function K_(){yl&&(yl.detachEvent("onpropertychange",yb),Fl=yl=null)}function yb(t){if(t.propertyName==="value"&&Of(Fl)){var e=[];mb(e,Fl,t,$y(t)),YT(oO,e)}}function lO(t,e,n){t==="focusin"?(K_(),yl=e,Fl=n,yl.attachEvent("onpropertychange",yb)):t==="focusout"&&K_()}function uO(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Of(Fl)}function cO(t,e){if(t==="click")return Of(e)}function dO(t,e){if(t==="input"||t==="change")return Of(e)}function fO(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var lr=typeof Object.is=="function"?Object.is:fO;function Ul(t,e){if(lr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Lm.call(e,i)||!lr(t[i],e[i]))return!1}return!0}function G_(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Q_(t,e){var n=G_(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=G_(n)}}function vb(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?vb(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function wb(){for(var t=window,e=yd();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=yd(t.document)}return e}function Yy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function hO(t){var e=wb(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&vb(n.ownerDocument.documentElement,n)){if(r!==null&&Yy(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=Q_(n,s);var o=Q_(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var pO=Xr&&"documentMode"in document&&11>=document.documentMode,Ro=null,eg=null,vl=null,tg=!1;function Y_(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;tg||Ro==null||Ro!==yd(r)||(r=Ro,"selectionStart"in r&&Yy(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),vl&&Ul(vl,r)||(vl=r,r=bd(eg,"onSelect"),0<r.length&&(e=new Ky("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ro)))}function vc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ko={animationend:vc("Animation","AnimationEnd"),animationiteration:vc("Animation","AnimationIteration"),animationstart:vc("Animation","AnimationStart"),transitionend:vc("Transition","TransitionEnd")},Cp={},_b={};Xr&&(_b=document.createElement("div").style,"AnimationEvent"in window||(delete ko.animationend.animation,delete ko.animationiteration.animation,delete ko.animationstart.animation),"TransitionEvent"in window||delete ko.transitionend.transition);function Lf(t){if(Cp[t])return Cp[t];if(!ko[t])return t;var e=ko[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in _b)return Cp[t]=e[n];return t}var Eb=Lf("animationend"),xb=Lf("animationiteration"),Tb=Lf("animationstart"),bb=Lf("transitionend"),Ib=new Map,X_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function os(t,e){Ib.set(t,e),to(e,[t])}for(var Ap=0;Ap<X_.length;Ap++){var Pp=X_[Ap],mO=Pp.toLowerCase(),gO=Pp[0].toUpperCase()+Pp.slice(1);os(mO,"on"+gO)}os(Eb,"onAnimationEnd");os(xb,"onAnimationIteration");os(Tb,"onAnimationStart");os("dblclick","onDoubleClick");os("focusin","onFocus");os("focusout","onBlur");os(bb,"onTransitionEnd");Jo("onMouseEnter",["mouseout","mouseover"]);Jo("onMouseLeave",["mouseout","mouseover"]);Jo("onPointerEnter",["pointerout","pointerover"]);Jo("onPointerLeave",["pointerout","pointerover"]);to("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));to("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));to("onBeforeInput",["compositionend","keypress","textInput","paste"]);to("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));to("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));to("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var sl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),yO=new Set("cancel close invalid load scroll toggle".split(" ").concat(sl));function J_(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,mD(r,e,void 0,t),t.currentTarget=null}function Sb(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;J_(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;J_(i,a,u),s=l}}}if(wd)throw t=Ym,wd=!1,Ym=null,t}function Oe(t,e){var n=e[og];n===void 0&&(n=e[og]=new Set);var r=t+"__bubble";n.has(r)||(Cb(e,t,2,!1),n.add(r))}function Rp(t,e,n){var r=0;e&&(r|=4),Cb(n,t,r,e)}var wc="_reactListening"+Math.random().toString(36).slice(2);function $l(t){if(!t[wc]){t[wc]=!0,OT.forEach(function(n){n!=="selectionchange"&&(yO.has(n)||Rp(n,!1,t),Rp(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[wc]||(e[wc]=!0,Rp("selectionchange",!1,e))}}function Cb(t,e,n,r){switch(cb(e)){case 1:var i=kD;break;case 4:i=ND;break;default:i=qy}n=i.bind(null,e,n,t),i=void 0,!Qm||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function kp(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=bs(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}YT(function(){var u=s,c=$y(n),h=[];e:{var m=Ib.get(t);if(m!==void 0){var w=Ky,_=t;switch(t){case"keypress":if(Qc(n)===0)break e;case"keydown":case"keyup":w=KD;break;case"focusin":_="focus",w=bp;break;case"focusout":_="blur",w=bp;break;case"beforeblur":case"afterblur":w=bp;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":w=U_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":w=LD;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":w=YD;break;case Eb:case xb:case Tb:w=VD;break;case bb:w=JD;break;case"scroll":w=DD;break;case"wheel":w=eO;break;case"copy":case"cut":case"paste":w=UD;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":w=B_}var x=(e&4)!==0,b=!x&&t==="scroll",E=x?m!==null?m+"Capture":null:m;x=[];for(var v=u,T;v!==null;){T=v;var S=T.stateNode;if(T.tag===5&&S!==null&&(T=S,E!==null&&(S=Ll(v,E),S!=null&&x.push(Bl(v,S,T)))),b)break;v=v.return}0<x.length&&(m=new w(m,_,null,n,c),h.push({event:m,listeners:x}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",w=t==="mouseout"||t==="pointerout",m&&n!==Km&&(_=n.relatedTarget||n.fromElement)&&(bs(_)||_[Jr]))break e;if((w||m)&&(m=c.window===c?c:(m=c.ownerDocument)?m.defaultView||m.parentWindow:window,w?(_=n.relatedTarget||n.toElement,w=u,_=_?bs(_):null,_!==null&&(b=no(_),_!==b||_.tag!==5&&_.tag!==6)&&(_=null)):(w=null,_=u),w!==_)){if(x=U_,S="onMouseLeave",E="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(x=B_,S="onPointerLeave",E="onPointerEnter",v="pointer"),b=w==null?m:No(w),T=_==null?m:No(_),m=new x(S,v+"leave",w,n,c),m.target=b,m.relatedTarget=T,S=null,bs(c)===u&&(x=new x(E,v+"enter",_,n,c),x.target=T,x.relatedTarget=b,S=x),b=S,w&&_)t:{for(x=w,E=_,v=0,T=x;T;T=Eo(T))v++;for(T=0,S=E;S;S=Eo(S))T++;for(;0<v-T;)x=Eo(x),v--;for(;0<T-v;)E=Eo(E),T--;for(;v--;){if(x===E||E!==null&&x===E.alternate)break t;x=Eo(x),E=Eo(E)}x=null}else x=null;w!==null&&Z_(h,m,w,x,!1),_!==null&&b!==null&&Z_(h,b,_,x,!0)}}e:{if(m=u?No(u):window,w=m.nodeName&&m.nodeName.toLowerCase(),w==="select"||w==="input"&&m.type==="file")var P=aO;else if(q_(m))if(gb)P=dO;else{P=uO;var L=lO}else(w=m.nodeName)&&w.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(P=cO);if(P&&(P=P(t,u))){mb(h,P,n,c);break e}L&&L(t,m,u),t==="focusout"&&(L=m._wrapperState)&&L.controlled&&m.type==="number"&&Bm(m,"number",m.value)}switch(L=u?No(u):window,t){case"focusin":(q_(L)||L.contentEditable==="true")&&(Ro=L,eg=u,vl=null);break;case"focusout":vl=eg=Ro=null;break;case"mousedown":tg=!0;break;case"contextmenu":case"mouseup":case"dragend":tg=!1,Y_(h,n,c);break;case"selectionchange":if(pO)break;case"keydown":case"keyup":Y_(h,n,c)}var M;if(Qy)e:{switch(t){case"compositionstart":var U="onCompositionStart";break e;case"compositionend":U="onCompositionEnd";break e;case"compositionupdate":U="onCompositionUpdate";break e}U=void 0}else Po?hb(t,n)&&(U="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(U="onCompositionStart");U&&(fb&&n.locale!=="ko"&&(Po||U!=="onCompositionStart"?U==="onCompositionEnd"&&Po&&(M=db()):(ki=c,Wy="value"in ki?ki.value:ki.textContent,Po=!0)),L=bd(u,U),0<L.length&&(U=new $_(U,t,null,n,c),h.push({event:U,listeners:L}),M?U.data=M:(M=pb(n),M!==null&&(U.data=M)))),(M=nO?rO(t,n):iO(t,n))&&(u=bd(u,"onBeforeInput"),0<u.length&&(c=new $_("onBeforeInput","beforeinput",null,n,c),h.push({event:c,listeners:u}),c.data=M))}Sb(h,e)})}function Bl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function bd(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Ll(t,n),s!=null&&r.unshift(Bl(t,s,i)),s=Ll(t,e),s!=null&&r.push(Bl(t,s,i))),t=t.return}return r}function Eo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Z_(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Ll(n,s),l!=null&&o.unshift(Bl(n,l,a))):i||(l=Ll(n,s),l!=null&&o.push(Bl(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var vO=/\r\n?/g,wO=/\u0000|\uFFFD/g;function e1(t){return(typeof t=="string"?t:""+t).replace(vO,`
`).replace(wO,"")}function _c(t,e,n){if(e=e1(e),e1(t)!==e&&n)throw Error(F(425))}function Id(){}var ng=null,rg=null;function ig(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var sg=typeof setTimeout=="function"?setTimeout:void 0,_O=typeof clearTimeout=="function"?clearTimeout:void 0,t1=typeof Promise=="function"?Promise:void 0,EO=typeof queueMicrotask=="function"?queueMicrotask:typeof t1<"u"?function(t){return t1.resolve(null).then(t).catch(xO)}:sg;function xO(t){setTimeout(function(){throw t})}function Np(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Vl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Vl(e)}function $i(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function n1(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var _a=Math.random().toString(36).slice(2),yr="__reactFiber$"+_a,zl="__reactProps$"+_a,Jr="__reactContainer$"+_a,og="__reactEvents$"+_a,TO="__reactListeners$"+_a,bO="__reactHandles$"+_a;function bs(t){var e=t[yr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Jr]||n[yr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=n1(t);t!==null;){if(n=t[yr])return n;t=n1(t)}return e}t=n,n=t.parentNode}return null}function Tu(t){return t=t[yr]||t[Jr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function No(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(F(33))}function jf(t){return t[zl]||null}var ag=[],Do=-1;function as(t){return{current:t}}function Me(t){0>Do||(t.current=ag[Do],ag[Do]=null,Do--)}function Re(t,e){Do++,ag[Do]=t.current,t.current=e}var es={},Kt=as(es),un=as(!1),Fs=es;function Zo(t,e){var n=t.type.contextTypes;if(!n)return es;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function cn(t){return t=t.childContextTypes,t!=null}function Sd(){Me(un),Me(Kt)}function r1(t,e,n){if(Kt.current!==es)throw Error(F(168));Re(Kt,e),Re(un,n)}function Ab(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(F(108,lD(t)||"Unknown",i));return qe({},n,r)}function Cd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||es,Fs=Kt.current,Re(Kt,t),Re(un,un.current),!0}function i1(t,e,n){var r=t.stateNode;if(!r)throw Error(F(169));n?(t=Ab(t,e,Fs),r.__reactInternalMemoizedMergedChildContext=t,Me(un),Me(Kt),Re(Kt,t)):Me(un),Re(un,n)}var Ur=null,Mf=!1,Dp=!1;function Pb(t){Ur===null?Ur=[t]:Ur.push(t)}function IO(t){Mf=!0,Pb(t)}function ls(){if(!Dp&&Ur!==null){Dp=!0;var t=0,e=Ce;try{var n=Ur;for(Ce=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Ur=null,Mf=!1}catch(i){throw Ur!==null&&(Ur=Ur.slice(t+1)),eb(By,ls),i}finally{Ce=e,Dp=!1}}return null}var Oo=[],Lo=0,Ad=null,Pd=0,Mn=[],Vn=0,Us=null,zr=1,Hr="";function _s(t,e){Oo[Lo++]=Pd,Oo[Lo++]=Ad,Ad=t,Pd=e}function Rb(t,e,n){Mn[Vn++]=zr,Mn[Vn++]=Hr,Mn[Vn++]=Us,Us=t;var r=zr;t=Hr;var i=32-sr(r)-1;r&=~(1<<i),n+=1;var s=32-sr(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,zr=1<<32-sr(e)+i|n<<i|r,Hr=s+t}else zr=1<<s|n<<i|r,Hr=t}function Xy(t){t.return!==null&&(_s(t,1),Rb(t,1,0))}function Jy(t){for(;t===Ad;)Ad=Oo[--Lo],Oo[Lo]=null,Pd=Oo[--Lo],Oo[Lo]=null;for(;t===Us;)Us=Mn[--Vn],Mn[Vn]=null,Hr=Mn[--Vn],Mn[Vn]=null,zr=Mn[--Vn],Mn[Vn]=null}var Tn=null,vn=null,Fe=!1,tr=null;function kb(t,e){var n=Un(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function s1(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Tn=t,vn=$i(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Tn=t,vn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Us!==null?{id:zr,overflow:Hr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Un(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Tn=t,vn=null,!0):!1;default:return!1}}function lg(t){return(t.mode&1)!==0&&(t.flags&128)===0}function ug(t){if(Fe){var e=vn;if(e){var n=e;if(!s1(t,e)){if(lg(t))throw Error(F(418));e=$i(n.nextSibling);var r=Tn;e&&s1(t,e)?kb(r,n):(t.flags=t.flags&-4097|2,Fe=!1,Tn=t)}}else{if(lg(t))throw Error(F(418));t.flags=t.flags&-4097|2,Fe=!1,Tn=t}}}function o1(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Tn=t}function Ec(t){if(t!==Tn)return!1;if(!Fe)return o1(t),Fe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!ig(t.type,t.memoizedProps)),e&&(e=vn)){if(lg(t))throw Nb(),Error(F(418));for(;e;)kb(t,e),e=$i(e.nextSibling)}if(o1(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(F(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){vn=$i(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}vn=null}}else vn=Tn?$i(t.stateNode.nextSibling):null;return!0}function Nb(){for(var t=vn;t;)t=$i(t.nextSibling)}function ea(){vn=Tn=null,Fe=!1}function Zy(t){tr===null?tr=[t]:tr.push(t)}var SO=ai.ReactCurrentBatchConfig;function Zn(t,e){if(t&&t.defaultProps){e=qe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Rd=as(null),kd=null,jo=null,ev=null;function tv(){ev=jo=kd=null}function nv(t){var e=Rd.current;Me(Rd),t._currentValue=e}function cg(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function qo(t,e){kd=t,ev=jo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ln=!0),t.firstContext=null)}function qn(t){var e=t._currentValue;if(ev!==t)if(t={context:t,memoizedValue:e,next:null},jo===null){if(kd===null)throw Error(F(308));jo=t,kd.dependencies={lanes:0,firstContext:t}}else jo=jo.next=t;return e}var Is=null;function rv(t){Is===null?Is=[t]:Is.push(t)}function Db(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,rv(e)):(n.next=i.next,i.next=n),e.interleaved=n,Zr(t,r)}function Zr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var bi=!1;function iv(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ob(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Gr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Bi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ee&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Zr(t,n)}return i=r.interleaved,i===null?(e.next=e,rv(r)):(e.next=i.next,i.next=e),r.interleaved=e,Zr(t,n)}function Yc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,zy(t,n)}}function a1(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Nd(t,e,n,r){var i=t.updateQueue;bi=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,c=u=l=null,a=s;do{var m=a.lane,w=a.eventTime;if((r&m)===m){c!==null&&(c=c.next={eventTime:w,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var _=t,x=a;switch(m=e,w=n,x.tag){case 1:if(_=x.payload,typeof _=="function"){h=_.call(w,h,m);break e}h=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=x.payload,m=typeof _=="function"?_.call(w,h,m):_,m==null)break e;h=qe({},h,m);break e;case 2:bi=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,m=i.effects,m===null?i.effects=[a]:m.push(a))}else w={eventTime:w,lane:m,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=w,l=h):c=c.next=w,o|=m;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;m=a,a=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(1);if(c===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Bs|=o,t.lanes=o,t.memoizedState=h}}function l1(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(F(191,i));i.call(r)}}}var Lb=new DT.Component().refs;function dg(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:qe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Vf={isMounted:function(t){return(t=t._reactInternals)?no(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=tn(),i=Hi(t),s=Gr(r,i);s.payload=e,n!=null&&(s.callback=n),e=Bi(t,s,i),e!==null&&(or(e,t,i,r),Yc(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=tn(),i=Hi(t),s=Gr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Bi(t,s,i),e!==null&&(or(e,t,i,r),Yc(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=tn(),r=Hi(t),i=Gr(n,r);i.tag=2,e!=null&&(i.callback=e),e=Bi(t,i,r),e!==null&&(or(e,t,r,n),Yc(e,t,r))}};function u1(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Ul(n,r)||!Ul(i,s):!0}function jb(t,e,n){var r=!1,i=es,s=e.contextType;return typeof s=="object"&&s!==null?s=qn(s):(i=cn(e)?Fs:Kt.current,r=e.contextTypes,s=(r=r!=null)?Zo(t,i):es),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Vf,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function c1(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Vf.enqueueReplaceState(e,e.state,null)}function fg(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=Lb,iv(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=qn(s):(s=cn(e)?Fs:Kt.current,i.context=Zo(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(dg(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Vf.enqueueReplaceState(i,i.state,null),Nd(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Wa(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(F(309));var r=n.stateNode}if(!r)throw Error(F(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===Lb&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(F(284));if(!n._owner)throw Error(F(290,t))}return t}function xc(t,e){throw t=Object.prototype.toString.call(e),Error(F(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function d1(t){var e=t._init;return e(t._payload)}function Mb(t){function e(E,v){if(t){var T=E.deletions;T===null?(E.deletions=[v],E.flags|=16):T.push(v)}}function n(E,v){if(!t)return null;for(;v!==null;)e(E,v),v=v.sibling;return null}function r(E,v){for(E=new Map;v!==null;)v.key!==null?E.set(v.key,v):E.set(v.index,v),v=v.sibling;return E}function i(E,v){return E=qi(E,v),E.index=0,E.sibling=null,E}function s(E,v,T){return E.index=T,t?(T=E.alternate,T!==null?(T=T.index,T<v?(E.flags|=2,v):T):(E.flags|=2,v)):(E.flags|=1048576,v)}function o(E){return t&&E.alternate===null&&(E.flags|=2),E}function a(E,v,T,S){return v===null||v.tag!==6?(v=Up(T,E.mode,S),v.return=E,v):(v=i(v,T),v.return=E,v)}function l(E,v,T,S){var P=T.type;return P===Ao?c(E,v,T.props.children,S,T.key):v!==null&&(v.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Ti&&d1(P)===v.type)?(S=i(v,T.props),S.ref=Wa(E,v,T),S.return=E,S):(S=nd(T.type,T.key,T.props,null,E.mode,S),S.ref=Wa(E,v,T),S.return=E,S)}function u(E,v,T,S){return v===null||v.tag!==4||v.stateNode.containerInfo!==T.containerInfo||v.stateNode.implementation!==T.implementation?(v=$p(T,E.mode,S),v.return=E,v):(v=i(v,T.children||[]),v.return=E,v)}function c(E,v,T,S,P){return v===null||v.tag!==7?(v=Os(T,E.mode,S,P),v.return=E,v):(v=i(v,T),v.return=E,v)}function h(E,v,T){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Up(""+v,E.mode,T),v.return=E,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case dc:return T=nd(v.type,v.key,v.props,null,E.mode,T),T.ref=Wa(E,null,v),T.return=E,T;case Co:return v=$p(v,E.mode,T),v.return=E,v;case Ti:var S=v._init;return h(E,S(v._payload),T)}if(rl(v)||$a(v))return v=Os(v,E.mode,T,null),v.return=E,v;xc(E,v)}return null}function m(E,v,T,S){var P=v!==null?v.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return P!==null?null:a(E,v,""+T,S);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case dc:return T.key===P?l(E,v,T,S):null;case Co:return T.key===P?u(E,v,T,S):null;case Ti:return P=T._init,m(E,v,P(T._payload),S)}if(rl(T)||$a(T))return P!==null?null:c(E,v,T,S,null);xc(E,T)}return null}function w(E,v,T,S,P){if(typeof S=="string"&&S!==""||typeof S=="number")return E=E.get(T)||null,a(v,E,""+S,P);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case dc:return E=E.get(S.key===null?T:S.key)||null,l(v,E,S,P);case Co:return E=E.get(S.key===null?T:S.key)||null,u(v,E,S,P);case Ti:var L=S._init;return w(E,v,T,L(S._payload),P)}if(rl(S)||$a(S))return E=E.get(T)||null,c(v,E,S,P,null);xc(v,S)}return null}function _(E,v,T,S){for(var P=null,L=null,M=v,U=v=0,Z=null;M!==null&&U<T.length;U++){M.index>U?(Z=M,M=null):Z=M.sibling;var G=m(E,M,T[U],S);if(G===null){M===null&&(M=Z);break}t&&M&&G.alternate===null&&e(E,M),v=s(G,v,U),L===null?P=G:L.sibling=G,L=G,M=Z}if(U===T.length)return n(E,M),Fe&&_s(E,U),P;if(M===null){for(;U<T.length;U++)M=h(E,T[U],S),M!==null&&(v=s(M,v,U),L===null?P=M:L.sibling=M,L=M);return Fe&&_s(E,U),P}for(M=r(E,M);U<T.length;U++)Z=w(M,E,U,T[U],S),Z!==null&&(t&&Z.alternate!==null&&M.delete(Z.key===null?U:Z.key),v=s(Z,v,U),L===null?P=Z:L.sibling=Z,L=Z);return t&&M.forEach(function(ce){return e(E,ce)}),Fe&&_s(E,U),P}function x(E,v,T,S){var P=$a(T);if(typeof P!="function")throw Error(F(150));if(T=P.call(T),T==null)throw Error(F(151));for(var L=P=null,M=v,U=v=0,Z=null,G=T.next();M!==null&&!G.done;U++,G=T.next()){M.index>U?(Z=M,M=null):Z=M.sibling;var ce=m(E,M,G.value,S);if(ce===null){M===null&&(M=Z);break}t&&M&&ce.alternate===null&&e(E,M),v=s(ce,v,U),L===null?P=ce:L.sibling=ce,L=ce,M=Z}if(G.done)return n(E,M),Fe&&_s(E,U),P;if(M===null){for(;!G.done;U++,G=T.next())G=h(E,G.value,S),G!==null&&(v=s(G,v,U),L===null?P=G:L.sibling=G,L=G);return Fe&&_s(E,U),P}for(M=r(E,M);!G.done;U++,G=T.next())G=w(M,E,U,G.value,S),G!==null&&(t&&G.alternate!==null&&M.delete(G.key===null?U:G.key),v=s(G,v,U),L===null?P=G:L.sibling=G,L=G);return t&&M.forEach(function(ee){return e(E,ee)}),Fe&&_s(E,U),P}function b(E,v,T,S){if(typeof T=="object"&&T!==null&&T.type===Ao&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case dc:e:{for(var P=T.key,L=v;L!==null;){if(L.key===P){if(P=T.type,P===Ao){if(L.tag===7){n(E,L.sibling),v=i(L,T.props.children),v.return=E,E=v;break e}}else if(L.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Ti&&d1(P)===L.type){n(E,L.sibling),v=i(L,T.props),v.ref=Wa(E,L,T),v.return=E,E=v;break e}n(E,L);break}else e(E,L);L=L.sibling}T.type===Ao?(v=Os(T.props.children,E.mode,S,T.key),v.return=E,E=v):(S=nd(T.type,T.key,T.props,null,E.mode,S),S.ref=Wa(E,v,T),S.return=E,E=S)}return o(E);case Co:e:{for(L=T.key;v!==null;){if(v.key===L)if(v.tag===4&&v.stateNode.containerInfo===T.containerInfo&&v.stateNode.implementation===T.implementation){n(E,v.sibling),v=i(v,T.children||[]),v.return=E,E=v;break e}else{n(E,v);break}else e(E,v);v=v.sibling}v=$p(T,E.mode,S),v.return=E,E=v}return o(E);case Ti:return L=T._init,b(E,v,L(T._payload),S)}if(rl(T))return _(E,v,T,S);if($a(T))return x(E,v,T,S);xc(E,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,v!==null&&v.tag===6?(n(E,v.sibling),v=i(v,T),v.return=E,E=v):(n(E,v),v=Up(T,E.mode,S),v.return=E,E=v),o(E)):n(E,v)}return b}var ta=Mb(!0),Vb=Mb(!1),bu={},Sr=as(bu),Hl=as(bu),ql=as(bu);function Ss(t){if(t===bu)throw Error(F(174));return t}function sv(t,e){switch(Re(ql,e),Re(Hl,t),Re(Sr,bu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Hm(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Hm(e,t)}Me(Sr),Re(Sr,e)}function na(){Me(Sr),Me(Hl),Me(ql)}function Fb(t){Ss(ql.current);var e=Ss(Sr.current),n=Hm(e,t.type);e!==n&&(Re(Hl,t),Re(Sr,n))}function ov(t){Hl.current===t&&(Me(Sr),Me(Hl))}var Be=as(0);function Dd(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Op=[];function av(){for(var t=0;t<Op.length;t++)Op[t]._workInProgressVersionPrimary=null;Op.length=0}var Xc=ai.ReactCurrentDispatcher,Lp=ai.ReactCurrentBatchConfig,$s=0,ze=null,ut=null,vt=null,Od=!1,wl=!1,Wl=0,CO=0;function Vt(){throw Error(F(321))}function lv(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!lr(t[n],e[n]))return!1;return!0}function uv(t,e,n,r,i,s){if($s=s,ze=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Xc.current=t===null||t.memoizedState===null?kO:NO,t=n(r,i),wl){s=0;do{if(wl=!1,Wl=0,25<=s)throw Error(F(301));s+=1,vt=ut=null,e.updateQueue=null,Xc.current=DO,t=n(r,i)}while(wl)}if(Xc.current=Ld,e=ut!==null&&ut.next!==null,$s=0,vt=ut=ze=null,Od=!1,e)throw Error(F(300));return t}function cv(){var t=Wl!==0;return Wl=0,t}function gr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vt===null?ze.memoizedState=vt=t:vt=vt.next=t,vt}function Wn(){if(ut===null){var t=ze.alternate;t=t!==null?t.memoizedState:null}else t=ut.next;var e=vt===null?ze.memoizedState:vt.next;if(e!==null)vt=e,ut=t;else{if(t===null)throw Error(F(310));ut=t,t={memoizedState:ut.memoizedState,baseState:ut.baseState,baseQueue:ut.baseQueue,queue:ut.queue,next:null},vt===null?ze.memoizedState=vt=t:vt=vt.next=t}return vt}function Kl(t,e){return typeof e=="function"?e(t):e}function jp(t){var e=Wn(),n=e.queue;if(n===null)throw Error(F(311));n.lastRenderedReducer=t;var r=ut,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if(($s&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,ze.lanes|=c,Bs|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,lr(r,e.memoizedState)||(ln=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,ze.lanes|=s,Bs|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Mp(t){var e=Wn(),n=e.queue;if(n===null)throw Error(F(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);lr(s,e.memoizedState)||(ln=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function Ub(){}function $b(t,e){var n=ze,r=Wn(),i=e(),s=!lr(r.memoizedState,i);if(s&&(r.memoizedState=i,ln=!0),r=r.queue,dv(Hb.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||vt!==null&&vt.memoizedState.tag&1){if(n.flags|=2048,Gl(9,zb.bind(null,n,r,i,e),void 0,null),wt===null)throw Error(F(349));$s&30||Bb(n,e,i)}return i}function Bb(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ze.updateQueue,e===null?(e={lastEffect:null,stores:null},ze.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function zb(t,e,n,r){e.value=n,e.getSnapshot=r,qb(e)&&Wb(t)}function Hb(t,e,n){return n(function(){qb(e)&&Wb(t)})}function qb(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!lr(t,n)}catch{return!0}}function Wb(t){var e=Zr(t,1);e!==null&&or(e,t,1,-1)}function f1(t){var e=gr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Kl,lastRenderedState:t},e.queue=t,t=t.dispatch=RO.bind(null,ze,t),[e.memoizedState,t]}function Gl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ze.updateQueue,e===null?(e={lastEffect:null,stores:null},ze.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Kb(){return Wn().memoizedState}function Jc(t,e,n,r){var i=gr();ze.flags|=t,i.memoizedState=Gl(1|e,n,void 0,r===void 0?null:r)}function Ff(t,e,n,r){var i=Wn();r=r===void 0?null:r;var s=void 0;if(ut!==null){var o=ut.memoizedState;if(s=o.destroy,r!==null&&lv(r,o.deps)){i.memoizedState=Gl(e,n,s,r);return}}ze.flags|=t,i.memoizedState=Gl(1|e,n,s,r)}function h1(t,e){return Jc(8390656,8,t,e)}function dv(t,e){return Ff(2048,8,t,e)}function Gb(t,e){return Ff(4,2,t,e)}function Qb(t,e){return Ff(4,4,t,e)}function Yb(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Xb(t,e,n){return n=n!=null?n.concat([t]):null,Ff(4,4,Yb.bind(null,e,t),n)}function fv(){}function Jb(t,e){var n=Wn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&lv(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Zb(t,e){var n=Wn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&lv(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function eI(t,e,n){return $s&21?(lr(n,e)||(n=rb(),ze.lanes|=n,Bs|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ln=!0),t.memoizedState=n)}function AO(t,e){var n=Ce;Ce=n!==0&&4>n?n:4,t(!0);var r=Lp.transition;Lp.transition={};try{t(!1),e()}finally{Ce=n,Lp.transition=r}}function tI(){return Wn().memoizedState}function PO(t,e,n){var r=Hi(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},nI(t))rI(e,n);else if(n=Db(t,e,n,r),n!==null){var i=tn();or(n,t,r,i),iI(n,e,r)}}function RO(t,e,n){var r=Hi(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(nI(t))rI(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,lr(a,o)){var l=e.interleaved;l===null?(i.next=i,rv(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=Db(t,e,i,r),n!==null&&(i=tn(),or(n,t,r,i),iI(n,e,r))}}function nI(t){var e=t.alternate;return t===ze||e!==null&&e===ze}function rI(t,e){wl=Od=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function iI(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,zy(t,n)}}var Ld={readContext:qn,useCallback:Vt,useContext:Vt,useEffect:Vt,useImperativeHandle:Vt,useInsertionEffect:Vt,useLayoutEffect:Vt,useMemo:Vt,useReducer:Vt,useRef:Vt,useState:Vt,useDebugValue:Vt,useDeferredValue:Vt,useTransition:Vt,useMutableSource:Vt,useSyncExternalStore:Vt,useId:Vt,unstable_isNewReconciler:!1},kO={readContext:qn,useCallback:function(t,e){return gr().memoizedState=[t,e===void 0?null:e],t},useContext:qn,useEffect:h1,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Jc(4194308,4,Yb.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Jc(4194308,4,t,e)},useInsertionEffect:function(t,e){return Jc(4,2,t,e)},useMemo:function(t,e){var n=gr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=gr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=PO.bind(null,ze,t),[r.memoizedState,t]},useRef:function(t){var e=gr();return t={current:t},e.memoizedState=t},useState:f1,useDebugValue:fv,useDeferredValue:function(t){return gr().memoizedState=t},useTransition:function(){var t=f1(!1),e=t[0];return t=AO.bind(null,t[1]),gr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ze,i=gr();if(Fe){if(n===void 0)throw Error(F(407));n=n()}else{if(n=e(),wt===null)throw Error(F(349));$s&30||Bb(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,h1(Hb.bind(null,r,s,t),[t]),r.flags|=2048,Gl(9,zb.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=gr(),e=wt.identifierPrefix;if(Fe){var n=Hr,r=zr;n=(r&~(1<<32-sr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Wl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=CO++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},NO={readContext:qn,useCallback:Jb,useContext:qn,useEffect:dv,useImperativeHandle:Xb,useInsertionEffect:Gb,useLayoutEffect:Qb,useMemo:Zb,useReducer:jp,useRef:Kb,useState:function(){return jp(Kl)},useDebugValue:fv,useDeferredValue:function(t){var e=Wn();return eI(e,ut.memoizedState,t)},useTransition:function(){var t=jp(Kl)[0],e=Wn().memoizedState;return[t,e]},useMutableSource:Ub,useSyncExternalStore:$b,useId:tI,unstable_isNewReconciler:!1},DO={readContext:qn,useCallback:Jb,useContext:qn,useEffect:dv,useImperativeHandle:Xb,useInsertionEffect:Gb,useLayoutEffect:Qb,useMemo:Zb,useReducer:Mp,useRef:Kb,useState:function(){return Mp(Kl)},useDebugValue:fv,useDeferredValue:function(t){var e=Wn();return ut===null?e.memoizedState=t:eI(e,ut.memoizedState,t)},useTransition:function(){var t=Mp(Kl)[0],e=Wn().memoizedState;return[t,e]},useMutableSource:Ub,useSyncExternalStore:$b,useId:tI,unstable_isNewReconciler:!1};function ra(t,e){try{var n="",r=e;do n+=aD(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Vp(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function hg(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var OO=typeof WeakMap=="function"?WeakMap:Map;function sI(t,e,n){n=Gr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Md||(Md=!0,Tg=r),hg(t,e)},n}function oI(t,e,n){n=Gr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){hg(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){hg(t,e),typeof r!="function"&&(zi===null?zi=new Set([this]):zi.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function p1(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new OO;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=GO.bind(null,t,e,n),e.then(t,t))}function m1(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function g1(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Gr(-1,1),e.tag=2,Bi(n,e,1))),n.lanes|=1),t)}var LO=ai.ReactCurrentOwner,ln=!1;function Jt(t,e,n,r){e.child=t===null?Vb(e,null,n,r):ta(e,t.child,n,r)}function y1(t,e,n,r,i){n=n.render;var s=e.ref;return qo(e,i),r=uv(t,e,n,r,s,i),n=cv(),t!==null&&!ln?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ei(t,e,i)):(Fe&&n&&Xy(e),e.flags|=1,Jt(t,e,r,i),e.child)}function v1(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!_v(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,aI(t,e,s,r,i)):(t=nd(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Ul,n(o,r)&&t.ref===e.ref)return ei(t,e,i)}return e.flags|=1,t=qi(s,r),t.ref=e.ref,t.return=e,e.child=t}function aI(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Ul(s,r)&&t.ref===e.ref)if(ln=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(ln=!0);else return e.lanes=t.lanes,ei(t,e,i)}return pg(t,e,n,r,i)}function lI(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Re(Vo,gn),gn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Re(Vo,gn),gn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Re(Vo,gn),gn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Re(Vo,gn),gn|=r;return Jt(t,e,i,n),e.child}function uI(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function pg(t,e,n,r,i){var s=cn(n)?Fs:Kt.current;return s=Zo(e,s),qo(e,i),n=uv(t,e,n,r,s,i),r=cv(),t!==null&&!ln?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ei(t,e,i)):(Fe&&r&&Xy(e),e.flags|=1,Jt(t,e,n,i),e.child)}function w1(t,e,n,r,i){if(cn(n)){var s=!0;Cd(e)}else s=!1;if(qo(e,i),e.stateNode===null)Zc(t,e),jb(e,n,r),fg(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=qn(u):(u=cn(n)?Fs:Kt.current,u=Zo(e,u));var c=n.getDerivedStateFromProps,h=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&c1(e,o,r,u),bi=!1;var m=e.memoizedState;o.state=m,Nd(e,r,o,i),l=e.memoizedState,a!==r||m!==l||un.current||bi?(typeof c=="function"&&(dg(e,n,c,r),l=e.memoizedState),(a=bi||u1(e,n,a,r,m,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Ob(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Zn(e.type,a),o.props=u,h=e.pendingProps,m=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=qn(l):(l=cn(n)?Fs:Kt.current,l=Zo(e,l));var w=n.getDerivedStateFromProps;(c=typeof w=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||m!==l)&&c1(e,o,r,l),bi=!1,m=e.memoizedState,o.state=m,Nd(e,r,o,i);var _=e.memoizedState;a!==h||m!==_||un.current||bi?(typeof w=="function"&&(dg(e,n,w,r),_=e.memoizedState),(u=bi||u1(e,n,u,r,m,_,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,_,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,_,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=_),o.props=r,o.state=_,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return mg(t,e,n,r,s,i)}function mg(t,e,n,r,i,s){uI(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&i1(e,n,!1),ei(t,e,s);r=e.stateNode,LO.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=ta(e,t.child,null,s),e.child=ta(e,null,a,s)):Jt(t,e,a,s),e.memoizedState=r.state,i&&i1(e,n,!0),e.child}function cI(t){var e=t.stateNode;e.pendingContext?r1(t,e.pendingContext,e.pendingContext!==e.context):e.context&&r1(t,e.context,!1),sv(t,e.containerInfo)}function _1(t,e,n,r,i){return ea(),Zy(i),e.flags|=256,Jt(t,e,n,r),e.child}var gg={dehydrated:null,treeContext:null,retryLane:0};function yg(t){return{baseLanes:t,cachePool:null,transitions:null}}function dI(t,e,n){var r=e.pendingProps,i=Be.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Re(Be,i&1),t===null)return ug(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Bf(o,r,0,null),t=Os(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=yg(n),e.memoizedState=gg,t):hv(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return jO(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=qi(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=qi(a,s):(s=Os(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?yg(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=gg,r}return s=t.child,t=s.sibling,r=qi(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function hv(t,e){return e=Bf({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Tc(t,e,n,r){return r!==null&&Zy(r),ta(e,t.child,null,n),t=hv(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function jO(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Vp(Error(F(422))),Tc(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Bf({mode:"visible",children:r.children},i,0,null),s=Os(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&ta(e,t.child,null,o),e.child.memoizedState=yg(o),e.memoizedState=gg,s);if(!(e.mode&1))return Tc(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(F(419)),r=Vp(s,r,void 0),Tc(t,e,o,r)}if(a=(o&t.childLanes)!==0,ln||a){if(r=wt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Zr(t,i),or(r,t,i,-1))}return wv(),r=Vp(Error(F(421))),Tc(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=QO.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,vn=$i(i.nextSibling),Tn=e,Fe=!0,tr=null,t!==null&&(Mn[Vn++]=zr,Mn[Vn++]=Hr,Mn[Vn++]=Us,zr=t.id,Hr=t.overflow,Us=e),e=hv(e,r.children),e.flags|=4096,e)}function E1(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),cg(t.return,e,n)}function Fp(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function fI(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Jt(t,e,r.children,n),r=Be.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&E1(t,n,e);else if(t.tag===19)E1(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Re(Be,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Dd(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Fp(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Dd(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Fp(e,!0,n,null,s);break;case"together":Fp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Zc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ei(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Bs|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(F(153));if(e.child!==null){for(t=e.child,n=qi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=qi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function MO(t,e,n){switch(e.tag){case 3:cI(e),ea();break;case 5:Fb(e);break;case 1:cn(e.type)&&Cd(e);break;case 4:sv(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Re(Rd,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Re(Be,Be.current&1),e.flags|=128,null):n&e.child.childLanes?dI(t,e,n):(Re(Be,Be.current&1),t=ei(t,e,n),t!==null?t.sibling:null);Re(Be,Be.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return fI(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Re(Be,Be.current),r)break;return null;case 22:case 23:return e.lanes=0,lI(t,e,n)}return ei(t,e,n)}var hI,vg,pI,mI;hI=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};vg=function(){};pI=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Ss(Sr.current);var s=null;switch(n){case"input":i=Um(t,i),r=Um(t,r),s=[];break;case"select":i=qe({},i,{value:void 0}),r=qe({},r,{value:void 0}),s=[];break;case"textarea":i=zm(t,i),r=zm(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Id)}qm(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Dl.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Dl.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Oe("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};mI=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ka(t,e){if(!Fe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ft(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function VO(t,e,n){var r=e.pendingProps;switch(Jy(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ft(e),null;case 1:return cn(e.type)&&Sd(),Ft(e),null;case 3:return r=e.stateNode,na(),Me(un),Me(Kt),av(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ec(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,tr!==null&&(Sg(tr),tr=null))),vg(t,e),Ft(e),null;case 5:ov(e);var i=Ss(ql.current);if(n=e.type,t!==null&&e.stateNode!=null)pI(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(F(166));return Ft(e),null}if(t=Ss(Sr.current),Ec(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[yr]=e,r[zl]=s,t=(e.mode&1)!==0,n){case"dialog":Oe("cancel",r),Oe("close",r);break;case"iframe":case"object":case"embed":Oe("load",r);break;case"video":case"audio":for(i=0;i<sl.length;i++)Oe(sl[i],r);break;case"source":Oe("error",r);break;case"img":case"image":case"link":Oe("error",r),Oe("load",r);break;case"details":Oe("toggle",r);break;case"input":R_(r,s),Oe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Oe("invalid",r);break;case"textarea":N_(r,s),Oe("invalid",r)}qm(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&_c(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&_c(r.textContent,a,t),i=["children",""+a]):Dl.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Oe("scroll",r)}switch(n){case"input":fc(r),k_(r,s,!0);break;case"textarea":fc(r),D_(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Id)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=BT(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[yr]=e,t[zl]=r,hI(t,e,!1,!1),e.stateNode=t;e:{switch(o=Wm(n,r),n){case"dialog":Oe("cancel",t),Oe("close",t),i=r;break;case"iframe":case"object":case"embed":Oe("load",t),i=r;break;case"video":case"audio":for(i=0;i<sl.length;i++)Oe(sl[i],t);i=r;break;case"source":Oe("error",t),i=r;break;case"img":case"image":case"link":Oe("error",t),Oe("load",t),i=r;break;case"details":Oe("toggle",t),i=r;break;case"input":R_(t,r),i=Um(t,r),Oe("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=qe({},r,{value:void 0}),Oe("invalid",t);break;case"textarea":N_(t,r),i=zm(t,r),Oe("invalid",t);break;default:i=r}qm(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?qT(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&zT(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Ol(t,l):typeof l=="number"&&Ol(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Dl.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Oe("scroll",t):l!=null&&My(t,s,l,o))}switch(n){case"input":fc(t),k_(t,r,!1);break;case"textarea":fc(t),D_(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Zi(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?$o(t,!!r.multiple,s,!1):r.defaultValue!=null&&$o(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Id)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ft(e),null;case 6:if(t&&e.stateNode!=null)mI(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(F(166));if(n=Ss(ql.current),Ss(Sr.current),Ec(e)){if(r=e.stateNode,n=e.memoizedProps,r[yr]=e,(s=r.nodeValue!==n)&&(t=Tn,t!==null))switch(t.tag){case 3:_c(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&_c(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[yr]=e,e.stateNode=r}return Ft(e),null;case 13:if(Me(Be),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Fe&&vn!==null&&e.mode&1&&!(e.flags&128))Nb(),ea(),e.flags|=98560,s=!1;else if(s=Ec(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(F(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(F(317));s[yr]=e}else ea(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ft(e),s=!1}else tr!==null&&(Sg(tr),tr=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Be.current&1?dt===0&&(dt=3):wv())),e.updateQueue!==null&&(e.flags|=4),Ft(e),null);case 4:return na(),vg(t,e),t===null&&$l(e.stateNode.containerInfo),Ft(e),null;case 10:return nv(e.type._context),Ft(e),null;case 17:return cn(e.type)&&Sd(),Ft(e),null;case 19:if(Me(Be),s=e.memoizedState,s===null)return Ft(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Ka(s,!1);else{if(dt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Dd(t),o!==null){for(e.flags|=128,Ka(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Re(Be,Be.current&1|2),e.child}t=t.sibling}s.tail!==null&&rt()>ia&&(e.flags|=128,r=!0,Ka(s,!1),e.lanes=4194304)}else{if(!r)if(t=Dd(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ka(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Fe)return Ft(e),null}else 2*rt()-s.renderingStartTime>ia&&n!==1073741824&&(e.flags|=128,r=!0,Ka(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=rt(),e.sibling=null,n=Be.current,Re(Be,r?n&1|2:n&1),e):(Ft(e),null);case 22:case 23:return vv(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?gn&1073741824&&(Ft(e),e.subtreeFlags&6&&(e.flags|=8192)):Ft(e),null;case 24:return null;case 25:return null}throw Error(F(156,e.tag))}function FO(t,e){switch(Jy(e),e.tag){case 1:return cn(e.type)&&Sd(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return na(),Me(un),Me(Kt),av(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return ov(e),null;case 13:if(Me(Be),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(F(340));ea()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Me(Be),null;case 4:return na(),null;case 10:return nv(e.type._context),null;case 22:case 23:return vv(),null;case 24:return null;default:return null}}var bc=!1,Bt=!1,UO=typeof WeakSet=="function"?WeakSet:Set,Q=null;function Mo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ge(t,e,r)}else n.current=null}function wg(t,e,n){try{n()}catch(r){Ge(t,e,r)}}var x1=!1;function $O(t,e){if(ng=xd,t=wb(),Yy(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,h=t,m=null;t:for(;;){for(var w;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(w=h.firstChild)!==null;)m=h,h=w;for(;;){if(h===t)break t;if(m===n&&++u===i&&(a=o),m===s&&++c===r&&(l=o),(w=h.nextSibling)!==null)break;h=m,m=h.parentNode}h=w}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(rg={focusedElem:t,selectionRange:n},xd=!1,Q=e;Q!==null;)if(e=Q,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Q=t;else for(;Q!==null;){e=Q;try{var _=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var x=_.memoizedProps,b=_.memoizedState,E=e.stateNode,v=E.getSnapshotBeforeUpdate(e.elementType===e.type?x:Zn(e.type,x),b);E.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var T=e.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(F(163))}}catch(S){Ge(e,e.return,S)}if(t=e.sibling,t!==null){t.return=e.return,Q=t;break}Q=e.return}return _=x1,x1=!1,_}function _l(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&wg(e,n,s)}i=i.next}while(i!==r)}}function Uf(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function _g(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function gI(t){var e=t.alternate;e!==null&&(t.alternate=null,gI(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[yr],delete e[zl],delete e[og],delete e[TO],delete e[bO])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function yI(t){return t.tag===5||t.tag===3||t.tag===4}function T1(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||yI(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Eg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Id));else if(r!==4&&(t=t.child,t!==null))for(Eg(t,e,n),t=t.sibling;t!==null;)Eg(t,e,n),t=t.sibling}function xg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(xg(t,e,n),t=t.sibling;t!==null;)xg(t,e,n),t=t.sibling}var St=null,er=!1;function vi(t,e,n){for(n=n.child;n!==null;)vI(t,e,n),n=n.sibling}function vI(t,e,n){if(Ir&&typeof Ir.onCommitFiberUnmount=="function")try{Ir.onCommitFiberUnmount(Nf,n)}catch{}switch(n.tag){case 5:Bt||Mo(n,e);case 6:var r=St,i=er;St=null,vi(t,e,n),St=r,er=i,St!==null&&(er?(t=St,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):St.removeChild(n.stateNode));break;case 18:St!==null&&(er?(t=St,n=n.stateNode,t.nodeType===8?Np(t.parentNode,n):t.nodeType===1&&Np(t,n),Vl(t)):Np(St,n.stateNode));break;case 4:r=St,i=er,St=n.stateNode.containerInfo,er=!0,vi(t,e,n),St=r,er=i;break;case 0:case 11:case 14:case 15:if(!Bt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&wg(n,e,o),i=i.next}while(i!==r)}vi(t,e,n);break;case 1:if(!Bt&&(Mo(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ge(n,e,a)}vi(t,e,n);break;case 21:vi(t,e,n);break;case 22:n.mode&1?(Bt=(r=Bt)||n.memoizedState!==null,vi(t,e,n),Bt=r):vi(t,e,n);break;default:vi(t,e,n)}}function b1(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new UO),e.forEach(function(r){var i=YO.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Jn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:St=a.stateNode,er=!1;break e;case 3:St=a.stateNode.containerInfo,er=!0;break e;case 4:St=a.stateNode.containerInfo,er=!0;break e}a=a.return}if(St===null)throw Error(F(160));vI(s,o,i),St=null,er=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Ge(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)wI(e,t),e=e.sibling}function wI(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Jn(e,t),mr(t),r&4){try{_l(3,t,t.return),Uf(3,t)}catch(x){Ge(t,t.return,x)}try{_l(5,t,t.return)}catch(x){Ge(t,t.return,x)}}break;case 1:Jn(e,t),mr(t),r&512&&n!==null&&Mo(n,n.return);break;case 5:if(Jn(e,t),mr(t),r&512&&n!==null&&Mo(n,n.return),t.flags&32){var i=t.stateNode;try{Ol(i,"")}catch(x){Ge(t,t.return,x)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&UT(i,s),Wm(a,o);var u=Wm(a,s);for(o=0;o<l.length;o+=2){var c=l[o],h=l[o+1];c==="style"?qT(i,h):c==="dangerouslySetInnerHTML"?zT(i,h):c==="children"?Ol(i,h):My(i,c,h,u)}switch(a){case"input":$m(i,s);break;case"textarea":$T(i,s);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var w=s.value;w!=null?$o(i,!!s.multiple,w,!1):m!==!!s.multiple&&(s.defaultValue!=null?$o(i,!!s.multiple,s.defaultValue,!0):$o(i,!!s.multiple,s.multiple?[]:"",!1))}i[zl]=s}catch(x){Ge(t,t.return,x)}}break;case 6:if(Jn(e,t),mr(t),r&4){if(t.stateNode===null)throw Error(F(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(x){Ge(t,t.return,x)}}break;case 3:if(Jn(e,t),mr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Vl(e.containerInfo)}catch(x){Ge(t,t.return,x)}break;case 4:Jn(e,t),mr(t);break;case 13:Jn(e,t),mr(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(gv=rt())),r&4&&b1(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(Bt=(u=Bt)||c,Jn(e,t),Bt=u):Jn(e,t),mr(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(Q=t,c=t.child;c!==null;){for(h=Q=c;Q!==null;){switch(m=Q,w=m.child,m.tag){case 0:case 11:case 14:case 15:_l(4,m,m.return);break;case 1:Mo(m,m.return);var _=m.stateNode;if(typeof _.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,_.props=e.memoizedProps,_.state=e.memoizedState,_.componentWillUnmount()}catch(x){Ge(r,n,x)}}break;case 5:Mo(m,m.return);break;case 22:if(m.memoizedState!==null){S1(h);continue}}w!==null?(w.return=m,Q=w):S1(h)}c=c.sibling}e:for(c=null,h=t;;){if(h.tag===5){if(c===null){c=h;try{i=h.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=HT("display",o))}catch(x){Ge(t,t.return,x)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(x){Ge(t,t.return,x)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Jn(e,t),mr(t),r&4&&b1(t);break;case 21:break;default:Jn(e,t),mr(t)}}function mr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(yI(n)){var r=n;break e}n=n.return}throw Error(F(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Ol(i,""),r.flags&=-33);var s=T1(t);xg(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=T1(t);Eg(t,a,o);break;default:throw Error(F(161))}}catch(l){Ge(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function BO(t,e,n){Q=t,_I(t)}function _I(t,e,n){for(var r=(t.mode&1)!==0;Q!==null;){var i=Q,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||bc;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Bt;a=bc;var u=Bt;if(bc=o,(Bt=l)&&!u)for(Q=i;Q!==null;)o=Q,l=o.child,o.tag===22&&o.memoizedState!==null?C1(i):l!==null?(l.return=o,Q=l):C1(i);for(;s!==null;)Q=s,_I(s),s=s.sibling;Q=i,bc=a,Bt=u}I1(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Q=s):I1(t)}}function I1(t){for(;Q!==null;){var e=Q;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Bt||Uf(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Bt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Zn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&l1(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}l1(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&Vl(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(F(163))}Bt||e.flags&512&&_g(e)}catch(m){Ge(e,e.return,m)}}if(e===t){Q=null;break}if(n=e.sibling,n!==null){n.return=e.return,Q=n;break}Q=e.return}}function S1(t){for(;Q!==null;){var e=Q;if(e===t){Q=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Q=n;break}Q=e.return}}function C1(t){for(;Q!==null;){var e=Q;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Uf(4,e)}catch(l){Ge(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Ge(e,i,l)}}var s=e.return;try{_g(e)}catch(l){Ge(e,s,l)}break;case 5:var o=e.return;try{_g(e)}catch(l){Ge(e,o,l)}}}catch(l){Ge(e,e.return,l)}if(e===t){Q=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Q=a;break}Q=e.return}}var zO=Math.ceil,jd=ai.ReactCurrentDispatcher,pv=ai.ReactCurrentOwner,$n=ai.ReactCurrentBatchConfig,Ee=0,wt=null,ot=null,kt=0,gn=0,Vo=as(0),dt=0,Ql=null,Bs=0,$f=0,mv=0,El=null,on=null,gv=0,ia=1/0,Fr=null,Md=!1,Tg=null,zi=null,Ic=!1,Ni=null,Vd=0,xl=0,bg=null,ed=-1,td=0;function tn(){return Ee&6?rt():ed!==-1?ed:ed=rt()}function Hi(t){return t.mode&1?Ee&2&&kt!==0?kt&-kt:SO.transition!==null?(td===0&&(td=rb()),td):(t=Ce,t!==0||(t=window.event,t=t===void 0?16:cb(t.type)),t):1}function or(t,e,n,r){if(50<xl)throw xl=0,bg=null,Error(F(185));Eu(t,n,r),(!(Ee&2)||t!==wt)&&(t===wt&&(!(Ee&2)&&($f|=n),dt===4&&Si(t,kt)),dn(t,r),n===1&&Ee===0&&!(e.mode&1)&&(ia=rt()+500,Mf&&ls()))}function dn(t,e){var n=t.callbackNode;SD(t,e);var r=Ed(t,t===wt?kt:0);if(r===0)n!==null&&j_(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&j_(n),e===1)t.tag===0?IO(A1.bind(null,t)):Pb(A1.bind(null,t)),EO(function(){!(Ee&6)&&ls()}),n=null;else{switch(ib(r)){case 1:n=By;break;case 4:n=tb;break;case 16:n=_d;break;case 536870912:n=nb;break;default:n=_d}n=AI(n,EI.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function EI(t,e){if(ed=-1,td=0,Ee&6)throw Error(F(327));var n=t.callbackNode;if(Wo()&&t.callbackNode!==n)return null;var r=Ed(t,t===wt?kt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Fd(t,r);else{e=r;var i=Ee;Ee|=2;var s=TI();(wt!==t||kt!==e)&&(Fr=null,ia=rt()+500,Ds(t,e));do try{WO();break}catch(a){xI(t,a)}while(1);tv(),jd.current=s,Ee=i,ot!==null?e=0:(wt=null,kt=0,e=dt)}if(e!==0){if(e===2&&(i=Xm(t),i!==0&&(r=i,e=Ig(t,i))),e===1)throw n=Ql,Ds(t,0),Si(t,r),dn(t,rt()),n;if(e===6)Si(t,r);else{if(i=t.current.alternate,!(r&30)&&!HO(i)&&(e=Fd(t,r),e===2&&(s=Xm(t),s!==0&&(r=s,e=Ig(t,s))),e===1))throw n=Ql,Ds(t,0),Si(t,r),dn(t,rt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(F(345));case 2:Es(t,on,Fr);break;case 3:if(Si(t,r),(r&130023424)===r&&(e=gv+500-rt(),10<e)){if(Ed(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){tn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=sg(Es.bind(null,t,on,Fr),e);break}Es(t,on,Fr);break;case 4:if(Si(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-sr(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=rt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*zO(r/1960))-r,10<r){t.timeoutHandle=sg(Es.bind(null,t,on,Fr),r);break}Es(t,on,Fr);break;case 5:Es(t,on,Fr);break;default:throw Error(F(329))}}}return dn(t,rt()),t.callbackNode===n?EI.bind(null,t):null}function Ig(t,e){var n=El;return t.current.memoizedState.isDehydrated&&(Ds(t,e).flags|=256),t=Fd(t,e),t!==2&&(e=on,on=n,e!==null&&Sg(e)),t}function Sg(t){on===null?on=t:on.push.apply(on,t)}function HO(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!lr(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Si(t,e){for(e&=~mv,e&=~$f,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-sr(e),r=1<<n;t[n]=-1,e&=~r}}function A1(t){if(Ee&6)throw Error(F(327));Wo();var e=Ed(t,0);if(!(e&1))return dn(t,rt()),null;var n=Fd(t,e);if(t.tag!==0&&n===2){var r=Xm(t);r!==0&&(e=r,n=Ig(t,r))}if(n===1)throw n=Ql,Ds(t,0),Si(t,e),dn(t,rt()),n;if(n===6)throw Error(F(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Es(t,on,Fr),dn(t,rt()),null}function yv(t,e){var n=Ee;Ee|=1;try{return t(e)}finally{Ee=n,Ee===0&&(ia=rt()+500,Mf&&ls())}}function zs(t){Ni!==null&&Ni.tag===0&&!(Ee&6)&&Wo();var e=Ee;Ee|=1;var n=$n.transition,r=Ce;try{if($n.transition=null,Ce=1,t)return t()}finally{Ce=r,$n.transition=n,Ee=e,!(Ee&6)&&ls()}}function vv(){gn=Vo.current,Me(Vo)}function Ds(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,_O(n)),ot!==null)for(n=ot.return;n!==null;){var r=n;switch(Jy(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Sd();break;case 3:na(),Me(un),Me(Kt),av();break;case 5:ov(r);break;case 4:na();break;case 13:Me(Be);break;case 19:Me(Be);break;case 10:nv(r.type._context);break;case 22:case 23:vv()}n=n.return}if(wt=t,ot=t=qi(t.current,null),kt=gn=e,dt=0,Ql=null,mv=$f=Bs=0,on=El=null,Is!==null){for(e=0;e<Is.length;e++)if(n=Is[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Is=null}return t}function xI(t,e){do{var n=ot;try{if(tv(),Xc.current=Ld,Od){for(var r=ze.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Od=!1}if($s=0,vt=ut=ze=null,wl=!1,Wl=0,pv.current=null,n===null||n.return===null){dt=1,Ql=e,ot=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=kt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var m=c.alternate;m?(c.updateQueue=m.updateQueue,c.memoizedState=m.memoizedState,c.lanes=m.lanes):(c.updateQueue=null,c.memoizedState=null)}var w=m1(o);if(w!==null){w.flags&=-257,g1(w,o,a,s,e),w.mode&1&&p1(s,u,e),e=w,l=u;var _=e.updateQueue;if(_===null){var x=new Set;x.add(l),e.updateQueue=x}else _.add(l);break e}else{if(!(e&1)){p1(s,u,e),wv();break e}l=Error(F(426))}}else if(Fe&&a.mode&1){var b=m1(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),g1(b,o,a,s,e),Zy(ra(l,a));break e}}s=l=ra(l,a),dt!==4&&(dt=2),El===null?El=[s]:El.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var E=sI(s,l,e);a1(s,E);break e;case 1:a=l;var v=s.type,T=s.stateNode;if(!(s.flags&128)&&(typeof v.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(zi===null||!zi.has(T)))){s.flags|=65536,e&=-e,s.lanes|=e;var S=oI(s,a,e);a1(s,S);break e}}s=s.return}while(s!==null)}II(n)}catch(P){e=P,ot===n&&n!==null&&(ot=n=n.return);continue}break}while(1)}function TI(){var t=jd.current;return jd.current=Ld,t===null?Ld:t}function wv(){(dt===0||dt===3||dt===2)&&(dt=4),wt===null||!(Bs&268435455)&&!($f&268435455)||Si(wt,kt)}function Fd(t,e){var n=Ee;Ee|=2;var r=TI();(wt!==t||kt!==e)&&(Fr=null,Ds(t,e));do try{qO();break}catch(i){xI(t,i)}while(1);if(tv(),Ee=n,jd.current=r,ot!==null)throw Error(F(261));return wt=null,kt=0,dt}function qO(){for(;ot!==null;)bI(ot)}function WO(){for(;ot!==null&&!yD();)bI(ot)}function bI(t){var e=CI(t.alternate,t,gn);t.memoizedProps=t.pendingProps,e===null?II(t):ot=e,pv.current=null}function II(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=FO(n,e),n!==null){n.flags&=32767,ot=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{dt=6,ot=null;return}}else if(n=VO(n,e,gn),n!==null){ot=n;return}if(e=e.sibling,e!==null){ot=e;return}ot=e=t}while(e!==null);dt===0&&(dt=5)}function Es(t,e,n){var r=Ce,i=$n.transition;try{$n.transition=null,Ce=1,KO(t,e,n,r)}finally{$n.transition=i,Ce=r}return null}function KO(t,e,n,r){do Wo();while(Ni!==null);if(Ee&6)throw Error(F(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(F(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(CD(t,s),t===wt&&(ot=wt=null,kt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ic||(Ic=!0,AI(_d,function(){return Wo(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=$n.transition,$n.transition=null;var o=Ce;Ce=1;var a=Ee;Ee|=4,pv.current=null,$O(t,n),wI(n,t),hO(rg),xd=!!ng,rg=ng=null,t.current=n,BO(n),vD(),Ee=a,Ce=o,$n.transition=s}else t.current=n;if(Ic&&(Ic=!1,Ni=t,Vd=i),s=t.pendingLanes,s===0&&(zi=null),ED(n.stateNode),dn(t,rt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Md)throw Md=!1,t=Tg,Tg=null,t;return Vd&1&&t.tag!==0&&Wo(),s=t.pendingLanes,s&1?t===bg?xl++:(xl=0,bg=t):xl=0,ls(),null}function Wo(){if(Ni!==null){var t=ib(Vd),e=$n.transition,n=Ce;try{if($n.transition=null,Ce=16>t?16:t,Ni===null)var r=!1;else{if(t=Ni,Ni=null,Vd=0,Ee&6)throw Error(F(331));var i=Ee;for(Ee|=4,Q=t.current;Q!==null;){var s=Q,o=s.child;if(Q.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(Q=u;Q!==null;){var c=Q;switch(c.tag){case 0:case 11:case 15:_l(8,c,s)}var h=c.child;if(h!==null)h.return=c,Q=h;else for(;Q!==null;){c=Q;var m=c.sibling,w=c.return;if(gI(c),c===u){Q=null;break}if(m!==null){m.return=w,Q=m;break}Q=w}}}var _=s.alternate;if(_!==null){var x=_.child;if(x!==null){_.child=null;do{var b=x.sibling;x.sibling=null,x=b}while(x!==null)}}Q=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Q=o;else e:for(;Q!==null;){if(s=Q,s.flags&2048)switch(s.tag){case 0:case 11:case 15:_l(9,s,s.return)}var E=s.sibling;if(E!==null){E.return=s.return,Q=E;break e}Q=s.return}}var v=t.current;for(Q=v;Q!==null;){o=Q;var T=o.child;if(o.subtreeFlags&2064&&T!==null)T.return=o,Q=T;else e:for(o=v;Q!==null;){if(a=Q,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Uf(9,a)}}catch(P){Ge(a,a.return,P)}if(a===o){Q=null;break e}var S=a.sibling;if(S!==null){S.return=a.return,Q=S;break e}Q=a.return}}if(Ee=i,ls(),Ir&&typeof Ir.onPostCommitFiberRoot=="function")try{Ir.onPostCommitFiberRoot(Nf,t)}catch{}r=!0}return r}finally{Ce=n,$n.transition=e}}return!1}function P1(t,e,n){e=ra(n,e),e=sI(t,e,1),t=Bi(t,e,1),e=tn(),t!==null&&(Eu(t,1,e),dn(t,e))}function Ge(t,e,n){if(t.tag===3)P1(t,t,n);else for(;e!==null;){if(e.tag===3){P1(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(zi===null||!zi.has(r))){t=ra(n,t),t=oI(e,t,1),e=Bi(e,t,1),t=tn(),e!==null&&(Eu(e,1,t),dn(e,t));break}}e=e.return}}function GO(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=tn(),t.pingedLanes|=t.suspendedLanes&n,wt===t&&(kt&n)===n&&(dt===4||dt===3&&(kt&130023424)===kt&&500>rt()-gv?Ds(t,0):mv|=n),dn(t,e)}function SI(t,e){e===0&&(t.mode&1?(e=mc,mc<<=1,!(mc&130023424)&&(mc=4194304)):e=1);var n=tn();t=Zr(t,e),t!==null&&(Eu(t,e,n),dn(t,n))}function QO(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),SI(t,n)}function YO(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(F(314))}r!==null&&r.delete(e),SI(t,n)}var CI;CI=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||un.current)ln=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return ln=!1,MO(t,e,n);ln=!!(t.flags&131072)}else ln=!1,Fe&&e.flags&1048576&&Rb(e,Pd,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Zc(t,e),t=e.pendingProps;var i=Zo(e,Kt.current);qo(e,n),i=uv(null,e,r,t,i,n);var s=cv();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,cn(r)?(s=!0,Cd(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,iv(e),i.updater=Vf,e.stateNode=i,i._reactInternals=e,fg(e,r,t,n),e=mg(null,e,r,!0,s,n)):(e.tag=0,Fe&&s&&Xy(e),Jt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Zc(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=JO(r),t=Zn(r,t),i){case 0:e=pg(null,e,r,t,n);break e;case 1:e=w1(null,e,r,t,n);break e;case 11:e=y1(null,e,r,t,n);break e;case 14:e=v1(null,e,r,Zn(r.type,t),n);break e}throw Error(F(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Zn(r,i),pg(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Zn(r,i),w1(t,e,r,i,n);case 3:e:{if(cI(e),t===null)throw Error(F(387));r=e.pendingProps,s=e.memoizedState,i=s.element,Ob(t,e),Nd(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=ra(Error(F(423)),e),e=_1(t,e,r,n,i);break e}else if(r!==i){i=ra(Error(F(424)),e),e=_1(t,e,r,n,i);break e}else for(vn=$i(e.stateNode.containerInfo.firstChild),Tn=e,Fe=!0,tr=null,n=Vb(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ea(),r===i){e=ei(t,e,n);break e}Jt(t,e,r,n)}e=e.child}return e;case 5:return Fb(e),t===null&&ug(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,ig(r,i)?o=null:s!==null&&ig(r,s)&&(e.flags|=32),uI(t,e),Jt(t,e,o,n),e.child;case 6:return t===null&&ug(e),null;case 13:return dI(t,e,n);case 4:return sv(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ta(e,null,r,n):Jt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Zn(r,i),y1(t,e,r,i,n);case 7:return Jt(t,e,e.pendingProps,n),e.child;case 8:return Jt(t,e,e.pendingProps.children,n),e.child;case 12:return Jt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Re(Rd,r._currentValue),r._currentValue=o,s!==null)if(lr(s.value,o)){if(s.children===i.children&&!un.current){e=ei(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Gr(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),cg(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(F(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),cg(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Jt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,qo(e,n),i=qn(i),r=r(i),e.flags|=1,Jt(t,e,r,n),e.child;case 14:return r=e.type,i=Zn(r,e.pendingProps),i=Zn(r.type,i),v1(t,e,r,i,n);case 15:return aI(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Zn(r,i),Zc(t,e),e.tag=1,cn(r)?(t=!0,Cd(e)):t=!1,qo(e,n),jb(e,r,i),fg(e,r,i,n),mg(null,e,r,!0,t,n);case 19:return fI(t,e,n);case 22:return lI(t,e,n)}throw Error(F(156,e.tag))};function AI(t,e){return eb(t,e)}function XO(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Un(t,e,n,r){return new XO(t,e,n,r)}function _v(t){return t=t.prototype,!(!t||!t.isReactComponent)}function JO(t){if(typeof t=="function")return _v(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Fy)return 11;if(t===Uy)return 14}return 2}function qi(t,e){var n=t.alternate;return n===null?(n=Un(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function nd(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")_v(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ao:return Os(n.children,i,s,e);case Vy:o=8,i|=8;break;case jm:return t=Un(12,n,e,i|2),t.elementType=jm,t.lanes=s,t;case Mm:return t=Un(13,n,e,i),t.elementType=Mm,t.lanes=s,t;case Vm:return t=Un(19,n,e,i),t.elementType=Vm,t.lanes=s,t;case MT:return Bf(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case LT:o=10;break e;case jT:o=9;break e;case Fy:o=11;break e;case Uy:o=14;break e;case Ti:o=16,r=null;break e}throw Error(F(130,t==null?t:typeof t,""))}return e=Un(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Os(t,e,n,r){return t=Un(7,t,r,e),t.lanes=n,t}function Bf(t,e,n,r){return t=Un(22,t,r,e),t.elementType=MT,t.lanes=n,t.stateNode={isHidden:!1},t}function Up(t,e,n){return t=Un(6,t,null,e),t.lanes=n,t}function $p(t,e,n){return e=Un(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function ZO(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ep(0),this.expirationTimes=Ep(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ep(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Ev(t,e,n,r,i,s,o,a,l){return t=new ZO(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Un(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},iv(s),t}function e5(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Co,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function PI(t){if(!t)return es;t=t._reactInternals;e:{if(no(t)!==t||t.tag!==1)throw Error(F(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(cn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(F(171))}if(t.tag===1){var n=t.type;if(cn(n))return Ab(t,n,e)}return e}function RI(t,e,n,r,i,s,o,a,l){return t=Ev(n,r,!0,t,i,s,o,a,l),t.context=PI(null),n=t.current,r=tn(),i=Hi(n),s=Gr(r,i),s.callback=e??null,Bi(n,s,i),t.current.lanes=i,Eu(t,i,r),dn(t,r),t}function zf(t,e,n,r){var i=e.current,s=tn(),o=Hi(i);return n=PI(n),e.context===null?e.context=n:e.pendingContext=n,e=Gr(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Bi(i,e,o),t!==null&&(or(t,i,o,s),Yc(t,i,o)),o}function Ud(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function R1(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function xv(t,e){R1(t,e),(t=t.alternate)&&R1(t,e)}function t5(){return null}var kI=typeof reportError=="function"?reportError:function(t){console.error(t)};function Tv(t){this._internalRoot=t}Hf.prototype.render=Tv.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(F(409));zf(t,e,null,null)};Hf.prototype.unmount=Tv.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;zs(function(){zf(null,t,null,null)}),e[Jr]=null}};function Hf(t){this._internalRoot=t}Hf.prototype.unstable_scheduleHydration=function(t){if(t){var e=ab();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ii.length&&e!==0&&e<Ii[n].priority;n++);Ii.splice(n,0,t),n===0&&ub(t)}};function bv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function qf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function k1(){}function n5(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Ud(o);s.call(u)}}var o=RI(e,r,t,0,null,!1,!1,"",k1);return t._reactRootContainer=o,t[Jr]=o.current,$l(t.nodeType===8?t.parentNode:t),zs(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Ud(l);a.call(u)}}var l=Ev(t,0,!1,null,null,!1,!1,"",k1);return t._reactRootContainer=l,t[Jr]=l.current,$l(t.nodeType===8?t.parentNode:t),zs(function(){zf(e,l,n,r)}),l}function Wf(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Ud(o);a.call(l)}}zf(e,o,t,i)}else o=n5(n,e,t,i,r);return Ud(o)}sb=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=il(e.pendingLanes);n!==0&&(zy(e,n|1),dn(e,rt()),!(Ee&6)&&(ia=rt()+500,ls()))}break;case 13:zs(function(){var r=Zr(t,1);if(r!==null){var i=tn();or(r,t,1,i)}}),xv(t,1)}};Hy=function(t){if(t.tag===13){var e=Zr(t,134217728);if(e!==null){var n=tn();or(e,t,134217728,n)}xv(t,134217728)}};ob=function(t){if(t.tag===13){var e=Hi(t),n=Zr(t,e);if(n!==null){var r=tn();or(n,t,e,r)}xv(t,e)}};ab=function(){return Ce};lb=function(t,e){var n=Ce;try{return Ce=t,e()}finally{Ce=n}};Gm=function(t,e,n){switch(e){case"input":if($m(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=jf(r);if(!i)throw Error(F(90));FT(r),$m(r,i)}}}break;case"textarea":$T(t,n);break;case"select":e=n.value,e!=null&&$o(t,!!n.multiple,e,!1)}};GT=yv;QT=zs;var r5={usingClientEntryPoint:!1,Events:[Tu,No,jf,WT,KT,yv]},Ga={findFiberByHostInstance:bs,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},i5={bundleType:Ga.bundleType,version:Ga.version,rendererPackageName:Ga.rendererPackageName,rendererConfig:Ga.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ai.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=JT(t),t===null?null:t.stateNode},findFiberByHostInstance:Ga.findFiberByHostInstance||t5,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Sc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Sc.isDisabled&&Sc.supportsFiber)try{Nf=Sc.inject(i5),Ir=Sc}catch{}}Pn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=r5;Pn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!bv(e))throw Error(F(200));return e5(t,e,null,n)};Pn.createRoot=function(t,e){if(!bv(t))throw Error(F(299));var n=!1,r="",i=kI;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Ev(t,1,!1,null,null,n,!1,r,i),t[Jr]=e.current,$l(t.nodeType===8?t.parentNode:t),new Tv(e)};Pn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(F(188)):(t=Object.keys(t).join(","),Error(F(268,t)));return t=JT(e),t=t===null?null:t.stateNode,t};Pn.flushSync=function(t){return zs(t)};Pn.hydrate=function(t,e,n){if(!qf(e))throw Error(F(200));return Wf(null,t,e,!0,n)};Pn.hydrateRoot=function(t,e,n){if(!bv(t))throw Error(F(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=kI;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=RI(e,null,t,1,n??null,i,!1,s,o),t[Jr]=e.current,$l(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Hf(e)};Pn.render=function(t,e,n){if(!qf(e))throw Error(F(200));return Wf(null,t,e,!1,n)};Pn.unmountComponentAtNode=function(t){if(!qf(t))throw Error(F(40));return t._reactRootContainer?(zs(function(){Wf(null,null,t,!1,function(){t._reactRootContainer=null,t[Jr]=null})}),!0):!1};Pn.unstable_batchedUpdates=yv;Pn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!qf(n))throw Error(F(200));if(t==null||t._reactInternals===void 0)throw Error(F(38));return Wf(t,e,n,!1,r)};Pn.version="18.2.0-next-9e3b772b8-20220608";function NI(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(NI)}catch(t){console.error(t)}}NI(),RT.exports=Pn;var s5=RT.exports,N1=s5;Om.createRoot=N1.createRoot,Om.hydrateRoot=N1.hydrateRoot;var DI={exports:{}},OI={};/**
 * @license React
 * use-sync-external-store-with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Iu=C;function o5(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var a5=typeof Object.is=="function"?Object.is:o5,l5=Iu.useSyncExternalStore,u5=Iu.useRef,c5=Iu.useEffect,d5=Iu.useMemo,f5=Iu.useDebugValue;OI.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=u5(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=d5(function(){function l(w){if(!u){if(u=!0,c=w,w=r(w),i!==void 0&&o.hasValue){var _=o.value;if(i(_,w))return h=_}return h=w}if(_=h,a5(c,w))return _;var x=r(w);return i!==void 0&&i(_,x)?_:(c=w,h=x)}var u=!1,c,h,m=n===void 0?null:n;return[function(){return l(e())},m===null?void 0:function(){return l(m())}]},[e,n,r,i]);var a=l5(t,s[0],s[1]);return c5(function(){o.hasValue=!0,o.value=a},[a]),f5(a),a};DI.exports=OI;var h5=DI.exports,wn="default"in Nl?he:Nl,D1=Symbol.for("react-redux-context"),O1=typeof globalThis<"u"?globalThis:{};function p5(){if(!wn.createContext)return{};const t=O1[D1]??(O1[D1]=new Map);let e=t.get(wn.createContext);return e||(e=wn.createContext(null),t.set(wn.createContext,e)),e}var ts=p5(),m5=()=>{throw new Error("uSES not initialized!")};function Iv(t=ts){return function(){return wn.useContext(t)}}var LI=Iv(),jI=m5,g5=t=>{jI=t},y5=(t,e)=>t===e;function v5(t=ts){const e=t===ts?LI:Iv(t);return function(r,i={}){const{equalityFn:s=y5,devModeChecks:o={}}=typeof i=="function"?{equalityFn:i}:i,{store:a,subscription:l,getServerState:u,stabilityCheck:c,identityFunctionCheck:h}=e();wn.useRef(!0);const m=wn.useCallback({[r.name](_){return r(_)}}[r.name],[r,c,o.stabilityCheck]),w=jI(l.addNestedSub,a.getState,u||a.getState,m,s);return wn.useDebugValue(w),w}}var us=v5();function w5(t){t()}function _5(){let t=null,e=null;return{clear(){t=null,e=null},notify(){w5(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){let n=[],r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0,i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var L1={notify(){},get:()=>[]};function E5(t,e){let n,r=L1,i=0,s=!1;function o(x){c();const b=r.subscribe(x);let E=!1;return()=>{E||(E=!0,b(),h())}}function a(){r.notify()}function l(){_.onStateChange&&_.onStateChange()}function u(){return s}function c(){i++,n||(n=e?e.addNestedSub(l):t.subscribe(l),r=_5())}function h(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=L1)}function m(){s||(s=!0,c())}function w(){s&&(s=!1,h())}const _={addNestedSub:o,notifyNestedSubs:a,handleChangeWrapper:l,isSubscribed:u,trySubscribe:m,tryUnsubscribe:w,getListeners:()=>r};return _}var x5=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",T5=x5?wn.useLayoutEffect:wn.useEffect;function b5({store:t,context:e,children:n,serverState:r,stabilityCheck:i="once",identityFunctionCheck:s="once"}){const o=wn.useMemo(()=>{const u=E5(t);return{store:t,subscription:u,getServerState:r?()=>r:void 0,stabilityCheck:i,identityFunctionCheck:s}},[t,r,i,s]),a=wn.useMemo(()=>t.getState(),[t]);T5(()=>{const{subscription:u}=o;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),a!==t.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[o,a]);const l=e||ts;return wn.createElement(l.Provider,{value:o},n)}var I5=b5;function MI(t=ts){const e=t===ts?LI:Iv(t);return function(){const{store:r}=e();return r}}var S5=MI();function C5(t=ts){const e=t===ts?S5:MI(t);return function(){return e().dispatch}}var kn=C5();g5(h5.useSyncExternalStoreWithSelector);function It(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var A5=(()=>typeof Symbol=="function"&&Symbol.observable||"@@observable")(),j1=A5,Bp=()=>Math.random().toString(36).substring(7).split("").join("."),P5={INIT:`@@redux/INIT${Bp()}`,REPLACE:`@@redux/REPLACE${Bp()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Bp()}`},$d=P5;function Sv(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function VI(t,e,n){if(typeof t!="function")throw new Error(It(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(It(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(It(1));return n(VI)(t,e)}let r=t,i=e,s=new Map,o=s,a=0,l=!1;function u(){o===s&&(o=new Map,s.forEach((b,E)=>{o.set(E,b)}))}function c(){if(l)throw new Error(It(3));return i}function h(b){if(typeof b!="function")throw new Error(It(4));if(l)throw new Error(It(5));let E=!0;u();const v=a++;return o.set(v,b),function(){if(E){if(l)throw new Error(It(6));E=!1,u(),o.delete(v),s=null}}}function m(b){if(!Sv(b))throw new Error(It(7));if(typeof b.type>"u")throw new Error(It(8));if(typeof b.type!="string")throw new Error(It(17));if(l)throw new Error(It(9));try{l=!0,i=r(i,b)}finally{l=!1}return(s=o).forEach(v=>{v()}),b}function w(b){if(typeof b!="function")throw new Error(It(10));r=b,m({type:$d.REPLACE})}function _(){const b=h;return{subscribe(E){if(typeof E!="object"||E===null)throw new Error(It(11));function v(){const S=E;S.next&&S.next(c())}return v(),{unsubscribe:b(v)}},[j1](){return this}}}return m({type:$d.INIT}),{dispatch:m,subscribe:h,getState:c,replaceReducer:w,[j1]:_}}function R5(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:$d.INIT})>"u")throw new Error(It(12));if(typeof n(void 0,{type:$d.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(It(13))})}function k5(t){const e=Object.keys(t),n={};for(let s=0;s<e.length;s++){const o=e[s];typeof t[o]=="function"&&(n[o]=t[o])}const r=Object.keys(n);let i;try{R5(n)}catch(s){i=s}return function(o={},a){if(i)throw i;let l=!1;const u={};for(let c=0;c<r.length;c++){const h=r[c],m=n[h],w=o[h],_=m(w,a);if(typeof _>"u")throw a&&a.type,new Error(It(14));u[h]=_,l=l||_!==w}return l=l||r.length!==Object.keys(o).length,l?u:o}}function Bd(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function N5(...t){return e=>(n,r)=>{const i=e(n,r);let s=()=>{throw new Error(It(15))};const o={getState:i.getState,dispatch:(l,...u)=>s(l,...u)},a=t.map(l=>l(o));return s=Bd(...a)(i.dispatch),{...i,dispatch:s}}}function D5(t){return Sv(t)&&"type"in t&&typeof t.type=="string"}var FI=Symbol.for("immer-nothing"),M1=Symbol.for("immer-draftable"),Sn=Symbol.for("immer-state");function nr(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var sa=Object.getPrototypeOf;function ns(t){return!!t&&!!t[Sn]}function ti(t){var e;return t?UI(t)||Array.isArray(t)||!!t[M1]||!!((e=t.constructor)!=null&&e[M1])||Gf(t)||Qf(t):!1}var O5=Object.prototype.constructor.toString();function UI(t){if(!t||typeof t!="object")return!1;const e=sa(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===O5}function Yl(t,e){Kf(t)===0?Object.entries(t).forEach(([n,r])=>{e(n,r,t)}):t.forEach((n,r)=>e(r,n,t))}function Kf(t){const e=t[Sn];return e?e.type_:Array.isArray(t)?1:Gf(t)?2:Qf(t)?3:0}function Cg(t,e){return Kf(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function $I(t,e,n){const r=Kf(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function L5(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Gf(t){return t instanceof Map}function Qf(t){return t instanceof Set}function xs(t){return t.copy_||t.base_}function Ag(t,e){if(Gf(t))return new Map(t);if(Qf(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);if(!e&&UI(t))return sa(t)?{...t}:Object.assign(Object.create(null),t);const n=Object.getOwnPropertyDescriptors(t);delete n[Sn];let r=Reflect.ownKeys(n);for(let i=0;i<r.length;i++){const s=r[i],o=n[s];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(n[s]={configurable:!0,writable:!0,enumerable:o.enumerable,value:t[s]})}return Object.create(sa(t),n)}function Cv(t,e=!1){return Yf(t)||ns(t)||!ti(t)||(Kf(t)>1&&(t.set=t.add=t.clear=t.delete=j5),Object.freeze(t),e&&Yl(t,(n,r)=>Cv(r,!0))),t}function j5(){nr(2)}function Yf(t){return Object.isFrozen(t)}var M5={};function Hs(t){const e=M5[t];return e||nr(0,t),e}var Xl;function BI(){return Xl}function V5(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function V1(t,e){e&&(Hs("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function Pg(t){Rg(t),t.drafts_.forEach(F5),t.drafts_=null}function Rg(t){t===Xl&&(Xl=t.parent_)}function F1(t){return Xl=V5(Xl,t)}function F5(t){const e=t[Sn];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function U1(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[Sn].modified_&&(Pg(e),nr(4)),ti(t)&&(t=zd(e,t),e.parent_||Hd(e,t)),e.patches_&&Hs("Patches").generateReplacementPatches_(n[Sn].base_,t,e.patches_,e.inversePatches_)):t=zd(e,n,[]),Pg(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==FI?t:void 0}function zd(t,e,n){if(Yf(e))return e;const r=e[Sn];if(!r)return Yl(e,(i,s)=>$1(t,r,e,i,s,n)),e;if(r.scope_!==t)return e;if(!r.modified_)return Hd(t,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let s=i,o=!1;r.type_===3&&(s=new Set(i),i.clear(),o=!0),Yl(s,(a,l)=>$1(t,r,i,a,l,n,o)),Hd(t,i,!1),n&&t.patches_&&Hs("Patches").generatePatches_(r,n,t.patches_,t.inversePatches_)}return r.copy_}function $1(t,e,n,r,i,s,o){if(ns(i)){const a=s&&e&&e.type_!==3&&!Cg(e.assigned_,r)?s.concat(r):void 0,l=zd(t,i,a);if($I(n,r,l),ns(l))t.canAutoFreeze_=!1;else return}else o&&n.add(i);if(ti(i)&&!Yf(i)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;zd(t,i),(!e||!e.scope_.parent_)&&Hd(t,i)}}function Hd(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&Cv(e,n)}function U5(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:BI(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=Av;n&&(i=[r],s=Jl);const{revoke:o,proxy:a}=Proxy.revocable(i,s);return r.draft_=a,r.revoke_=o,a}var Av={get(t,e){if(e===Sn)return t;const n=xs(t);if(!Cg(n,e))return $5(t,n,e);const r=n[e];return t.finalized_||!ti(r)?r:r===zp(t.base_,e)?(Hp(t),t.copy_[e]=Ng(r,t)):r},has(t,e){return e in xs(t)},ownKeys(t){return Reflect.ownKeys(xs(t))},set(t,e,n){const r=zI(xs(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=zp(xs(t),e),s=i==null?void 0:i[Sn];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(L5(n,i)&&(n!==void 0||Cg(t.base_,e)))return!0;Hp(t),kg(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return zp(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,Hp(t),kg(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=xs(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){nr(11)},getPrototypeOf(t){return sa(t.base_)},setPrototypeOf(){nr(12)}},Jl={};Yl(Av,(t,e)=>{Jl[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Jl.deleteProperty=function(t,e){return Jl.set.call(this,t,e,void 0)};Jl.set=function(t,e,n){return Av.set.call(this,t[0],e,n,t[0])};function zp(t,e){const n=t[Sn];return(n?xs(n):t)[e]}function $5(t,e,n){var i;const r=zI(e,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function zI(t,e){if(!(e in t))return;let n=sa(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=sa(n)}}function kg(t){t.modified_||(t.modified_=!0,t.parent_&&kg(t.parent_))}function Hp(t){t.copy_||(t.copy_=Ag(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var B5=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const s=n;n=e;const o=this;return function(l=s,...u){return o.produce(l,c=>n.call(this,c,...u))}}typeof n!="function"&&nr(6),r!==void 0&&typeof r!="function"&&nr(7);let i;if(ti(e)){const s=F1(this),o=Ng(e,void 0);let a=!0;try{i=n(o),a=!1}finally{a?Pg(s):Rg(s)}return V1(s,r),U1(i,s)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===FI&&(i=void 0),this.autoFreeze_&&Cv(i,!0),r){const s=[],o=[];Hs("Patches").generateReplacementPatches_(e,i,s,o),r(s,o)}return i}else nr(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(o,...a)=>this.produceWithPatches(o,l=>e(l,...a));let r,i;return[this.produce(e,n,(o,a)=>{r=o,i=a}),r,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){ti(t)||nr(8),ns(t)&&(t=HI(t));const e=F1(this),n=Ng(t,void 0);return n[Sn].isManual_=!0,Rg(e),n}finishDraft(t,e){const n=t&&t[Sn];(!n||!n.isManual_)&&nr(9);const{scope_:r}=n;return V1(r,e),U1(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=Hs("Patches").applyPatches_;return ns(t)?r(t,e):this.produce(t,i=>r(i,e))}};function Ng(t,e){const n=Gf(t)?Hs("MapSet").proxyMap_(t,e):Qf(t)?Hs("MapSet").proxySet_(t,e):U5(t,e);return(e?e.scope_:BI()).drafts_.push(n),n}function HI(t){return ns(t)||nr(10,t),qI(t)}function qI(t){if(!ti(t)||Yf(t))return t;const e=t[Sn];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=Ag(t,e.scope_.immer_.useStrictShallowCopy_)}else n=Ag(t,!0);return Yl(n,(r,i)=>{$I(n,r,qI(i))}),e&&(e.finalized_=!1),n}var Cn=new B5,WI=Cn.produce;Cn.produceWithPatches.bind(Cn);Cn.setAutoFreeze.bind(Cn);Cn.setUseStrictShallowCopy.bind(Cn);Cn.applyPatches.bind(Cn);Cn.createDraft.bind(Cn);Cn.finishDraft.bind(Cn);function z5(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function H5(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var B1=t=>Array.isArray(t)?t:[t];function q5(t){const e=Array.isArray(t[0])?t[0]:t;return H5(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function W5(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var K5=class{constructor(t){this.value=t}deref(){return this.value}},G5=typeof WeakRef<"u"?WeakRef:K5,Q5=0,z1=1;function Cc(){return{s:Q5,v:void 0,o:null,p:null}}function KI(t,e={}){let n=Cc();const{resultEqualityCheck:r}=e;let i,s=0;function o(){let a=n;const{length:l}=arguments;for(let h=0,m=l;h<m;h++){const w=arguments[h];if(typeof w=="function"||typeof w=="object"&&w!==null){let _=a.o;_===null&&(a.o=_=new WeakMap);const x=_.get(w);x===void 0?(a=Cc(),_.set(w,a)):a=x}else{let _=a.p;_===null&&(a.p=_=new Map);const x=_.get(w);x===void 0?(a=Cc(),_.set(w,a)):a=x}}const u=a;let c;if(a.s===z1?c=a.v:(c=t.apply(null,arguments),s++),u.s=z1,r){const h=(i==null?void 0:i.deref())??i;h!=null&&r(h,c)&&(c=h,s!==0&&s--),i=typeof c=="object"&&c!==null||typeof c=="function"?new G5(c):c}return u.v=c,c}return o.clearCache=()=>{n=Cc(),o.resetResultsCount()},o.resultsCount=()=>s,o.resetResultsCount=()=>{s=0},o}function Y5(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t;return(...i)=>{let s=0,o=0,a,l={},u=i.pop();typeof u=="object"&&(l=u,u=i.pop()),z5(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const c={...n,...l},{memoize:h,memoizeOptions:m=[],argsMemoize:w=KI,argsMemoizeOptions:_=[],devModeChecks:x={}}=c,b=B1(m),E=B1(_),v=q5(i),T=h(function(){return s++,u.apply(null,arguments)},...b),S=w(function(){o++;const L=W5(v,arguments);return a=T.apply(null,L),a},...E);return Object.assign(S,{resultFunc:u,memoizedResultFunc:T,dependencies:v,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>a,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:h,argsMemoize:w})}}function GI(t){return({dispatch:n,getState:r})=>i=>s=>typeof s=="function"?s(n,r,t):i(s)}var X5=GI(),J5=GI,Z5=(...t)=>{const e=Y5(...t);return(...n)=>{const r=e(...n),i=(s,...o)=>r(ns(s)?HI(s):s,...o);return Object.assign(i,r),i}};Z5(KI);var e4=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Bd:Bd.apply(null,arguments)};function Zl(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(ar(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>D5(r)&&r.type===t,n}var QI=class ol extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,ol.prototype)}static get[Symbol.species](){return ol}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new ol(...e[0].concat(this)):new ol(...e.concat(this))}};function H1(t){return ti(t)?WI(t,()=>{}):t}function q1(t,e,n){if(t.has(e)){let i=t.get(e);return n.update&&(i=n.update(i,e,t),t.set(e,i)),i}if(!n.insert)throw new Error(ar(10));const r=n.insert(e,t);return t.set(e,r),r}function t4(t){return typeof t=="boolean"}var n4=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=e??{};let o=new QI;return n&&(t4(n)?o.push(X5):o.push(J5(n.extraArgument))),o},r4="RTK_autoBatch",YI=t=>e=>{setTimeout(e,t)},i4=typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:YI(10),s4=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,s=!1,o=!1;const a=new Set,l=t.type==="tick"?queueMicrotask:t.type==="raf"?i4:t.type==="callback"?t.queueNotification:YI(t.timeout),u=()=>{o=!1,s&&(s=!1,a.forEach(c=>c()))};return Object.assign({},r,{subscribe(c){const h=()=>i&&c(),m=r.subscribe(h);return a.add(c),()=>{m(),a.delete(c)}},dispatch(c){var h;try{return i=!((h=c==null?void 0:c.meta)!=null&&h[r4]),s=!i,s&&(o||(o=!0,l(u))),r.dispatch(c)}finally{i=!0}}})},o4=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new QI(t);return r&&i.push(s4(typeof r=="object"?r:void 0)),i},a4=!0;function l4(t){const e=n4(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:s=void 0,enhancers:o=void 0}=t||{};let a;if(typeof n=="function")a=n;else if(Sv(n))a=k5(n);else throw new Error(ar(1));let l;typeof r=="function"?l=r(e):l=e();let u=Bd;i&&(u=e4({trace:!a4,...typeof i=="object"&&i}));const c=N5(...l),h=o4(c);let m=typeof o=="function"?o(h):h();const w=u(...m);return VI(a,s,w)}function XI(t){const e={},n=[];let r;const i={addCase(s,o){const a=typeof s=="string"?s:s.type;if(!a)throw new Error(ar(28));if(a in e)throw new Error(ar(29));return e[a]=o,i},addMatcher(s,o){return n.push({matcher:s,reducer:o}),i},addDefaultCase(s){return r=s,i}};return t(i),[e,n,r]}function u4(t){return typeof t=="function"}function c4(t,e){let[n,r,i]=XI(e),s;if(u4(t))s=()=>H1(t());else{const a=H1(t);s=()=>a}function o(a=s(),l){let u=[n[l.type],...r.filter(({matcher:c})=>c(l)).map(({reducer:c})=>c)];return u.filter(c=>!!c).length===0&&(u=[i]),u.reduce((c,h)=>{if(h)if(ns(c)){const w=h(c,l);return w===void 0?c:w}else{if(ti(c))return WI(c,m=>h(m,l));{const m=h(c,l);if(m===void 0){if(c===null)return c;throw new Error(ar(9))}return m}}return c},a)}return o.getInitialState=s,o}var d4=Symbol.for("rtk-slice-createasyncthunk");function f4(t,e){return`${t}/${e}`}function h4({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[d4];return function(i){const{name:s,reducerPath:o=s}=i;if(!s)throw new Error(ar(11));typeof process<"u";const a=(typeof i.reducers=="function"?i.reducers(m4()):i.reducers)||{},l=Object.keys(a),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},c={addCase(b,E){const v=typeof b=="string"?b:b.type;if(!v)throw new Error(ar(12));if(v in u.sliceCaseReducersByType)throw new Error(ar(13));return u.sliceCaseReducersByType[v]=E,c},addMatcher(b,E){return u.sliceMatchers.push({matcher:b,reducer:E}),c},exposeAction(b,E){return u.actionCreators[b]=E,c},exposeCaseReducer(b,E){return u.sliceCaseReducersByName[b]=E,c}};l.forEach(b=>{const E=a[b],v={reducerName:b,type:f4(s,b),createNotation:typeof i.reducers=="function"};y4(E)?w4(v,E,c,e):g4(v,E,c)});function h(){const[b={},E=[],v=void 0]=typeof i.extraReducers=="function"?XI(i.extraReducers):[i.extraReducers],T={...b,...u.sliceCaseReducersByType};return c4(i.initialState,S=>{for(let P in T)S.addCase(P,T[P]);for(let P of u.sliceMatchers)S.addMatcher(P.matcher,P.reducer);for(let P of E)S.addMatcher(P.matcher,P.reducer);v&&S.addDefaultCase(v)})}const m=b=>b,w=new WeakMap;let _;const x={name:s,reducerPath:o,reducer(b,E){return _||(_=h()),_(b,E)},actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState(){return _||(_=h()),_.getInitialState()},getSelectors(b=m){const E=q1(w,this,{insert:()=>new WeakMap});return q1(E,b,{insert:()=>{const v={};for(const[T,S]of Object.entries(i.selectors??{}))v[T]=p4(this,S,b,this!==x);return v}})},selectSlice(b){let E=b[this.reducerPath];return typeof E>"u"&&this!==x&&(E=this.getInitialState()),E},get selectors(){return this.getSelectors(this.selectSlice)},injectInto(b,{reducerPath:E,...v}={}){const T=E??this.reducerPath;return b.inject({reducerPath:T,reducer:this.reducer},v),{...this,reducerPath:T}}};return x}}function p4(t,e,n,r){function i(s,...o){let a=n.call(t,s);return typeof a>"u"&&r&&(a=t.getInitialState()),e(a,...o)}return i.unwrapped=e,i}var Pv=h4();function m4(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function g4({type:t,reducerName:e,createNotation:n},r,i){let s,o;if("reducer"in r){if(n&&!v4(r))throw new Error(ar(17));s=r.reducer,o=r.prepare}else s=r;i.addCase(t,s).exposeCaseReducer(e,s).exposeAction(e,o?Zl(t,o):Zl(t))}function y4(t){return t._reducerDefinitionType==="asyncThunk"}function v4(t){return t._reducerDefinitionType==="reducerWithPrepare"}function w4({type:t,reducerName:e},n,r,i){if(!i)throw new Error(ar(18));const{payloadCreator:s,fulfilled:o,pending:a,rejected:l,settled:u,options:c}=n,h=i(t,s,c);r.exposeAction(e,h),o&&r.addCase(h.fulfilled,o),a&&r.addCase(h.pending,a),l&&r.addCase(h.rejected,l),u&&r.addMatcher(h.settled,u),r.exposeCaseReducer(e,{fulfilled:o||Ac,pending:a||Ac,rejected:l||Ac,settled:u||Ac})}function Ac(){}var Rv="listenerMiddleware";Zl(`${Rv}/add`);Zl(`${Rv}/removeAll`);Zl(`${Rv}/remove`);function ar(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}const JI=Pv({name:"auth",initialState:{status:"offline",user:{},errorMessage:null,resetPasswordMessage:null},reducers:{login:(t,e)=>{t.status="online",t.user=e.payload},logout:(t,e)=>{t.status="offline",t.user={},t.errorMessage=e.payload},checkingCredentials:(t,e)=>{t.status="checking"},checkingGoogleCredentials:(t,e)=>{t.status="checking"},resetPasswordEmail:(t,e)=>{t.resetPasswordMessage=e.payload}}}),{login:kv,logout:ZI,checkingCredentials:e2,checkingGoogleCredentials:_4,resetPasswordEmail:jW}=JI.actions;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t2=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},E4=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},n2={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=s>>2,h=(s&3)<<4|a>>4;let m=(a&15)<<2|u>>6,w=u&63;l||(w=64,o||(m=64)),r.push(n[c],n[h],n[m],n[w])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(t2(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):E4(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||h==null)throw new x4;const m=s<<2|a>>4;if(r.push(m),u!==64){const w=a<<4&240|u>>2;if(r.push(w),h!==64){const _=u<<6&192|h;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class x4 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const T4=function(t){const e=t2(t);return n2.encodeByteArray(e,!0)},qd=function(t){return T4(t).replace(/\./g,"")},r2=function(t){try{return n2.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b4(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I4=()=>b4().__FIREBASE_DEFAULTS__,S4=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},C4=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&r2(t[1]);return e&&JSON.parse(e)},Nv=()=>{try{return I4()||S4()||C4()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},i2=t=>{var e,n;return(n=(e=Nv())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},s2=t=>{const e=i2(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},o2=()=>{var t;return(t=Nv())===null||t===void 0?void 0:t.config},a2=t=>{var e;return(e=Nv())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A4{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l2(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[qd(JSON.stringify(n)),qd(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function P4(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Gt())}function u2(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function R4(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function k4(){const t=Gt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function c2(){try{return typeof indexedDB=="object"}catch{return!1}}function d2(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}function N4(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D4="FirebaseError";class Qn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=D4,Object.setPrototypeOf(this,Qn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ro.prototype.create)}}class ro{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?O4(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Qn(i,a,r)}}function O4(t,e){return t.replace(L4,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const L4=/\{\$([^}]+)}/g;function j4(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function eu(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(W1(s)&&W1(o)){if(!eu(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function W1(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Su(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function al(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function ll(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function M4(t,e){const n=new V4(t,e);return n.subscribe.bind(n)}class V4{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");F4(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=qp),i.error===void 0&&(i.error=qp),i.complete===void 0&&(i.complete=qp);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function F4(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function qp(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U4=1e3,$4=2,B4=4*60*60*1e3,z4=.5;function K1(t,e=U4,n=$4){const r=e*Math.pow(n,t),i=Math.round(z4*r*(Math.random()-.5)*2);return Math.min(B4,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ne(t){return t&&t._delegate?t._delegate:t}class Kn{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ts="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H4{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new A4;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(W4(e))try{this.getOrInitializeService({instanceIdentifier:Ts})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Ts){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ts){return this.instances.has(e)}getOptions(e=Ts){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:q4(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ts){return this.component?this.component.multipleInstances?e:Ts:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function q4(t){return t===Ts?void 0:t}function W4(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K4{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new H4(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ge;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ge||(ge={}));const G4={debug:ge.DEBUG,verbose:ge.VERBOSE,info:ge.INFO,warn:ge.WARN,error:ge.ERROR,silent:ge.SILENT},Q4=ge.INFO,Y4={[ge.DEBUG]:"log",[ge.VERBOSE]:"log",[ge.INFO]:"info",[ge.WARN]:"warn",[ge.ERROR]:"error"},X4=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=Y4[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Xf{constructor(e){this.name=e,this._logLevel=Q4,this._logHandler=X4,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ge))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?G4[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ge.DEBUG,...e),this._logHandler(this,ge.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ge.VERBOSE,...e),this._logHandler(this,ge.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ge.INFO,...e),this._logHandler(this,ge.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ge.WARN,...e),this._logHandler(this,ge.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ge.ERROR,...e),this._logHandler(this,ge.ERROR,...e)}}const J4=(t,e)=>e.some(n=>t instanceof n);let G1,Q1;function Z4(){return G1||(G1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function eL(){return Q1||(Q1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const f2=new WeakMap,Dg=new WeakMap,h2=new WeakMap,Wp=new WeakMap,Dv=new WeakMap;function tL(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Wi(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&f2.set(n,t)}).catch(()=>{}),Dv.set(e,t),e}function nL(t){if(Dg.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Dg.set(t,e)}let Og={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Dg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||h2.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Wi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function rL(t){Og=t(Og)}function iL(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Kp(this),e,...n);return h2.set(r,e.sort?e.sort():[e]),Wi(r)}:eL().includes(t)?function(...e){return t.apply(Kp(this),e),Wi(f2.get(this))}:function(...e){return Wi(t.apply(Kp(this),e))}}function sL(t){return typeof t=="function"?iL(t):(t instanceof IDBTransaction&&nL(t),J4(t,Z4())?new Proxy(t,Og):t)}function Wi(t){if(t instanceof IDBRequest)return tL(t);if(Wp.has(t))return Wp.get(t);const e=sL(t);return e!==t&&(Wp.set(t,e),Dv.set(e,t)),e}const Kp=t=>Dv.get(t);function oL(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Wi(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Wi(o.result),l.oldVersion,l.newVersion,Wi(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const aL=["get","getKey","getAll","getAllKeys","count"],lL=["put","add","delete","clear"],Gp=new Map;function Y1(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Gp.get(e))return Gp.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=lL.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||aL.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return Gp.set(e,s),s}rL(t=>({...t,get:(e,n,r)=>Y1(e,n)||t.get(e,n,r),has:(e,n)=>!!Y1(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uL{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(cL(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function cL(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Lg="@firebase/app",X1="0.9.25";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qs=new Xf("@firebase/app"),dL="@firebase/app-compat",fL="@firebase/analytics-compat",hL="@firebase/analytics",pL="@firebase/app-check-compat",mL="@firebase/app-check",gL="@firebase/auth",yL="@firebase/auth-compat",vL="@firebase/database",wL="@firebase/database-compat",_L="@firebase/functions",EL="@firebase/functions-compat",xL="@firebase/installations",TL="@firebase/installations-compat",bL="@firebase/messaging",IL="@firebase/messaging-compat",SL="@firebase/performance",CL="@firebase/performance-compat",AL="@firebase/remote-config",PL="@firebase/remote-config-compat",RL="@firebase/storage",kL="@firebase/storage-compat",NL="@firebase/firestore",DL="@firebase/firestore-compat",OL="firebase",LL="10.7.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jg="[DEFAULT]",jL={[Lg]:"fire-core",[dL]:"fire-core-compat",[hL]:"fire-analytics",[fL]:"fire-analytics-compat",[mL]:"fire-app-check",[pL]:"fire-app-check-compat",[gL]:"fire-auth",[yL]:"fire-auth-compat",[vL]:"fire-rtdb",[wL]:"fire-rtdb-compat",[_L]:"fire-fn",[EL]:"fire-fn-compat",[xL]:"fire-iid",[TL]:"fire-iid-compat",[bL]:"fire-fcm",[IL]:"fire-fcm-compat",[SL]:"fire-perf",[CL]:"fire-perf-compat",[AL]:"fire-rc",[PL]:"fire-rc-compat",[RL]:"fire-gcs",[kL]:"fire-gcs-compat",[NL]:"fire-fst",[DL]:"fire-fst-compat","fire-js":"fire-js",[OL]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wd=new Map,Mg=new Map;function ML(t,e){try{t.container.addComponent(e)}catch(n){qs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ur(t){const e=t.name;if(Mg.has(e))return qs.debug(`There were multiple attempts to register component ${e}.`),!1;Mg.set(e,t);for(const n of Wd.values())ML(n,t);return!0}function cs(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Ki=new ro("app","Firebase",VL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FL{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Kn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ki.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const io=LL;function p2(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:jg,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Ki.create("bad-app-name",{appName:String(i)});if(n||(n=o2()),!n)throw Ki.create("no-options");const s=Wd.get(i);if(s){if(eu(n,s.options)&&eu(r,s.config))return s;throw Ki.create("duplicate-app",{appName:i})}const o=new K4(i);for(const l of Mg.values())o.addComponent(l);const a=new FL(n,r,o);return Wd.set(i,a),a}function Jf(t=jg){const e=Wd.get(t);if(!e&&t===jg&&o2())return p2();if(!e)throw Ki.create("no-app",{appName:t});return e}function fn(t,e,n){var r;let i=(r=jL[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),qs.warn(a.join(" "));return}ur(new Kn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UL="firebase-heartbeat-database",$L=1,tu="firebase-heartbeat-store";let Qp=null;function m2(){return Qp||(Qp=oL(UL,$L,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(tu)}}}).catch(t=>{throw Ki.create("idb-open",{originalErrorMessage:t.message})})),Qp}async function BL(t){try{return await(await m2()).transaction(tu).objectStore(tu).get(g2(t))}catch(e){if(e instanceof Qn)qs.warn(e.message);else{const n=Ki.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});qs.warn(n.message)}}}async function J1(t,e){try{const r=(await m2()).transaction(tu,"readwrite");await r.objectStore(tu).put(e,g2(t)),await r.done}catch(n){if(n instanceof Qn)qs.warn(n.message);else{const r=Ki.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});qs.warn(r.message)}}}function g2(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zL=1024,HL=30*24*60*60*1e3;class qL{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new KL(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Z1();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=HL}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Z1(),{heartbeatsToSend:r,unsentEntries:i}=WL(this._heartbeatsCache.heartbeats),s=qd(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function Z1(){return new Date().toISOString().substring(0,10)}function WL(t,e=zL){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),eE(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),eE(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class KL{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return c2()?d2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await BL(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return J1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return J1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function eE(t){return qd(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GL(t){ur(new Kn("platform-logger",e=>new uL(e),"PRIVATE")),ur(new Kn("heartbeat",e=>new qL(e),"PRIVATE")),fn(Lg,X1,t),fn(Lg,X1,"esm2017"),fn("fire-js","")}GL("");var QL=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},H,Ov=Ov||{},oe=QL||self;function Zf(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Cu(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function YL(t){return Object.prototype.hasOwnProperty.call(t,Yp)&&t[Yp]||(t[Yp]=++XL)}var Yp="closure_uid_"+(1e9*Math.random()>>>0),XL=0;function JL(t,e,n){return t.call.apply(t.bind,arguments)}function ZL(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Ht(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Ht=JL:Ht=ZL,Ht.apply(null,arguments)}function Pc(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Et(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function ds(){this.s=this.s,this.o=this.o}var ej=0;ds.prototype.s=!1;ds.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),ej!=0)&&YL(this)};ds.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const y2=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Lv(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function tE(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Zf(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function qt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}qt.prototype.h=function(){this.defaultPrevented=!0};var tj=function(){if(!oe.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const n=()=>{};oe.addEventListener("test",n,e),oe.removeEventListener("test",n,e)}catch{}return t}();function nu(t){return/^[\s\xa0]*$/.test(t)}function eh(){var t=oe.navigator;return t&&(t=t.userAgent)?t:""}function vr(t){return eh().indexOf(t)!=-1}function jv(t){return jv[" "](t),t}jv[" "]=function(){};function nj(t,e){var n=Gj;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var rj=vr("Opera"),oa=vr("Trident")||vr("MSIE"),v2=vr("Edge"),Vg=v2||oa,w2=vr("Gecko")&&!(eh().toLowerCase().indexOf("webkit")!=-1&&!vr("Edge"))&&!(vr("Trident")||vr("MSIE"))&&!vr("Edge"),ij=eh().toLowerCase().indexOf("webkit")!=-1&&!vr("Edge");function _2(){var t=oe.document;return t?t.documentMode:void 0}var Fg;e:{var Xp="",Jp=function(){var t=eh();if(w2)return/rv:([^\);]+)(\)|;)/.exec(t);if(v2)return/Edge\/([\d\.]+)/.exec(t);if(oa)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(ij)return/WebKit\/(\S+)/.exec(t);if(rj)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Jp&&(Xp=Jp?Jp[1]:""),oa){var Zp=_2();if(Zp!=null&&Zp>parseFloat(Xp)){Fg=String(Zp);break e}}Fg=Xp}var Ug;if(oe.document&&oa){var nE=_2();Ug=nE||parseInt(Fg,10)||void 0}else Ug=void 0;var sj=Ug;function ru(t,e){if(qt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(w2){e:{try{jv(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:oj[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&ru.$.h.call(this)}}Et(ru,qt);var oj={2:"touch",3:"pen",4:"mouse"};ru.prototype.h=function(){ru.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Au="closure_listenable_"+(1e6*Math.random()|0),aj=0;function lj(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++aj,this.fa=this.ia=!1}function th(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Mv(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function uj(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function E2(t){const e={};for(const n in t)e[n]=t[n];return e}const rE="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x2(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<rE.length;s++)n=rE[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function nh(t){this.src=t,this.g={},this.h=0}nh.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=Bg(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new lj(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function $g(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=y2(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(th(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Bg(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var Vv="closure_lm_"+(1e6*Math.random()|0),em={};function T2(t,e,n,r,i){if(r&&r.once)return I2(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)T2(t,e[s],n,r,i);return null}return n=$v(n),t&&t[Au]?t.O(e,n,Cu(r)?!!r.capture:!!r,i):b2(t,e,n,!1,r,i)}function b2(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Cu(i)?!!i.capture:!!i,a=Uv(t);if(a||(t[Vv]=a=new nh(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=cj(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)tj||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(C2(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function cj(){function t(n){return e.call(t.src,t.listener,n)}const e=dj;return t}function I2(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)I2(t,e[s],n,r,i);return null}return n=$v(n),t&&t[Au]?t.P(e,n,Cu(r)?!!r.capture:!!r,i):b2(t,e,n,!0,r,i)}function S2(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)S2(t,e[s],n,r,i);else r=Cu(r)?!!r.capture:!!r,n=$v(n),t&&t[Au]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=Bg(s,n,r,i),-1<n&&(th(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=Uv(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Bg(e,n,r,i)),(n=-1<t?e[t]:null)&&Fv(n))}function Fv(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Au])$g(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(C2(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Uv(e))?($g(n,t),n.h==0&&(n.src=null,e[Vv]=null)):th(t)}}}function C2(t){return t in em?em[t]:em[t]="on"+t}function dj(t,e){if(t.fa)t=!0;else{e=new ru(e,this);var n=t.listener,r=t.la||t.src;t.ia&&Fv(t),t=n.call(r,e)}return t}function Uv(t){return t=t[Vv],t instanceof nh?t:null}var tm="__closure_events_fn_"+(1e9*Math.random()>>>0);function $v(t){return typeof t=="function"?t:(t[tm]||(t[tm]=function(e){return t.handleEvent(e)}),t[tm])}function _t(){ds.call(this),this.i=new nh(this),this.S=this,this.J=null}Et(_t,ds);_t.prototype[Au]=!0;_t.prototype.removeEventListener=function(t,e,n,r){S2(this,t,e,n,r)};function Nt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new qt(e,t);else if(e instanceof qt)e.target=e.target||t;else{var i=e;e=new qt(r,t),x2(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Rc(o,r,!0,e)&&i}if(o=e.g=t,i=Rc(o,r,!0,e)&&i,i=Rc(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=Rc(o,r,!1,e)&&i}_t.prototype.N=function(){if(_t.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)th(n[r]);delete t.g[e],t.h--}}this.J=null};_t.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};_t.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Rc(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&$g(t.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var Bv=oe.JSON.stringify;class fj{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function hj(){var t=zv;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class pj{constructor(){this.h=this.g=null}add(e,n){const r=A2.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var A2=new fj(()=>new mj,t=>t.reset());class mj{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function gj(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function yj(t){oe.setTimeout(()=>{throw t},0)}let iu,su=!1,zv=new pj,P2=()=>{const t=oe.Promise.resolve(void 0);iu=()=>{t.then(vj)}};var vj=()=>{for(var t;t=hj();){try{t.h.call(t.g)}catch(n){yj(n)}var e=A2;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}su=!1};function rh(t,e){_t.call(this),this.h=t||1,this.g=e||oe,this.j=Ht(this.qb,this),this.l=Date.now()}Et(rh,_t);H=rh.prototype;H.ga=!1;H.T=null;H.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Nt(this,"tick"),this.ga&&(Hv(this),this.start()))}};H.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Hv(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}H.N=function(){rh.$.N.call(this),Hv(this),delete this.g};function qv(t,e,n){if(typeof t=="function")n&&(t=Ht(t,n));else if(t&&typeof t.handleEvent=="function")t=Ht(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:oe.setTimeout(t,e||0)}function R2(t){t.g=qv(()=>{t.g=null,t.i&&(t.i=!1,R2(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class wj extends ds{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:R2(this)}N(){super.N(),this.g&&(oe.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ou(t){ds.call(this),this.h=t,this.g={}}Et(ou,ds);var iE=[];function k2(t,e,n,r){Array.isArray(n)||(n&&(iE[0]=n.toString()),n=iE);for(var i=0;i<n.length;i++){var s=T2(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function N2(t){Mv(t.g,function(e,n){this.g.hasOwnProperty(n)&&Fv(e)},t),t.g={}}ou.prototype.N=function(){ou.$.N.call(this),N2(this)};ou.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function ih(){this.g=!0}ih.prototype.Ea=function(){this.g=!1};function _j(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var h=c.split("_");o=2<=h.length&&h[1]=="type"?o+(c+"="+u+"&"):o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function Ej(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function Fo(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+Tj(t,n)+(r?" "+r:"")})}function xj(t,e){t.info(function(){return"TIMEOUT: "+e})}ih.prototype.info=function(){};function Tj(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return Bv(n)}catch{return e}}var so={},sE=null;function sh(){return sE=sE||new _t}so.Ta="serverreachability";function D2(t){qt.call(this,so.Ta,t)}Et(D2,qt);function au(t){const e=sh();Nt(e,new D2(e))}so.STAT_EVENT="statevent";function O2(t,e){qt.call(this,so.STAT_EVENT,t),this.stat=e}Et(O2,qt);function en(t){const e=sh();Nt(e,new O2(e,t))}so.Ua="timingevent";function L2(t,e){qt.call(this,so.Ua,t),this.size=e}Et(L2,qt);function Pu(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return oe.setTimeout(function(){t()},e)}var oh={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},j2={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Wv(){}Wv.prototype.h=null;function oE(t){return t.h||(t.h=t.i())}function M2(){}var Ru={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Kv(){qt.call(this,"d")}Et(Kv,qt);function Gv(){qt.call(this,"c")}Et(Gv,qt);var zg;function ah(){}Et(ah,Wv);ah.prototype.g=function(){return new XMLHttpRequest};ah.prototype.i=function(){return{}};zg=new ah;function ku(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new ou(this),this.P=bj,t=Vg?125:void 0,this.V=new rh(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new V2}function V2(){this.i=null,this.g="",this.h=!1}var bj=45e3,F2={},Hg={};H=ku.prototype;H.setTimeout=function(t){this.P=t};function qg(t,e,n){t.L=1,t.A=uh(ni(e)),t.u=n,t.S=!0,U2(t,null)}function U2(t,e){t.G=Date.now(),Nu(t),t.B=ni(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),G2(n.i,"t",r),t.o=0,n=t.l.J,t.h=new V2,t.g=mS(t.l,n?e:null,!t.u),0<t.O&&(t.M=new wj(Ht(t.Pa,t,t.g),t.O)),k2(t.U,t.g,"readystatechange",t.nb),e=t.I?E2(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),au(),_j(t.j,t.v,t.B,t.m,t.W,t.u)}H.nb=function(t){t=t.target;const e=this.M;e&&_r(t)==3?e.l():this.Pa(t)};H.Pa=function(t){try{if(t==this.g)e:{const c=_r(this.g);var e=this.g.Ia();const h=this.g.da();if(!(3>c)&&(c!=3||Vg||this.g&&(this.h.h||this.g.ja()||cE(this.g)))){this.J||c!=4||e==7||(e==8||0>=h?au(3):au(2)),lh(this);var n=this.g.da();this.ca=n;t:if($2(this)){var r=cE(this.g);t="";var i=r.length,s=_r(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Cs(this),Tl(this);var o="";break t}this.h.i=new oe.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.length=0,this.h.g+=t,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,Ej(this.j,this.v,this.B,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!nu(a)){var u=a;break t}}u=null}if(n=u)Fo(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Wg(this,n);else{this.i=!1,this.s=3,en(12),Cs(this),Tl(this);break e}}this.S?(B2(this,c,o),Vg&&this.i&&c==3&&(k2(this.U,this.V,"tick",this.mb),this.V.start())):(Fo(this.j,this.m,o,null),Wg(this,o)),c==4&&Cs(this),this.i&&!this.J&&(c==4?dS(this.l,this):(this.i=!1,Nu(this)))}else qj(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.s=3,en(12)):(this.s=0,en(13)),Cs(this),Tl(this)}}}catch{}finally{}};function $2(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function B2(t,e,n){let r=!0,i;for(;!t.J&&t.o<n.length;)if(i=Ij(t,n),i==Hg){e==4&&(t.s=4,en(14),r=!1),Fo(t.j,t.m,null,"[Incomplete Response]");break}else if(i==F2){t.s=4,en(15),Fo(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Fo(t.j,t.m,i,null),Wg(t,i);$2(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,en(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),ew(e),e.M=!0,en(11))):(Fo(t.j,t.m,n,"[Invalid Chunked Response]"),Cs(t),Tl(t))}H.mb=function(){if(this.g){var t=_r(this.g),e=this.g.ja();this.o<e.length&&(lh(this),B2(this,t,e),this.i&&t!=4&&Nu(this))}};function Ij(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?Hg:(n=Number(e.substring(n,r)),isNaN(n)?F2:(r+=1,r+n>e.length?Hg:(e=e.slice(r,r+n),t.o=r+n,e)))}H.cancel=function(){this.J=!0,Cs(this)};function Nu(t){t.Y=Date.now()+t.P,z2(t,t.P)}function z2(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=Pu(Ht(t.lb,t),e)}function lh(t){t.C&&(oe.clearTimeout(t.C),t.C=null)}H.lb=function(){this.C=null;const t=Date.now();0<=t-this.Y?(xj(this.j,this.B),this.L!=2&&(au(),en(17)),Cs(this),this.s=2,Tl(this)):z2(this,this.Y-t)};function Tl(t){t.l.H==0||t.J||dS(t.l,t)}function Cs(t){lh(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,Hv(t.V),N2(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Wg(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Kg(n.i,t))){if(!t.K&&Kg(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Qd(n),hh(n);else break e;Zv(n),en(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=Pu(Ht(n.ib,n),6e3));if(1>=X2(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else As(n,11)}else if((t.K||n.g==t)&&Qd(n),!nu(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];const c=u[3];c!=null&&(n.ra=c,n.l.info("VER="+n.ra));const h=u[4];h!=null&&(n.Ga=h,n.l.info("SVER="+n.Ga));const m=u[5];m!=null&&typeof m=="number"&&0<m&&(r=1.5*m,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const w=t.g;if(w){const _=w.g?w.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_){var s=r.i;s.g||_.indexOf("spdy")==-1&&_.indexOf("quic")==-1&&_.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(Qv(s,s.h),s.h=null))}if(r.F){const x=w.g?w.g.getResponseHeader("X-HTTP-Session-Id"):null;x&&(r.Da=x,Le(r.I,r.F,x))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=pS(r,r.J?r.pa:null,r.Y),o.K){J2(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.C&&(lh(a),Nu(a)),r.g=o}else uS(r);0<n.j.length&&ph(n)}else u[0]!="stop"&&u[0]!="close"||As(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?As(n,7):Jv(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}au(4)}catch{}}function Sj(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Zf(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function Cj(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Zf(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function H2(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Zf(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=Cj(t),r=Sj(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var q2=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Aj(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Ls(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Ls){this.h=t.h,Kd(this,t.j),this.s=t.s,this.g=t.g,Gd(this,t.m),this.l=t.l;var e=t.i,n=new lu;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),aE(this,n),this.o=t.o}else t&&(e=String(t).match(q2))?(this.h=!1,Kd(this,e[1]||"",!0),this.s=ul(e[2]||""),this.g=ul(e[3]||"",!0),Gd(this,e[4]),this.l=ul(e[5]||"",!0),aE(this,e[6]||"",!0),this.o=ul(e[7]||"")):(this.h=!1,this.i=new lu(null,this.h))}Ls.prototype.toString=function(){var t=[],e=this.j;e&&t.push(cl(e,lE,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(cl(e,lE,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(cl(n,n.charAt(0)=="/"?kj:Rj,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",cl(n,Dj)),t.join("")};function ni(t){return new Ls(t)}function Kd(t,e,n){t.j=n?ul(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Gd(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function aE(t,e,n){e instanceof lu?(t.i=e,Oj(t.i,t.h)):(n||(e=cl(e,Nj)),t.i=new lu(e,t.h))}function Le(t,e,n){t.i.set(e,n)}function uh(t){return Le(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function ul(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function cl(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,Pj),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Pj(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var lE=/[#\/\?@]/g,Rj=/[#\?:]/g,kj=/[#\?]/g,Nj=/[#\?@]/g,Dj=/#/g;function lu(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function fs(t){t.g||(t.g=new Map,t.h=0,t.i&&Aj(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}H=lu.prototype;H.add=function(t,e){fs(this),this.i=null,t=Ea(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function W2(t,e){fs(t),e=Ea(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function K2(t,e){return fs(t),e=Ea(t,e),t.g.has(e)}H.forEach=function(t,e){fs(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};H.ta=function(){fs(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};H.Z=function(t){fs(this);let e=[];if(typeof t=="string")K2(this,t)&&(e=e.concat(this.g.get(Ea(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};H.set=function(t,e){return fs(this),this.i=null,t=Ea(this,t),K2(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};H.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function G2(t,e,n){W2(t,e),0<n.length&&(t.i=null,t.g.set(Ea(t,e),Lv(n)),t.h+=n.length)}H.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function Ea(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function Oj(t,e){e&&!t.j&&(fs(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(W2(this,r),G2(this,i,n))},t)),t.j=e}var Lj=class{constructor(t,e){this.g=t,this.map=e}};function Q2(t){this.l=t||jj,oe.PerformanceNavigationTiming?(t=oe.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(oe.g&&oe.g.Ka&&oe.g.Ka()&&oe.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var jj=10;function Y2(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function X2(t){return t.h?1:t.g?t.g.size:0}function Kg(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Qv(t,e){t.g?t.g.add(e):t.h=e}function J2(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}Q2.prototype.cancel=function(){if(this.i=Z2(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function Z2(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return Lv(t.i)}var Mj=class{stringify(t){return oe.JSON.stringify(t,void 0)}parse(t){return oe.JSON.parse(t,void 0)}};function Vj(){this.g=new Mj}function Fj(t,e,n){const r=n||"";try{H2(t,function(i,s){let o=i;Cu(i)&&(o=Bv(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Uj(t,e){const n=new ih;if(oe.Image){const r=new Image;r.onload=Pc(kc,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Pc(kc,n,r,"TestLoadImage: error",!1,e),r.onabort=Pc(kc,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Pc(kc,n,r,"TestLoadImage: timeout",!1,e),oe.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function kc(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function ch(t){this.l=t.ec||null,this.j=t.ob||!1}Et(ch,Wv);ch.prototype.g=function(){return new dh(this.l,this.j)};ch.prototype.i=function(t){return function(){return t}}({});function dh(t,e){_t.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Yv,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Et(dh,_t);var Yv=0;H=dh.prototype;H.open=function(t,e){if(this.readyState!=Yv)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,uu(this)};H.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||oe).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};H.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Du(this)),this.readyState=Yv};H.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,uu(this)),this.g&&(this.readyState=3,uu(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof oe.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;eS(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function eS(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}H.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Du(this):uu(this),this.readyState==3&&eS(this)}};H.Za=function(t){this.g&&(this.response=this.responseText=t,Du(this))};H.Ya=function(t){this.g&&(this.response=t,Du(this))};H.ka=function(){this.g&&Du(this)};function Du(t){t.readyState=4,t.l=null,t.j=null,t.A=null,uu(t)}H.setRequestHeader=function(t,e){this.v.append(t,e)};H.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};H.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function uu(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(dh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var $j=oe.JSON.parse;function Ye(t){_t.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=tS,this.L=this.M=!1}Et(Ye,_t);var tS="",Bj=/^https?$/i,zj=["POST","PUT"];H=Ye.prototype;H.Oa=function(t){this.M=t};H.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():zg.g(),this.C=this.u?oE(this.u):oE(zg),this.g.onreadystatechange=Ht(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){uE(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=oe.FormData&&t instanceof oe.FormData,!(0<=y2(zj,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{iS(this),0<this.B&&((this.L=Hj(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ht(this.ua,this)):this.A=qv(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){uE(this,s)}};function Hj(t){return oa&&typeof t.timeout=="number"&&t.ontimeout!==void 0}H.ua=function(){typeof Ov<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Nt(this,"timeout"),this.abort(8))};function uE(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,nS(t),fh(t)}function nS(t){t.F||(t.F=!0,Nt(t,"complete"),Nt(t,"error"))}H.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Nt(this,"complete"),Nt(this,"abort"),fh(this))};H.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),fh(this,!0)),Ye.$.N.call(this)};H.La=function(){this.s||(this.G||this.v||this.l?rS(this):this.kb())};H.kb=function(){rS(this)};function rS(t){if(t.h&&typeof Ov<"u"&&(!t.C[1]||_r(t)!=4||t.da()!=2)){if(t.v&&_r(t)==4)qv(t.La,0,t);else if(Nt(t,"readystatechange"),_r(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(q2)[1]||null;!i&&oe.self&&oe.self.location&&(i=oe.self.location.protocol.slice(0,-1)),r=!Bj.test(i?i.toLowerCase():"")}n=r}if(n)Nt(t,"complete"),Nt(t,"success");else{t.m=6;try{var s=2<_r(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",nS(t)}}finally{fh(t)}}}}function fh(t,e){if(t.g){iS(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Nt(t,"ready");try{n.onreadystatechange=r}catch{}}}function iS(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(oe.clearTimeout(t.A),t.A=null)}H.isActive=function(){return!!this.g};function _r(t){return t.g?t.g.readyState:0}H.da=function(){try{return 2<_r(this)?this.g.status:-1}catch{return-1}};H.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};H.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),$j(e)}};function cE(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case tS:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function qj(t){const e={};t=(t.g&&2<=_r(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(nu(t[r]))continue;var n=gj(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}uj(e,function(r){return r.join(", ")})}H.Ia=function(){return this.m};H.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function sS(t){let e="";return Mv(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function Xv(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=sS(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Le(t,e,n))}function Qa(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function oS(t){this.Ga=0,this.j=[],this.l=new ih,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Qa("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Qa("baseRetryDelayMs",5e3,t),this.hb=Qa("retryDelaySeedMs",1e4,t),this.eb=Qa("forwardChannelMaxRetries",2,t),this.xa=Qa("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new Q2(t&&t.concurrentRequestLimit),this.Ja=new Vj,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}H=oS.prototype;H.ra=8;H.H=1;function Jv(t){if(aS(t),t.H==3){var e=t.W++,n=ni(t.I);if(Le(n,"SID",t.K),Le(n,"RID",e),Le(n,"TYPE","terminate"),Ou(t,n),e=new ku(t,t.l,e),e.L=2,e.A=uh(ni(n)),n=!1,oe.navigator&&oe.navigator.sendBeacon)try{n=oe.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&oe.Image&&(new Image().src=e.A,n=!0),n||(e.g=mS(e.l,null),e.g.ha(e.A)),e.G=Date.now(),Nu(e)}hS(t)}function hh(t){t.g&&(ew(t),t.g.cancel(),t.g=null)}function aS(t){hh(t),t.u&&(oe.clearTimeout(t.u),t.u=null),Qd(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&oe.clearTimeout(t.m),t.m=null)}function ph(t){if(!Y2(t.i)&&!t.m){t.m=!0;var e=t.Na;iu||P2(),su||(iu(),su=!0),zv.add(e,t),t.C=0}}function Wj(t,e){return X2(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Pu(Ht(t.Na,t,e),fS(t,t.C)),t.C++,!0)}H.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new ku(this,this.l,t);let s=this.s;if(this.U&&(s?(s=E2(s),x2(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=lS(this,i,e),n=ni(this.I),Le(n,"RID",t),Le(n,"CVER",22),this.F&&Le(n,"X-HTTP-Session-Id",this.F),Ou(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(sS(s)))+"&"+e:this.o&&Xv(n,this.o,s)),Qv(this.i,i),this.bb&&Le(n,"TYPE","init"),this.P?(Le(n,"$req",e),Le(n,"SID","null"),i.aa=!0,qg(i,n,null)):qg(i,n,e),this.H=2}}else this.H==3&&(t?dE(this,t):this.j.length==0||Y2(this.i)||dE(this))};function dE(t,e){var n;e?n=e.m:n=t.W++;const r=ni(t.I);Le(r,"SID",t.K),Le(r,"RID",n),Le(r,"AID",t.V),Ou(t,r),t.o&&t.s&&Xv(r,t.o,t.s),n=new ku(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=lS(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Qv(t.i,n),qg(n,r,e)}function Ou(t,e){t.na&&Mv(t.na,function(n,r){Le(e,r,n)}),t.h&&H2({},function(n,r){Le(e,r,n)})}function lS(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Ht(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let u=i[l].g;const c=i[l].map;if(u-=s,0>u)s=Math.max(0,i[l].g-100),a=!1;else try{Fj(c,o,"req"+u+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function uS(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;iu||P2(),su||(iu(),su=!0),zv.add(e,t),t.A=0}}function Zv(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Pu(Ht(t.Ma,t),fS(t,t.A)),t.A++,!0)}H.Ma=function(){if(this.u=null,cS(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Pu(Ht(this.jb,this),t)}};H.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,en(10),hh(this),cS(this))};function ew(t){t.B!=null&&(oe.clearTimeout(t.B),t.B=null)}function cS(t){t.g=new ku(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=ni(t.wa);Le(e,"RID","rpc"),Le(e,"SID",t.K),Le(e,"AID",t.V),Le(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Le(e,"TO",t.qa),Le(e,"TYPE","xmlhttp"),Ou(t,e),t.o&&t.s&&Xv(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=uh(ni(e)),n.u=null,n.S=!0,U2(n,t)}H.ib=function(){this.v!=null&&(this.v=null,hh(this),Zv(this),en(19))};function Qd(t){t.v!=null&&(oe.clearTimeout(t.v),t.v=null)}function dS(t,e){var n=null;if(t.g==e){Qd(t),ew(t),t.g=null;var r=2}else if(Kg(t.i,e))n=e.F,J2(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;r=sh(),Nt(r,new L2(r,n)),ph(t)}else uS(t);else if(i=e.s,i==3||i==0&&0<e.ca||!(r==1&&Wj(t,e)||r==2&&Zv(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:As(t,5);break;case 4:As(t,10);break;case 3:As(t,6);break;default:As(t,2)}}}function fS(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function As(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=Ht(t.pb,t);n||(n=new Ls("//www.google.com/images/cleardot.gif"),oe.location&&oe.location.protocol=="http"||Kd(n,"https"),uh(n)),Uj(n.toString(),r)}else en(2);t.H=0,t.h&&t.h.za(e),hS(t),aS(t)}H.pb=function(t){t?(this.l.info("Successfully pinged google.com"),en(2)):(this.l.info("Failed to ping google.com"),en(1))};function hS(t){if(t.H=0,t.ma=[],t.h){const e=Z2(t.i);(e.length!=0||t.j.length!=0)&&(tE(t.ma,e),tE(t.ma,t.j),t.i.i.length=0,Lv(t.j),t.j.length=0),t.h.ya()}}function pS(t,e,n){var r=n instanceof Ls?ni(n):new Ls(n);if(r.g!="")e&&(r.g=e+"."+r.g),Gd(r,r.m);else{var i=oe.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Ls(null);r&&Kd(s,r),e&&(s.g=e),i&&Gd(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&Le(r,n,e),Le(r,"VER",t.ra),Ou(t,r),r}function mS(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new Ye(new ch({ob:n})):new Ye(t.va),e.Oa(t.J),e}H.isActive=function(){return!!this.h&&this.h.isActive(this)};function gS(){}H=gS.prototype;H.Ba=function(){};H.Aa=function(){};H.za=function(){};H.ya=function(){};H.isActive=function(){return!0};H.Va=function(){};function Yd(){if(oa&&!(10<=Number(sj)))throw Error("Environmental error: no available transport.")}Yd.prototype.g=function(t,e){return new An(t,e)};function An(t,e){_t.call(this),this.g=new oS(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!nu(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!nu(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new xa(this)}Et(An,_t);An.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;en(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=pS(t,null,t.Y),ph(t)};An.prototype.close=function(){Jv(this.g)};An.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Bv(t),t=n);e.j.push(new Lj(e.fb++,t)),e.H==3&&ph(e)};An.prototype.N=function(){this.g.h=null,delete this.j,Jv(this.g),delete this.g,An.$.N.call(this)};function yS(t){Kv.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Et(yS,Kv);function vS(){Gv.call(this),this.status=1}Et(vS,Gv);function xa(t){this.g=t}Et(xa,gS);xa.prototype.Ba=function(){Nt(this.g,"a")};xa.prototype.Aa=function(t){Nt(this.g,new yS(t))};xa.prototype.za=function(t){Nt(this.g,new vS)};xa.prototype.ya=function(){Nt(this.g,"b")};function Kj(){this.blockSize=-1}function cr(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Et(cr,Kj);cr.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function nm(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}cr.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)nm(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){nm(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){nm(this,r),i=0;break}}this.h=i,this.i+=e};cr.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function Ae(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var Gj={};function tw(t){return-128<=t&&128>t?nj(t,function(e){return new Ae([e|0],0>e?-1:0)}):new Ae([t|0],0>t?-1:0)}function Er(t){if(isNaN(t)||!isFinite(t))return Ko;if(0>t)return Pt(Er(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=Gg;return new Ae(e,0)}function wS(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Pt(wS(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Er(Math.pow(e,8)),r=Ko,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=Er(Math.pow(e,s)),r=r.R(s).add(Er(o))):(r=r.R(n),r=r.add(Er(o)))}return r}var Gg=4294967296,Ko=tw(0),Qg=tw(1),fE=tw(16777216);H=Ae.prototype;H.ea=function(){if(Fn(this))return-Pt(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:Gg+r)*e,e*=Gg}return t};H.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(qr(this))return"0";if(Fn(this))return"-"+Pt(this).toString(t);for(var e=Er(Math.pow(t,6)),n=this,r="";;){var i=Jd(n,e).g;n=Xd(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,qr(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};H.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function qr(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Fn(t){return t.h==-1}H.X=function(t){return t=Xd(this,t),Fn(t)?-1:qr(t)?0:1};function Pt(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Ae(n,~t.h).add(Qg)}H.abs=function(){return Fn(this)?Pt(this):this};H.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new Ae(n,n[n.length-1]&-2147483648?-1:0)};function Xd(t,e){return t.add(Pt(e))}H.R=function(t){if(qr(this)||qr(t))return Ko;if(Fn(this))return Fn(t)?Pt(this).R(Pt(t)):Pt(Pt(this).R(t));if(Fn(t))return Pt(this.R(Pt(t)));if(0>this.X(fE)&&0>t.X(fE))return Er(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(i)>>>16,l=t.D(i)&65535;n[2*r+2*i]+=o*l,Nc(n,2*r+2*i),n[2*r+2*i+1]+=s*l,Nc(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,Nc(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,Nc(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Ae(n,0)};function Nc(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Ya(t,e){this.g=t,this.h=e}function Jd(t,e){if(qr(e))throw Error("division by zero");if(qr(t))return new Ya(Ko,Ko);if(Fn(t))return e=Jd(Pt(t),e),new Ya(Pt(e.g),Pt(e.h));if(Fn(e))return e=Jd(t,Pt(e)),new Ya(Pt(e.g),e.h);if(30<t.g.length){if(Fn(t)||Fn(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Qg,r=e;0>=r.X(t);)n=hE(n),r=hE(r);var i=xo(n,1),s=xo(r,1);for(r=xo(r,2),n=xo(n,2);!qr(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=xo(r,1),n=xo(n,1)}return e=Xd(t,i.R(e)),new Ya(i,e)}for(i=Ko;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=Er(n),o=s.R(e);Fn(o)||0<o.X(t);)n-=r,s=Er(n),o=s.R(e);qr(s)&&(s=Qg),i=i.add(s),t=Xd(t,o)}return new Ya(i,t)}H.gb=function(t){return Jd(this,t).h};H.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Ae(n,this.h&t.h)};H.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Ae(n,this.h|t.h)};H.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Ae(n,this.h^t.h)};function hE(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Ae(n,t.h)}function xo(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new Ae(i,t.h)}Yd.prototype.createWebChannel=Yd.prototype.g;An.prototype.send=An.prototype.u;An.prototype.open=An.prototype.m;An.prototype.close=An.prototype.close;oh.NO_ERROR=0;oh.TIMEOUT=8;oh.HTTP_ERROR=6;j2.COMPLETE="complete";M2.EventType=Ru;Ru.OPEN="a";Ru.CLOSE="b";Ru.ERROR="c";Ru.MESSAGE="d";_t.prototype.listen=_t.prototype.O;Ye.prototype.listenOnce=Ye.prototype.P;Ye.prototype.getLastError=Ye.prototype.Sa;Ye.prototype.getLastErrorCode=Ye.prototype.Ia;Ye.prototype.getStatus=Ye.prototype.da;Ye.prototype.getResponseJson=Ye.prototype.Wa;Ye.prototype.getResponseText=Ye.prototype.ja;Ye.prototype.send=Ye.prototype.ha;Ye.prototype.setWithCredentials=Ye.prototype.Oa;cr.prototype.digest=cr.prototype.l;cr.prototype.reset=cr.prototype.reset;cr.prototype.update=cr.prototype.j;Ae.prototype.add=Ae.prototype.add;Ae.prototype.multiply=Ae.prototype.R;Ae.prototype.modulo=Ae.prototype.gb;Ae.prototype.compare=Ae.prototype.X;Ae.prototype.toNumber=Ae.prototype.ea;Ae.prototype.toString=Ae.prototype.toString;Ae.prototype.getBits=Ae.prototype.D;Ae.fromNumber=Er;Ae.fromString=wS;var Qj=function(){return new Yd},Yj=function(){return sh()},rm=oh,Xj=j2,Jj=so,pE={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Dc=M2,Zj=Ye,eM=cr,Go=Ae;const mE="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}$t.UNAUTHENTICATED=new $t(null),$t.GOOGLE_CREDENTIALS=new $t("google-credentials-uid"),$t.FIRST_PARTY=new $t("first-party-uid"),$t.MOCK_USER=new $t("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ta="10.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ws=new Xf("@firebase/firestore");function Xa(){return Ws.logLevel}function X(t,...e){if(Ws.logLevel<=ge.DEBUG){const n=e.map(nw);Ws.debug(`Firestore (${Ta}): ${t}`,...n)}}function ri(t,...e){if(Ws.logLevel<=ge.ERROR){const n=e.map(nw);Ws.error(`Firestore (${Ta}): ${t}`,...n)}}function aa(t,...e){if(Ws.logLevel<=ge.WARN){const n=e.map(nw);Ws.warn(`Firestore (${Ta}): ${t}`,...n)}}function nw(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function se(t="Unexpected state"){const e=`FIRESTORE (${Ta}) INTERNAL ASSERTION FAILED: `+t;throw ri(e),new Error(e)}function ke(t,e){t||se()}function ue(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Y extends Qn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class tM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n($t.UNAUTHENTICATED))}shutdown(){}}class nM{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class rM{constructor(e){this.t=e,this.currentUser=$t.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Qr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Qr,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{X("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(X("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Qr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(X("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ke(typeof r.accessToken=="string"),new _S(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ke(e===null||typeof e=="string"),new $t(e)}}class iM{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=$t.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class sM{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new iM(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n($t.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class oM{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class aM{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&X("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,X("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{X("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):X("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ke(typeof n.token=="string"),this.R=n.token,new oM(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lM(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=lM(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Te(t,e){return t<e?-1:t>e?1:0}function la(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Y(j.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Y(j.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Y(j.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Y(j.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ft.fromMillis(Date.now())}static fromDate(e){return ft.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new ft(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Te(this.nanoseconds,e.nanoseconds):Te(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(e){this.timestamp=e}static fromTimestamp(e){return new le(e)}static min(){return new le(new ft(0,0))}static max(){return new le(new ft(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu{constructor(e,n,r){n===void 0?n=0:n>e.length&&se(),r===void 0?r=e.length-n:r>e.length-n&&se(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return cu.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof cu?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class je extends cu{construct(e,n,r){return new je(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Y(j.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new je(n)}static emptyPath(){return new je([])}}const uM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Rt extends cu{construct(e,n,r){return new Rt(e,n,r)}static isValidIdentifier(e){return uM.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Rt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Rt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Y(j.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new Y(j.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Y(j.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new Y(j.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Rt(n)}static emptyPath(){return new Rt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.path=e}static fromPath(e){return new ne(je.fromString(e))}static fromName(e){return new ne(je.fromString(e).popFirst(5))}static empty(){return new ne(je.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&je.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return je.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ne(new je(e.slice()))}}function cM(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=le.fromTimestamp(r===1e9?new ft(n+1,0):new ft(n,r));return new rs(i,ne.empty(),e)}function dM(t){return new rs(t.readTime,t.key,-1)}class rs{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new rs(le.min(),ne.empty(),-1)}static max(){return new rs(le.max(),ne.empty(),-1)}}function fM(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ne.comparator(t.documentKey,e.documentKey),n!==0?n:Te(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class pM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lu(t){if(t.code!==j.FAILED_PRECONDITION||t.message!==hM)throw t;X("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&se(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new V((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof V?n:V.resolve(n)}catch(n){return V.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):V.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):V.reject(n)}static resolve(e){return new V((n,r)=>{n(e)})}static reject(e){return new V((n,r)=>{r(e)})}static waitFor(e){return new V((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=V.resolve(!1);for(const r of e)n=n.next(i=>i?V.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new V((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(c=>{o[u]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(e,n){return new V((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function ju(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.se(r),this.oe=r=>n.writeSequenceNumber(r))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}rw._e=-1;function mh(t){return t==null}function Zd(t){return t===0&&1/t==-1/0}function mM(t){return typeof t=="number"&&Number.isInteger(t)&&!Zd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gE(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function oo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function xS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{constructor(e,n){this.comparator=e,this.root=n||At.EMPTY}insert(e,n){return new We(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,At.BLACK,null,null))}remove(e){return new We(this.comparator,this.root.remove(e,this.comparator).copy(null,null,At.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Oc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Oc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Oc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Oc(this.root,e,this.comparator,!0)}}class Oc{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class At{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??At.RED,this.left=i??At.EMPTY,this.right=s??At.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new At(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return At.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return At.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,At.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,At.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw se();const e=this.left.check();if(e!==this.right.check())throw se();return e+(this.isRed()?0:1)}}At.EMPTY=null,At.RED=!0,At.BLACK=!1;At.EMPTY=new class{constructor(){this.size=0}get key(){throw se()}get value(){throw se()}get color(){throw se()}get left(){throw se()}get right(){throw se()}copy(e,n,r,i,s){return this}insert(e,n,r){return new At(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e){this.comparator=e,this.data=new We(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new yE(this.data.getIterator())}getIteratorFrom(e){return new yE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Dt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Dt(this.comparator);return n.data=e,n}}class yE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e){this.fields=e,e.sort(Rt.comparator)}static empty(){return new _n([])}unionWith(e){let n=new Dt(Rt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new _n(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return la(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new TS("Invalid base64 string: "+s):s}}(e);return new Qt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Qt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Te(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Qt.EMPTY_BYTE_STRING=new Qt("");const gM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function is(t){if(ke(!!t),typeof t=="string"){let e=0;const n=gM.exec(t);if(ke(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:st(t.seconds),nanos:st(t.nanos)}}function st(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ks(t){return typeof t=="string"?Qt.fromBase64String(t):Qt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iw(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function sw(t){const e=t.mapValue.fields.__previous_value__;return iw(e)?sw(e):e}function du(t){const e=is(t.mapValue.fields.__local_write_time__.timestampValue);return new ft(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yM{constructor(e,n,r,i,s,o,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class fu{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new fu("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof fu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Gs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?iw(t)?4:vM(t)?9007199254740991:10:se()}function Nr(t,e){if(t===e)return!0;const n=Gs(t);if(n!==Gs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return du(t).isEqual(du(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=is(i.timestampValue),a=is(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Ks(i.bytesValue).isEqual(Ks(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return st(i.geoPointValue.latitude)===st(s.geoPointValue.latitude)&&st(i.geoPointValue.longitude)===st(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return st(i.integerValue)===st(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=st(i.doubleValue),a=st(s.doubleValue);return o===a?Zd(o)===Zd(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return la(t.arrayValue.values||[],e.arrayValue.values||[],Nr);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(gE(o)!==gE(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Nr(o[l],a[l])))return!1;return!0}(t,e);default:return se()}}function hu(t,e){return(t.values||[]).find(n=>Nr(n,e))!==void 0}function ua(t,e){if(t===e)return 0;const n=Gs(t),r=Gs(e);if(n!==r)return Te(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Te(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=st(s.integerValue||s.doubleValue),l=st(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return vE(t.timestampValue,e.timestampValue);case 4:return vE(du(t),du(e));case 5:return Te(t.stringValue,e.stringValue);case 6:return function(s,o){const a=Ks(s),l=Ks(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=Te(a[u],l[u]);if(c!==0)return c}return Te(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=Te(st(s.latitude),st(o.latitude));return a!==0?a:Te(st(s.longitude),st(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const a=s.values||[],l=o.values||[];for(let u=0;u<a.length&&u<l.length;++u){const c=ua(a[u],l[u]);if(c)return c}return Te(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===Lc.mapValue&&o===Lc.mapValue)return 0;if(s===Lc.mapValue)return 1;if(o===Lc.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let h=0;h<l.length&&h<c.length;++h){const m=Te(l[h],c[h]);if(m!==0)return m;const w=ua(a[l[h]],u[c[h]]);if(w!==0)return w}return Te(l.length,c.length)}(t.mapValue,e.mapValue);default:throw se()}}function vE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Te(t,e);const n=is(t),r=is(e),i=Te(n.seconds,r.seconds);return i!==0?i:Te(n.nanos,r.nanos)}function ca(t){return Yg(t)}function Yg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=is(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ks(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ne.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Yg(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Yg(n.fields[o])}`;return i+"}"}(t.mapValue):se()}function wE(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Xg(t){return!!t&&"integerValue"in t}function ow(t){return!!t&&"arrayValue"in t}function _E(t){return!!t&&"nullValue"in t}function EE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function rd(t){return!!t&&"mapValue"in t}function bl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return oo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=bl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=bl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function vM(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e){this.value=e}static empty(){return new an({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!rd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=bl(n)}setAll(e){let n=Rt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=bl(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());rd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Nr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];rd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){oo(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new an(bl(this.value))}}function bS(t){const e=[];return oo(t.fields,(n,r)=>{const i=new Rt([n]);if(rd(r)){const s=bS(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new _n(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new zt(e,0,le.min(),le.min(),le.min(),an.empty(),0)}static newFoundDocument(e,n,r,i){return new zt(e,1,n,le.min(),r,i,0)}static newNoDocument(e,n){return new zt(e,2,n,le.min(),le.min(),an.empty(),0)}static newUnknownDocument(e,n){return new zt(e,3,n,le.min(),le.min(),an.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(le.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=an.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=an.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=le.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof zt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new zt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(e,n){this.position=e,this.inclusive=n}}function xE(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=ne.comparator(ne.fromName(o.referenceValue),n.key):r=ua(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function TE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Nr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf{constructor(e,n="asc"){this.field=e,this.dir=n}}function wM(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let IS=class{};class at extends IS{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new EM(e,n,r):n==="array-contains"?new bM(e,r):n==="in"?new IM(e,r):n==="not-in"?new SM(e,r):n==="array-contains-any"?new CM(e,r):new at(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new xM(e,r):new TM(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ua(n,this.value)):n!==null&&Gs(this.value)===Gs(n)&&this.matchesComparison(ua(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return se()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class dr extends IS{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new dr(e,n)}matches(e){return SS(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function SS(t){return t.op==="and"}function CS(t){return _M(t)&&SS(t)}function _M(t){for(const e of t.filters)if(e instanceof dr)return!1;return!0}function Jg(t){if(t instanceof at)return t.field.canonicalString()+t.op.toString()+ca(t.value);if(CS(t))return t.filters.map(e=>Jg(e)).join(",");{const e=t.filters.map(n=>Jg(n)).join(",");return`${t.op}(${e})`}}function AS(t,e){return t instanceof at?function(r,i){return i instanceof at&&r.op===i.op&&r.field.isEqual(i.field)&&Nr(r.value,i.value)}(t,e):t instanceof dr?function(r,i){return i instanceof dr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&AS(o,i.filters[a]),!0):!1}(t,e):void se()}function PS(t){return t instanceof at?function(n){return`${n.field.canonicalString()} ${n.op} ${ca(n.value)}`}(t):t instanceof dr?function(n){return n.op.toString()+" {"+n.getFilters().map(PS).join(" ,")+"}"}(t):"Filter"}class EM extends at{constructor(e,n,r){super(e,n,r),this.key=ne.fromName(r.referenceValue)}matches(e){const n=ne.comparator(e.key,this.key);return this.matchesComparison(n)}}class xM extends at{constructor(e,n){super(e,"in",n),this.keys=RS("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class TM extends at{constructor(e,n){super(e,"not-in",n),this.keys=RS("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function RS(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ne.fromName(r.referenceValue))}class bM extends at{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return ow(n)&&hu(n.arrayValue,this.value)}}class IM extends at{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&hu(this.value.arrayValue,n)}}class SM extends at{constructor(e,n){super(e,"not-in",n)}matches(e){if(hu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!hu(this.value.arrayValue,n)}}class CM extends at{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!ow(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>hu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AM{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ce=null}}function bE(t,e=null,n=[],r=[],i=null,s=null,o=null){return new AM(t,e,n,r,i,s,o)}function aw(t){const e=ue(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Jg(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),mh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ca(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ca(r)).join(",")),e.ce=n}return e.ce}function lw(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!wM(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!AS(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!TE(t.startAt,e.startAt)&&TE(t.endAt,e.endAt)}function Zg(t){return ne.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function PM(t,e,n,r,i,s,o,a){return new Mu(t,e,n,r,i,s,o,a)}function gh(t){return new Mu(t)}function IE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function kS(t){return t.collectionGroup!==null}function Il(t){const e=ue(t);if(e.le===null){e.le=[];const n=new Set;for(const s of e.explicitOrderBy)e.le.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Dt(Rt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.le.push(new tf(s,r))}),n.has(Rt.keyField().canonicalString())||e.le.push(new tf(Rt.keyField(),r))}return e.le}function Cr(t){const e=ue(t);return e.he||(e.he=RM(e,Il(t))),e.he}function RM(t,e){if(t.limitType==="F")return bE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new tf(i.field,s)});const n=t.endAt?new ef(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new ef(t.startAt.position,t.startAt.inclusive):null;return bE(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function ey(t,e){const n=t.filters.concat([e]);return new Mu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function ty(t,e,n){return new Mu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function yh(t,e){return lw(Cr(t),Cr(e))&&t.limitType===e.limitType}function NS(t){return`${aw(Cr(t))}|lt:${t.limitType}`}function bo(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>PS(i)).join(", ")}]`),mh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>ca(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>ca(i)).join(",")),`Target(${r})`}(Cr(t))}; limitType=${t.limitType})`}function vh(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):ne.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Il(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const u=xE(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,Il(r),i)||r.endAt&&!function(o,a,l){const u=xE(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,Il(r),i))}(t,e)}function kM(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function DS(t){return(e,n)=>{let r=!1;for(const i of Il(t)){const s=NM(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function NM(t,e,n){const r=t.field.isKeyField()?ne.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?ua(l,u):se()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return se()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){oo(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return xS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DM=new We(ne.comparator);function ii(){return DM}const OS=new We(ne.comparator);function dl(...t){let e=OS;for(const n of t)e=e.insert(n.key,n);return e}function LS(t){let e=OS;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ps(){return Sl()}function jS(){return Sl()}function Sl(){return new ba(t=>t.toString(),(t,e)=>t.isEqual(e))}const OM=new We(ne.comparator),LM=new Dt(ne.comparator);function pe(...t){let e=LM;for(const n of t)e=e.add(n);return e}const jM=new Dt(Te);function MM(){return jM}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MS(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Zd(e)?"-0":e}}function VS(t){return{integerValue:""+t}}function VM(t,e){return mM(e)?VS(e):MS(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(){this._=void 0}}function FM(t,e,n){return t instanceof nf?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&iw(s)&&(s=sw(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof da?US(t,e):t instanceof pu?$S(t,e):function(i,s){const o=FS(i,s),a=SE(o)+SE(i.Ie);return Xg(o)&&Xg(i.Ie)?VS(a):MS(i.serializer,a)}(t,e)}function UM(t,e,n){return t instanceof da?US(t,e):t instanceof pu?$S(t,e):n}function FS(t,e){return t instanceof rf?function(r){return Xg(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class nf extends wh{}class da extends wh{constructor(e){super(),this.elements=e}}function US(t,e){const n=BS(e);for(const r of t.elements)n.some(i=>Nr(i,r))||n.push(r);return{arrayValue:{values:n}}}class pu extends wh{constructor(e){super(),this.elements=e}}function $S(t,e){let n=BS(e);for(const r of t.elements)n=n.filter(i=>!Nr(i,r));return{arrayValue:{values:n}}}class rf extends wh{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function SE(t){return st(t.integerValue||t.doubleValue)}function BS(t){return ow(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $M{constructor(e,n){this.field=e,this.transform=n}}function BM(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof da&&i instanceof da||r instanceof pu&&i instanceof pu?la(r.elements,i.elements,Nr):r instanceof rf&&i instanceof rf?Nr(r.Ie,i.Ie):r instanceof nf&&i instanceof nf}(t.transform,e.transform)}class zM{constructor(e,n){this.version=e,this.transformResults=n}}class Ar{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ar}static exists(e){return new Ar(void 0,e)}static updateTime(e){return new Ar(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function id(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class _h{}function zS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new qS(t.key,Ar.none()):new Vu(t.key,t.data,Ar.none());{const n=t.data,r=an.empty();let i=new Dt(Rt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new hs(t.key,r,new _n(i.toArray()),Ar.none())}}function HM(t,e,n){t instanceof Vu?function(i,s,o){const a=i.value.clone(),l=AE(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof hs?function(i,s,o){if(!id(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=AE(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(HS(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Cl(t,e,n,r){return t instanceof Vu?function(s,o,a,l){if(!id(s.precondition,o))return a;const u=s.value.clone(),c=PE(s.fieldTransforms,l,o);return u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof hs?function(s,o,a,l){if(!id(s.precondition,o))return a;const u=PE(s.fieldTransforms,l,o),c=o.data;return c.setAll(HS(s)),c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(s,o,a){return id(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function qM(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=FS(r.transform,i||null);s!=null&&(n===null&&(n=an.empty()),n.set(r.field,s))}return n||null}function CE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&la(r,i,(s,o)=>BM(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Vu extends _h{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class hs extends _h{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function HS(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function AE(t,e,n){const r=new Map;ke(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,UM(o,a,n[i]))}return r}function PE(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,FM(s,o,e))}return r}class qS extends _h{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class WM extends _h{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KM{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&HM(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Cl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Cl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=jS();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=zS(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(le.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),pe())}isEqual(e){return this.batchId===e.batchId&&la(this.mutations,e.mutations,(n,r)=>CE(n,r))&&la(this.baseMutations,e.baseMutations,(n,r)=>CE(n,r))}}class uw{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ke(e.mutations.length===r.length);let i=function(){return OM}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new uw(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GM{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QM{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var it,ye;function YM(t){switch(t){default:return se();case j.CANCELLED:case j.UNKNOWN:case j.DEADLINE_EXCEEDED:case j.RESOURCE_EXHAUSTED:case j.INTERNAL:case j.UNAVAILABLE:case j.UNAUTHENTICATED:return!1;case j.INVALID_ARGUMENT:case j.NOT_FOUND:case j.ALREADY_EXISTS:case j.PERMISSION_DENIED:case j.FAILED_PRECONDITION:case j.ABORTED:case j.OUT_OF_RANGE:case j.UNIMPLEMENTED:case j.DATA_LOSS:return!0}}function WS(t){if(t===void 0)return ri("GRPC error has no .code"),j.UNKNOWN;switch(t){case it.OK:return j.OK;case it.CANCELLED:return j.CANCELLED;case it.UNKNOWN:return j.UNKNOWN;case it.DEADLINE_EXCEEDED:return j.DEADLINE_EXCEEDED;case it.RESOURCE_EXHAUSTED:return j.RESOURCE_EXHAUSTED;case it.INTERNAL:return j.INTERNAL;case it.UNAVAILABLE:return j.UNAVAILABLE;case it.UNAUTHENTICATED:return j.UNAUTHENTICATED;case it.INVALID_ARGUMENT:return j.INVALID_ARGUMENT;case it.NOT_FOUND:return j.NOT_FOUND;case it.ALREADY_EXISTS:return j.ALREADY_EXISTS;case it.PERMISSION_DENIED:return j.PERMISSION_DENIED;case it.FAILED_PRECONDITION:return j.FAILED_PRECONDITION;case it.ABORTED:return j.ABORTED;case it.OUT_OF_RANGE:return j.OUT_OF_RANGE;case it.UNIMPLEMENTED:return j.UNIMPLEMENTED;case it.DATA_LOSS:return j.DATA_LOSS;default:return se()}}(ye=it||(it={}))[ye.OK=0]="OK",ye[ye.CANCELLED=1]="CANCELLED",ye[ye.UNKNOWN=2]="UNKNOWN",ye[ye.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ye[ye.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ye[ye.NOT_FOUND=5]="NOT_FOUND",ye[ye.ALREADY_EXISTS=6]="ALREADY_EXISTS",ye[ye.PERMISSION_DENIED=7]="PERMISSION_DENIED",ye[ye.UNAUTHENTICATED=16]="UNAUTHENTICATED",ye[ye.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ye[ye.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ye[ye.ABORTED=10]="ABORTED",ye[ye.OUT_OF_RANGE=11]="OUT_OF_RANGE",ye[ye.UNIMPLEMENTED=12]="UNIMPLEMENTED",ye[ye.INTERNAL=13]="INTERNAL",ye[ye.UNAVAILABLE=14]="UNAVAILABLE",ye[ye.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XM(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JM=new Go([4294967295,4294967295],0);function RE(t){const e=XM().encode(t),n=new eM;return n.update(e),new Uint8Array(n.digest())}function kE(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Go([n,r],0),new Go([i,s],0)]}class cw{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new fl(`Invalid padding: ${n}`);if(r<0)throw new fl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new fl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new fl(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=Go.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(Go.fromNumber(r)));return i.compare(JM)===1&&(i=new Go([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=RE(e),[r,i]=kE(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);if(!this.Ae(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new cw(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Te===0)return;const n=RE(e),[r,i]=kE(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);this.Re(o)}}Re(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class fl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Fu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Eh(le.min(),i,new We(Te),ii(),pe())}}class Fu{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Fu(r,n,pe(),pe(),pe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}}class KS{constructor(e,n){this.targetId=e,this.fe=n}}class GS{constructor(e,n,r=Qt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class NE{constructor(){this.ge=0,this.pe=OE(),this.ye=Qt.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=pe(),n=pe(),r=pe();return this.pe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:se()}}),new Fu(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=OE()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,ke(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class ZM{constructor(e){this.Le=e,this.ke=new Map,this.qe=ii(),this.Qe=DE(),this.Ke=new We(Te)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:se()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){const n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){const s=i.target;if(Zg(s))if(r===0){const o=new ne(s.path);this.We(n,o,zt.newNoDocument(o,le.min()))}else ke(r===1);else{const o=this.Ze(n);if(o!==r){const a=this.Xe(e),l=a?this.et(a,e,o):1;if(l!==0){this.He(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,u)}}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Ks(r).toUint8Array()}catch(l){if(l instanceof TS)return aa("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new cw(o,i,s)}catch(l){return aa(l instanceof fl?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Te===0?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.We(n,s,null),i++)}),i}it(e){const n=new Map;this.ke.forEach((s,o)=>{const a=this.Ye(o);if(a){if(s.current&&Zg(a.target)){const l=new ne(a.target.path);this.qe.get(l)!==null||this.st(o,l)||this.We(o,l,zt.newNoDocument(l,e))}s.De&&(n.set(o,s.ve()),s.Fe())}});let r=pe();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Ye(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(e));const i=new Eh(e,n,this.Ke,this.qe,r);return this.qe=ii(),this.Qe=DE(),this.Ke=new We(Te),i}Ue(e,n){if(!this.je(e))return;const r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new NE,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new Dt(Te),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||X("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new NE),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function DE(){return new We(ne.comparator)}function OE(){return new We(ne.comparator)}const e3=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),t3=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),n3=(()=>({and:"AND",or:"OR"}))();class r3{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function ny(t,e){return t.useProto3Json||mh(e)?e:{value:e}}function sf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function QS(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function i3(t,e){return sf(t,e.toTimestamp())}function Pr(t){return ke(!!t),le.fromTimestamp(function(n){const r=is(n);return new ft(r.seconds,r.nanos)}(t))}function dw(t,e){return function(r){return new je(["projects",r.projectId,"databases",r.database])}(t).child("documents").child(e).canonicalString()}function YS(t){const e=je.fromString(t);return ke(eC(e)),e}function ry(t,e){return dw(t.databaseId,e.path)}function im(t,e){const n=YS(e);if(n.get(1)!==t.databaseId.projectId)throw new Y(j.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Y(j.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ne(XS(n))}function iy(t,e){return dw(t.databaseId,e)}function s3(t){const e=YS(t);return e.length===4?je.emptyPath():XS(e)}function sy(t){return new je(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function XS(t){return ke(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function LE(t,e,n){return{name:ry(t,e),fields:n.value.mapValue.fields}}function o3(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:se()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,c){return u.useProto3Json?(ke(c===void 0||typeof c=="string"),Qt.fromBase64String(c||"")):(ke(c===void 0||c instanceof Uint8Array),Qt.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=u.code===void 0?j.UNKNOWN:WS(u.code);return new Y(c,u.message||"")}(o);n=new GS(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=im(t,r.document.name),s=Pr(r.document.updateTime),o=r.document.createTime?Pr(r.document.createTime):le.min(),a=new an({mapValue:{fields:r.document.fields}}),l=zt.newFoundDocument(i,s,o,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new sd(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=im(t,r.document),s=r.readTime?Pr(r.readTime):le.min(),o=zt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new sd([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=im(t,r.document),s=r.removedTargetIds||[];n=new sd([],s,i,null)}else{if(!("filter"in e))return se();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new QM(i,s),a=r.targetId;n=new KS(a,o)}}return n}function a3(t,e){let n;if(e instanceof Vu)n={update:LE(t,e.key,e.value)};else if(e instanceof qS)n={delete:ry(t,e.key)};else if(e instanceof hs)n={update:LE(t,e.key,e.data),updateMask:g3(e.fieldMask)};else{if(!(e instanceof WM))return se();n={verify:ry(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof nf)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof da)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof pu)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof rf)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw se()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:i3(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:se()}(t,e.precondition)),n}function l3(t,e){return t&&t.length>0?(ke(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Pr(i.updateTime):Pr(s);return o.isEqual(le.min())&&(o=Pr(s)),new zM(o,i.transformResults||[])}(n,e))):[]}function u3(t,e){return{documents:[iy(t,e.path)]}}function c3(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=iy(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=iy(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length!==0)return ZS(dr.create(l,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(l){if(l.length!==0)return l.map(u=>function(h){return{field:Io(h.field),direction:h3(h.dir)}}(u))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=ny(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function d3(t){let e=s3(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ke(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];n.where&&(s=function(h){const m=JS(h);return m instanceof dr&&CS(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(m=>function(_){return new tf(So(_.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(h){let m;return m=typeof h=="object"?h.value:h,mh(m)?null:m}(n.limit));let l=null;n.startAt&&(l=function(h){const m=!!h.before,w=h.values||[];return new ef(w,m)}(n.startAt));let u=null;return n.endAt&&(u=function(h){const m=!h.before,w=h.values||[];return new ef(w,m)}(n.endAt)),PM(e,i,o,s,a,"F",l,u)}function f3(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return se()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function JS(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=So(n.unaryFilter.field);return at.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=So(n.unaryFilter.field);return at.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=So(n.unaryFilter.field);return at.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=So(n.unaryFilter.field);return at.create(o,"!=",{nullValue:"NULL_VALUE"});default:return se()}}(t):t.fieldFilter!==void 0?function(n){return at.create(So(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return se()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return dr.create(n.compositeFilter.filters.map(r=>JS(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return se()}}(n.compositeFilter.op))}(t):se()}function h3(t){return e3[t]}function p3(t){return t3[t]}function m3(t){return n3[t]}function Io(t){return{fieldPath:t.canonicalString()}}function So(t){return Rt.fromServerFormat(t.fieldPath)}function ZS(t){return t instanceof at?function(n){if(n.op==="=="){if(EE(n.value))return{unaryFilter:{field:Io(n.field),op:"IS_NAN"}};if(_E(n.value))return{unaryFilter:{field:Io(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(EE(n.value))return{unaryFilter:{field:Io(n.field),op:"IS_NOT_NAN"}};if(_E(n.value))return{unaryFilter:{field:Io(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Io(n.field),op:p3(n.op),value:n.value}}}(t):t instanceof dr?function(n){const r=n.getFilters().map(i=>ZS(i));return r.length===1?r[0]:{compositeFilter:{op:m3(n.op),filters:r}}}(t):se()}function g3(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function eC(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di{constructor(e,n,r,i,s=le.min(),o=le.min(),a=Qt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Di(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Di(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Di(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Di(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y3{constructor(e){this.ut=e}}function v3(t){const e=d3({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?ty(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w3{constructor(){this.on=new _3}addToCollectionParentIndex(e,n){return this.on.add(n),V.resolve()}getCollectionParents(e,n){return V.resolve(this.on.getEntries(n))}addFieldIndex(e,n){return V.resolve()}deleteFieldIndex(e,n){return V.resolve()}deleteAllFieldIndexes(e){return V.resolve()}createTargetIndexes(e,n){return V.resolve()}getDocumentsMatchingTarget(e,n){return V.resolve(null)}getIndexType(e,n){return V.resolve(0)}getFieldIndexes(e,n){return V.resolve([])}getNextCollectionGroupToUpdate(e){return V.resolve(null)}getMinOffset(e,n){return V.resolve(rs.min())}getMinOffsetFromCollectionGroup(e,n){return V.resolve(rs.min())}updateCollectionGroup(e,n,r){return V.resolve()}updateIndexEntries(e,n){return V.resolve()}}class _3{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Dt(je.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Dt(je.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new fa(0)}static Nn(){return new fa(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E3{constructor(){this.changes=new ba(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,zt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?V.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x3{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T3{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Cl(r.mutation,i,_n.empty(),ft.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,pe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=pe()){const i=Ps();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=dl();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Ps();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,pe()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=ii();const o=Sl(),a=function(){return Sl()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof hs)?s=s.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),Cl(c.mutation,u,c.mutation.getFieldMask(),ft.now())):o.set(u.key,_n.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var h;return a.set(u,new x3(c,(h=o.get(u))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Sl();let i=new We((o,a)=>o-a),s=pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||_n.empty();c=a.applyToLocalView(u,c),r.set(l,c);const h=(i.get(a.batchId)||pe()).add(l);i=i.insert(a.batchId,h)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,h=jS();c.forEach(m=>{if(!s.has(m)){const w=zS(n.get(m),r.get(m));w!==null&&h.set(m,w),s=s.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,h))}return V.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return ne.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):kS(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):V.resolve(Ps());let a=-1,l=s;return o.next(u=>V.forEach(u,(c,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(c)?V.resolve():this.remoteDocumentCache.getEntry(e,c).next(m=>{l=l.insert(c,m)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,pe())).next(c=>({batchId:a,changes:LS(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ne(n)).next(r=>{let i=dl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=dl();return this.indexManager.getCollectionParents(e,s).next(a=>V.forEach(a,l=>{const u=function(h,m){return new Mu(m,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(c=>{c.forEach((h,m)=>{o=o.insert(h,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,u)=>{const c=u.getKey();o.get(c)===null&&(o=o.insert(c,zt.newInvalidDocument(c)))});let a=dl();return o.forEach((l,u)=>{const c=s.get(l);c!==void 0&&Cl(c.mutation,u,_n.empty(),ft.now()),vh(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b3{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,n){return V.resolve(this.ur.get(n))}saveBundleMetadata(e,n){return this.ur.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Pr(i.createTime)}}(n)),V.resolve()}getNamedQuery(e,n){return V.resolve(this.cr.get(n))}saveNamedQuery(e,n){return this.cr.set(n.name,function(i){return{name:i.name,query:v3(i.bundledQuery),readTime:Pr(i.readTime)}}(n)),V.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I3{constructor(){this.overlays=new We(ne.comparator),this.lr=new Map}getOverlay(e,n){return V.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ps();return V.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.lt(e,n,s)}),V.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.lr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.lr.delete(r)),V.resolve()}getOverlaysForCollection(e,n,r){const i=Ps(),s=n.length+1,o=new ne(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return V.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new We((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=s.get(u.largestBatchId);c===null&&(c=Ps(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=Ps(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return V.resolve(a)}lt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.lr.get(i.largestBatchId).delete(r.key);this.lr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new GM(n,r));let s=this.lr.get(n);s===void 0&&(s=pe(),this.lr.set(n,s)),this.lr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fw{constructor(){this.hr=new Dt(yt.Pr),this.Ir=new Dt(yt.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,n){const r=new yt(e,n);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.dr(new yt(e,n))}Ar(e,n){e.forEach(r=>this.removeReference(r,n))}Rr(e){const n=new ne(new je([])),r=new yt(n,e),i=new yt(n,e+1),s=[];return this.Ir.forEachInRange([r,i],o=>{this.dr(o),s.push(o.key)}),s}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const n=new ne(new je([])),r=new yt(n,e),i=new yt(n,e+1);let s=pe();return this.Ir.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new yt(e,0),r=this.hr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class yt{constructor(e,n){this.key=e,this.gr=n}static Pr(e,n){return ne.comparator(e.key,n.key)||Te(e.gr,n.gr)}static Tr(e,n){return Te(e.gr,n.gr)||ne.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S3{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new Dt(yt.Pr)}checkEmpty(e){return V.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new KM(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.yr=this.yr.add(new yt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return V.resolve(o)}lookupMutationBatch(e,n){return V.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Sr(r),s=i<0?0:i;return V.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return V.resolve(this.mutationQueue.length===0?-1:this.pr-1)}getAllMutationBatches(e){return V.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new yt(n,0),i=new yt(n,Number.POSITIVE_INFINITY),s=[];return this.yr.forEachInRange([r,i],o=>{const a=this.wr(o.gr);s.push(a)}),V.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Dt(Te);return n.forEach(i=>{const s=new yt(i,0),o=new yt(i,Number.POSITIVE_INFINITY);this.yr.forEachInRange([s,o],a=>{r=r.add(a.gr)})}),V.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;ne.isDocumentKey(s)||(s=s.child(""));const o=new yt(new ne(s),0);let a=new Dt(Te);return this.yr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.gr)),!0)},o),V.resolve(this.br(a))}br(e){const n=[];return e.forEach(r=>{const i=this.wr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ke(this.Dr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.yr;return V.forEach(n.mutations,i=>{const s=new yt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.yr=r})}Fn(e){}containsKey(e,n){const r=new yt(n,0),i=this.yr.firstAfterOrEqual(r);return V.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,V.resolve()}Dr(e,n){return this.Sr(e)}Sr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}wr(e){const n=this.Sr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C3{constructor(e){this.Cr=e,this.docs=function(){return new We(ne.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Cr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return V.resolve(r?r.document.mutableCopy():zt.newInvalidDocument(n))}getEntries(e,n){let r=ii();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():zt.newInvalidDocument(i))}),V.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=ii();const o=n.path,a=new ne(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||fM(dM(c),r)<=0||(i.has(c.key)||vh(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return V.resolve(s)}getAllFromCollectionGroup(e,n,r,i){se()}vr(e,n){return V.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new A3(this)}getSize(e){return V.resolve(this.size)}}class A3 extends E3{constructor(e){super(),this._r=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this._r.addEntry(e,i)):this._r.removeEntry(r)}),V.waitFor(n)}getFromCache(e,n){return this._r.getEntry(e,n)}getAllFromCache(e,n){return this._r.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P3{constructor(e){this.persistence=e,this.Fr=new ba(n=>aw(n),lw),this.lastRemoteSnapshotVersion=le.min(),this.highestTargetId=0,this.Mr=0,this.Or=new fw,this.targetCount=0,this.Nr=fa.On()}forEachTarget(e,n){return this.Fr.forEach((r,i)=>n(i)),V.resolve()}getLastRemoteSnapshotVersion(e){return V.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return V.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),V.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Mr&&(this.Mr=n),V.resolve()}kn(e){this.Fr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Nr=new fa(n),this.highestTargetId=n),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,n){return this.kn(n),this.targetCount+=1,V.resolve()}updateTargetData(e,n){return this.kn(n),V.resolve()}removeTargetData(e,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,V.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Fr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Fr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),V.waitFor(s).next(()=>i)}getTargetCount(e){return V.resolve(this.targetCount)}getTargetData(e,n){const r=this.Fr.get(n)||null;return V.resolve(r)}addMatchingKeys(e,n,r){return this.Or.Er(n,r),V.resolve()}removeMatchingKeys(e,n,r){this.Or.Ar(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),V.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Or.Rr(n),V.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Or.mr(n);return V.resolve(r)}containsKey(e,n){return V.resolve(this.Or.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R3{constructor(e,n){this.Br={},this.overlays={},this.Lr=new rw(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new P3(this),this.indexManager=new w3,this.remoteDocumentCache=function(i){return new C3(i)}(r=>this.referenceDelegate.Qr(r)),this.serializer=new y3(n),this.Kr=new b3(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new I3,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new S3(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,n,r){X("MemoryPersistence","Starting transaction:",e);const i=new k3(this.Lr.next());return this.referenceDelegate.$r(),r(i).next(s=>this.referenceDelegate.Ur(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Wr(e,n){return V.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class k3 extends pM{constructor(e){super(),this.currentSequenceNumber=e}}class hw{constructor(e){this.persistence=e,this.Gr=new fw,this.zr=null}static jr(e){return new hw(e)}get Hr(){if(this.zr)return this.zr;throw se()}addReference(e,n,r){return this.Gr.addReference(r,n),this.Hr.delete(r.toString()),V.resolve()}removeReference(e,n,r){return this.Gr.removeReference(r,n),this.Hr.add(r.toString()),V.resolve()}markPotentiallyOrphaned(e,n){return this.Hr.add(n.toString()),V.resolve()}removeTarget(e,n){this.Gr.Rr(n.targetId).forEach(i=>this.Hr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Hr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}$r(){this.zr=new Set}Ur(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return V.forEach(this.Hr,r=>{const i=ne.fromPath(r);return this.Jr(e,i).next(s=>{s||n.removeEntry(i,le.min())})}).next(()=>(this.zr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Jr(e,n).next(r=>{r?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(e){return 0}Jr(e,n){return V.or([()=>V.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Wr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pw{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ki=r,this.qi=i}static Qi(e,n){let r=pe(),i=pe();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new pw(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N3{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D3{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,n){this.Gi=e,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.zi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ji(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new N3;return this.Hi(e,n,o).next(a=>{if(s.result=a,this.$i)return this.Ji(e,n,o,a.size)})}).next(()=>s.result)}Ji(e,n,r,i){return r.documentReadCount<this.Ui?(Xa()<=ge.DEBUG&&X("QueryEngine","SDK will not create cache indexes for query:",bo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),V.resolve()):(Xa()<=ge.DEBUG&&X("QueryEngine","Query:",bo(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Wi*i?(Xa()<=ge.DEBUG&&X("QueryEngine","The SDK decides to create cache indexes for query:",bo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Cr(n))):V.resolve())}zi(e,n){if(IE(n))return V.resolve(null);let r=Cr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=ty(n,null,"F"),r=Cr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=pe(...s);return this.Gi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Yi(n,a);return this.Zi(n,u,o,l.readTime)?this.zi(e,ty(n,null,"F")):this.Xi(e,u,n,l)}))})))}ji(e,n,r,i){return IE(n)||i.isEqual(le.min())?V.resolve(null):this.Gi.getDocuments(e,r).next(s=>{const o=this.Yi(n,s);return this.Zi(n,o,r,i)?V.resolve(null):(Xa()<=ge.DEBUG&&X("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),bo(n)),this.Xi(e,o,n,cM(i,-1)).next(a=>a))})}Yi(e,n){let r=new Dt(DS(e));return n.forEach((i,s)=>{vh(e,s)&&(r=r.add(s))}),r}Zi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Hi(e,n,r){return Xa()<=ge.DEBUG&&X("QueryEngine","Using full collection scan to execute query:",bo(n)),this.Gi.getDocumentsMatchingQuery(e,n,rs.min(),r)}Xi(e,n,r,i){return this.Gi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O3{constructor(e,n,r,i){this.persistence=e,this.es=n,this.serializer=i,this.ts=new We(Te),this.ns=new ba(s=>aw(s),lw),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(r)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new T3(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ts))}}function L3(t,e,n,r){return new O3(t,e,n,r)}async function tC(t,e){const n=ue(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.os(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=pe();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({_s:u,removedBatchIds:o,addedBatchIds:a}))})})}function j3(t,e){const n=ue(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.ss.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const h=u.batch,m=h.keys();let w=V.resolve();return m.forEach(_=>{w=w.next(()=>c.getEntry(l,_)).next(x=>{const b=u.docVersions.get(_);ke(b!==null),x.version.compareTo(b)<0&&(h.applyToRemoteDocument(x,u),x.isValidDocument()&&(x.setReadTime(u.commitVersion),c.addEntry(x)))})}),w.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=pe();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function nC(t){const e=ue(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.qr.getLastRemoteSnapshotVersion(n))}function M3(t,e){const n=ue(t),r=e.snapshotVersion;let i=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.ss.newChangeBuffer({trackRemovals:!0});i=n.ts;const a=[];e.targetChanges.forEach((c,h)=>{const m=i.get(h);if(!m)return;a.push(n.qr.removeMatchingKeys(s,c.removedDocuments,h).next(()=>n.qr.addMatchingKeys(s,c.addedDocuments,h)));let w=m.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?w=w.withResumeToken(Qt.EMPTY_BYTE_STRING,le.min()).withLastLimboFreeSnapshotVersion(le.min()):c.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(c.resumeToken,r)),i=i.insert(h,w),function(x,b,E){return x.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=3e8?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0}(m,w,c)&&a.push(n.qr.updateTargetData(s,w))});let l=ii(),u=pe();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(V3(s,o,e.documentUpdates).next(c=>{l=c.us,u=c.cs})),!r.isEqual(le.min())){const c=n.qr.getLastRemoteSnapshotVersion(s).next(h=>n.qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return V.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.ts=i,s))}function V3(t,e,n){let r=pe(),i=pe();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=ii();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(le.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):X("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{us:o,cs:i}})}function F3(t,e){const n=ue(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function U3(t,e){const n=ue(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.qr.getTargetData(r,e).next(s=>s?(i=s,V.resolve(i)):n.qr.allocateTargetId(r).next(o=>(i=new Di(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ts=n.ts.insert(r.targetId,r),n.ns.set(e,r.targetId)),r})}async function oy(t,e,n){const r=ue(t),i=r.ts.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!ju(o))throw o;X("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ts=r.ts.remove(e),r.ns.delete(i.target)}function jE(t,e,n){const r=ue(t);let i=le.min(),s=pe();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,c){const h=ue(l),m=h.ns.get(c);return m!==void 0?V.resolve(h.ts.get(m)):h.qr.getTargetData(u,c)}(r,o,Cr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.es.getDocumentsMatchingQuery(o,e,n?i:le.min(),n?s:pe())).next(a=>($3(r,kM(e),a),{documents:a,ls:s})))}function $3(t,e,n){let r=t.rs.get(e)||le.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.rs.set(e,r)}class ME{constructor(){this.activeTargetIds=MM()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class B3{constructor(){this.eo=new ME,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,n,r){this.no[e]=n}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new ME,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z3{ro(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VE{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){X("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){X("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jc=null;function sm(){return jc===null?jc=function(){return 268435456+Math.round(2147483648*Math.random())}():jc++,"0x"+jc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q3{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ut="WebChannelConnection";class W3 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.mo=r+"://"+n.host,this.fo=`projects/${i}/databases/${s}`,this.po=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get yo(){return!1}wo(n,r,i,s,o){const a=sm(),l=this.So(n,r);X("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(u,s,o),this.Do(n,l,u,i).then(c=>(X("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw aa("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",l,"request:",i),c})}Co(n,r,i,s,o,a){return this.wo(n,r,i,s,o)}bo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ta}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}So(n,r){const i=H3[n];return`${this.mo}/v1/${r}:${i}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,n,r,i){const s=sm();return new Promise((o,a)=>{const l=new Zj;l.setWithCredentials(!0),l.listenOnce(Xj.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case rm.NO_ERROR:const c=l.getResponseJson();X(Ut,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(c)),o(c);break;case rm.TIMEOUT:X(Ut,`RPC '${e}' ${s} timed out`),a(new Y(j.DEADLINE_EXCEEDED,"Request time out"));break;case rm.HTTP_ERROR:const h=l.getStatus();if(X(Ut,`RPC '${e}' ${s} failed with status:`,h,"response text:",l.getResponseText()),h>0){let m=l.getResponseJson();Array.isArray(m)&&(m=m[0]);const w=m==null?void 0:m.error;if(w&&w.status&&w.message){const _=function(b){const E=b.toLowerCase().replace(/_/g,"-");return Object.values(j).indexOf(E)>=0?E:j.UNKNOWN}(w.status);a(new Y(_,w.message))}else a(new Y(j.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new Y(j.UNAVAILABLE,"Connection failed."));break;default:se()}}finally{X(Ut,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);X(Ut,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}vo(e,n,r){const i=sm(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Qj(),a=Yj(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.bo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=s.join("");X(Ut,`Creating RPC '${e}' stream ${i}: ${c}`,l);const h=o.createWebChannel(c,l);let m=!1,w=!1;const _=new q3({co:b=>{w?X(Ut,`Not sending because RPC '${e}' stream ${i} is closed:`,b):(m||(X(Ut,`Opening RPC '${e}' stream ${i} transport.`),h.open(),m=!0),X(Ut,`RPC '${e}' stream ${i} sending:`,b),h.send(b))},lo:()=>h.close()}),x=(b,E,v)=>{b.listen(E,T=>{try{v(T)}catch(S){setTimeout(()=>{throw S},0)}})};return x(h,Dc.EventType.OPEN,()=>{w||X(Ut,`RPC '${e}' stream ${i} transport opened.`)}),x(h,Dc.EventType.CLOSE,()=>{w||(w=!0,X(Ut,`RPC '${e}' stream ${i} transport closed`),_.Ro())}),x(h,Dc.EventType.ERROR,b=>{w||(w=!0,aa(Ut,`RPC '${e}' stream ${i} transport errored:`,b),_.Ro(new Y(j.UNAVAILABLE,"The operation could not be completed")))}),x(h,Dc.EventType.MESSAGE,b=>{var E;if(!w){const v=b.data[0];ke(!!v);const T=v,S=T.error||((E=T[0])===null||E===void 0?void 0:E.error);if(S){X(Ut,`RPC '${e}' stream ${i} received error:`,S);const P=S.status;let L=function(Z){const G=it[Z];if(G!==void 0)return WS(G)}(P),M=S.message;L===void 0&&(L=j.INTERNAL,M="Unknown error status: "+P+" with message "+S.message),w=!0,_.Ro(new Y(L,M)),h.close()}else X(Ut,`RPC '${e}' stream ${i} received:`,v),_.Vo(v)}}),x(a,Jj.STAT_EVENT,b=>{b.stat===pE.PROXY?X(Ut,`RPC '${e}' stream ${i} detected buffering proxy`):b.stat===pE.NOPROXY&&X(Ut,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{_.Ao()},0),_}}function om(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xh(t){return new r3(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{constructor(e,n,r=1e3,i=1.5,s=6e4){this.si=e,this.timerId=n,this.Fo=r,this.Mo=i,this.xo=s,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const n=Math.floor(this.Oo+this.qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,n-r);i>0&&X("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Oo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){this.No!==null&&(this.No.skipDelay(),this.No=null)}cancel(){this.No!==null&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{constructor(e,n,r,i,s,o,a,l){this.si=e,this.Ko=r,this.$o=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new rC(e,n)}jo(){return this.state===1||this.state===5||this.Ho()}Ho(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Jo()}async stop(){this.jo()&&await this.close(0)}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&this.Wo===null&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}async Xo(){if(this.Ho())return this.close(0)}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}async close(e,n){this.t_(),this.n_(),this.zo.cancel(),this.Uo++,e!==4?this.zo.reset():n&&n.code===j.RESOURCE_EXHAUSTED?(ri(n.toString()),ri("Using maximum backoff delay to prevent overloading the backend."),this.zo.Lo()):n&&n.code===j.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.r_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Io(n)}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Uo===n&&this.s_(r,i)},r=>{e(()=>{const i=new Y(j.UNKNOWN,"Fetching auth token failed: "+r.message);return this.o_(i)})})}s_(e,n){const r=this.i_(this.Uo);this.stream=this.__(e,n),this.stream.ho(()=>{r(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(i=>{r(()=>this.o_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Jo(){this.state=5,this.zo.ko(async()=>{this.state=0,this.start()})}o_(e){return X("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return n=>{this.si.enqueueAndForget(()=>this.Uo===e?n():(X("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class K3 extends iC{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}__(e,n){return this.connection.vo("Listen",e,n)}onMessage(e){this.zo.reset();const n=o3(this.serializer,e),r=function(s){if(!("targetChange"in s))return le.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?le.min():o.readTime?Pr(o.readTime):le.min()}(e);return this.listener.a_(n,r)}u_(e){const n={};n.database=sy(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=Zg(l)?{documents:u3(s,l)}:{query:c3(s,l)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=QS(s,o.resumeToken);const u=ny(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(le.min())>0){a.readTime=sf(s,o.snapshotVersion.toTimestamp());const u=ny(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=f3(this.serializer,e);r&&(n.labels=r),this.e_(n)}c_(e){const n={};n.database=sy(this.serializer),n.removeTarget=e,this.e_(n)}}class G3 extends iC{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,n){return this.connection.vo("Write",e,n)}onMessage(e){if(ke(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const n=l3(e.writeResults,e.commitTime),r=Pr(e.commitTime);return this.listener.I_(r,n)}return ke(!e.writeResults||e.writeResults.length===0),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=sy(this.serializer),this.e_(e)}P_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>a3(this.serializer,r))};this.e_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q3 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.d_=!1}A_(){if(this.d_)throw new Y(j.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,n,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.wo(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===j.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Y(j.UNKNOWN,i.toString())})}Co(e,n,r,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(e,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===j.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Y(j.UNKNOWN,s.toString())})}terminate(){this.d_=!0}}class Y3{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){this.V_===0&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){this.state==="Online"?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,e==="Online"&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(ri(n),this.f_=!1):X("OnlineStateTracker",n)}S_(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X3{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=s,this.F_.ro(o=>{r.enqueueAndForget(async()=>{ao(this)&&(X("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=ue(l);u.C_.add(4),await Uu(u),u.M_.set("Unknown"),u.C_.delete(4),await Th(u)}(this))})}),this.M_=new Y3(r,i)}}async function Th(t){if(ao(t))for(const e of t.v_)await e(!0)}async function Uu(t){for(const e of t.v_)await e(!1)}function sC(t,e){const n=ue(t);n.D_.has(e.targetId)||(n.D_.set(e.targetId,e),yw(n)?gw(n):Ia(n).Ho()&&mw(n,e))}function oC(t,e){const n=ue(t),r=Ia(n);n.D_.delete(e),r.Ho()&&aC(n,e),n.D_.size===0&&(r.Ho()?r.Zo():ao(n)&&n.M_.set("Unknown"))}function mw(t,e){if(t.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(le.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ia(t).u_(e)}function aC(t,e){t.x_.Oe(e),Ia(t).c_(e)}function gw(t){t.x_=new ZM({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.D_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),Ia(t).start(),t.M_.g_()}function yw(t){return ao(t)&&!Ia(t).jo()&&t.D_.size>0}function ao(t){return ue(t).C_.size===0}function lC(t){t.x_=void 0}async function J3(t){t.D_.forEach((e,n)=>{mw(t,e)})}async function Z3(t,e){lC(t),yw(t)?(t.M_.w_(e),gw(t)):t.M_.set("Unknown")}async function eV(t,e,n){if(t.M_.set("Online"),e instanceof GS&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.D_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.D_.delete(a),i.x_.removeTarget(a))}(t,e)}catch(r){X("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await of(t,r)}else if(e instanceof sd?t.x_.$e(e):e instanceof KS?t.x_.Je(e):t.x_.Ge(e),!n.isEqual(le.min()))try{const r=await nC(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.x_.it(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=s.D_.get(u);c&&s.D_.set(u,c.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const c=s.D_.get(l);if(!c)return;s.D_.set(l,c.withResumeToken(Qt.EMPTY_BYTE_STRING,c.snapshotVersion)),aC(s,l);const h=new Di(c.target,l,u,c.sequenceNumber);mw(s,h)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){X("RemoteStore","Failed to raise snapshot:",r),await of(t,r)}}async function of(t,e,n){if(!ju(e))throw e;t.C_.add(1),await Uu(t),t.M_.set("Offline"),n||(n=()=>nC(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{X("RemoteStore","Retrying IndexedDB access"),await n(),t.C_.delete(1),await Th(t)})}function uC(t,e){return e().catch(n=>of(t,n,e))}async function bh(t){const e=ue(t),n=ss(e);let r=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;tV(e);)try{const i=await F3(e.localStore,r);if(i===null){e.b_.length===0&&n.Zo();break}r=i.batchId,nV(e,i)}catch(i){await of(e,i)}cC(e)&&dC(e)}function tV(t){return ao(t)&&t.b_.length<10}function nV(t,e){t.b_.push(e);const n=ss(t);n.Ho()&&n.h_&&n.P_(e.mutations)}function cC(t){return ao(t)&&!ss(t).jo()&&t.b_.length>0}function dC(t){ss(t).start()}async function rV(t){ss(t).E_()}async function iV(t){const e=ss(t);for(const n of t.b_)e.P_(n.mutations)}async function sV(t,e,n){const r=t.b_.shift(),i=uw.from(r,e,n);await uC(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await bh(t)}async function oV(t,e){e&&ss(t).h_&&await async function(r,i){if(function(o){return YM(o)&&o!==j.ABORTED}(i.code)){const s=r.b_.shift();ss(r).Yo(),await uC(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await bh(r)}}(t,e),cC(t)&&dC(t)}async function FE(t,e){const n=ue(t);n.asyncQueue.verifyOperationInProgress(),X("RemoteStore","RemoteStore received new credentials");const r=ao(n);n.C_.add(3),await Uu(n),r&&n.M_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.C_.delete(3),await Th(n)}async function aV(t,e){const n=ue(t);e?(n.C_.delete(2),await Th(n)):e||(n.C_.add(2),await Uu(n),n.M_.set("Unknown"))}function Ia(t){return t.O_||(t.O_=function(n,r,i){const s=ue(n);return s.A_(),new K3(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{ho:J3.bind(null,t),Io:Z3.bind(null,t),a_:eV.bind(null,t)}),t.v_.push(async e=>{e?(t.O_.Yo(),yw(t)?gw(t):t.M_.set("Unknown")):(await t.O_.stop(),lC(t))})),t.O_}function ss(t){return t.N_||(t.N_=function(n,r,i){const s=ue(n);return s.A_(),new G3(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{ho:rV.bind(null,t),Io:oV.bind(null,t),T_:iV.bind(null,t),I_:sV.bind(null,t)}),t.v_.push(async e=>{e?(t.N_.Yo(),await bh(t)):(await t.N_.stop(),t.b_.length>0&&(X("RemoteStore",`Stopping write stream with ${t.b_.length} pending writes`),t.b_=[]))})),t.N_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vw{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Qr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new vw(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Y(j.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ww(t,e){if(ri("AsyncQueue",`${e}: ${t}`),ju(t))return new Y(j.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ne.comparator(n.key,r.key):(n,r)=>ne.comparator(n.key,r.key),this.keyedMap=dl(),this.sortedSet=new We(this.comparator)}static emptySet(e){return new Qo(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Qo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Qo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UE{constructor(){this.B_=new We(ne.comparator)}track(e){const n=e.doc.key,r=this.B_.get(n);r?e.type!==0&&r.type===3?this.B_=this.B_.insert(n,e):e.type===3&&r.type!==1?this.B_=this.B_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.B_=this.B_.remove(n):e.type===1&&r.type===2?this.B_=this.B_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):se():this.B_=this.B_.insert(n,e)}L_(){const e=[];return this.B_.inorderTraversal((n,r)=>{e.push(r)}),e}}class ha{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new ha(e,n,Qo.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&yh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lV{constructor(){this.k_=void 0,this.listeners=[]}}class uV{constructor(){this.queries=new ba(e=>NS(e),yh),this.onlineState="Unknown",this.q_=new Set}}async function _w(t,e){const n=ue(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new lV),i)try{s.k_=await n.onListen(r)}catch(o){const a=ww(o,`Initialization of query '${bo(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.Q_(n.onlineState),s.k_&&e.K_(s.k_)&&xw(n)}async function Ew(t,e){const n=ue(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function cV(t,e){const n=ue(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.K_(i)&&(r=!0);o.k_=i}}r&&xw(n)}function dV(t,e,n){const r=ue(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function xw(t){t.q_.forEach(e=>{e.next()})}class Tw{constructor(e,n,r){this.query=e,this.U_=n,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=r||{}}K_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new ha(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.W_?this.z_(e)&&(this.U_.next(e),n=!0):this.j_(e,this.onlineState)&&(this.H_(e),n=!0),this.G_=e,n}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let n=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),n=!0),n}j_(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.J_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}z_(e){if(e.docChanges.length>0)return!0;const n=this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}H_(e){e=ha.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fC{constructor(e){this.key=e}}class hC{constructor(e){this.key=e}}class fV{constructor(e,n){this.query=e,this.ia=n,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=pe(),this.mutatedKeys=pe(),this._a=DS(e),this.aa=new Qo(this._a)}get ua(){return this.ia}ca(e,n){const r=n?n.la:new UE,i=n?n.aa:this.aa;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,h)=>{const m=i.get(c),w=vh(this.query,h)?h:null,_=!!m&&this.mutatedKeys.has(m.key),x=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let b=!1;m&&w?m.data.isEqual(w.data)?_!==x&&(r.track({type:3,doc:w}),b=!0):this.ha(m,w)||(r.track({type:2,doc:w}),b=!0,(l&&this._a(w,l)>0||u&&this._a(w,u)<0)&&(a=!0)):!m&&w?(r.track({type:0,doc:w}),b=!0):m&&!w&&(r.track({type:1,doc:m}),b=!0,(l||u)&&(a=!0)),b&&(w?(o=o.add(w),s=x?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{aa:o,la:r,Zi:a,mutatedKeys:s}}ha(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const o=e.la.L_();o.sort((c,h)=>function(w,_){const x=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return se()}};return x(w)-x(_)}(c.type,h.type)||this._a(c.doc,h.doc)),this.Pa(r),i=i!=null&&i;const a=n&&!i?this.Ia():[],l=this.oa.size===0&&this.current&&!i?1:0,u=l!==this.sa;return this.sa=l,o.length!==0||u?{snapshot:new ha(this.query,e.aa,s,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ta:a}:{Ta:a}}Q_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({aa:this.aa,la:new UE,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(n=>this.ia=this.ia.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ia=this.ia.delete(n)),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=pe(),this.aa.forEach(r=>{this.Ea(r.key)&&(this.oa=this.oa.add(r.key))});const n=[];return e.forEach(r=>{this.oa.has(r)||n.push(new hC(r))}),this.oa.forEach(r=>{e.has(r)||n.push(new fC(r))}),n}da(e){this.ia=e.ls,this.oa=pe();const n=this.ca(e.documents);return this.applyChanges(n,!0)}Aa(){return ha.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,this.sa===0,this.hasCachedResults)}}class hV{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class pV{constructor(e){this.key=e,this.Ra=!1}}class mV{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Va={},this.ma=new ba(a=>NS(a),yh),this.fa=new Map,this.ga=new Set,this.pa=new We(ne.comparator),this.ya=new Map,this.wa=new fw,this.Sa={},this.ba=new Map,this.Da=fa.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return this.Ca===!0}}async function gV(t,e){const n=SV(t);let r,i;const s=n.ma.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Aa();else{const o=await U3(n.localStore,Cr(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await yV(n,e,r,a==="current",o.resumeToken),n.isPrimaryClient&&sC(n.remoteStore,o)}return i}async function yV(t,e,n,r,i){t.va=(h,m,w)=>async function(x,b,E,v){let T=b.view.ca(E);T.Zi&&(T=await jE(x.localStore,b.query,!1).then(({documents:M})=>b.view.ca(M,T)));const S=v&&v.targetChanges.get(b.targetId),P=v&&v.targetMismatches.get(b.targetId)!=null,L=b.view.applyChanges(T,x.isPrimaryClient,S,P);return BE(x,b.targetId,L.Ta),L.snapshot}(t,h,m,w);const s=await jE(t.localStore,e,!0),o=new fV(e,s.ls),a=o.ca(s.documents),l=Fu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);BE(t,n,u.Ta);const c=new hV(e,n,o);return t.ma.set(e,c),t.fa.has(n)?t.fa.get(n).push(e):t.fa.set(n,[e]),u.snapshot}async function vV(t,e){const n=ue(t),r=n.ma.get(e),i=n.fa.get(r.targetId);if(i.length>1)return n.fa.set(r.targetId,i.filter(s=>!yh(s,e))),void n.ma.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await oy(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),oC(n.remoteStore,r.targetId),ay(n,r.targetId)}).catch(Lu)):(ay(n,r.targetId),await oy(n.localStore,r.targetId,!0))}async function wV(t,e,n){const r=CV(t);try{const i=await function(o,a){const l=ue(o),u=ft.now(),c=a.reduce((w,_)=>w.add(_.key),pe());let h,m;return l.persistence.runTransaction("Locally write mutations","readwrite",w=>{let _=ii(),x=pe();return l.ss.getEntries(w,c).next(b=>{_=b,_.forEach((E,v)=>{v.isValidDocument()||(x=x.add(E))})}).next(()=>l.localDocuments.getOverlayedDocuments(w,_)).next(b=>{h=b;const E=[];for(const v of a){const T=qM(v,h.get(v.key).overlayedDocument);T!=null&&E.push(new hs(v.key,T,bS(T.value.mapValue),Ar.exists(!0)))}return l.mutationQueue.addMutationBatch(w,u,E,a)}).next(b=>{m=b;const E=b.applyToLocalDocumentSet(h,x);return l.documentOverlayCache.saveOverlays(w,b.batchId,E)})}).then(()=>({batchId:m.batchId,changes:LS(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let u=o.Sa[o.currentUser.toKey()];u||(u=new We(Te)),u=u.insert(a,l),o.Sa[o.currentUser.toKey()]=u}(r,i.batchId,n),await $u(r,i.changes),await bh(r.remoteStore)}catch(i){const s=ww(i,"Failed to persist write");n.reject(s)}}async function pC(t,e){const n=ue(t);try{const r=await M3(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.ya.get(s);o&&(ke(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Ra=!0:i.modifiedDocuments.size>0?ke(o.Ra):i.removedDocuments.size>0&&(ke(o.Ra),o.Ra=!1))}),await $u(n,r,e)}catch(r){await Lu(r)}}function $E(t,e,n){const r=ue(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ma.forEach((s,o)=>{const a=o.view.Q_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=ue(o);l.onlineState=a;let u=!1;l.queries.forEach((c,h)=>{for(const m of h.listeners)m.Q_(a)&&(u=!0)}),u&&xw(l)}(r.eventManager,e),i.length&&r.Va.a_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function _V(t,e,n){const r=ue(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.ya.get(e),s=i&&i.key;if(s){let o=new We(ne.comparator);o=o.insert(s,zt.newNoDocument(s,le.min()));const a=pe().add(s),l=new Eh(le.min(),new Map,new We(Te),o,a);await pC(r,l),r.pa=r.pa.remove(s),r.ya.delete(e),bw(r)}else await oy(r.localStore,e,!1).then(()=>ay(r,e,n)).catch(Lu)}async function EV(t,e){const n=ue(t),r=e.batch.batchId;try{const i=await j3(n.localStore,e);gC(n,r,null),mC(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await $u(n,i)}catch(i){await Lu(i)}}async function xV(t,e,n){const r=ue(t);try{const i=await function(o,a){const l=ue(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(h=>(ke(h!==null),c=h.keys(),l.mutationQueue.removeMutationBatch(u,h))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);gC(r,e,n),mC(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await $u(r,i)}catch(i){await Lu(i)}}function mC(t,e){(t.ba.get(e)||[]).forEach(n=>{n.resolve()}),t.ba.delete(e)}function gC(t,e,n){const r=ue(t);let i=r.Sa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Sa[r.currentUser.toKey()]=i}}function ay(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.fa.get(e))t.ma.delete(r),n&&t.Va.Fa(r,n);t.fa.delete(e),t.isPrimaryClient&&t.wa.Rr(e).forEach(r=>{t.wa.containsKey(r)||yC(t,r)})}function yC(t,e){t.ga.delete(e.path.canonicalString());const n=t.pa.get(e);n!==null&&(oC(t.remoteStore,n),t.pa=t.pa.remove(e),t.ya.delete(n),bw(t))}function BE(t,e,n){for(const r of n)r instanceof fC?(t.wa.addReference(r.key,e),TV(t,r)):r instanceof hC?(X("SyncEngine","Document no longer in limbo: "+r.key),t.wa.removeReference(r.key,e),t.wa.containsKey(r.key)||yC(t,r.key)):se()}function TV(t,e){const n=e.key,r=n.path.canonicalString();t.pa.get(n)||t.ga.has(r)||(X("SyncEngine","New document in limbo: "+n),t.ga.add(r),bw(t))}function bw(t){for(;t.ga.size>0&&t.pa.size<t.maxConcurrentLimboResolutions;){const e=t.ga.values().next().value;t.ga.delete(e);const n=new ne(je.fromString(e)),r=t.Da.next();t.ya.set(r,new pV(n)),t.pa=t.pa.insert(n,r),sC(t.remoteStore,new Di(Cr(gh(n.path)),r,"TargetPurposeLimboResolution",rw._e))}}async function $u(t,e,n){const r=ue(t),i=[],s=[],o=[];r.ma.isEmpty()||(r.ma.forEach((a,l)=>{o.push(r.va(l,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const c=pw.Qi(l.targetId,u);s.push(c)}}))}),await Promise.all(o),r.Va.a_(i),await async function(l,u){const c=ue(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>V.forEach(u,m=>V.forEach(m.ki,w=>c.persistence.referenceDelegate.addReference(h,m.targetId,w)).next(()=>V.forEach(m.qi,w=>c.persistence.referenceDelegate.removeReference(h,m.targetId,w)))))}catch(h){if(!ju(h))throw h;X("LocalStore","Failed to update sequence numbers: "+h)}for(const h of u){const m=h.targetId;if(!h.fromCache){const w=c.ts.get(m),_=w.snapshotVersion,x=w.withLastLimboFreeSnapshotVersion(_);c.ts=c.ts.insert(m,x)}}}(r.localStore,s))}async function bV(t,e){const n=ue(t);if(!n.currentUser.isEqual(e)){X("SyncEngine","User change. New user:",e.toKey());const r=await tC(n.localStore,e);n.currentUser=e,function(s,o){s.ba.forEach(a=>{a.forEach(l=>{l.reject(new Y(j.CANCELLED,o))})}),s.ba.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await $u(n,r._s)}}function IV(t,e){const n=ue(t),r=n.ya.get(e);if(r&&r.Ra)return pe().add(r.key);{let i=pe();const s=n.fa.get(e);if(!s)return i;for(const o of s){const a=n.ma.get(o);i=i.unionWith(a.view.ua)}return i}}function SV(t){const e=ue(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=pC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=IV.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=_V.bind(null,e),e.Va.a_=cV.bind(null,e.eventManager),e.Va.Fa=dV.bind(null,e.eventManager),e}function CV(t){const e=ue(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=EV.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=xV.bind(null,e),e}class zE{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=xh(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return L3(this.persistence,new D3,e.initialUser,this.serializer)}createPersistence(e){return new R3(hw.jr,this.serializer)}createSharedClientState(e){return new B3}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class AV{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>$E(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=bV.bind(null,this.syncEngine),await aV(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new uV}()}createDatastore(e){const n=xh(e.databaseInfo.databaseId),r=function(s){return new W3(s)}(e.databaseInfo);return function(s,o,a,l){return new Q3(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new X3(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>$E(this.syncEngine,n,0),function(){return VE.D()?new VE:new z3}())}createSyncEngine(e,n){return function(i,s,o,a,l,u,c){const h=new mV(i,s,o,a,l,u);return c&&(h.Ca=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(n){const r=ue(n);X("RemoteStore","RemoteStore shutting down."),r.C_.add(5),await Uu(r),r.F_.shutdown(),r.M_.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):ri("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PV{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=$t.UNAUTHENTICATED,this.clientId=ES.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{X("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(X("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Y(j.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Qr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=ww(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function am(t,e){t.asyncQueue.verifyOperationInProgress(),X("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await tC(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function HE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await kV(t);X("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>FE(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>FE(e.remoteStore,s)),t._onlineComponents=e}function RV(t){return t.name==="FirebaseError"?t.code===j.FAILED_PRECONDITION||t.code===j.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function kV(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){X("FirestoreClient","Using user provided OfflineComponentProvider");try{await am(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!RV(n))throw n;aa("Error using user provided cache. Falling back to memory cache: "+n),await am(t,new zE)}}else X("FirestoreClient","Using default OfflineComponentProvider"),await am(t,new zE);return t._offlineComponents}async function vC(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(X("FirestoreClient","Using user provided OnlineComponentProvider"),await HE(t,t._uninitializedComponentsProvider._online)):(X("FirestoreClient","Using default OnlineComponentProvider"),await HE(t,new AV))),t._onlineComponents}function NV(t){return vC(t).then(e=>e.syncEngine)}async function af(t){const e=await vC(t),n=e.eventManager;return n.onListen=gV.bind(null,e.syncEngine),n.onUnlisten=vV.bind(null,e.syncEngine),n}function DV(t,e,n={}){const r=new Qr;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const c=new Iw({next:m=>{o.enqueueAndForget(()=>Ew(s,h));const w=m.docs.has(a);!w&&m.fromCache?u.reject(new Y(j.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&m.fromCache&&l&&l.source==="server"?u.reject(new Y(j.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(m)},error:m=>u.reject(m)}),h=new Tw(gh(a.path),c,{includeMetadataChanges:!0,J_:!0});return _w(s,h)}(await af(t),t.asyncQueue,e,n,r)),r.promise}function OV(t,e,n={}){const r=new Qr;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const c=new Iw({next:m=>{o.enqueueAndForget(()=>Ew(s,h)),m.fromCache&&l.source==="server"?u.reject(new Y(j.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(m)},error:m=>u.reject(m)}),h=new Tw(a,c,{includeMetadataChanges:!0,J_:!0});return _w(s,h)}(await af(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wC(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _C(t,e,n){if(!n)throw new Y(j.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function LV(t,e,n,r){if(e===!0&&r===!0)throw new Y(j.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function WE(t){if(!ne.isDocumentKey(t))throw new Y(j.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function KE(t){if(ne.isDocumentKey(t))throw new Y(j.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Ih(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":se()}function Bn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Y(j.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ih(t);throw new Y(j.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GE{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Y(j.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Y(j.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}LV("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=wC((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Y(j.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Y(j.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Y(j.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Sh{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new GE({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Y(j.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new Y(j.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new GE(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new tM;switch(r.type){case"firstParty":return new sM(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Y(j.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=qE.get(n);r&&(X("ComponentProvider","Removing Datastore"),qE.delete(n),r.terminate())}(this),Promise.resolve()}}function jV(t,e,n,r={}){var i;const s=(t=Bn(t,Sh))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&aa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=$t.MOCK_USER;else{a=l2(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new Y(j.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new $t(u)}t._authCredentials=new nM(new _S(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new lo(this.firestore,e,this._query)}}class Wt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Gi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Wt(this.firestore,e,this._key)}}class Gi extends lo{constructor(e,n,r){super(e,n,gh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Wt(this.firestore,null,new ne(e))}withConverter(e){return new Gi(this.firestore,e,this._path)}}function Bu(t,e,...n){if(t=Ne(t),_C("collection","path",e),t instanceof Sh){const r=je.fromString(e,...n);return KE(r),new Gi(t,null,r)}{if(!(t instanceof Wt||t instanceof Gi))throw new Y(j.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(je.fromString(e,...n));return KE(r),new Gi(t.firestore,null,r)}}function sn(t,e,...n){if(t=Ne(t),arguments.length===1&&(e=ES.newId()),_C("doc","path",e),t instanceof Sh){const r=je.fromString(e,...n);return WE(r),new Wt(t,null,new ne(r))}{if(!(t instanceof Wt||t instanceof Gi))throw new Y(j.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(je.fromString(e,...n));return WE(r),new Wt(t.firestore,t instanceof Gi?t.converter:null,new ne(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MV{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new rC(this,"async_queue_retry"),this.iu=()=>{const n=om();n&&X("AsyncQueue","Visibility state changed to "+n.visibilityState),this.zo.Qo()};const e=om();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const n=om();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});const n=new Qr;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}async _u(){if(this.Ya.length!==0){try{await this.Ya[0](),this.Ya.shift(),this.zo.reset()}catch(e){if(!ju(e))throw e;X("AsyncQueue","Operation failed with retryable error: "+e)}this.Ya.length>0&&this.zo.ko(()=>this._u())}}ou(e){const n=this.Ja.then(()=>(this.tu=!0,e().catch(r=>{this.eu=r,this.tu=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw ri("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.tu=!1,r))));return this.Ja=n,n}enqueueAfterDelay(e,n,r){this.su(),this.ru.indexOf(e)>-1&&(n=0);const i=vw.createAndSchedule(this,e,n,r,s=>this.au(s));return this.Xa.push(i),i}su(){this.eu&&se()}verifyOperationInProgress(){}async uu(){let e;do e=this.Ja,await e;while(e!==this.Ja)}cu(e){for(const n of this.Xa)if(n.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Xa)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){const n=this.Xa.indexOf(e);this.Xa.splice(n,1)}}function QE(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class Qs extends Sh{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new MV}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||EC(this),this._firestoreClient.terminate()}}function VV(t,e){const n=typeof t=="object"?t:Jf(),r=typeof t=="string"?t:e||"(default)",i=cs(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=s2("firestore");s&&jV(i,...s)}return i}function Ch(t){return t._firestoreClient||EC(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function EC(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,u,c){return new yM(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,wC(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new PV(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new pa(Qt.fromBase64String(e))}catch(n){throw new Y(j.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new pa(Qt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Y(j.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Rt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sw{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Y(j.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Y(j.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Te(this._lat,e._lat)||Te(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FV=/^__.*__$/;class UV{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new hs(e,this.data,this.fieldMask,n,this.fieldTransforms):new Vu(e,this.data,n,this.fieldTransforms)}}class xC{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new hs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function TC(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw se()}}class Rh{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Pu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new Rh(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Tu({path:r,du:!1});return i.Au(e),i}Ru(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Tu({path:r,du:!1});return i.Pu(),i}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return lf(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(e.length===0)throw this.mu("Document fields must not be empty");if(TC(this.Iu)&&FV.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class $V{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||xh(e)}pu(e,n,r,i=!1){return new Rh({Iu:e,methodName:n,gu:r,path:Rt.emptyPath(),du:!1,fu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Cw(t){const e=t._freezeSettings(),n=xh(t._databaseId);return new $V(t._databaseId,!!e.ignoreUndefinedProperties,n)}function BV(t,e,n,r,i,s={}){const o=t.pu(s.merge||s.mergeFields?2:0,e,n,i);Aw("Data must be an object, but it was:",o,r);const a=bC(r,o);let l,u;if(s.merge)l=new _n(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const h of s.mergeFields){const m=ly(e,h,n);if(!o.contains(m))throw new Y(j.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);SC(c,m)||c.push(m)}l=new _n(c),u=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,u=o.fieldTransforms;return new UV(new an(a),l,u)}class kh extends Ph{_toFieldTransform(e){if(e.Iu!==2)throw e.Iu===1?e.mu(`${this._methodName}() can only appear at the top level of your update data`):e.mu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof kh}}function zV(t,e,n){return new Rh({Iu:3,gu:e.settings.gu,methodName:t._methodName,du:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class HV extends Ph{constructor(e,n){super(e),this.yu=n}_toFieldTransform(e){const n=zV(this,e,!0),r=this.yu.map(s=>Sa(s,n)),i=new da(r);return new $M(e.path,i)}isEqual(e){return this===e}}function qV(t,e,n,r){const i=t.pu(1,e,n);Aw("Data must be an object, but it was:",i,r);const s=[],o=an.empty();oo(r,(l,u)=>{const c=Pw(e,l,n);u=Ne(u);const h=i.Ru(c);if(u instanceof kh)s.push(c);else{const m=Sa(u,h);m!=null&&(s.push(c),o.set(c,m))}});const a=new _n(s);return new xC(o,a,i.fieldTransforms)}function WV(t,e,n,r,i,s){const o=t.pu(1,e,n),a=[ly(e,r,n)],l=[i];if(s.length%2!=0)throw new Y(j.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<s.length;m+=2)a.push(ly(e,s[m])),l.push(s[m+1]);const u=[],c=an.empty();for(let m=a.length-1;m>=0;--m)if(!SC(u,a[m])){const w=a[m];let _=l[m];_=Ne(_);const x=o.Ru(w);if(_ instanceof kh)u.push(w);else{const b=Sa(_,x);b!=null&&(u.push(w),c.set(w,b))}}const h=new _n(u);return new xC(c,h,o.fieldTransforms)}function KV(t,e,n,r=!1){return Sa(n,t.pu(r?4:3,e))}function Sa(t,e){if(IC(t=Ne(t)))return Aw("Unsupported field value:",e,t),bC(t,e);if(t instanceof Ph)return function(r,i){if(!TC(i.Iu))throw i.mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.mu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.du&&e.Iu!==4)throw e.mu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=Sa(a,i.Vu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Ne(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return VM(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=ft.fromDate(r);return{timestampValue:sf(i.serializer,s)}}if(r instanceof ft){const s=new ft(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:sf(i.serializer,s)}}if(r instanceof Sw)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof pa)return{bytesValue:QS(i.serializer,r._byteString)};if(r instanceof Wt){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:dw(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.mu(`Unsupported field value: ${Ih(r)}`)}(t,e)}function bC(t,e){const n={};return xS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):oo(t,(r,i)=>{const s=Sa(i,e.Eu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function IC(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ft||t instanceof Sw||t instanceof pa||t instanceof Wt||t instanceof Ph)}function Aw(t,e,n){if(!IC(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Ih(n);throw r==="an object"?e.mu(t+" a custom object"):e.mu(t+" "+r)}}function ly(t,e,n){if((e=Ne(e))instanceof Ah)return e._internalPath;if(typeof e=="string")return Pw(t,e);throw lf("Field path arguments must be of type string or ",t,!1,void 0,n)}const GV=new RegExp("[~\\*/\\[\\]]");function Pw(t,e,n){if(e.search(GV)>=0)throw lf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ah(...e.split("."))._internalPath}catch{throw lf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function lf(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new Y(j.INVALID_ARGUMENT,a+t+l)}function SC(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CC{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Wt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new QV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Rw("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class QV extends CC{data(){return super.data()}}function Rw(t,e){return typeof e=="string"?Pw(t,e):e instanceof Ah?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AC(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Y(j.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class kw{}class YV extends kw{}function YE(t,e,...n){let r=[];e instanceof kw&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof Nw).length,a=s.filter(l=>l instanceof Nh).length;if(o>1||o>0&&a>0)throw new Y(j.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Nh extends YV{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Nh(e,n,r)}_apply(e){const n=this._parse(e);return PC(e._query,n),new lo(e.firestore,e.converter,ey(e._query,n))}_parse(e){const n=Cw(e.firestore);return function(s,o,a,l,u,c,h){let m;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new Y(j.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){JE(h,c);const w=[];for(const _ of h)w.push(XE(l,s,_));m={arrayValue:{values:w}}}else m=XE(l,s,h)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||JE(h,c),m=KV(a,o,h,c==="in"||c==="not-in");return at.create(u,c,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function XV(t,e,n){const r=e,i=Rw("where",t);return Nh._create(i,r,n)}class Nw extends kw{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Nw(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:dr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)PC(o,l),o=ey(o,l)}(e._query,n),new lo(e.firestore,e.converter,ey(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function XE(t,e,n){if(typeof(n=Ne(n))=="string"){if(n==="")throw new Y(j.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!kS(e)&&n.indexOf("/")!==-1)throw new Y(j.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(je.fromString(n));if(!ne.isDocumentKey(r))throw new Y(j.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return wE(t,new ne(r))}if(n instanceof Wt)return wE(t,n._key);throw new Y(j.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ih(n)}.`)}function JE(t,e){if(!Array.isArray(t)||t.length===0)throw new Y(j.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function PC(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Y(j.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Y(j.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class JV{convertValue(e,n="none"){switch(Gs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return st(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ks(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw se()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return oo(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new Sw(st(e.latitude),st(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=sw(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(du(e));default:return null}}convertTimestamp(e){const n=is(e);return new ft(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=je.fromString(e);ke(eC(r));const i=new fu(r.get(1),r.get(3)),s=new ne(r.popFirst(5));return i.isEqual(n)||ri(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZV(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class RC extends CC{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new od(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Rw("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class od extends RC{data(e={}){return super.data(e)}}class kC{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new hl(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new od(this._firestore,this._userDataWriter,r.key,r,new hl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Y(j.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new od(i._firestore,i._userDataWriter,a.doc.key,a.doc,new hl(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new od(i._firestore,i._userDataWriter,a.doc.key,a.doc,new hl(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),c=o.indexOf(a.doc.key)),{type:eF(a.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function eF(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return se()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function li(t){t=Bn(t,Wt);const e=Bn(t.firestore,Qs);return DV(Ch(e),t._key).then(n=>OC(e,t,n))}class Dw extends JV{constructor(e){super(),this.firestore=e}convertBytes(e){return new pa(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Wt(this.firestore,null,n)}}function NC(t){t=Bn(t,lo);const e=Bn(t.firestore,Qs),n=Ch(e),r=new Dw(e);return AC(t._query),OV(n,t._query).then(i=>new kC(e,r,t,i))}function Ca(t,e,n){t=Bn(t,Wt);const r=Bn(t.firestore,Qs),i=ZV(t.converter,e,n);return DC(r,[BV(Cw(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Ar.none())])}function uf(t,e,n,...r){t=Bn(t,Wt);const i=Bn(t.firestore,Qs),s=Cw(i);let o;return o=typeof(e=Ne(e))=="string"||e instanceof Ah?WV(s,"updateDoc",t._key,e,n,r):qV(s,"updateDoc",t._key,e),DC(i,[o.toMutation(t._key,Ar.exists(!0))])}function Ow(t,...e){var n,r,i;t=Ne(t);let s={includeMetadataChanges:!1},o=0;typeof e[o]!="object"||QE(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(QE(e[o])){const h=e[o];e[o]=(n=h.next)===null||n===void 0?void 0:n.bind(h),e[o+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),e[o+2]=(i=h.complete)===null||i===void 0?void 0:i.bind(h)}let l,u,c;if(t instanceof Wt)u=Bn(t.firestore,Qs),c=gh(t._key.path),l={next:h=>{e[o]&&e[o](OC(u,t,h))},error:e[o+1],complete:e[o+2]};else{const h=Bn(t,lo);u=Bn(h.firestore,Qs),c=h._query;const m=new Dw(u);l={next:w=>{e[o]&&e[o](new kC(u,m,h,w))},error:e[o+1],complete:e[o+2]},AC(t._query)}return function(m,w,_,x){const b=new Iw(x),E=new Tw(w,b,_);return m.asyncQueue.enqueueAndForget(async()=>_w(await af(m),E)),()=>{b.Na(),m.asyncQueue.enqueueAndForget(async()=>Ew(await af(m),E))}}(Ch(u),c,a,l)}function DC(t,e){return function(r,i){const s=new Qr;return r.asyncQueue.enqueueAndForget(async()=>wV(await NV(r),i,s)),s.promise}(Ch(t),e)}function OC(t,e,n){const r=n.docs.get(e._key),i=new Dw(t);return new RC(t,i,e._key,r,new hl(n.hasPendingWrites,n.fromCache),e.converter)}function tF(...t){return new HV("arrayUnion",t)}(function(e,n=!0){(function(i){Ta=i})(io),ur(new Kn("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Qs(new rM(r.getProvider("auth-internal")),new aM(r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Y(j.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fu(u.options.projectId,c)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),fn(mE,"4.4.0",e),fn(mE,"4.4.0","esm2017")})();function Lw(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function LC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const nF=LC,jC=new ro("auth","Firebase",LC());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cf=new Xf("@firebase/auth");function rF(t,...e){cf.logLevel<=ge.WARN&&cf.warn(`Auth (${io}): ${t}`,...e)}function ad(t,...e){cf.logLevel<=ge.ERROR&&cf.error(`Auth (${io}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gn(t,...e){throw jw(t,...e)}function Rr(t,...e){return jw(t,...e)}function MC(t,e,n){const r=Object.assign(Object.assign({},nF()),{[e]:n});return new ro("auth","Firebase",r).create(e,{appName:t.name})}function iF(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Gn(t,"argument-error"),MC(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function jw(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return jC.create(t,...e)}function ie(t,e,...n){if(!t)throw jw(e,...n)}function Wr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw ad(e),new Error(e)}function si(t,e){t||Wr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uy(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function sF(){return ZE()==="http:"||ZE()==="https:"}function ZE(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oF(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(sF()||u2()||"connection"in navigator)?navigator.onLine:!0}function aF(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu{constructor(e,n){this.shortDelay=e,this.longDelay=n,si(n>e,"Short delay should be less than long delay!"),this.isMobile=P4()||R4()}get(){return oF()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mw(t,e){si(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Wr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Wr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Wr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lF={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uF=new zu(3e4,6e4);function ui(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Dr(t,e,n,r,i={}){return FC(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=Su(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),VC.fetch()(UC(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function FC(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},lF),e);try{const i=new dF(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Mc(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Mc(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Mc(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Mc(t,"user-disabled",o);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw MC(t,c,u);Gn(t,c)}}catch(i){if(i instanceof Qn)throw i;Gn(t,"network-request-failed",{message:String(i)})}}async function Hu(t,e,n,r,i={}){const s=await Dr(t,e,n,r,i);return"mfaPendingCredential"in s&&Gn(t,"multi-factor-auth-required",{_serverResponse:s}),s}function UC(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Mw(t.config,i):`${t.config.apiScheme}://${i}`}function cF(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class dF{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Rr(this.auth,"network-request-failed")),uF.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Mc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Rr(t,e,r);return i.customData._tokenResponse=n,i}function ex(t){return t!==void 0&&t.enterprise!==void 0}class fF{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return cF(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function hF(t,e){return Dr(t,"GET","/v2/recaptchaConfig",ui(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pF(t,e){return Dr(t,"POST","/v1/accounts:delete",e)}async function mF(t,e){return Dr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Al(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function gF(t,e=!1){const n=Ne(t),r=await n.getIdToken(e),i=Vw(r);ie(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Al(lm(i.auth_time)),issuedAtTime:Al(lm(i.iat)),expirationTime:Al(lm(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function lm(t){return Number(t)*1e3}function Vw(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return ad("JWT malformed, contained fewer than 3 sections"),null;try{const i=r2(n);return i?JSON.parse(i):(ad("Failed to decode base64 JWT payload"),null)}catch(i){return ad("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function yF(t){const e=Vw(t);return ie(e,"internal-error"),ie(typeof e.exp<"u","internal-error"),ie(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ma(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Qn&&vF(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function vF({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wF{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Al(this.lastLoginAt),this.creationTime=Al(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function df(t){var e;const n=t.auth,r=await t.getIdToken(),i=await ma(t,mF(n,{idToken:r}));ie(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?xF(s.providerUserInfo):[],a=EF(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new $C(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,h)}async function _F(t){const e=Ne(t);await df(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function EF(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function xF(t){return t.map(e=>{var{providerId:n}=e,r=Lw(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TF(t,e){const n=await FC(t,{},async()=>{const r=Su({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=UC(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",VC.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function bF(t,e){return Dr(t,"POST","/v2/accounts:revokeToken",ui(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ie(e.idToken,"internal-error"),ie(typeof e.idToken<"u","internal-error"),ie(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):yF(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return ie(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await TF(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new mu;return r&&(ie(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(ie(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(ie(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new mu,this.toJSON())}_performRefresh(){return Wr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wi(t,e){ie(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class js{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Lw(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new wF(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new $C(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await ma(this,this.stsTokenManager.getToken(this.auth,e));return ie(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return gF(this,e)}reload(){return _F(this)}_assign(e){this!==e&&(ie(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new js(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await df(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await ma(this,pF(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,c;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(i=n.email)!==null&&i!==void 0?i:void 0,w=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,_=(o=n.photoURL)!==null&&o!==void 0?o:void 0,x=(a=n.tenantId)!==null&&a!==void 0?a:void 0,b=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,E=(u=n.createdAt)!==null&&u!==void 0?u:void 0,v=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:T,emailVerified:S,isAnonymous:P,providerData:L,stsTokenManager:M}=n;ie(T&&M,e,"internal-error");const U=mu.fromJSON(this.name,M);ie(typeof T=="string",e,"internal-error"),wi(h,e.name),wi(m,e.name),ie(typeof S=="boolean",e,"internal-error"),ie(typeof P=="boolean",e,"internal-error"),wi(w,e.name),wi(_,e.name),wi(x,e.name),wi(b,e.name),wi(E,e.name),wi(v,e.name);const Z=new js({uid:T,auth:e,email:m,emailVerified:S,displayName:h,isAnonymous:P,photoURL:_,phoneNumber:w,tenantId:x,stsTokenManager:U,createdAt:E,lastLoginAt:v});return L&&Array.isArray(L)&&(Z.providerData=L.map(G=>Object.assign({},G))),b&&(Z._redirectEventId=b),Z}static async _fromIdTokenResponse(e,n,r=!1){const i=new mu;i.updateFromServerResponse(n);const s=new js({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await df(s),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tx=new Map;function Kr(t){si(t instanceof Function,"Expected a class definition");let e=tx.get(t);return e?(si(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,tx.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}BC.type="NONE";const nx=BC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ld(t,e,n){return`firebase:${t}:${e}:${n}`}class Yo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=ld(this.userKey,i.apiKey,s),this.fullPersistenceKey=ld("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?js._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Yo(Kr(nx),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||Kr(nx);const o=ld(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(o);if(c){const h=js._fromJSON(e,c);u!==s&&(a=h),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Yo(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new Yo(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rx(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(qC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(zC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(KC(e))return"Blackberry";if(GC(e))return"Webos";if(Fw(e))return"Safari";if((e.includes("chrome/")||HC(e))&&!e.includes("edge/"))return"Chrome";if(WC(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function zC(t=Gt()){return/firefox\//i.test(t)}function Fw(t=Gt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function HC(t=Gt()){return/crios\//i.test(t)}function qC(t=Gt()){return/iemobile/i.test(t)}function WC(t=Gt()){return/android/i.test(t)}function KC(t=Gt()){return/blackberry/i.test(t)}function GC(t=Gt()){return/webos/i.test(t)}function Dh(t=Gt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function IF(t=Gt()){var e;return Dh(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function SF(){return k4()&&document.documentMode===10}function QC(t=Gt()){return Dh(t)||WC(t)||GC(t)||KC(t)||/windows phone/i.test(t)||qC(t)}function CF(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YC(t,e=[]){let n;switch(t){case"Browser":n=rx(Gt());break;case"Worker":n=`${rx(Gt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${io}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AF{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PF(t,e={}){return Dr(t,"GET","/v2/passwordPolicy",ui(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RF=6;class kF{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:RF,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NF{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ix(this),this.idTokenSubscription=new ix(this),this.beforeStateQueue=new AF(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=jC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Kr(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Yo.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ie(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await df(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=aF()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?Ne(e):null;return n&&ie(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ie(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Kr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await PF(this),n=new kF(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ro("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await bF(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Kr(e)||this._popupRedirectResolver;ie(n,this,"argument-error"),this.redirectPersistenceManager=await Yo.create(this,[Kr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ie(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=YC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&rF(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ci(t){return Ne(t)}class ix{constructor(e){this.auth=e,this.observer=null,this.addObserver=M4(n=>this.observer=n)}get next(){return ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DF(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function XC(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Rr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",DF().appendChild(r)})}function OF(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const LF="https://www.google.com/recaptcha/enterprise.js?render=",jF="recaptcha-enterprise",MF="NO_RECAPTCHA";class VF{constructor(e){this.type=jF,this.auth=ci(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{hF(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new fF(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;ex(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(MF)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&ex(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}XC(LF+a).then(()=>{i(a,s,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})}}async function sx(t,e,n,r=!1){const i=new VF(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function ff(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await sx(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await sx(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FF(t,e){const n=cs(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(eu(s,e??{}))return i;Gn(i,"already-initialized")}return n.initialize({options:e})}function UF(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Kr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function $F(t,e,n){const r=ci(t);ie(r._canInitEmulator,r,"emulator-config-failed"),ie(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=JC(e),{host:o,port:a}=BF(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||zF()}function JC(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function BF(t){const e=JC(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:ox(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:ox(o)}}}function ox(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function zF(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uw{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Wr("not implemented")}_getIdTokenResponse(e){return Wr("not implemented")}_linkToIdToken(e,n){return Wr("not implemented")}_getReauthenticationResolver(e){return Wr("not implemented")}}async function HF(t,e){return Dr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qF(t,e){return Hu(t,"POST","/v1/accounts:signInWithPassword",ui(t,e))}async function WF(t,e){return Dr(t,"POST","/v1/accounts:sendOobCode",ui(t,e))}async function KF(t,e){return WF(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GF(t,e){return Hu(t,"POST","/v1/accounts:signInWithEmailLink",ui(t,e))}async function QF(t,e){return Hu(t,"POST","/v1/accounts:signInWithEmailLink",ui(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu extends Uw{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new gu(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new gu(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ff(e,n,"signInWithPassword",qF);case"emailLink":return GF(e,{email:this._email,oobCode:this._password});default:Gn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ff(e,r,"signUpPassword",HF);case"emailLink":return QF(e,{idToken:n,email:this._email,oobCode:this._password});default:Gn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xo(t,e){return Hu(t,"POST","/v1/accounts:signInWithIdp",ui(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YF="http://localhost";class Ys extends Uw{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ys(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Gn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Lw(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Ys(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Xo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Xo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Xo(e,n)}buildRequest(){const e={requestUri:YF,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Su(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XF(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function JF(t){const e=al(ll(t)).link,n=e?al(ll(e)).deep_link_id:null,r=al(ll(t)).deep_link_id;return(r?al(ll(r)).link:null)||r||n||e||t}class $w{constructor(e){var n,r,i,s,o,a;const l=al(ll(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,c=(r=l.oobCode)!==null&&r!==void 0?r:null,h=XF((i=l.mode)!==null&&i!==void 0?i:null);ie(u&&c&&h,"argument-error"),this.apiKey=u,this.operation=h,this.code=c,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=JF(e);try{return new $w(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(){this.providerId=Aa.PROVIDER_ID}static credential(e,n){return gu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=$w.parseLink(n);return ie(r,"argument-error"),gu._fromEmailAndCode(e,r.code,r.tenantId)}}Aa.PROVIDER_ID="password";Aa.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Aa.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qu extends Bw{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci extends qu{constructor(){super("facebook.com")}static credential(e){return Ys._fromParams({providerId:Ci.PROVIDER_ID,signInMethod:Ci.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ci.credentialFromTaggedObject(e)}static credentialFromError(e){return Ci.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ci.credential(e.oauthAccessToken)}catch{return null}}}Ci.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ci.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br extends qu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ys._fromParams({providerId:Br.PROVIDER_ID,signInMethod:Br.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Br.credentialFromTaggedObject(e)}static credentialFromError(e){return Br.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Br.credential(n,r)}catch{return null}}}Br.GOOGLE_SIGN_IN_METHOD="google.com";Br.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai extends qu{constructor(){super("github.com")}static credential(e){return Ys._fromParams({providerId:Ai.PROVIDER_ID,signInMethod:Ai.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ai.credentialFromTaggedObject(e)}static credentialFromError(e){return Ai.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ai.credential(e.oauthAccessToken)}catch{return null}}}Ai.GITHUB_SIGN_IN_METHOD="github.com";Ai.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi extends qu{constructor(){super("twitter.com")}static credential(e,n){return Ys._fromParams({providerId:Pi.PROVIDER_ID,signInMethod:Pi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Pi.credentialFromTaggedObject(e)}static credentialFromError(e){return Pi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Pi.credential(n,r)}catch{return null}}}Pi.TWITTER_SIGN_IN_METHOD="twitter.com";Pi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZF(t,e){return Hu(t,"POST","/v1/accounts:signUp",ui(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await js._fromIdTokenResponse(e,r,i),o=ax(r);return new Xs({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=ax(r);return new Xs({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function ax(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf extends Qn{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,hf.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new hf(e,n,r,i)}}function ZC(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?hf._fromErrorAndOperation(t,s,e,r):s})}async function e6(t,e,n=!1){const r=await ma(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Xs._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t6(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await ma(t,ZC(r,i,e,t),n);ie(s.idToken,r,"internal-error");const o=Vw(s.idToken);ie(o,r,"internal-error");const{sub:a}=o;return ie(t.uid===a,r,"user-mismatch"),Xs._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Gn(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eA(t,e,n=!1){const r="signIn",i=await ZC(t,r,e),s=await Xs._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function n6(t,e){return eA(ci(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r6(t,e,n){var r;ie(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),ie(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(ie(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(ie(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tA(t){const e=ci(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function i6(t,e,n){const r=ci(t),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&r6(r,i,n),await ff(r,i,"getOobCode",KF)}async function s6(t,e,n){const r=ci(t),o=await ff(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ZF).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&tA(t),l}),a=await Xs._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function o6(t,e,n){return n6(Ne(t),Aa.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&tA(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a6(t,e){return Dr(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l6(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Ne(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await ma(r,a6(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function u6(t,e,n,r){return Ne(t).onIdTokenChanged(e,n,r)}function c6(t,e,n){return Ne(t).beforeAuthStateChanged(e,n)}function d6(t,e,n,r){return Ne(t).onAuthStateChanged(e,n,r)}function f6(t){return Ne(t).signOut()}const pf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nA{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(pf,"1"),this.storage.removeItem(pf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h6(){const t=Gt();return Fw(t)||Dh(t)}const p6=1e3,m6=10;class rA extends nA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=h6()&&CF(),this.fallbackToPolling=QC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);SF()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,m6):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},p6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}rA.type="LOCAL";const g6=rA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iA extends nA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}iA.type="SESSION";const sA=iA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y6(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Oh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await y6(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Oh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zw(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v6{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=zw("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){const m=h;if(m.data.eventId===u)switch(m.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(m.data.response);break;default:clearTimeout(c),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kr(){return window}function w6(t){kr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oA(){return typeof kr().WorkerGlobalScope<"u"&&typeof kr().importScripts=="function"}async function _6(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function E6(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function x6(){return oA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aA="firebaseLocalStorageDb",T6=1,mf="firebaseLocalStorage",lA="fbase_key";class Wu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Lh(t,e){return t.transaction([mf],e?"readwrite":"readonly").objectStore(mf)}function b6(){const t=indexedDB.deleteDatabase(aA);return new Wu(t).toPromise()}function cy(){const t=indexedDB.open(aA,T6);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(mf,{keyPath:lA})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(mf)?e(r):(r.close(),await b6(),e(await cy()))})})}async function lx(t,e,n){const r=Lh(t,!0).put({[lA]:e,value:n});return new Wu(r).toPromise()}async function I6(t,e){const n=Lh(t,!1).get(e),r=await new Wu(n).toPromise();return r===void 0?null:r.value}function ux(t,e){const n=Lh(t,!0).delete(e);return new Wu(n).toPromise()}const S6=800,C6=3;class uA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await cy(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>C6)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return oA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Oh._getInstance(x6()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await _6(),!this.activeServiceWorker)return;this.sender=new v6(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||E6()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await cy();return await lx(e,pf,"1"),await ux(e,pf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>lx(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>I6(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>ux(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Lh(i,!1).getAll();return new Wu(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),S6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}uA.type="LOCAL";const A6=uA;new zu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cA(t,e){return e?Kr(e):(ie(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hw extends Uw{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Xo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Xo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Xo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function P6(t){return eA(t.auth,new Hw(t),t.bypassAuthState)}function R6(t){const{auth:e,user:n}=t;return ie(n,e,"internal-error"),t6(n,new Hw(t),t.bypassAuthState)}async function k6(t){const{auth:e,user:n}=t;return ie(n,e,"internal-error"),e6(n,new Hw(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return P6;case"linkViaPopup":case"linkViaRedirect":return k6;case"reauthViaPopup":case"reauthViaRedirect":return R6;default:Gn(this.auth,"internal-error")}}resolve(e){si(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){si(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N6=new zu(2e3,1e4);async function D6(t,e,n){const r=ci(t);iF(t,e,Bw);const i=cA(r,n);return new Rs(r,"signInViaPopup",e,i).executeNotNull()}class Rs extends dA{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Rs.currentPopupAction&&Rs.currentPopupAction.cancel(),Rs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ie(e,this.auth,"internal-error"),e}async onExecution(){si(this.filter.length===1,"Popup operations only handle one event");const e=zw();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Rr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Rr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Rs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Rr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,N6.get())};e()}}Rs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O6="pendingRedirect",ud=new Map;class L6 extends dA{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=ud.get(this.auth._key());if(!e){try{const r=await j6(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}ud.set(this.auth._key(),e)}return this.bypassAuthState||ud.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function j6(t,e){const n=F6(e),r=V6(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function M6(t,e){ud.set(t._key(),e)}function V6(t){return Kr(t._redirectPersistence)}function F6(t){return ld(O6,t.config.apiKey,t.name)}async function U6(t,e,n=!1){const r=ci(t),i=cA(r,e),o=await new L6(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $6=10*60*1e3;class B6{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!z6(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!fA(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Rr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=$6&&this.cachedEventUids.clear(),this.cachedEventUids.has(cx(e))}saveEventToCache(e){this.cachedEventUids.add(cx(e)),this.lastProcessedEventTime=Date.now()}}function cx(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function fA({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function z6(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return fA(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H6(t,e={}){return Dr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q6=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,W6=/^https?/;async function K6(t){if(t.config.emulator)return;const{authorizedDomains:e}=await H6(t);for(const n of e)try{if(G6(n))return}catch{}Gn(t,"unauthorized-domain")}function G6(t){const e=uy(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!W6.test(n))return!1;if(q6.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q6=new zu(3e4,6e4);function dx(){const t=kr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Y6(t){return new Promise((e,n)=>{var r,i,s;function o(){dx(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{dx(),n(Rr(t,"network-request-failed"))},timeout:Q6.get()})}if(!((i=(r=kr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=kr().gapi)===null||s===void 0)&&s.load)o();else{const a=OF("iframefcb");return kr()[a]=()=>{gapi.load?o():n(Rr(t,"network-request-failed"))},XC(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw cd=null,e})}let cd=null;function X6(t){return cd=cd||Y6(t),cd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J6=new zu(5e3,15e3),Z6="__/auth/iframe",e9="emulator/auth/iframe",t9={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},n9=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function r9(t){const e=t.config;ie(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Mw(e,e9):`https://${t.config.authDomain}/${Z6}`,r={apiKey:e.apiKey,appName:t.name,v:io},i=n9.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Su(r).slice(1)}`}async function i9(t){const e=await X6(t),n=kr().gapi;return ie(n,t,"internal-error"),e.open({where:document.body,url:r9(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:t9,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Rr(t,"network-request-failed"),a=kr().setTimeout(()=>{s(o)},J6.get());function l(){kr().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s9={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},o9=500,a9=600,l9="_blank",u9="http://localhost";class fx{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function c9(t,e,n,r=o9,i=a9){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},s9),{width:r.toString(),height:i.toString(),top:s,left:o}),u=Gt().toLowerCase();n&&(a=HC(u)?l9:n),zC(u)&&(e=e||u9,l.scrollbars="yes");const c=Object.entries(l).reduce((m,[w,_])=>`${m}${w}=${_},`,"");if(IF(u)&&a!=="_self")return d9(e||"",a),new fx(null);const h=window.open(e||"",a,c);ie(h,t,"popup-blocked");try{h.focus()}catch{}return new fx(h)}function d9(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f9="__/auth/handler",h9="emulator/auth/handler",p9=encodeURIComponent("fac");async function hx(t,e,n,r,i,s){ie(t.config.authDomain,t,"auth-domain-config-required"),ie(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:io,eventId:i};if(e instanceof Bw){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",j4(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,h]of Object.entries(s||{}))o[c]=h}if(e instanceof qu){const c=e.getScopes().filter(h=>h!=="");c.length>0&&(o.scopes=c.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await t._getAppCheckToken(),u=l?`#${p9}=${encodeURIComponent(l)}`:"";return`${m9(t)}?${Su(a).slice(1)}${u}`}function m9({config:t}){return t.emulator?Mw(t,h9):`https://${t.authDomain}/${f9}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const um="webStorageSupport";class g9{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=sA,this._completeRedirectFn=U6,this._overrideRedirectResult=M6}async _openPopup(e,n,r,i){var s;si((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await hx(e,n,r,uy(),i);return c9(e,o,zw())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await hx(e,n,r,uy(),i);return w6(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(si(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await i9(e),r=new B6(e);return n.register("authEvent",i=>(ie(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(um,{type:um},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[um];o!==void 0&&n(!!o),Gn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=K6(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return QC()||Fw()||Dh()}}const y9=g9;var px="@firebase/auth",mx="1.5.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v9{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w9(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function _9(t){ur(new Kn("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ie(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:YC(t)},u=new NF(r,i,s,l);return UF(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ur(new Kn("auth-internal",e=>{const n=ci(e.getProvider("auth").getImmediate());return(r=>new v9(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),fn(px,mx,w9(t)),fn(px,mx,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E9=5*60,x9=a2("authIdTokenMaxAge")||E9;let gx=null;const T9=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>x9)return;const i=n==null?void 0:n.token;gx!==i&&(gx=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function hA(t=Jf()){const e=cs(t,"auth");if(e.isInitialized())return e.getImmediate();const n=FF(t,{popupRedirectResolver:y9,persistence:[A6,g6,sA]}),r=a2("authTokenSyncURL");if(r){const s=T9(r);c6(n,s,()=>s(n.currentUser)),u6(n,o=>s(o))}const i=i2("auth");return i&&$F(n,`http://${i}`),n}_9("Browser");var b9="firebase",I9="10.7.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fn(b9,I9,"app");const S9=(t,e)=>e.some(n=>t instanceof n);let yx,vx;function C9(){return yx||(yx=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function A9(){return vx||(vx=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const pA=new WeakMap,dy=new WeakMap,mA=new WeakMap,cm=new WeakMap,qw=new WeakMap;function P9(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Qi(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&pA.set(n,t)}).catch(()=>{}),qw.set(e,t),e}function R9(t){if(dy.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});dy.set(t,e)}let fy={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return dy.get(t);if(e==="objectStoreNames")return t.objectStoreNames||mA.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Qi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function k9(t){fy=t(fy)}function N9(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(dm(this),e,...n);return mA.set(r,e.sort?e.sort():[e]),Qi(r)}:A9().includes(t)?function(...e){return t.apply(dm(this),e),Qi(pA.get(this))}:function(...e){return Qi(t.apply(dm(this),e))}}function D9(t){return typeof t=="function"?N9(t):(t instanceof IDBTransaction&&R9(t),S9(t,C9())?new Proxy(t,fy):t)}function Qi(t){if(t instanceof IDBRequest)return P9(t);if(cm.has(t))return cm.get(t);const e=D9(t);return e!==t&&(cm.set(t,e),qw.set(e,t)),e}const dm=t=>qw.get(t);function O9(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Qi(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Qi(o.result),l.oldVersion,l.newVersion,Qi(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}const L9=["get","getKey","getAll","getAllKeys","count"],j9=["put","add","delete","clear"],fm=new Map;function wx(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(fm.get(e))return fm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=j9.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||L9.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return fm.set(e,s),s}k9(t=>({...t,get:(e,n,r)=>wx(e,n)||t.get(e,n,r),has:(e,n)=>!!wx(e,n)||t.has(e,n)}));const gA="@firebase/installations",Ww="0.6.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yA=1e4,vA=`w:${Ww}`,wA="FIS_v2",M9="https://firebaseinstallations.googleapis.com/v1",V9=60*60*1e3,F9="installations",U9="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $9={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Js=new ro(F9,U9,$9);function _A(t){return t instanceof Qn&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EA({projectId:t}){return`${M9}/projects/${t}/installations`}function xA(t){return{token:t.token,requestStatus:2,expiresIn:z9(t.expiresIn),creationTime:Date.now()}}async function TA(t,e){const r=(await e.json()).error;return Js.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function bA({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function B9(t,{refreshToken:e}){const n=bA(t);return n.append("Authorization",H9(e)),n}async function IA(t){const e=await t();return e.status>=500&&e.status<600?t():e}function z9(t){return Number(t.replace("s","000"))}function H9(t){return`${wA} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q9({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=EA(t),i=bA(t),s=e.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={fid:n,authVersion:wA,appId:t.appId,sdkVersion:vA},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await IA(()=>fetch(r,a));if(l.ok){const u=await l.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:xA(u.authToken)}}else throw await TA("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SA(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W9(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K9=/^[cdef][\w-]{21}$/,hy="";function G9(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=Q9(t);return K9.test(n)?n:hy}catch{return hy}}function Q9(t){return W9(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jh(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CA=new Map;function AA(t,e){const n=jh(t);PA(n,e),Y9(n,e)}function PA(t,e){const n=CA.get(t);if(n)for(const r of n)r(e)}function Y9(t,e){const n=X9();n&&n.postMessage({key:t,fid:e}),J9()}let ks=null;function X9(){return!ks&&"BroadcastChannel"in self&&(ks=new BroadcastChannel("[Firebase] FID Change"),ks.onmessage=t=>{PA(t.data.key,t.data.fid)}),ks}function J9(){CA.size===0&&ks&&(ks.close(),ks=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z9="firebase-installations-database",eU=1,Zs="firebase-installations-store";let hm=null;function Kw(){return hm||(hm=O9(Z9,eU,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Zs)}}})),hm}async function gf(t,e){const n=jh(t),i=(await Kw()).transaction(Zs,"readwrite"),s=i.objectStore(Zs),o=await s.get(n);return await s.put(e,n),await i.done,(!o||o.fid!==e.fid)&&AA(t,e.fid),e}async function RA(t){const e=jh(t),r=(await Kw()).transaction(Zs,"readwrite");await r.objectStore(Zs).delete(e),await r.done}async function Mh(t,e){const n=jh(t),i=(await Kw()).transaction(Zs,"readwrite"),s=i.objectStore(Zs),o=await s.get(n),a=e(o);return a===void 0?await s.delete(n):await s.put(a,n),await i.done,a&&(!o||o.fid!==a.fid)&&AA(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gw(t){let e;const n=await Mh(t.appConfig,r=>{const i=tU(r),s=nU(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===hy?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function tU(t){const e=t||{fid:G9(),registrationStatus:0};return kA(e)}function nU(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(Js.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=rU(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:iU(t)}:{installationEntry:e}}async function rU(t,e){try{const n=await q9(t,e);return gf(t.appConfig,n)}catch(n){throw _A(n)&&n.customData.serverCode===409?await RA(t.appConfig):await gf(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function iU(t){let e=await _x(t.appConfig);for(;e.registrationStatus===1;)await SA(100),e=await _x(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await Gw(t);return r||n}return e}function _x(t){return Mh(t,e=>{if(!e)throw Js.create("installation-not-found");return kA(e)})}function kA(t){return sU(t)?{fid:t.fid,registrationStatus:0}:t}function sU(t){return t.registrationStatus===1&&t.registrationTime+yA<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oU({appConfig:t,heartbeatServiceProvider:e},n){const r=aU(t,n),i=B9(t,n),s=e.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={installation:{sdkVersion:vA,appId:t.appId}},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await IA(()=>fetch(r,a));if(l.ok){const u=await l.json();return xA(u)}else throw await TA("Generate Auth Token",l)}function aU(t,{fid:e}){return`${EA(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qw(t,e=!1){let n;const r=await Mh(t.appConfig,s=>{if(!NA(s))throw Js.create("not-registered");const o=s.authToken;if(!e&&cU(o))return s;if(o.requestStatus===1)return n=lU(t,e),s;{if(!navigator.onLine)throw Js.create("app-offline");const a=fU(s);return n=uU(t,a),a}});return n?await n:r.authToken}async function lU(t,e){let n=await Ex(t.appConfig);for(;n.authToken.requestStatus===1;)await SA(100),n=await Ex(t.appConfig);const r=n.authToken;return r.requestStatus===0?Qw(t,e):r}function Ex(t){return Mh(t,e=>{if(!NA(e))throw Js.create("not-registered");const n=e.authToken;return hU(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function uU(t,e){try{const n=await oU(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await gf(t.appConfig,r),n}catch(n){if(_A(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await RA(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await gf(t.appConfig,r)}throw n}}function NA(t){return t!==void 0&&t.registrationStatus===2}function cU(t){return t.requestStatus===2&&!dU(t)}function dU(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+V9}function fU(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function hU(t){return t.requestStatus===1&&t.requestTime+yA<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pU(t){const e=t,{installationEntry:n,registrationPromise:r}=await Gw(e);return r?r.catch(console.error):Qw(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mU(t,e=!1){const n=t;return await gU(n),(await Qw(n,e)).token}async function gU(t){const{registrationPromise:e}=await Gw(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yU(t){if(!t||!t.options)throw pm("App Configuration");if(!t.name)throw pm("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw pm(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function pm(t){return Js.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DA="installations",vU="installations-internal",wU=t=>{const e=t.getProvider("app").getImmediate(),n=yU(e),r=cs(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},_U=t=>{const e=t.getProvider("app").getImmediate(),n=cs(e,DA).getImmediate();return{getId:()=>pU(n),getToken:i=>mU(n,i)}};function EU(){ur(new Kn(DA,wU,"PUBLIC")),ur(new Kn(vU,_U,"PRIVATE"))}EU();fn(gA,Ww);fn(gA,Ww,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yf="analytics",xU="firebase_id",TU="origin",bU=60*1e3,IU="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Yw="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hn=new Xf("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SU={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},bn=new ro("analytics","Analytics",SU);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CU(t){if(!t.startsWith(Yw)){const e=bn.create("invalid-gtag-resource",{gtagURL:t});return hn.warn(e.message),""}return t}function OA(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function AU(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function PU(t,e){const n=AU("firebase-js-sdk-policy",{createScriptURL:CU}),r=document.createElement("script"),i=`${Yw}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function RU(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function kU(t,e,n,r,i,s){const o=r[i];try{if(o)await e[o];else{const l=(await OA(n)).find(u=>u.measurementId===i);l&&await e[l.appId]}}catch(a){hn.error(a)}t("config",i,s)}async function NU(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=await OA(n);for(const l of o){const u=a.find(h=>h.measurementId===l),c=u&&e[u.appId];if(c)s.push(c);else{s=[];break}}}s.length===0&&(s=Object.values(e)),await Promise.all(s),t("event",r,i||{})}catch(s){hn.error(s)}}function DU(t,e,n,r){async function i(s,...o){try{if(s==="event"){const[a,l]=o;await NU(t,e,n,a,l)}else if(s==="config"){const[a,l]=o;await kU(t,e,n,r,a,l)}else if(s==="consent"){const[a]=o;t("consent","update",a)}else if(s==="get"){const[a,l,u]=o;t("get",a,l,u)}else if(s==="set"){const[a]=o;t("set",a)}else t(s,...o)}catch(a){hn.error(a)}}return i}function OU(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=DU(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}function LU(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Yw)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jU=30,MU=1e3;class VU{constructor(e={},n=MU){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const LA=new VU;function FU(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function UU(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:FU(r)},s=IU.replace("{app-id}",n),o=await fetch(s,i);if(o.status!==200&&o.status!==304){let a="";try{const l=await o.json();!((e=l.error)===null||e===void 0)&&e.message&&(a=l.error.message)}catch{}throw bn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}async function $U(t,e=LA,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw bn.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw bn.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new HU;return setTimeout(async()=>{a.abort()},n!==void 0?n:bU),jA({appId:r,apiKey:i,measurementId:s},o,a,e)}async function jA(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=LA){var s;const{appId:o,measurementId:a}=t;try{await BU(r,e)}catch(l){if(a)return hn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:o,measurementId:a};throw l}try{const l=await UU(t);return i.deleteThrottleMetadata(o),l}catch(l){const u=l;if(!zU(u)){if(i.deleteThrottleMetadata(o),a)return hn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:o,measurementId:a};throw l}const c=Number((s=u==null?void 0:u.customData)===null||s===void 0?void 0:s.httpStatus)===503?K1(n,i.intervalMillis,jU):K1(n,i.intervalMillis),h={throttleEndTimeMillis:Date.now()+c,backoffCount:n+1};return i.setThrottleMetadata(o,h),hn.debug(`Calling attemptFetch again in ${c} millis`),jA(t,h,r,i)}}function BU(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(bn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function zU(t){if(!(t instanceof Qn)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class HU{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function qU(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const s=await e,o=Object.assign(Object.assign({},r),{send_to:s});t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WU(){if(c2())try{await d2()}catch(t){return hn.warn(bn.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return hn.warn(bn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function KU(t,e,n,r,i,s,o){var a;const l=$U(t);l.then(w=>{n[w.measurementId]=w.appId,t.options.measurementId&&w.measurementId!==t.options.measurementId&&hn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${w.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(w=>hn.error(w)),e.push(l);const u=WU().then(w=>{if(w)return r.getId()}),[c,h]=await Promise.all([l,u]);LU(s)||PU(s,c.measurementId),i("js",new Date);const m=(a=o==null?void 0:o.config)!==null&&a!==void 0?a:{};return m[TU]="firebase",m.update=!0,h!=null&&(m[xU]=h),i("config",c.measurementId,m),c.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GU{constructor(e){this.app=e}_delete(){return delete Pl[this.app.options.appId],Promise.resolve()}}let Pl={},xx=[];const Tx={};let mm="dataLayer",QU="gtag",bx,MA,Ix=!1;function YU(){const t=[];if(u2()&&t.push("This is a browser extension environment."),N4()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=bn.create("invalid-analytics-context",{errorInfo:e});hn.warn(n.message)}}function XU(t,e,n){YU();const r=t.options.appId;if(!r)throw bn.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)hn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw bn.create("no-api-key");if(Pl[r]!=null)throw bn.create("already-exists",{id:r});if(!Ix){RU(mm);const{wrappedGtag:s,gtagCore:o}=OU(Pl,xx,Tx,mm,QU);MA=s,bx=o,Ix=!0}return Pl[r]=KU(t,xx,Tx,e,bx,mm,n),new GU(t)}function JU(t=Jf()){t=Ne(t);const e=cs(t,yf);return e.isInitialized()?e.getImmediate():ZU(t)}function ZU(t,e={}){const n=cs(t,yf);if(n.isInitialized()){const i=n.getImmediate();if(eu(e,n.getOptions()))return i;throw bn.create("already-initialized")}return n.initialize({options:e})}function e$(t,e,n,r){t=Ne(t),qU(MA,Pl[t.app.options.appId],e,n,r).catch(i=>hn.error(i))}const Sx="@firebase/analytics",Cx="0.10.0";function t$(){ur(new Kn(yf,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return XU(r,i,n)},"PUBLIC")),ur(new Kn("analytics-internal",t,"PRIVATE")),fn(Sx,Cx),fn(Sx,Cx,"esm2017");function t(e){try{const n=e.getProvider(yf).getImmediate();return{logEvent:(r,i,s)=>e$(n,r,i,s)}}catch(n){throw bn.create("interop-component-reg-failed",{reason:n})}}}t$();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VA="firebasestorage.googleapis.com",FA="storageBucket",n$=2*60*1e3,r$=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je extends Qn{constructor(e,n,r=0){super(gm(e),`Firebase Storage: ${n} (${gm(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Je.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return gm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Xe;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Xe||(Xe={}));function gm(t){return"storage/"+t}function Xw(){const t="An unknown error occurred, please check the error payload for server response.";return new Je(Xe.UNKNOWN,t)}function i$(t){return new Je(Xe.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function s$(t){return new Je(Xe.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function o$(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Je(Xe.UNAUTHENTICATED,t)}function a$(){return new Je(Xe.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function l$(t){return new Je(Xe.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function u$(){return new Je(Xe.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function c$(){return new Je(Xe.CANCELED,"User canceled the upload/download.")}function d$(t){return new Je(Xe.INVALID_URL,"Invalid URL '"+t+"'.")}function f$(t){return new Je(Xe.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function h$(){return new Je(Xe.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+FA+"' property when initializing the app?")}function p$(){return new Je(Xe.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function m$(){return new Je(Xe.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function g$(t){return new Je(Xe.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function py(t){return new Je(Xe.INVALID_ARGUMENT,t)}function UA(){return new Je(Xe.APP_DELETED,"The Firebase app was deleted.")}function y$(t){return new Je(Xe.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Rl(t,e){return new Je(Xe.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Ja(t){throw new Je(Xe.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=En.makeFromUrl(e,n)}catch{return new En(e,"")}if(r.path==="")return r;throw f$(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(S){S.path.charAt(S.path.length-1)==="/"&&(S.path_=S.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function u(S){S.path_=decodeURIComponent(S.path)}const c="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),m="(/([^?#]*).*)?$",w=new RegExp(`^https?://${h}/${c}/b/${i}/o${m}`,"i"),_={bucket:1,path:3},x=n===VA?"(?:storage.googleapis.com|storage.cloud.google.com)":n,b="([^?#]*)",E=new RegExp(`^https?://${x}/${i}/${b}`,"i"),T=[{regex:a,indices:l,postModify:s},{regex:w,indices:_,postModify:u},{regex:E,indices:{bucket:1,path:2},postModify:u}];for(let S=0;S<T.length;S++){const P=T[S],L=P.regex.exec(e);if(L){const M=L[P.indices.bucket];let U=L[P.indices.path];U||(U=""),r=new En(M,U),P.postModify(r);break}}if(r==null)throw d$(e);return r}}class v${constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w$(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let u=!1;function c(...b){u||(u=!0,e.apply(null,b))}function h(b){i=setTimeout(()=>{i=null,t(w,l())},b)}function m(){s&&clearTimeout(s)}function w(b,...E){if(u){m();return}if(b){m(),c.call(null,b,...E);return}if(l()||o){m(),c.call(null,b,...E);return}r<64&&(r*=2);let T;a===1?(a=2,T=0):T=(r+Math.random())*1e3,h(T)}let _=!1;function x(b){_||(_=!0,m(),!u&&(i!==null?(b||(a=2),clearTimeout(i),h(0)):b||(a=1)))}return h(0),s=setTimeout(()=>{o=!0,x(!0)},n),x}function _$(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E$(t){return t!==void 0}function x$(t){return typeof t=="object"&&!Array.isArray(t)}function Jw(t){return typeof t=="string"||t instanceof String}function Ax(t){return Zw()&&t instanceof Blob}function Zw(){return typeof Blob<"u"}function Px(t,e,n,r){if(r<e)throw py(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw py(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e0(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function $A(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ms;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Ms||(Ms={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T$(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b${constructor(e,n,r,i,s,o,a,l,u,c,h,m=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=c,this.connectionFactory_=h,this.retry=m,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((w,_)=>{this.resolve_=w,this.reject_=_,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Vc(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===Ms.NO_ERROR,l=s.getStatus();if(!a||T$(l,this.additionalRetryCodes_)&&this.retry){const c=s.getErrorCode()===Ms.ABORT;r(!1,new Vc(!1,null,c));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new Vc(u,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());E$(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=Xw();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?UA():c$();o(l)}else{const l=u$();o(l)}};this.canceled_?n(!1,new Vc(!1,null,!0)):this.backoffId_=w$(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&_$(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Vc{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function I$(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function S$(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function C$(t,e){e&&(t["X-Firebase-GMPID"]=e)}function A$(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function P$(t,e,n,r,i,s,o=!0){const a=$A(t.urlParams),l=t.url+a,u=Object.assign({},t.headers);return C$(u,e),I$(u,n),S$(u,s),A$(u,r),new b$(l,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R$(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function k$(...t){const e=R$();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(Zw())return new Blob(t);throw new Je(Xe.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function N$(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D$(t){if(typeof atob>"u")throw g$("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class ym{constructor(e,n){this.data=e,this.contentType=n||null}}function O$(t,e){switch(t){case xr.RAW:return new ym(BA(e));case xr.BASE64:case xr.BASE64URL:return new ym(zA(t,e));case xr.DATA_URL:return new ym(j$(e),M$(e))}throw Xw()}function BA(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function L$(t){let e;try{e=decodeURIComponent(t)}catch{throw Rl(xr.DATA_URL,"Malformed data URL.")}return BA(e)}function zA(t,e){switch(t){case xr.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw Rl(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case xr.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw Rl(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=D$(e)}catch(i){throw i.message.includes("polyfill")?i:Rl(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class HA{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Rl(xr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=V$(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function j$(t){const e=new HA(t);return e.base64?zA(xr.BASE64,e.rest):L$(e.rest)}function M$(t){return new HA(t).contentType}function V$(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri{constructor(e,n){let r=0,i="";Ax(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(Ax(this.data_)){const r=this.data_,i=N$(r,e,n);return i===null?null:new Ri(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Ri(r,!0)}}static getBlob(...e){if(Zw()){const n=e.map(r=>r instanceof Ri?r.data_:r);return new Ri(k$.apply(null,n))}else{const n=e.map(o=>Jw(o)?O$(xr.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new Ri(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qA(t){let e;try{e=JSON.parse(t)}catch{return null}return x$(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F$(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function U$(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function WA(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $$(t,e){return e}class Xt{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||$$}}let Fc=null;function B$(t){return!Jw(t)||t.length<2?t:WA(t)}function KA(){if(Fc)return Fc;const t=[];t.push(new Xt("bucket")),t.push(new Xt("generation")),t.push(new Xt("metageneration")),t.push(new Xt("name","fullPath",!0));function e(s,o){return B$(o)}const n=new Xt("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new Xt("size");return i.xform=r,t.push(i),t.push(new Xt("timeCreated")),t.push(new Xt("updated")),t.push(new Xt("md5Hash",null,!0)),t.push(new Xt("cacheControl",null,!0)),t.push(new Xt("contentDisposition",null,!0)),t.push(new Xt("contentEncoding",null,!0)),t.push(new Xt("contentLanguage",null,!0)),t.push(new Xt("contentType",null,!0)),t.push(new Xt("metadata","customMetadata",!0)),Fc=t,Fc}function z$(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new En(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function H$(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return z$(r,t),r}function GA(t,e,n){const r=qA(e);return r===null?null:H$(t,r,n)}function q$(t,e,n,r){const i=qA(e);if(i===null||!Jw(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(u=>{const c=t.bucket,h=t.fullPath,m="/b/"+o(c)+"/o/"+o(h),w=e0(m,n,r),_=$A({alt:"media",token:u});return w+_})[0]}function W$(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class QA{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YA(t){if(!t)throw Xw()}function K$(t,e){function n(r,i){const s=GA(t,i,e);return YA(s!==null),s}return n}function G$(t,e){function n(r,i){const s=GA(t,i,e);return YA(s!==null),q$(s,i,t.host,t._protocol)}return n}function XA(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=a$():i=o$():n.getStatus()===402?i=s$(t.bucket):n.getStatus()===403?i=l$(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function Q$(t){const e=XA(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=i$(t.path)),s.serverResponse=i.serverResponse,s}return n}function Y$(t,e,n){const r=e.fullServerUrl(),i=e0(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new QA(i,s,G$(t,n),o);return a.errorHandler=Q$(e),a}function X$(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function J$(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=X$(null,e)),r}function Z$(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let T="";for(let S=0;S<2;S++)T=T+Math.random().toString().slice(2);return T}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const u=J$(e,r,i),c=W$(u,n),h="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+c+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,m=`\r
--`+l+"--",w=Ri.getBlob(h,r,m);if(w===null)throw p$();const _={name:u.fullPath},x=e0(s,t.host,t._protocol),b="POST",E=t.maxUploadRetryTime,v=new QA(x,b,K$(t,n),E);return v.urlParams=_,v.headers=o,v.body=w.uploadData(),v.errorHandler=XA(e),v}class eB{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ms.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ms.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ms.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw Ja("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Ja("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Ja("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Ja("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Ja("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class tB extends eB{initXhr(){this.xhr_.responseType="text"}}function JA(){return new tB}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(e,n){this._service=e,n instanceof En?this._location=n:this._location=En.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new eo(e,n)}get root(){const e=new En(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return WA(this._location.path)}get storage(){return this._service}get parent(){const e=F$(this._location.path);if(e===null)return null;const n=new En(this._location.bucket,e);return new eo(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw y$(e)}}function nB(t,e,n){t._throwIfRoot("uploadBytes");const r=Z$(t.storage,t._location,KA(),new Ri(e,!0),n);return t.storage.makeRequestWithTokens(r,JA).then(i=>({metadata:i,ref:t}))}function rB(t){t._throwIfRoot("getDownloadURL");const e=Y$(t.storage,t._location,KA());return t.storage.makeRequestWithTokens(e,JA).then(n=>{if(n===null)throw m$();return n})}function iB(t,e){const n=U$(t._location.path,e),r=new En(t._location.bucket,n);return new eo(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sB(t){return/^[A-Za-z]+:\/\//.test(t)}function oB(t,e){return new eo(t,e)}function ZA(t,e){if(t instanceof t0){const n=t;if(n._bucket==null)throw h$();const r=new eo(n,n._bucket);return e!=null?ZA(r,e):r}else return e!==void 0?iB(t,e):t}function aB(t,e){if(e&&sB(e)){if(t instanceof t0)return oB(t,e);throw py("To use ref(service, url), the first argument must be a Storage instance.")}else return ZA(t,e)}function Rx(t,e){const n=e==null?void 0:e[FA];return n==null?null:En.makeFromBucketSpec(n,t)}function lB(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:l2(i,t.app.options.projectId))}class t0{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=VA,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=n$,this._maxUploadRetryTime=r$,this._requests=new Set,i!=null?this._bucket=En.makeFromBucketSpec(i,this._host):this._bucket=Rx(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=En.makeFromBucketSpec(this._url,e):this._bucket=Rx(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Px("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Px("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new eo(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new v$(UA());{const o=P$(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const kx="@firebase/storage",Nx="0.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eP="storage";function uB(t,e,n){return t=Ne(t),nB(t,e,n)}function cB(t){return t=Ne(t),rB(t)}function dB(t,e){return t=Ne(t),aB(t,e)}function fB(t=Jf(),e){t=Ne(t);const r=cs(t,eP).getImmediate({identifier:e}),i=s2("storage");return i&&hB(r,...i),r}function hB(t,e,n,r={}){lB(t,e,n,r)}function pB(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new t0(n,r,i,e,io)}function mB(){ur(new Kn(eP,pB,"PUBLIC").setMultipleInstances(!0)),fn(kx,Nx,""),fn(kx,Nx,"esm2017")}mB();let Uc;const gB=new Uint8Array(16);function yB(){if(!Uc&&(Uc=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Uc))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Uc(gB)}const Tt=[];for(let t=0;t<256;++t)Tt.push((t+256).toString(16).slice(1));function vB(t,e=0){return Tt[t[e+0]]+Tt[t[e+1]]+Tt[t[e+2]]+Tt[t[e+3]]+"-"+Tt[t[e+4]]+Tt[t[e+5]]+"-"+Tt[t[e+6]]+Tt[t[e+7]]+"-"+Tt[t[e+8]]+Tt[t[e+9]]+"-"+Tt[t[e+10]]+Tt[t[e+11]]+Tt[t[e+12]]+Tt[t[e+13]]+Tt[t[e+14]]+Tt[t[e+15]]}const wB=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Dx={randomUUID:wB};function _B(t,e,n){if(Dx.randomUUID&&!e&&!t)return Dx.randomUUID();t=t||{};const r=t.random||(t.rng||yB)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(let i=0;i<16;++i)e[n+i]=r[i];return e}return vB(r)}const EB={apiKey:"AIzaSyA_Mo2SKOIkWYyaDDw4iILnjdXb8Q_ZjKU",authDomain:"vitalfitapp-77225.firebaseapp.com",projectId:"vitalfitapp-77225",storageBucket:"vitalfitapp-77225.appspot.com",messagingSenderId:"558817686410",appId:"1:558817686410:web:b1cd87acbf95af845ace73",measurementId:"G-62Y0Q89LME"},Vh=p2(EB),ga=hA(Vh),Lt=VV(Vh);JU(Vh);const xB=fB(Vh);async function TB(t){const e=dB(xB,_B());return await uB(e,t),await cB(e)}const bB=new Br,IB=async()=>{try{const t=await D6(ga,bB),{displayName:e,email:n,photoURL:r,uid:i}=t.user;return{ok:!0,displayName:e,email:n,photoURL:r,uid:i}}catch(t){return t.code,{ok:!1,errorMessage:t.message}}},SB=async(t,e,n)=>{try{const r=await s6(ga,t,e),{uid:i,photoURL:s}=r.user;return await l6(ga.currentUser,{displayName:n}),{ok:!0,displayName:n,email:t,photoURL:s,uid:i}}catch(r){const i=r.code;return{ok:!1,errorMessage:r.message,errorCode:i}}},CB=async(t,e)=>{try{const n=await o6(ga,t,e),{uid:r,displayName:i,photoURL:s}=n.user;return{ok:!0,uid:r,displayName:i,photoURL:s}}catch(n){const r=n.code;return{ok:!1,errorMessage:n.message,errorCode:r}}},AB=async t=>{try{const e=await i6(ga,t);return{ok:!0,successMessage:"Password reset email sent!"}}catch(e){const n=e.code;return{ok:!1,errorMessage:e.message,errorCode:n}}},n0=async t=>{try{const e=sn(Lt,"users",t.id);await Ca(e,t)}catch(e){console.log(e)}},tP=async t=>{try{const e=sn(Lt,"users",t);return(await li(e)).data()}catch(e){console.log(e.message)}},PB=(t,e)=>async n=>{n(e2());const{ok:r,uid:i,photoURL:s,displayName:o,errorCode:a}=await CB(t,e),u=(await tP(i)).role||"user";if(!r)return n(ZI(a));n(kv({email:t,uid:i,photoURL:s,displayName:o,role:u}))},RB=()=>async t=>{t(_4());const e=await IB();t(kv(e))},kB=(t,e,n,r="user")=>async i=>{i(e2());const{ok:s,uid:o,photoURL:a,errorCode:l}=await SB(t,e,n);if(await n0({email:t,id:o,photoURL:a,displayName:n,role:r}),!s)return i(ZI(l));i(kv({email:t,uid:o,photoURL:a,displayName:n,role:r}))},nP=Pv({name:"orders",initialState:{orders:[],currentOrder:[],onOrder:{},totalPriceOrder:0,orderWindow:!1},reducers:{checkOutOrder:(t,e)=>{t.currentOrder=e.payload,t.orderWindow=!0},getCurrentOrder:(t,e)=>{t.onOrder=e.payload},getOrders:(t,e)=>{t.orders=e.payload},saveOrder:(t,e)=>{t.orders=[e.payload,...t.orders]},passTotalPrice:(t,e)=>{t.totalPriceOrder=e.payload}}});nP.actions;const rP=Pv({name:"product",initialState:{products:[],copyProducts:[],categories:[],product:{},loading:!0,currentPage:1,itemsPerPage:8,totalPages:0,shopListOpen:!1,shoppingCart:[],countTotal:0,search:"",filters:{category:"",minPrice:"",maxPrice:""},sorts:{sortByName:"",sortByPrice:""}},reducers:{startLoading:t=>{t.loading=!0},setProducts:(t,e)=>{t.products=e.payload,t.copyProducts.length||(t.copyProducts=e.payload),t.totalPages=Math.ceil(e.payload.length/8),t.loading=!1},setCategories:(t,e)=>{t.categories=e.payload},setCurrentPage:(t,e)=>{t.currentPage=e.payload},findbyProductById:(t,e)=>{t.product=e.payload,t.loading=!1},itemsAdded:(t,e)=>{const n=e.payload,r=t.shoppingCart.find(i=>i.id===n.id);r?r.count++:t.shoppingCart.push({...n,count:1}),t.countTotal+=1},removeItem:(t,e)=>{const n=e.payload,r=t.shoppingCart.find(i=>i.id===n);r&&(r.count--,r.count===0&&(t.shoppingCart=t.shoppingCart.filter(i=>i.id!==n)),t.countTotal-=1)},handleShopList:(t,e)=>{t.shopListOpen=e.payload},cleanEverything:(t,e)=>{t.shoppingCart=[],t.countTotal=0},setFilters:(t,e)=>{t.filters=e.payload},setSorts:(t,e)=>{t.sorts=e.payload},setSearch:(t,e)=>{t.search=e.payload},resetFilters:(t,e)=>{t.filters={category:"",minPrice:"",maxPrice:""}},resetSearch:(t,e)=>{t.search=""},resetSorts:(t,e)=>{t.sorts={sortByName:"",sortByPrice:""}}}}),{setProducts:NB,setCategories:DB,startLoading:iP,findbyProductById:OB,handleShopList:$W,itemsAdded:BW,removeItem:zW,setCurrentPage:sP,cleanEverything:HW,setFilters:LB,resetFilters:jB,setSorts:MB,setSearch:VB,resetSorts:FB,resetSearch:UB}=rP.actions;function oP(t,e){return function(){return t.apply(e,arguments)}}const{toString:$B}=Object.prototype,{getPrototypeOf:r0}=Object,Fh=(t=>e=>{const n=$B.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Or=t=>(t=t.toLowerCase(),e=>Fh(e)===t),Uh=t=>e=>typeof e===t,{isArray:Pa}=Array,yu=Uh("undefined");function BB(t){return t!==null&&!yu(t)&&t.constructor!==null&&!yu(t.constructor)&&zn(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const aP=Or("ArrayBuffer");function zB(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&aP(t.buffer),e}const HB=Uh("string"),zn=Uh("function"),lP=Uh("number"),$h=t=>t!==null&&typeof t=="object",qB=t=>t===!0||t===!1,dd=t=>{if(Fh(t)!=="object")return!1;const e=r0(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},WB=Or("Date"),KB=Or("File"),GB=Or("Blob"),QB=Or("FileList"),YB=t=>$h(t)&&zn(t.pipe),XB=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||zn(t.append)&&((e=Fh(t))==="formdata"||e==="object"&&zn(t.toString)&&t.toString()==="[object FormData]"))},JB=Or("URLSearchParams"),ZB=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ku(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),Pa(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{const s=n?Object.getOwnPropertyNames(t):Object.keys(t),o=s.length;let a;for(r=0;r<o;r++)a=s[r],e.call(null,t[a],a,t)}}function uP(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const cP=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),dP=t=>!yu(t)&&t!==cP;function my(){const{caseless:t}=dP(this)&&this||{},e={},n=(r,i)=>{const s=t&&uP(e,i)||i;dd(e[s])&&dd(r)?e[s]=my(e[s],r):dd(r)?e[s]=my({},r):Pa(r)?e[s]=r.slice():e[s]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&Ku(arguments[r],n);return e}const e7=(t,e,n,{allOwnKeys:r}={})=>(Ku(e,(i,s)=>{n&&zn(i)?t[s]=oP(i,n):t[s]=i},{allOwnKeys:r}),t),t7=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),n7=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},r7=(t,e,n,r)=>{let i,s,o;const a={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)o=i[s],(!r||r(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=n!==!1&&r0(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},i7=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},s7=t=>{if(!t)return null;if(Pa(t))return t;let e=t.length;if(!lP(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},o7=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&r0(Uint8Array)),a7=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},l7=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},u7=Or("HTMLFormElement"),c7=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),Ox=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),d7=Or("RegExp"),fP=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};Ku(n,(i,s)=>{let o;(o=e(i,s,t))!==!1&&(r[s]=o||i)}),Object.defineProperties(t,r)},f7=t=>{fP(t,(e,n)=>{if(zn(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(zn(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},h7=(t,e)=>{const n={},r=i=>{i.forEach(s=>{n[s]=!0})};return Pa(t)?r(t):r(String(t).split(e)),n},p7=()=>{},m7=(t,e)=>(t=+t,Number.isFinite(t)?t:e),vm="abcdefghijklmnopqrstuvwxyz",Lx="0123456789",hP={DIGIT:Lx,ALPHA:vm,ALPHA_DIGIT:vm+vm.toUpperCase()+Lx},g7=(t=16,e=hP.ALPHA_DIGIT)=>{let n="";const{length:r}=e;for(;t--;)n+=e[Math.random()*r|0];return n};function y7(t){return!!(t&&zn(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const v7=t=>{const e=new Array(10),n=(r,i)=>{if($h(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const s=Pa(r)?[]:{};return Ku(r,(o,a)=>{const l=n(o,i+1);!yu(l)&&(s[a]=l)}),e[i]=void 0,s}}return r};return n(t,0)},w7=Or("AsyncFunction"),_7=t=>t&&($h(t)||zn(t))&&zn(t.then)&&zn(t.catch),O={isArray:Pa,isArrayBuffer:aP,isBuffer:BB,isFormData:XB,isArrayBufferView:zB,isString:HB,isNumber:lP,isBoolean:qB,isObject:$h,isPlainObject:dd,isUndefined:yu,isDate:WB,isFile:KB,isBlob:GB,isRegExp:d7,isFunction:zn,isStream:YB,isURLSearchParams:JB,isTypedArray:o7,isFileList:QB,forEach:Ku,merge:my,extend:e7,trim:ZB,stripBOM:t7,inherits:n7,toFlatObject:r7,kindOf:Fh,kindOfTest:Or,endsWith:i7,toArray:s7,forEachEntry:a7,matchAll:l7,isHTMLForm:u7,hasOwnProperty:Ox,hasOwnProp:Ox,reduceDescriptors:fP,freezeMethods:f7,toObjectSet:h7,toCamelCase:c7,noop:p7,toFiniteNumber:m7,findKey:uP,global:cP,isContextDefined:dP,ALPHABET:hP,generateString:g7,isSpecCompliantForm:y7,toJSONObject:v7,isAsyncFn:w7,isThenable:_7};function ve(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}O.inherits(ve,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:O.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const pP=ve.prototype,mP={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{mP[t]={value:t}});Object.defineProperties(ve,mP);Object.defineProperty(pP,"isAxiosError",{value:!0});ve.from=(t,e,n,r,i,s)=>{const o=Object.create(pP);return O.toFlatObject(t,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),ve.call(o,t.message,e,n,r,i),o.cause=t,o.name=t.name,s&&Object.assign(o,s),o};const E7=null;function gy(t){return O.isPlainObject(t)||O.isArray(t)}function gP(t){return O.endsWith(t,"[]")?t.slice(0,-2):t}function jx(t,e,n){return t?t.concat(e).map(function(i,s){return i=gP(i),!n&&s?"["+i+"]":i}).join(n?".":""):e}function x7(t){return O.isArray(t)&&!t.some(gy)}const T7=O.toFlatObject(O,{},null,function(e){return/^is[A-Z]/.test(e)});function Bh(t,e,n){if(!O.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=O.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(x,b){return!O.isUndefined(b[x])});const r=n.metaTokens,i=n.visitor||c,s=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&O.isSpecCompliantForm(e);if(!O.isFunction(i))throw new TypeError("visitor must be a function");function u(_){if(_===null)return"";if(O.isDate(_))return _.toISOString();if(!l&&O.isBlob(_))throw new ve("Blob is not supported. Use a Buffer instead.");return O.isArrayBuffer(_)||O.isTypedArray(_)?l&&typeof Blob=="function"?new Blob([_]):Buffer.from(_):_}function c(_,x,b){let E=_;if(_&&!b&&typeof _=="object"){if(O.endsWith(x,"{}"))x=r?x:x.slice(0,-2),_=JSON.stringify(_);else if(O.isArray(_)&&x7(_)||(O.isFileList(_)||O.endsWith(x,"[]"))&&(E=O.toArray(_)))return x=gP(x),E.forEach(function(T,S){!(O.isUndefined(T)||T===null)&&e.append(o===!0?jx([x],S,s):o===null?x:x+"[]",u(T))}),!1}return gy(_)?!0:(e.append(jx(b,x,s),u(_)),!1)}const h=[],m=Object.assign(T7,{defaultVisitor:c,convertValue:u,isVisitable:gy});function w(_,x){if(!O.isUndefined(_)){if(h.indexOf(_)!==-1)throw Error("Circular reference detected in "+x.join("."));h.push(_),O.forEach(_,function(E,v){(!(O.isUndefined(E)||E===null)&&i.call(e,E,O.isString(v)?v.trim():v,x,m))===!0&&w(E,x?x.concat(v):[v])}),h.pop()}}if(!O.isObject(t))throw new TypeError("data must be an object");return w(t),e}function Mx(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function i0(t,e){this._pairs=[],t&&Bh(t,this,e)}const yP=i0.prototype;yP.append=function(e,n){this._pairs.push([e,n])};yP.toString=function(e){const n=e?function(r){return e.call(this,r,Mx)}:Mx;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function b7(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function vP(t,e,n){if(!e)return t;const r=n&&n.encode||b7,i=n&&n.serialize;let s;if(i?s=i(e,n):s=O.isURLSearchParams(e)?e.toString():new i0(e,n).toString(r),s){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class I7{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){O.forEach(this.handlers,function(r){r!==null&&e(r)})}}const Vx=I7,wP={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},S7=typeof URLSearchParams<"u"?URLSearchParams:i0,C7=typeof FormData<"u"?FormData:null,A7=typeof Blob<"u"?Blob:null,P7={isBrowser:!0,classes:{URLSearchParams:S7,FormData:C7,Blob:A7},protocols:["http","https","file","blob","url","data"]},_P=typeof window<"u"&&typeof document<"u",R7=(t=>_P&&["ReactNative","NativeScript","NS"].indexOf(t)<0)(typeof navigator<"u"&&navigator.product),k7=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),N7=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:_P,hasStandardBrowserEnv:R7,hasStandardBrowserWebWorkerEnv:k7},Symbol.toStringTag,{value:"Module"})),Tr={...N7,...P7};function D7(t,e){return Bh(t,new Tr.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,s){return Tr.isNode&&O.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function O7(t){return O.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function L7(t){const e={},n=Object.keys(t);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],e[s]=t[s];return e}function EP(t){function e(n,r,i,s){let o=n[s++];const a=Number.isFinite(+o),l=s>=n.length;return o=!o&&O.isArray(i)?i.length:o,l?(O.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!a):((!i[o]||!O.isObject(i[o]))&&(i[o]=[]),e(n,r,i[o],s)&&O.isArray(i[o])&&(i[o]=L7(i[o])),!a)}if(O.isFormData(t)&&O.isFunction(t.entries)){const n={};return O.forEachEntry(t,(r,i)=>{e(O7(r),i,n,0)}),n}return null}function j7(t,e,n){if(O.isString(t))try{return(e||JSON.parse)(t),O.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const s0={transitional:wP,adapter:["xhr","http"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,s=O.isObject(e);if(s&&O.isHTMLForm(e)&&(e=new FormData(e)),O.isFormData(e))return i&&i?JSON.stringify(EP(e)):e;if(O.isArrayBuffer(e)||O.isBuffer(e)||O.isStream(e)||O.isFile(e)||O.isBlob(e))return e;if(O.isArrayBufferView(e))return e.buffer;if(O.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return D7(e,this.formSerializer).toString();if((a=O.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Bh(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||i?(n.setContentType("application/json",!1),j7(e)):e}],transformResponse:[function(e){const n=this.transitional||s0.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(e&&O.isString(e)&&(r&&!this.responseType||i)){const o=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?ve.from(a,ve.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Tr.classes.FormData,Blob:Tr.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};O.forEach(["delete","get","head","post","put","patch"],t=>{s0.headers[t]={}});const o0=s0,M7=O.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),V7=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(o){i=o.indexOf(":"),n=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!n||e[n]&&M7[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},Fx=Symbol("internals");function Za(t){return t&&String(t).trim().toLowerCase()}function fd(t){return t===!1||t==null?t:O.isArray(t)?t.map(fd):String(t)}function F7(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const U7=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function wm(t,e,n,r,i){if(O.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!O.isString(e)){if(O.isString(r))return e.indexOf(r)!==-1;if(O.isRegExp(r))return r.test(e)}}function $7(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function B7(t,e){const n=O.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,s,o){return this[r].call(this,e,i,s,o)},configurable:!0})})}class zh{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function s(a,l,u){const c=Za(l);if(!c)throw new Error("header name must be a non-empty string");const h=O.findKey(i,c);(!h||i[h]===void 0||u===!0||u===void 0&&i[h]!==!1)&&(i[h||l]=fd(a))}const o=(a,l)=>O.forEach(a,(u,c)=>s(u,c,l));return O.isPlainObject(e)||e instanceof this.constructor?o(e,n):O.isString(e)&&(e=e.trim())&&!U7(e)?o(V7(e),n):e!=null&&s(n,e,r),this}get(e,n){if(e=Za(e),e){const r=O.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return F7(i);if(O.isFunction(n))return n.call(this,i,r);if(O.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Za(e),e){const r=O.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||wm(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function s(o){if(o=Za(o),o){const a=O.findKey(r,o);a&&(!n||wm(r,r[a],a,n))&&(delete r[a],i=!0)}}return O.isArray(e)?e.forEach(s):s(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const s=n[r];(!e||wm(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const n=this,r={};return O.forEach(this,(i,s)=>{const o=O.findKey(r,s);if(o){n[o]=fd(i),delete n[s];return}const a=e?$7(s):String(s).trim();a!==s&&delete n[s],n[a]=fd(i),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return O.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&O.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[Fx]=this[Fx]={accessors:{}}).accessors,i=this.prototype;function s(o){const a=Za(o);r[a]||(B7(i,o),r[a]=!0)}return O.isArray(e)?e.forEach(s):s(e),this}}zh.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);O.reduceDescriptors(zh.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});O.freezeMethods(zh);const Yr=zh;function _m(t,e){const n=this||o0,r=e||n,i=Yr.from(r.headers);let s=r.data;return O.forEach(t,function(a){s=a.call(n,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function xP(t){return!!(t&&t.__CANCEL__)}function Gu(t,e,n){ve.call(this,t??"canceled",ve.ERR_CANCELED,e,n),this.name="CanceledError"}O.inherits(Gu,ve,{__CANCEL__:!0});function z7(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new ve("Request failed with status code "+n.status,[ve.ERR_BAD_REQUEST,ve.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const H7=Tr.hasStandardBrowserEnv?{write(t,e,n,r,i,s){const o=[t+"="+encodeURIComponent(e)];O.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),O.isString(r)&&o.push("path="+r),O.isString(i)&&o.push("domain="+i),s===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function q7(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function W7(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}function TP(t,e){return t&&!q7(e)?W7(t,e):e}const K7=Tr.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let r;function i(s){let o=s;return e&&(n.setAttribute("href",o),o=n.href),n.setAttribute("href",o),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=i(window.location.href),function(o){const a=O.isString(o)?i(o):o;return a.protocol===r.protocol&&a.host===r.host}}():function(){return function(){return!0}}();function G7(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function Q7(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,s=0,o;return e=e!==void 0?e:1e3,function(l){const u=Date.now(),c=r[s];o||(o=u),n[i]=l,r[i]=u;let h=s,m=0;for(;h!==i;)m+=n[h++],h=h%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),u-o<e)return;const w=c&&u-c;return w?Math.round(m*1e3/w):void 0}}function Ux(t,e){let n=0;const r=Q7(50,250);return i=>{const s=i.loaded,o=i.lengthComputable?i.total:void 0,a=s-n,l=r(a),u=s<=o;n=s;const c={loaded:s,total:o,progress:o?s/o:void 0,bytes:a,rate:l||void 0,estimated:l&&o&&u?(o-s)/l:void 0,event:i};c[e?"download":"upload"]=!0,t(c)}}const Y7=typeof XMLHttpRequest<"u",X7=Y7&&function(t){return new Promise(function(n,r){let i=t.data;const s=Yr.from(t.headers).normalize();let{responseType:o,withXSRFToken:a}=t,l;function u(){t.cancelToken&&t.cancelToken.unsubscribe(l),t.signal&&t.signal.removeEventListener("abort",l)}let c;if(O.isFormData(i)){if(Tr.hasStandardBrowserEnv||Tr.hasStandardBrowserWebWorkerEnv)s.setContentType(!1);else if((c=s.getContentType())!==!1){const[x,...b]=c?c.split(";").map(E=>E.trim()).filter(Boolean):[];s.setContentType([x||"multipart/form-data",...b].join("; "))}}let h=new XMLHttpRequest;if(t.auth){const x=t.auth.username||"",b=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";s.set("Authorization","Basic "+btoa(x+":"+b))}const m=TP(t.baseURL,t.url);h.open(t.method.toUpperCase(),vP(m,t.params,t.paramsSerializer),!0),h.timeout=t.timeout;function w(){if(!h)return;const x=Yr.from("getAllResponseHeaders"in h&&h.getAllResponseHeaders()),E={data:!o||o==="text"||o==="json"?h.responseText:h.response,status:h.status,statusText:h.statusText,headers:x,config:t,request:h};z7(function(T){n(T),u()},function(T){r(T),u()},E),h=null}if("onloadend"in h?h.onloadend=w:h.onreadystatechange=function(){!h||h.readyState!==4||h.status===0&&!(h.responseURL&&h.responseURL.indexOf("file:")===0)||setTimeout(w)},h.onabort=function(){h&&(r(new ve("Request aborted",ve.ECONNABORTED,t,h)),h=null)},h.onerror=function(){r(new ve("Network Error",ve.ERR_NETWORK,t,h)),h=null},h.ontimeout=function(){let b=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const E=t.transitional||wP;t.timeoutErrorMessage&&(b=t.timeoutErrorMessage),r(new ve(b,E.clarifyTimeoutError?ve.ETIMEDOUT:ve.ECONNABORTED,t,h)),h=null},Tr.hasStandardBrowserEnv&&(a&&O.isFunction(a)&&(a=a(t)),a||a!==!1&&K7(m))){const x=t.xsrfHeaderName&&t.xsrfCookieName&&H7.read(t.xsrfCookieName);x&&s.set(t.xsrfHeaderName,x)}i===void 0&&s.setContentType(null),"setRequestHeader"in h&&O.forEach(s.toJSON(),function(b,E){h.setRequestHeader(E,b)}),O.isUndefined(t.withCredentials)||(h.withCredentials=!!t.withCredentials),o&&o!=="json"&&(h.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&h.addEventListener("progress",Ux(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&h.upload&&h.upload.addEventListener("progress",Ux(t.onUploadProgress)),(t.cancelToken||t.signal)&&(l=x=>{h&&(r(!x||x.type?new Gu(null,t,h):x),h.abort(),h=null)},t.cancelToken&&t.cancelToken.subscribe(l),t.signal&&(t.signal.aborted?l():t.signal.addEventListener("abort",l)));const _=G7(m);if(_&&Tr.protocols.indexOf(_)===-1){r(new ve("Unsupported protocol "+_+":",ve.ERR_BAD_REQUEST,t));return}h.send(i||null)})},yy={http:E7,xhr:X7};O.forEach(yy,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const $x=t=>`- ${t}`,J7=t=>O.isFunction(t)||t===null||t===!1,bP={getAdapter:t=>{t=O.isArray(t)?t:[t];const{length:e}=t;let n,r;const i={};for(let s=0;s<e;s++){n=t[s];let o;if(r=n,!J7(n)&&(r=yy[(o=String(n)).toLowerCase()],r===void 0))throw new ve(`Unknown adapter '${o}'`);if(r)break;i[o||"#"+s]=r}if(!r){const s=Object.entries(i).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=e?s.length>1?`since :
`+s.map($x).join(`
`):" "+$x(s[0]):"as no adapter specified";throw new ve("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:yy};function Em(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Gu(null,t)}function Bx(t){return Em(t),t.headers=Yr.from(t.headers),t.data=_m.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),bP.getAdapter(t.adapter||o0.adapter)(t).then(function(r){return Em(t),r.data=_m.call(t,t.transformResponse,r),r.headers=Yr.from(r.headers),r},function(r){return xP(r)||(Em(t),r&&r.response&&(r.response.data=_m.call(t,t.transformResponse,r.response),r.response.headers=Yr.from(r.response.headers))),Promise.reject(r)})}const zx=t=>t instanceof Yr?t.toJSON():t;function ya(t,e){e=e||{};const n={};function r(u,c,h){return O.isPlainObject(u)&&O.isPlainObject(c)?O.merge.call({caseless:h},u,c):O.isPlainObject(c)?O.merge({},c):O.isArray(c)?c.slice():c}function i(u,c,h){if(O.isUndefined(c)){if(!O.isUndefined(u))return r(void 0,u,h)}else return r(u,c,h)}function s(u,c){if(!O.isUndefined(c))return r(void 0,c)}function o(u,c){if(O.isUndefined(c)){if(!O.isUndefined(u))return r(void 0,u)}else return r(void 0,c)}function a(u,c,h){if(h in e)return r(u,c);if(h in t)return r(void 0,u)}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(u,c)=>i(zx(u),zx(c),!0)};return O.forEach(Object.keys(Object.assign({},t,e)),function(c){const h=l[c]||i,m=h(t[c],e[c],c);O.isUndefined(m)&&h!==a||(n[c]=m)}),n}const IP="1.6.2",a0={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{a0[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const Hx={};a0.transitional=function(e,n,r){function i(s,o){return"[Axios v"+IP+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return(s,o,a)=>{if(e===!1)throw new ve(i(o," has been removed"+(n?" in "+n:"")),ve.ERR_DEPRECATED);return n&&!Hx[o]&&(Hx[o]=!0,console.warn(i(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,o,a):!0}};function Z7(t,e,n){if(typeof t!="object")throw new ve("options must be an object",ve.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const s=r[i],o=e[s];if(o){const a=t[s],l=a===void 0||o(a,s,t);if(l!==!0)throw new ve("option "+s+" must be "+l,ve.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new ve("Unknown option "+s,ve.ERR_BAD_OPTION)}}const vy={assertOptions:Z7,validators:a0},_i=vy.validators;class vf{constructor(e){this.defaults=e,this.interceptors={request:new Vx,response:new Vx}}request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=ya(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:s}=n;r!==void 0&&vy.assertOptions(r,{silentJSONParsing:_i.transitional(_i.boolean),forcedJSONParsing:_i.transitional(_i.boolean),clarifyTimeoutError:_i.transitional(_i.boolean)},!1),i!=null&&(O.isFunction(i)?n.paramsSerializer={serialize:i}:vy.assertOptions(i,{encode:_i.function,serialize:_i.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=s&&O.merge(s.common,s[n.method]);s&&O.forEach(["delete","get","head","post","put","patch","common"],_=>{delete s[_]}),n.headers=Yr.concat(o,s);const a=[];let l=!0;this.interceptors.request.forEach(function(x){typeof x.runWhen=="function"&&x.runWhen(n)===!1||(l=l&&x.synchronous,a.unshift(x.fulfilled,x.rejected))});const u=[];this.interceptors.response.forEach(function(x){u.push(x.fulfilled,x.rejected)});let c,h=0,m;if(!l){const _=[Bx.bind(this),void 0];for(_.unshift.apply(_,a),_.push.apply(_,u),m=_.length,c=Promise.resolve(n);h<m;)c=c.then(_[h++],_[h++]);return c}m=a.length;let w=n;for(h=0;h<m;){const _=a[h++],x=a[h++];try{w=_(w)}catch(b){x.call(this,b);break}}try{c=Bx.call(this,w)}catch(_){return Promise.reject(_)}for(h=0,m=u.length;h<m;)c=c.then(u[h++],u[h++]);return c}getUri(e){e=ya(this.defaults,e);const n=TP(e.baseURL,e.url);return vP(n,e.params,e.paramsSerializer)}}O.forEach(["delete","get","head","options"],function(e){vf.prototype[e]=function(n,r){return this.request(ya(r||{},{method:e,url:n,data:(r||{}).data}))}});O.forEach(["post","put","patch"],function(e){function n(r){return function(s,o,a){return this.request(ya(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}vf.prototype[e]=n(),vf.prototype[e+"Form"]=n(!0)});const hd=vf;class l0{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(a=>{r.subscribe(a),s=a}).then(i);return o.cancel=function(){r.unsubscribe(s)},o},e(function(s,o,a){r.reason||(r.reason=new Gu(s,o,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}static source(){let e;return{token:new l0(function(i){e=i}),cancel:e}}}const e8=l0;function t8(t){return function(n){return t.apply(null,n)}}function n8(t){return O.isObject(t)&&t.isAxiosError===!0}const wy={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(wy).forEach(([t,e])=>{wy[e]=t});const r8=wy;function SP(t){const e=new hd(t),n=oP(hd.prototype.request,e);return O.extend(n,hd.prototype,e,{allOwnKeys:!0}),O.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return SP(ya(t,i))},n}const lt=SP(o0);lt.Axios=hd;lt.CanceledError=Gu;lt.CancelToken=e8;lt.isCancel=xP;lt.VERSION=IP;lt.toFormData=Bh;lt.AxiosError=ve;lt.Cancel=lt.CanceledError;lt.all=function(e){return Promise.all(e)};lt.spread=t8;lt.isAxiosError=n8;lt.mergeConfig=ya;lt.AxiosHeaders=Yr;lt.formToJSON=t=>EP(O.isHTMLForm(t)?new FormData(t):t);lt.getAdapter=bP.getAdapter;lt.HttpStatusCode=r8;lt.default=lt;const wf=lt,Ra=wf.create({baseURL:"https://vitalfitapi.onrender.com"}),Hh=(t=1)=>async(e,n)=>{e(iP());const{filters:r,search:i,sorts:s}=n().product,{category:o,minPrice:a,maxPrice:l}=r,{sortByName:u,sortByPrice:c}=s,{data:h}=await Ra.get("/",{params:{search:i,category:o,minPrice:a,maxPrice:l,sortByName:u,sortByPrice:c}});e(NB(h)),e(sP(t))},_y=t=>async e=>{e(iP());const{data:n}=await Ra.get(`/product/${t}`);e(OB(n))},i8=()=>async t=>{const{data:e}=await Ra.get("/category");t(DB(e))},_f=(t=1)=>async e=>{e(sP(t))},Ey=t=>async e=>{e(LB(t))},pd=()=>async t=>{t(jB())},xy=()=>async t=>{t(UB())},md=()=>async t=>{t(FB())},s8=t=>async e=>{e(MB(t))},o8=t=>async e=>{e(VB(t))},a8=t=>async e=>{const n=await Ra.delete(`/product/${t}`);console.log(n),e(Hh())},l8=t=>async e=>{try{const n=await Ra.post("/",t);console.log(n)}catch(n){console.log("Error:",n.message)}},u8=(t,e)=>async n=>{try{const r=await Ra.put(`/product/${e}`,t);console.log(r.data)}catch(r){console.log("Error:",r.message)}},c8=l4({reducer:{product:rP.reducer,orders:nP.reducer,auth:JI.reducer}});/**
 * @remix-run/router v1.13.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function vu(){return vu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vu.apply(this,arguments)}var Oi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Oi||(Oi={}));const qx="popstate";function d8(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return Ty("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Ef(i)}return h8(e,n,null,t)}function He(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function u0(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function f8(){return Math.random().toString(36).substr(2,8)}function Wx(t,e){return{usr:t.state,key:t.key,idx:e}}function Ty(t,e,n,r){return n===void 0&&(n=null),vu({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ka(e):e,{state:n,key:e&&e.key||r||f8()})}function Ef(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ka(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function h8(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Oi.Pop,l=null,u=c();u==null&&(u=0,o.replaceState(vu({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function h(){a=Oi.Pop;let b=c(),E=b==null?null:b-u;u=b,l&&l({action:a,location:x.location,delta:E})}function m(b,E){a=Oi.Push;let v=Ty(x.location,b,E);n&&n(v,b),u=c()+1;let T=Wx(v,u),S=x.createHref(v);try{o.pushState(T,"",S)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;i.location.assign(S)}s&&l&&l({action:a,location:x.location,delta:1})}function w(b,E){a=Oi.Replace;let v=Ty(x.location,b,E);n&&n(v,b),u=c();let T=Wx(v,u),S=x.createHref(v);o.replaceState(T,"",S),s&&l&&l({action:a,location:x.location,delta:0})}function _(b){let E=i.location.origin!=="null"?i.location.origin:i.location.href,v=typeof b=="string"?b:Ef(b);return He(E,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,E)}let x={get action(){return a},get location(){return t(i,o)},listen(b){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(qx,h),l=b,()=>{i.removeEventListener(qx,h),l=null}},createHref(b){return e(i,b)},createURL:_,encodeLocation(b){let E=_(b);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:m,replace:w,go(b){return o.go(b)}};return x}var Kx;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Kx||(Kx={}));function p8(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?ka(e):e,i=wu(r.pathname||"/",n);if(i==null)return null;let s=CP(t);m8(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=b8(s[a],S8(i));return o}function CP(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(He(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Yi([r,l.relativePath]),c=n.concat(l);s.children&&s.children.length>0&&(He(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),CP(s.children,e,c,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:x8(u,s.index),routesMeta:c})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of AP(s.path))i(s,o,l)}),e}function AP(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=AP(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function m8(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:T8(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const g8=/^:\w+$/,y8=3,v8=2,w8=1,_8=10,E8=-2,Gx=t=>t==="*";function x8(t,e){let n=t.split("/"),r=n.length;return n.some(Gx)&&(r+=E8),e&&(r+=v8),n.filter(i=>!Gx(i)).reduce((i,s)=>i+(g8.test(s)?y8:s===""?w8:_8),r)}function T8(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function b8(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,u=i==="/"?e:e.slice(i.length)||"/",c=by({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);let h=a.route;s.push({params:r,pathname:Yi([i,c.pathname]),pathnameBase:R8(Yi([i,c.pathnameBase])),route:h}),c.pathnameBase!=="/"&&(i=Yi([i,c.pathnameBase]))}return s}function by(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=I8(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,h)=>{let{paramName:m,isOptional:w}=c;if(m==="*"){let x=a[h]||"";o=s.slice(0,s.length-x.length).replace(/(.)\/+$/,"$1")}const _=a[h];return w&&!_?u[m]=void 0:u[m]=C8(_||"",m),u},{}),pathname:s,pathnameBase:o,pattern:t}}function I8(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),u0(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function S8(t){try{return decodeURI(t)}catch(e){return u0(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function C8(t,e){try{return decodeURIComponent(t)}catch(n){return u0(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function wu(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function A8(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?ka(t):t;return{pathname:n?n.startsWith("/")?n:P8(n,e):e,search:k8(r),hash:N8(i)}}function P8(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function xm(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function c0(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function d0(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=ka(t):(i=vu({},t),He(!i.pathname||!i.pathname.includes("?"),xm("?","pathname","search",i)),He(!i.pathname||!i.pathname.includes("#"),xm("#","pathname","hash",i)),He(!i.search||!i.search.includes("#"),xm("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else if(r){let h=e[e.length-1].replace(/^\//,"").split("/");if(o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),h.pop();i.pathname=m.join("/")}a="/"+h.join("/")}else{let h=e.length-1;if(o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),h-=1;i.pathname=m.join("/")}a=h>=0?e[h]:"/"}let l=A8(i,a),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const Yi=t=>t.join("/").replace(/\/\/+/g,"/"),R8=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),k8=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,N8=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function D8(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const PP=["post","put","patch","delete"];new Set(PP);const O8=["get",...PP];new Set(O8);/**
 * React Router v6.20.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function xf(){return xf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xf.apply(this,arguments)}const qh=C.createContext(null),RP=C.createContext(null),uo=C.createContext(null),Wh=C.createContext(null),di=C.createContext({outlet:null,matches:[],isDataRoute:!1}),kP=C.createContext(null);function L8(t,e){let{relative:n}=e===void 0?{}:e;Na()||He(!1);let{basename:r,navigator:i}=C.useContext(uo),{hash:s,pathname:o,search:a}=Gh(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Yi([r,o])),i.createHref({pathname:l,search:a,hash:s})}function Na(){return C.useContext(Wh)!=null}function Da(){return Na()||He(!1),C.useContext(Wh).location}function NP(t){C.useContext(uo).static||C.useLayoutEffect(t)}function Kh(){let{isDataRoute:t}=C.useContext(di);return t?G8():j8()}function j8(){Na()||He(!1);let t=C.useContext(qh),{basename:e,navigator:n}=C.useContext(uo),{matches:r}=C.useContext(di),{pathname:i}=Da(),s=JSON.stringify(c0(r).map(l=>l.pathnameBase)),o=C.useRef(!1);return NP(()=>{o.current=!0}),C.useCallback(function(l,u){if(u===void 0&&(u={}),!o.current)return;if(typeof l=="number"){n.go(l);return}let c=d0(l,JSON.parse(s),i,u.relative==="path");t==null&&e!=="/"&&(c.pathname=c.pathname==="/"?e:Yi([e,c.pathname])),(u.replace?n.replace:n.push)(c,u.state,u)},[e,n,s,i,t])}function DP(){let{matches:t}=C.useContext(di),e=t[t.length-1];return e?e.params:{}}function Gh(t,e){let{relative:n}=e===void 0?{}:e,{matches:r}=C.useContext(di),{pathname:i}=Da(),s=JSON.stringify(c0(r).map(o=>o.pathnameBase));return C.useMemo(()=>d0(t,JSON.parse(s),i,n==="path"),[t,s,i,n])}function M8(t,e){return V8(t,e)}function V8(t,e,n){Na()||He(!1);let{navigator:r}=C.useContext(uo),{matches:i}=C.useContext(di),s=i[i.length-1],o=s?s.params:{};s&&s.pathname;let a=s?s.pathnameBase:"/";s&&s.route;let l=Da(),u;if(e){var c;let x=typeof e=="string"?ka(e):e;a==="/"||(c=x.pathname)!=null&&c.startsWith(a)||He(!1),u=x}else u=l;let h=u.pathname||"/",m=a==="/"?h:h.slice(a.length)||"/",w=p8(t,{pathname:m}),_=z8(w&&w.map(x=>Object.assign({},x,{params:Object.assign({},o,x.params),pathname:Yi([a,r.encodeLocation?r.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?a:Yi([a,r.encodeLocation?r.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),i,n);return e&&_?C.createElement(Wh.Provider,{value:{location:xf({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Oi.Pop}},_):_}function F8(){let t=K8(),e=D8(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},e),n?C.createElement("pre",{style:i},n):null,s)}const U8=C.createElement(F8,null);class $8 extends C.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?C.createElement(di.Provider,{value:this.props.routeContext},C.createElement(kP.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function B8(t){let{routeContext:e,match:n,children:r}=t,i=C.useContext(qh);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),C.createElement(di.Provider,{value:e},r)}function z8(t,e,n){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),t==null){var i;if((i=n)!=null&&i.errors)t=n.matches;else return null}let s=t,o=(r=n)==null?void 0:r.errors;if(o!=null){let a=s.findIndex(l=>l.route.id&&(o==null?void 0:o[l.route.id]));a>=0||He(!1),s=s.slice(0,Math.min(s.length,a+1))}return s.reduceRight((a,l,u)=>{let c=l.route.id?o==null?void 0:o[l.route.id]:null,h=null;n&&(h=l.route.errorElement||U8);let m=e.concat(s.slice(0,u+1)),w=()=>{let _;return c?_=h:l.route.Component?_=C.createElement(l.route.Component,null):l.route.element?_=l.route.element:_=a,C.createElement(B8,{match:l,routeContext:{outlet:a,matches:m,isDataRoute:n!=null},children:_})};return n&&(l.route.ErrorBoundary||l.route.errorElement||u===0)?C.createElement($8,{location:n.location,revalidation:n.revalidation,component:h,error:c,children:w(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):w()},null)}var OP=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(OP||{}),Tf=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Tf||{});function H8(t){let e=C.useContext(qh);return e||He(!1),e}function q8(t){let e=C.useContext(RP);return e||He(!1),e}function W8(t){let e=C.useContext(di);return e||He(!1),e}function LP(t){let e=W8(),n=e.matches[e.matches.length-1];return n.route.id||He(!1),n.route.id}function K8(){var t;let e=C.useContext(kP),n=q8(Tf.UseRouteError),r=LP(Tf.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function G8(){let{router:t}=H8(OP.UseNavigateStable),e=LP(Tf.UseNavigateStable),n=C.useRef(!1);return NP(()=>{n.current=!0}),C.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,xf({fromRouteId:e},s)))},[t,e])}function f0(t){let{to:e,replace:n,state:r,relative:i}=t;Na()||He(!1);let{matches:s}=C.useContext(di),{pathname:o}=Da(),a=Kh(),l=d0(e,c0(s).map(c=>c.pathnameBase),o,i==="path"),u=JSON.stringify(l);return C.useEffect(()=>a(JSON.parse(u),{replace:n,state:r,relative:i}),[a,u,i,n,r]),null}function ct(t){He(!1)}function Q8(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Oi.Pop,navigator:s,static:o=!1}=t;Na()&&He(!1);let a=e.replace(/^\/*/,"/"),l=C.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof r=="string"&&(r=ka(r));let{pathname:u="/",search:c="",hash:h="",state:m=null,key:w="default"}=r,_=C.useMemo(()=>{let x=wu(u,a);return x==null?null:{location:{pathname:x,search:c,hash:h,state:m,key:w},navigationType:i}},[a,u,c,h,m,w,i]);return _==null?null:C.createElement(uo.Provider,{value:l},C.createElement(Wh.Provider,{children:n,value:_}))}function Qh(t){let{children:e,location:n}=t;return M8(Iy(e),n)}new Promise(()=>{});function Iy(t,e){e===void 0&&(e=[]);let n=[];return C.Children.forEach(t,(r,i)=>{if(!C.isValidElement(r))return;let s=[...e,i];if(r.type===C.Fragment){n.push.apply(n,Iy(r.props.children,s));return}r.type!==ct&&He(!1),!r.props.index||!r.props.children||He(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Iy(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.20.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function bf(){return bf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bf.apply(this,arguments)}function jP(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Y8(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function X8(t,e){return t.button===0&&(!e||e==="_self")&&!Y8(t)}const J8=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],Z8=["aria-current","caseSensitive","className","end","style","to","unstable_viewTransition","children"],ez=C.createContext({isTransitioning:!1}),tz="startTransition",Qx=Nl[tz];function nz(t){let{basename:e,children:n,future:r,window:i}=t,s=C.useRef();s.current==null&&(s.current=d8({window:i,v5Compat:!0}));let o=s.current,[a,l]=C.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},c=C.useCallback(h=>{u&&Qx?Qx(()=>l(h)):l(h)},[l,u]);return C.useLayoutEffect(()=>o.listen(c),[o,c]),C.createElement(Q8,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o})}const rz=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",iz=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ln=C.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:c,unstable_viewTransition:h}=e,m=jP(e,J8),{basename:w}=C.useContext(uo),_,x=!1;if(typeof u=="string"&&iz.test(u)&&(_=u,rz))try{let T=new URL(window.location.href),S=u.startsWith("//")?new URL(T.protocol+u):new URL(u),P=wu(S.pathname,w);S.origin===T.origin&&P!=null?u=P+S.search+S.hash:x=!0}catch{}let b=L8(u,{relative:i}),E=oz(u,{replace:o,state:a,target:l,preventScrollReset:c,relative:i,unstable_viewTransition:h});function v(T){r&&r(T),T.defaultPrevented||E(T)}return C.createElement("a",bf({},m,{href:_||b,onClick:x||s?r:v,ref:n,target:l}))}),Li=C.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:o=!1,style:a,to:l,unstable_viewTransition:u,children:c}=e,h=jP(e,Z8),m=Gh(l,{relative:h.relative}),w=Da(),_=C.useContext(RP),{navigator:x}=C.useContext(uo),b=_!=null&&az(m)&&u===!0,E=x.encodeLocation?x.encodeLocation(m).pathname:m.pathname,v=w.pathname,T=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;i||(v=v.toLowerCase(),T=T?T.toLowerCase():null,E=E.toLowerCase());const S=E!=="/"&&E.endsWith("/")?E.length-1:E.length;let P=v===E||!o&&v.startsWith(E)&&v.charAt(S)==="/",L=T!=null&&(T===E||!o&&T.startsWith(E)&&T.charAt(E.length)==="/"),M={isActive:P,isPending:L,isTransitioning:b},U=P?r:void 0,Z;typeof s=="function"?Z=s(M):Z=[s,P?"active":null,L?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let G=typeof a=="function"?a(M):a;return C.createElement(Ln,bf({},h,{"aria-current":U,className:Z,ref:n,style:G,to:l,unstable_viewTransition:u}),typeof c=="function"?c(M):c)});var Sy;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Sy||(Sy={}));var Yx;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Yx||(Yx={}));function sz(t){let e=C.useContext(qh);return e||He(!1),e}function oz(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a}=e===void 0?{}:e,l=Kh(),u=Da(),c=Gh(t,{relative:o});return C.useCallback(h=>{if(X8(h,n)){h.preventDefault();let m=r!==void 0?r:Ef(u)===Ef(c);l(t,{replace:m,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a})}},[u,l,c,r,i,n,t,s,o,a])}function az(t,e){e===void 0&&(e={});let n=C.useContext(ez);n==null&&He(!1);let{basename:r}=sz(Sy.useViewTransitionState),i=Gh(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=wu(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=wu(n.nextLocation.pathname,r)||n.nextLocation.pathname;return by(i.pathname,o)!=null||by(i.pathname,s)!=null}const lz=({className:t})=>f.jsxs("svg",{className:t,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[f.jsx("path",{d:"M14.5 9.50002L9.5 14.5M9.49998 9.5L14.5 14.5",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),f.jsx("path",{d:"M7 3.33782C8.47087 2.48697 10.1786 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12C2 10.1786 2.48697 8.47087 3.33782 7",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"})]}),uz=({className:t})=>f.jsx("svg",{className:t,viewBox:"0 0 42 43",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("path",{d:"M34.0621 12.3337C33.2573 11.1611 32.1802 10.2047 30.9247 9.54796C29.6692 8.89118 28.2735 8.5539 26.8591 8.56553C25.7613 8.54431 24.6716 8.75785 23.6617 9.19206C22.6518 9.62628 21.7447 10.2713 21.0001 11.0847C20.2546 10.2724 19.3473 9.62807 18.3376 9.19393C17.3279 8.7598 16.2386 8.54565 15.1411 8.56553C13.7266 8.5539 12.3309 8.89118 11.0754 9.54796C9.81992 10.2047 8.74284 11.1611 7.93805 12.3337C7.1174 13.6482 6.65091 15.1558 6.58462 16.7075C6.51833 18.2593 6.85453 19.8017 7.56005 21.1825C8.63065 23.6058 10.1164 25.8201 11.9491 27.7238C14.0244 29.9184 16.2949 31.9167 18.7321 33.6936C19.3916 34.1756 20.1854 34.4351 21.0001 34.4351C21.8147 34.4351 22.6085 34.1756 23.2681 33.6936C25.7058 31.9175 27.9764 29.9191 30.0511 27.7238C31.8838 25.8201 33.3694 23.6058 34.4401 21.1825C35.1456 19.8017 35.4818 18.2593 35.4155 16.7075C35.3492 15.1558 34.8827 13.6482 34.0621 12.3337ZM32.6761 20.4415C31.6812 22.6496 30.3173 24.6689 28.6441 26.4113C26.6499 28.5109 24.4709 30.424 22.1341 32.127C21.8069 32.3744 21.409 32.5081 21.0001 32.5081C20.5911 32.5081 20.1932 32.3744 19.8661 32.127C17.5297 30.4233 15.3509 28.5103 13.3561 26.4113C11.6745 24.6757 10.3096 22.6549 9.32405 20.4415C8.75211 19.3483 8.47083 18.1243 8.50764 16.8889C8.54444 15.6535 8.89806 14.4488 9.53405 13.3921C10.1659 12.4887 11.0068 11.7543 11.9839 11.2526C12.9609 10.751 14.0447 10.4971 15.1411 10.5131C16.0331 10.4829 16.9202 10.6579 17.7353 11.0246C18.5503 11.3914 19.2718 11.9404 19.8451 12.63C20.1616 12.9354 20.5829 13.1059 21.0211 13.1059C21.4592 13.1059 21.8805 12.9354 22.1971 12.63C22.7659 11.9461 23.4806 11.4006 24.2878 11.034C25.0951 10.6674 25.974 10.4894 26.8591 10.5131C27.9555 10.4971 29.0392 10.751 30.0162 11.2526C30.9933 11.7543 31.8342 12.4887 32.4661 13.3921C33.102 14.4488 33.4557 15.6535 33.4925 16.8889C33.5293 18.1243 33.248 19.3483 32.6761 20.4415Z",fill:"current"})}),Qu=({className:t})=>f.jsx(Li,{to:"/home",children:f.jsxs("svg",{className:t,viewBox:"0 0 290 578",xmlns:"http://www.w3.org/2000/svg",children:[f.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M116.763 22.5315C76.1601 29.4039 42.3028 53.1207 23.763 72.8144L9 58.6371C29.8444 36.4954 67.4896 10.0098 113.396 2.23973C159.964 -5.64222 214.014 5.94546 266 58.4514L251.595 73C204.171 25.1011 156.705 15.7711 116.763 22.5315Z",fill:"#D74545"}),f.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M158.237 556.086C198.84 549.402 232.697 526.335 251.237 507.181L266 520.969C245.156 542.505 207.51 568.264 161.604 575.822C115.036 583.488 60.9863 572.217 9 521.15L23.4046 507C70.8293 553.587 118.295 562.661 158.237 556.086Z",fill:"#D74545"}),f.jsx("path",{d:"M236.073 95.1334H255.702V202.2H288V220.045H236.073V95.1334Z",fill:"#D74545"}),f.jsx("path",{d:"M179.618 95.1334H206.207L226.549 220.045H206.921L203.352 195.241V195.598H181.046L177.477 220.045H159.276L179.618 95.1334ZM201.032 178.645L192.288 116.904H191.931L183.366 178.645H201.032Z",fill:"#D74545"}),f.jsx("path",{d:"M122.987 112.978H102.466V95.1334H163.137V112.978H142.616V220.045H122.987V112.978Z",fill:"#D74545"}),f.jsx("path",{d:"M73.3116 95.1334H92.9405V220.045H73.3116V95.1334Z",fill:"#D74545"}),f.jsx("path",{d:"M0 95.1334H19.8074L32.6554 192.029H33.0123L45.8603 95.1334H63.8832L44.968 220.045H18.9151L0 95.1334Z",fill:"#D74545"}),f.jsx("path",{d:"M211.507 267.706H172.41V233.709H288V267.706H248.903V471.688H211.507V267.706Z",fill:"#475157"}),f.jsx("path",{d:"M116.865 233.709H154.261V471.688H116.865V233.709Z",fill:"#475157"}),f.jsx("path",{d:"M0 233.709H98.9313V267.706H37.3967V334H85.6725V367.997H37.3967V471.688H0V233.709Z",fill:"#475157"})]})}),cz=({className:t})=>f.jsxs("svg",{className:t,viewBox:"0 0 76 151",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[f.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M30.886 5.88627C20.3124 7.68164 11.4953 13.8776 6.66729 19.0224L2.82275 15.3187C8.25098 9.53425 18.0544 2.61501 30.0092 0.58512C42.1362 -1.474 56.2118 1.55323 69.7498 15.2702L65.9987 19.0709C53.6485 6.55756 41.2875 4.12013 30.886 5.88627Z",fill:"white"}),f.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M41.6867 145.275C52.2604 143.529 61.0774 137.503 65.9055 132.499L69.75 136.101C64.3218 141.727 54.5183 148.457 42.5635 150.431C30.4365 152.434 16.361 149.489 2.82291 136.148L6.5741 132.452C18.9243 144.622 31.2853 146.993 41.6867 145.275Z",fill:"white"}),f.jsx("path",{d:"M61.9561 24.8533H67.0677V52.824H75.4788V57.4858H61.9561V24.8533Z",fill:"white"}),f.jsx("path",{d:"M47.2546 24.8533H54.1786L59.4762 57.4858H54.3645L53.4351 51.0059V51.0991H47.6264L46.697 57.4858H41.957L47.2546 24.8533ZM52.831 46.6704L50.554 30.5407H50.461L48.2305 46.6704H52.831Z",fill:"white"}),f.jsx("path",{d:"M32.5071 29.5151H27.1631V24.8533H42.9629V29.5151H37.6188V57.4858H32.5071V29.5151Z",fill:"white"}),f.jsx("path",{d:"M19.5708 24.8533H24.6825V57.4858H19.5708V24.8533Z",fill:"white"}),f.jsx("path",{d:"M0.479004 24.8533H5.63717L8.98301 50.1668H9.07595L12.4218 24.8533H17.1152L12.1894 57.4858H5.40482L0.479004 24.8533Z",fill:"white"}),f.jsx("path",{d:"M55.5588 69.9372H45.3774V61.0557H75.479V69.9372H65.2976V123.227H55.5588V69.9372Z",fill:"#D9D9D9"}),f.jsx("path",{d:"M30.9126 61.0557H40.6513V123.227H30.9126V61.0557Z",fill:"#D9D9D9"}),f.jsx("path",{d:"M0.479004 61.0557H26.2424V69.9372H10.2177V87.2563H22.7895V96.1379H10.2177V123.227H0.479004V61.0557Z",fill:"#D9D9D9"})]}),dz=({className:t})=>f.jsxs("svg",{className:t,viewBox:"0 0 42 43",xmlns:"http://www.w3.org/2000/svg",children:[f.jsx("path",{d:"M17.5 39C19.433 39 21 37.433 21 35.5C21 33.567 19.433 32 17.5 32C15.567 32 14 33.567 14 35.5C14 37.433 15.567 39 17.5 39Z",fill:"current"}),f.jsx("path",{d:"M28 39C29.933 39 31.5 37.433 31.5 35.5C31.5 33.567 29.933 32 28 32C26.067 32 24.5 33.567 24.5 35.5C24.5 37.433 26.067 39 28 39Z",fill:"current"}),f.jsx("path",{d:"M37.8 14.15C37.1 13.275 36.05 12.75 35 12.75H15.05L14 6.8C13.65 5.225 12.25 4 10.5 4H7C5.075 4 3.5 5.575 3.5 7.5C3.5 9.425 5.075 11 7 11H7.525L10.5 25.7C10.85 27.45 12.25 28.5 14 28.5H31.5C33.075 28.5 34.3 27.45 34.825 26.05L38.325 17.3C38.675 16.25 38.5 15.2 37.8 14.15Z",fill:"current"})]}),fz=({className:t})=>f.jsxs("svg",{className:t,viewBox:"0 0 42 43",xmlns:"http://www.w3.org/2000/svg",children:[f.jsx("path",{d:"M29.75 16.25C29.75 13.8333 28.77 11.6458 27.188 10.0638C25.6043 8.48 23.4167 7.5 21 7.5C18.5833 7.5 16.3957 8.48 14.812 10.0638C13.23 11.6458 12.25 13.8333 12.25 16.25C12.25 18.6667 13.23 20.8542 14.812 22.4362C16.3957 24.02 18.5833 25 21 25C23.4167 25 25.6043 24.02 27.188 22.4362C28.77 20.8542 29.75 18.6667 29.75 16.25Z",fill:"current"}),f.jsx("path",{d:"M10.5 33.75C10.5 35.5 14.4375 37.25 21 37.25C27.1565 37.25 31.5 35.5 31.5 33.75C31.5 30.25 27.3805 26.75 21 26.75C14.4375 26.75 10.5 30.25 10.5 33.75Z",fill:"current"})]});var hz=Object.defineProperty,pz=(t,e,n)=>e in t?hz(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Tm=(t,e,n)=>(pz(t,typeof e!="symbol"?e+"":e,n),n);let mz=class{constructor(){Tm(this,"current",this.detect()),Tm(this,"handoffState","pending"),Tm(this,"currentId",0)}set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},Vs=new mz,Hn=(t,e)=>{Vs.isServer?C.useEffect(t,e):C.useLayoutEffect(t,e)};function Xi(t){let e=C.useRef(t);return Hn(()=>{e.current=t},[t]),e}let Qe=function(t){let e=Xi(t);return he.useCallback((...n)=>e.current(...n),[e])};function gz(t){typeof queueMicrotask=="function"?queueMicrotask(t):Promise.resolve().then(t).catch(e=>setTimeout(()=>{throw e}))}function oi(){let t=[],e={addEventListener(n,r,i,s){return n.addEventListener(r,i,s),e.add(()=>n.removeEventListener(r,i,s))},requestAnimationFrame(...n){let r=requestAnimationFrame(...n);return e.add(()=>cancelAnimationFrame(r))},nextFrame(...n){return e.requestAnimationFrame(()=>e.requestAnimationFrame(...n))},setTimeout(...n){let r=setTimeout(...n);return e.add(()=>clearTimeout(r))},microTask(...n){let r={current:!0};return gz(()=>{r.current&&n[0]()}),e.add(()=>{r.current=!1})},style(n,r,i){let s=n.style.getPropertyValue(r);return Object.assign(n.style,{[r]:i}),this.add(()=>{Object.assign(n.style,{[r]:s})})},group(n){let r=oi();return n(r),this.add(()=>r.dispose())},add(n){return t.push(n),()=>{let r=t.indexOf(n);if(r>=0)for(let i of t.splice(r,1))i()}},dispose(){for(let n of t.splice(0))n()}};return e}function Yh(){let[t]=C.useState(oi);return C.useEffect(()=>()=>t.dispose(),[t]),t}function yz(){let t=typeof document>"u";return"useSyncExternalStore"in Nl?(e=>e.useSyncExternalStore)(Nl)(()=>()=>{},()=>!1,()=>!t):!1}function h0(){let t=yz(),[e,n]=C.useState(Vs.isHandoffComplete);return e&&Vs.isHandoffComplete===!1&&n(!1),C.useEffect(()=>{e!==!0&&n(!0)},[e]),C.useEffect(()=>Vs.handoff(),[]),t?!1:e}var Xx;let p0=(Xx=he.useId)!=null?Xx:function(){let t=h0(),[e,n]=he.useState(t?()=>Vs.nextId():null);return Hn(()=>{e===null&&n(Vs.nextId())},[e]),e!=null?""+e:void 0};function xn(t,e,...n){if(t in e){let i=e[t];return typeof i=="function"?i(...n):i}let r=new Error(`Tried to handle "${t}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(i=>`"${i}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,xn),r}function Xh(t){return Vs.isServer?null:t instanceof Node?t.ownerDocument:t!=null&&t.hasOwnProperty("current")&&t.current instanceof Node?t.current.ownerDocument:document}let Cy=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(t=>`${t}:not([tabindex='-1'])`).join(",");var Ay=(t=>(t[t.First=1]="First",t[t.Previous=2]="Previous",t[t.Next=4]="Next",t[t.Last=8]="Last",t[t.WrapAround=16]="WrapAround",t[t.NoScroll=32]="NoScroll",t))(Ay||{}),vz=(t=>(t[t.Error=0]="Error",t[t.Overflow=1]="Overflow",t[t.Success=2]="Success",t[t.Underflow=3]="Underflow",t))(vz||{}),wz=(t=>(t[t.Previous=-1]="Previous",t[t.Next=1]="Next",t))(wz||{});function MP(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(Cy)).sort((e,n)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var m0=(t=>(t[t.Strict=0]="Strict",t[t.Loose=1]="Loose",t))(m0||{});function g0(t,e=0){var n;return t===((n=Xh(t))==null?void 0:n.body)?!1:xn(e,{0(){return t.matches(Cy)},1(){let r=t;for(;r!==null;){if(r.matches(Cy))return!0;r=r.parentElement}return!1}})}function VP(t){let e=Xh(t);oi().nextFrame(()=>{e&&!g0(e.activeElement,0)&&Ez(t)})}var _z=(t=>(t[t.Keyboard=0]="Keyboard",t[t.Mouse=1]="Mouse",t))(_z||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",t=>{t.metaKey||t.altKey||t.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",t=>{t.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:t.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function Ez(t){t==null||t.focus({preventScroll:!0})}let xz=["textarea","input"].join(",");function Tz(t){var e,n;return(n=(e=t==null?void 0:t.matches)==null?void 0:e.call(t,xz))!=null?n:!1}function FP(t,e=n=>n){return t.slice().sort((n,r)=>{let i=e(n),s=e(r);if(i===null||s===null)return 0;let o=i.compareDocumentPosition(s);return o&Node.DOCUMENT_POSITION_FOLLOWING?-1:o&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function bz(t,e){return Iz(MP(),e,{relativeTo:t})}function Iz(t,e,{sorted:n=!0,relativeTo:r=null,skipElements:i=[]}={}){let s=Array.isArray(t)?t.length>0?t[0].ownerDocument:document:t.ownerDocument,o=Array.isArray(t)?n?FP(t):t:MP(t);i.length>0&&o.length>1&&(o=o.filter(w=>!i.includes(w))),r=r??s.activeElement;let a=(()=>{if(e&5)return 1;if(e&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),l=(()=>{if(e&1)return 0;if(e&2)return Math.max(0,o.indexOf(r))-1;if(e&4)return Math.max(0,o.indexOf(r))+1;if(e&8)return o.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),u=e&32?{preventScroll:!0}:{},c=0,h=o.length,m;do{if(c>=h||c+h<=0)return 0;let w=l+c;if(e&16)w=(w+h)%h;else{if(w<0)return 3;if(w>=h)return 1}m=o[w],m==null||m.focus(u),c+=a}while(m!==s.activeElement);return e&6&&Tz(m)&&m.select(),2}function Sz(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function Cz(){return/Android/gi.test(window.navigator.userAgent)}function Az(){return Sz()||Cz()}function $c(t,e,n){let r=Xi(e);C.useEffect(()=>{function i(s){r.current(s)}return document.addEventListener(t,i,n),()=>document.removeEventListener(t,i,n)},[t,n])}function Pz(t,e,n){let r=Xi(e);C.useEffect(()=>{function i(s){r.current(s)}return window.addEventListener(t,i,n),()=>window.removeEventListener(t,i,n)},[t,n])}function Rz(t,e,n=!0){let r=C.useRef(!1);C.useEffect(()=>{requestAnimationFrame(()=>{r.current=n})},[n]);function i(o,a){if(!r.current||o.defaultPrevented)return;let l=a(o);if(l===null||!l.getRootNode().contains(l)||!l.isConnected)return;let u=function c(h){return typeof h=="function"?c(h()):Array.isArray(h)||h instanceof Set?h:[h]}(t);for(let c of u){if(c===null)continue;let h=c instanceof HTMLElement?c:c.current;if(h!=null&&h.contains(l)||o.composed&&o.composedPath().includes(h))return}return!g0(l,m0.Loose)&&l.tabIndex!==-1&&o.preventDefault(),e(o,l)}let s=C.useRef(null);$c("pointerdown",o=>{var a,l;r.current&&(s.current=((l=(a=o.composedPath)==null?void 0:a.call(o))==null?void 0:l[0])||o.target)},!0),$c("mousedown",o=>{var a,l;r.current&&(s.current=((l=(a=o.composedPath)==null?void 0:a.call(o))==null?void 0:l[0])||o.target)},!0),$c("click",o=>{Az()||s.current&&(i(o,()=>s.current),s.current=null)},!0),$c("touchend",o=>i(o,()=>o.target instanceof HTMLElement?o.target:null),!0),Pz("blur",o=>i(o,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function kz(...t){return C.useMemo(()=>Xh(...t),[...t])}function Jx(t){var e;if(t.type)return t.type;let n=(e=t.as)!=null?e:"button";if(typeof n=="string"&&n.toLowerCase()==="button")return"button"}function Nz(t,e){let[n,r]=C.useState(()=>Jx(t));return Hn(()=>{r(Jx(t))},[t.type,t.as]),Hn(()=>{n||e.current&&e.current instanceof HTMLButtonElement&&!e.current.hasAttribute("type")&&r("button")},[n,e]),n}let Dz=Symbol();function Oa(...t){let e=C.useRef(t);C.useEffect(()=>{e.current=t},[t]);let n=Qe(r=>{for(let i of e.current)i!=null&&(typeof i=="function"?i(r):i.current=r)});return t.every(r=>r==null||(r==null?void 0:r[Dz]))?void 0:n}function Zx(t){return[t.screenX,t.screenY]}function Oz(){let t=C.useRef([-1,-1]);return{wasMoved(e){let n=Zx(e);return t.current[0]===n[0]&&t.current[1]===n[1]?!1:(t.current=n,!0)},update(e){t.current=Zx(e)}}}function Lz({container:t,accept:e,walk:n,enabled:r=!0}){let i=C.useRef(e),s=C.useRef(n);C.useEffect(()=>{i.current=e,s.current=n},[e,n]),Hn(()=>{if(!t||!r)return;let o=Xh(t);if(!o)return;let a=i.current,l=s.current,u=Object.assign(h=>a(h),{acceptNode:a}),c=o.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,u,!1);for(;c.nextNode();)l(c.currentNode)},[t,r,i,s])}function If(...t){return Array.from(new Set(t.flatMap(e=>typeof e=="string"?e.split(" "):[]))).filter(Boolean).join(" ")}var Sf=(t=>(t[t.None=0]="None",t[t.RenderStrategy=1]="RenderStrategy",t[t.Static=2]="Static",t))(Sf||{}),ji=(t=>(t[t.Unmount=0]="Unmount",t[t.Hidden=1]="Hidden",t))(ji||{});function La({ourProps:t,theirProps:e,slot:n,defaultTag:r,features:i,visible:s=!0,name:o,mergeRefs:a}){a=a??jz;let l=UP(e,t);if(s)return Bc(l,n,r,o,a);let u=i??0;if(u&2){let{static:c=!1,...h}=l;if(c)return Bc(h,n,r,o,a)}if(u&1){let{unmount:c=!0,...h}=l;return xn(c?0:1,{0(){return null},1(){return Bc({...h,hidden:!0,style:{display:"none"}},n,r,o,a)}})}return Bc(l,n,r,o,a)}function Bc(t,e={},n,r,i){let{as:s=n,children:o,refName:a="ref",...l}=bm(t,["unmount","static"]),u=t.ref!==void 0?{[a]:t.ref}:{},c=typeof o=="function"?o(e):o;"className"in l&&l.className&&typeof l.className=="function"&&(l.className=l.className(e));let h={};if(e){let m=!1,w=[];for(let[_,x]of Object.entries(e))typeof x=="boolean"&&(m=!0),x===!0&&w.push(_);m&&(h["data-headlessui-state"]=w.join(" "))}if(s===C.Fragment&&Object.keys(eT(l)).length>0){if(!C.isValidElement(c)||Array.isArray(c)&&c.length>1)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(l).map(x=>`  - ${x}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(x=>`  - ${x}`).join(`
`)].join(`
`));let m=c.props,w=typeof(m==null?void 0:m.className)=="function"?(...x)=>If(m==null?void 0:m.className(...x),l.className):If(m==null?void 0:m.className,l.className),_=w?{className:w}:{};return C.cloneElement(c,Object.assign({},UP(c.props,eT(bm(l,["ref"]))),h,u,{ref:i(c.ref,u.ref)},_))}return C.createElement(s,Object.assign({},bm(l,["ref"]),s!==C.Fragment&&u,s!==C.Fragment&&h),c)}function jz(...t){return t.every(e=>e==null)?void 0:e=>{for(let n of t)n!=null&&(typeof n=="function"?n(e):n.current=e)}}function UP(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},n={};for(let r of t)for(let i in r)i.startsWith("on")&&typeof r[i]=="function"?(n[i]!=null||(n[i]=[]),n[i].push(r[i])):e[i]=r[i];if(e.disabled||e["aria-disabled"])return Object.assign(e,Object.fromEntries(Object.keys(n).map(r=>[r,void 0])));for(let r in n)Object.assign(e,{[r](i,...s){let o=n[r];for(let a of o){if((i instanceof Event||(i==null?void 0:i.nativeEvent)instanceof Event)&&i.defaultPrevented)return;a(i,...s)}}});return e}function co(t){var e;return Object.assign(C.forwardRef(t),{displayName:(e=t.displayName)!=null?e:t.name})}function eT(t){let e=Object.assign({},t);for(let n in e)e[n]===void 0&&delete e[n];return e}function bm(t,e=[]){let n=Object.assign({},t);for(let r of e)r in n&&delete n[r];return n}let y0=C.createContext(null);y0.displayName="OpenClosedContext";var yn=(t=>(t[t.Open=1]="Open",t[t.Closed=2]="Closed",t[t.Closing=4]="Closing",t[t.Opening=8]="Opening",t))(yn||{});function v0(){return C.useContext(y0)}function $P({value:t,children:e}){return he.createElement(y0.Provider,{value:t},e)}function Mz(t){let e=t.parentElement,n=null;for(;e&&!(e instanceof HTMLFieldSetElement);)e instanceof HTMLLegendElement&&(n=e),e=e.parentElement;let r=(e==null?void 0:e.getAttribute("disabled"))==="";return r&&Vz(n)?!1:r}function Vz(t){if(!t)return!1;let e=t.previousElementSibling;for(;e!==null;){if(e instanceof HTMLLegendElement)return!1;e=e.previousElementSibling}return!0}function Fz(t){throw new Error("Unexpected object: "+t)}var ir=(t=>(t[t.First=0]="First",t[t.Previous=1]="Previous",t[t.Next=2]="Next",t[t.Last=3]="Last",t[t.Specific=4]="Specific",t[t.Nothing=5]="Nothing",t))(ir||{});function Uz(t,e){let n=e.resolveItems();if(n.length<=0)return null;let r=e.resolveActiveIndex(),i=r??-1;switch(t.focus){case 0:{for(let s=0;s<n.length;++s)if(!e.resolveDisabled(n[s],s,n))return s;return r}case 1:{for(let s=i-1;s>=0;--s)if(!e.resolveDisabled(n[s],s,n))return s;return r}case 2:{for(let s=i+1;s<n.length;++s)if(!e.resolveDisabled(n[s],s,n))return s;return r}case 3:{for(let s=n.length-1;s>=0;--s)if(!e.resolveDisabled(n[s],s,n))return s;return r}case 4:{for(let s=0;s<n.length;++s)if(e.resolveId(n[s],s,n)===t.id)return s;return r}case 5:return null;default:Fz(t)}}var Ct=(t=>(t.Space=" ",t.Enter="Enter",t.Escape="Escape",t.Backspace="Backspace",t.Delete="Delete",t.ArrowLeft="ArrowLeft",t.ArrowUp="ArrowUp",t.ArrowRight="ArrowRight",t.ArrowDown="ArrowDown",t.Home="Home",t.End="End",t.PageUp="PageUp",t.PageDown="PageDown",t.Tab="Tab",t))(Ct||{});function w0(){let t=C.useRef(!1);return Hn(()=>(t.current=!0,()=>{t.current=!1}),[]),t}let tT=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function nT(t){var e,n;let r=(e=t.innerText)!=null?e:"",i=t.cloneNode(!0);if(!(i instanceof HTMLElement))return r;let s=!1;for(let a of i.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))a.remove(),s=!0;let o=s?(n=i.innerText)!=null?n:"":r;return tT.test(o)&&(o=o.replace(tT,"")),o}function $z(t){let e=t.getAttribute("aria-label");if(typeof e=="string")return e.trim();let n=t.getAttribute("aria-labelledby");if(n){let r=n.split(" ").map(i=>{let s=document.getElementById(i);if(s){let o=s.getAttribute("aria-label");return typeof o=="string"?o.trim():nT(s).trim()}return null}).filter(Boolean);if(r.length>0)return r.join(", ")}return nT(t).trim()}function Bz(t){let e=C.useRef(""),n=C.useRef("");return Qe(()=>{let r=t.current;if(!r)return"";let i=r.innerText;if(e.current===i)return n.current;let s=$z(r).trim().toLowerCase();return e.current=i,n.current=s,s})}var zz=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(zz||{}),Hz=(t=>(t[t.Pointer=0]="Pointer",t[t.Other=1]="Other",t))(Hz||{}),qz=(t=>(t[t.OpenMenu=0]="OpenMenu",t[t.CloseMenu=1]="CloseMenu",t[t.GoToItem=2]="GoToItem",t[t.Search=3]="Search",t[t.ClearSearch=4]="ClearSearch",t[t.RegisterItem=5]="RegisterItem",t[t.UnregisterItem=6]="UnregisterItem",t))(qz||{});function Im(t,e=n=>n){let n=t.activeItemIndex!==null?t.items[t.activeItemIndex]:null,r=FP(e(t.items.slice()),s=>s.dataRef.current.domRef.current),i=n?r.indexOf(n):null;return i===-1&&(i=null),{items:r,activeItemIndex:i}}let Wz={1(t){return t.menuState===1?t:{...t,activeItemIndex:null,menuState:1}},0(t){return t.menuState===0?t:{...t,__demoMode:!1,menuState:0}},2:(t,e)=>{var n;let r=Im(t),i=Uz(e,{resolveItems:()=>r.items,resolveActiveIndex:()=>r.activeItemIndex,resolveId:s=>s.id,resolveDisabled:s=>s.dataRef.current.disabled});return{...t,...r,searchQuery:"",activeItemIndex:i,activationTrigger:(n=e.trigger)!=null?n:1}},3:(t,e)=>{let n=t.searchQuery!==""?0:1,r=t.searchQuery+e.value.toLowerCase(),i=(t.activeItemIndex!==null?t.items.slice(t.activeItemIndex+n).concat(t.items.slice(0,t.activeItemIndex+n)):t.items).find(o=>{var a;return((a=o.dataRef.current.textValue)==null?void 0:a.startsWith(r))&&!o.dataRef.current.disabled}),s=i?t.items.indexOf(i):-1;return s===-1||s===t.activeItemIndex?{...t,searchQuery:r}:{...t,searchQuery:r,activeItemIndex:s,activationTrigger:1}},4(t){return t.searchQuery===""?t:{...t,searchQuery:"",searchActiveItemIndex:null}},5:(t,e)=>{let n=Im(t,r=>[...r,{id:e.id,dataRef:e.dataRef}]);return{...t,...n}},6:(t,e)=>{let n=Im(t,r=>{let i=r.findIndex(s=>s.id===e.id);return i!==-1&&r.splice(i,1),r});return{...t,...n,activationTrigger:1}}},_0=C.createContext(null);_0.displayName="MenuContext";function Jh(t){let e=C.useContext(_0);if(e===null){let n=new Error(`<${t} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Jh),n}return e}function Kz(t,e){return xn(e.type,Wz,t,e)}let Gz=C.Fragment;function Qz(t,e){let{__demoMode:n=!1,...r}=t,i=C.useReducer(Kz,{__demoMode:n,menuState:n?0:1,buttonRef:C.createRef(),itemsRef:C.createRef(),items:[],searchQuery:"",activeItemIndex:null,activationTrigger:1}),[{menuState:s,itemsRef:o,buttonRef:a},l]=i,u=Oa(e);Rz([a,o],(w,_)=>{var x;l({type:1}),g0(_,m0.Loose)||(w.preventDefault(),(x=a.current)==null||x.focus())},s===0);let c=Qe(()=>{l({type:1})}),h=C.useMemo(()=>({open:s===0,close:c}),[s,c]),m={ref:u};return he.createElement(_0.Provider,{value:i},he.createElement($P,{value:xn(s,{0:yn.Open,1:yn.Closed})},La({ourProps:m,theirProps:r,slot:h,defaultTag:Gz,name:"Menu"})))}let Yz="button";function Xz(t,e){var n;let r=p0(),{id:i=`headlessui-menu-button-${r}`,...s}=t,[o,a]=Jh("Menu.Button"),l=Oa(o.buttonRef,e),u=Yh(),c=Qe(x=>{switch(x.key){case Ct.Space:case Ct.Enter:case Ct.ArrowDown:x.preventDefault(),x.stopPropagation(),a({type:0}),u.nextFrame(()=>a({type:2,focus:ir.First}));break;case Ct.ArrowUp:x.preventDefault(),x.stopPropagation(),a({type:0}),u.nextFrame(()=>a({type:2,focus:ir.Last}));break}}),h=Qe(x=>{switch(x.key){case Ct.Space:x.preventDefault();break}}),m=Qe(x=>{if(Mz(x.currentTarget))return x.preventDefault();t.disabled||(o.menuState===0?(a({type:1}),u.nextFrame(()=>{var b;return(b=o.buttonRef.current)==null?void 0:b.focus({preventScroll:!0})})):(x.preventDefault(),a({type:0})))}),w=C.useMemo(()=>({open:o.menuState===0}),[o]),_={ref:l,id:i,type:Nz(t,o.buttonRef),"aria-haspopup":"menu","aria-controls":(n=o.itemsRef.current)==null?void 0:n.id,"aria-expanded":o.menuState===0,onKeyDown:c,onKeyUp:h,onClick:m};return La({ourProps:_,theirProps:s,slot:w,defaultTag:Yz,name:"Menu.Button"})}let Jz="div",Zz=Sf.RenderStrategy|Sf.Static;function eH(t,e){var n,r;let i=p0(),{id:s=`headlessui-menu-items-${i}`,...o}=t,[a,l]=Jh("Menu.Items"),u=Oa(a.itemsRef,e),c=kz(a.itemsRef),h=Yh(),m=v0(),w=(()=>m!==null?(m&yn.Open)===yn.Open:a.menuState===0)();C.useEffect(()=>{let v=a.itemsRef.current;v&&a.menuState===0&&v!==(c==null?void 0:c.activeElement)&&v.focus({preventScroll:!0})},[a.menuState,a.itemsRef,c]),Lz({container:a.itemsRef.current,enabled:a.menuState===0,accept(v){return v.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:v.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(v){v.setAttribute("role","none")}});let _=Qe(v=>{var T,S;switch(h.dispose(),v.key){case Ct.Space:if(a.searchQuery!=="")return v.preventDefault(),v.stopPropagation(),l({type:3,value:v.key});case Ct.Enter:if(v.preventDefault(),v.stopPropagation(),l({type:1}),a.activeItemIndex!==null){let{dataRef:P}=a.items[a.activeItemIndex];(S=(T=P.current)==null?void 0:T.domRef.current)==null||S.click()}VP(a.buttonRef.current);break;case Ct.ArrowDown:return v.preventDefault(),v.stopPropagation(),l({type:2,focus:ir.Next});case Ct.ArrowUp:return v.preventDefault(),v.stopPropagation(),l({type:2,focus:ir.Previous});case Ct.Home:case Ct.PageUp:return v.preventDefault(),v.stopPropagation(),l({type:2,focus:ir.First});case Ct.End:case Ct.PageDown:return v.preventDefault(),v.stopPropagation(),l({type:2,focus:ir.Last});case Ct.Escape:v.preventDefault(),v.stopPropagation(),l({type:1}),oi().nextFrame(()=>{var P;return(P=a.buttonRef.current)==null?void 0:P.focus({preventScroll:!0})});break;case Ct.Tab:v.preventDefault(),v.stopPropagation(),l({type:1}),oi().nextFrame(()=>{bz(a.buttonRef.current,v.shiftKey?Ay.Previous:Ay.Next)});break;default:v.key.length===1&&(l({type:3,value:v.key}),h.setTimeout(()=>l({type:4}),350));break}}),x=Qe(v=>{switch(v.key){case Ct.Space:v.preventDefault();break}}),b=C.useMemo(()=>({open:a.menuState===0}),[a]),E={"aria-activedescendant":a.activeItemIndex===null||(n=a.items[a.activeItemIndex])==null?void 0:n.id,"aria-labelledby":(r=a.buttonRef.current)==null?void 0:r.id,id:s,onKeyDown:_,onKeyUp:x,role:"menu",tabIndex:0,ref:u};return La({ourProps:E,theirProps:o,slot:b,defaultTag:Jz,features:Zz,visible:w,name:"Menu.Items"})}let tH=C.Fragment;function nH(t,e){let n=p0(),{id:r=`headlessui-menu-item-${n}`,disabled:i=!1,...s}=t,[o,a]=Jh("Menu.Item"),l=o.activeItemIndex!==null?o.items[o.activeItemIndex].id===r:!1,u=C.useRef(null),c=Oa(e,u);Hn(()=>{if(o.__demoMode||o.menuState!==0||!l||o.activationTrigger===0)return;let P=oi();return P.requestAnimationFrame(()=>{var L,M;(M=(L=u.current)==null?void 0:L.scrollIntoView)==null||M.call(L,{block:"nearest"})}),P.dispose},[o.__demoMode,u,l,o.menuState,o.activationTrigger,o.activeItemIndex]);let h=Bz(u),m=C.useRef({disabled:i,domRef:u,get textValue(){return h()}});Hn(()=>{m.current.disabled=i},[m,i]),Hn(()=>(a({type:5,id:r,dataRef:m}),()=>a({type:6,id:r})),[m,r]);let w=Qe(()=>{a({type:1})}),_=Qe(P=>{if(i)return P.preventDefault();a({type:1}),VP(o.buttonRef.current)}),x=Qe(()=>{if(i)return a({type:2,focus:ir.Nothing});a({type:2,focus:ir.Specific,id:r})}),b=Oz(),E=Qe(P=>b.update(P)),v=Qe(P=>{b.wasMoved(P)&&(i||l||a({type:2,focus:ir.Specific,id:r,trigger:0}))}),T=Qe(P=>{b.wasMoved(P)&&(i||l&&a({type:2,focus:ir.Nothing}))}),S=C.useMemo(()=>({active:l,disabled:i,close:w}),[l,i,w]);return La({ourProps:{id:r,ref:c,role:"menuitem",tabIndex:i===!0?void 0:-1,"aria-disabled":i===!0?!0:void 0,disabled:void 0,onClick:_,onFocus:x,onPointerEnter:E,onMouseEnter:E,onPointerMove:v,onMouseMove:v,onPointerLeave:T,onMouseLeave:T},theirProps:s,slot:S,defaultTag:tH,name:"Menu.Item"})}let rH=co(Qz),iH=co(Xz),sH=co(eH),oH=co(nH),zc=Object.assign(rH,{Button:iH,Items:sH,Item:oH});function aH(t=0){let[e,n]=C.useState(t),r=w0(),i=C.useCallback(l=>{r.current&&n(u=>u|l)},[e,r]),s=C.useCallback(l=>!!(e&l),[e]),o=C.useCallback(l=>{r.current&&n(u=>u&~l)},[n,r]),a=C.useCallback(l=>{r.current&&n(u=>u^l)},[n]);return{flags:e,addFlag:i,hasFlag:s,removeFlag:o,toggleFlag:a}}function lH(t){let e={called:!1};return(...n)=>{if(!e.called)return e.called=!0,t(...n)}}function Sm(t,...e){t&&e.length>0&&t.classList.add(...e)}function Cm(t,...e){t&&e.length>0&&t.classList.remove(...e)}function uH(t,e){let n=oi();if(!t)return n.dispose;let{transitionDuration:r,transitionDelay:i}=getComputedStyle(t),[s,o]=[r,i].map(l=>{let[u=0]=l.split(",").filter(Boolean).map(c=>c.includes("ms")?parseFloat(c):parseFloat(c)*1e3).sort((c,h)=>h-c);return u}),a=s+o;if(a!==0){n.group(u=>{u.setTimeout(()=>{e(),u.dispose()},a),u.addEventListener(t,"transitionrun",c=>{c.target===c.currentTarget&&u.dispose()})});let l=n.addEventListener(t,"transitionend",u=>{u.target===u.currentTarget&&(e(),l())})}else e();return n.add(()=>e()),n.dispose}function cH(t,e,n,r){let i=n?"enter":"leave",s=oi(),o=r!==void 0?lH(r):()=>{};i==="enter"&&(t.removeAttribute("hidden"),t.style.display="");let a=xn(i,{enter:()=>e.enter,leave:()=>e.leave}),l=xn(i,{enter:()=>e.enterTo,leave:()=>e.leaveTo}),u=xn(i,{enter:()=>e.enterFrom,leave:()=>e.leaveFrom});return Cm(t,...e.base,...e.enter,...e.enterTo,...e.enterFrom,...e.leave,...e.leaveFrom,...e.leaveTo,...e.entered),Sm(t,...e.base,...a,...u),s.nextFrame(()=>{Cm(t,...e.base,...a,...u),Sm(t,...e.base,...a,...l),uH(t,()=>(Cm(t,...e.base,...a),Sm(t,...e.base,...e.entered),o()))}),s.dispose}function dH({immediate:t,container:e,direction:n,classes:r,onStart:i,onStop:s}){let o=w0(),a=Yh(),l=Xi(n);Hn(()=>{t&&(l.current="enter")},[t]),Hn(()=>{let u=oi();a.add(u.dispose);let c=e.current;if(c&&l.current!=="idle"&&o.current)return u.dispose(),i.current(l.current),u.add(cH(c,r.current,l.current==="enter",()=>{u.dispose(),s.current(l.current)})),u.dispose},[n])}function Ei(t=""){return t.split(/\s+/).filter(e=>e.length>1)}let Zh=C.createContext(null);Zh.displayName="TransitionContext";var fH=(t=>(t.Visible="visible",t.Hidden="hidden",t))(fH||{});function hH(){let t=C.useContext(Zh);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}function pH(){let t=C.useContext(ep);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}let ep=C.createContext(null);ep.displayName="NestingContext";function tp(t){return"children"in t?tp(t.children):t.current.filter(({el:e})=>e.current!==null).filter(({state:e})=>e==="visible").length>0}function BP(t,e){let n=Xi(t),r=C.useRef([]),i=w0(),s=Yh(),o=Qe((w,_=ji.Hidden)=>{let x=r.current.findIndex(({el:b})=>b===w);x!==-1&&(xn(_,{[ji.Unmount](){r.current.splice(x,1)},[ji.Hidden](){r.current[x].state="hidden"}}),s.microTask(()=>{var b;!tp(r)&&i.current&&((b=n.current)==null||b.call(n))}))}),a=Qe(w=>{let _=r.current.find(({el:x})=>x===w);return _?_.state!=="visible"&&(_.state="visible"):r.current.push({el:w,state:"visible"}),()=>o(w,ji.Unmount)}),l=C.useRef([]),u=C.useRef(Promise.resolve()),c=C.useRef({enter:[],leave:[],idle:[]}),h=Qe((w,_,x)=>{l.current.splice(0),e&&(e.chains.current[_]=e.chains.current[_].filter(([b])=>b!==w)),e==null||e.chains.current[_].push([w,new Promise(b=>{l.current.push(b)})]),e==null||e.chains.current[_].push([w,new Promise(b=>{Promise.all(c.current[_].map(([E,v])=>v)).then(()=>b())})]),_==="enter"?u.current=u.current.then(()=>e==null?void 0:e.wait.current).then(()=>x(_)):x(_)}),m=Qe((w,_,x)=>{Promise.all(c.current[_].splice(0).map(([b,E])=>E)).then(()=>{var b;(b=l.current.shift())==null||b()}).then(()=>x(_))});return C.useMemo(()=>({children:r,register:a,unregister:o,onStart:h,onStop:m,wait:u,chains:c}),[a,o,r,h,m,c,u])}function mH(){}let gH=["beforeEnter","afterEnter","beforeLeave","afterLeave"];function rT(t){var e;let n={};for(let r of gH)n[r]=(e=t[r])!=null?e:mH;return n}function yH(t){let e=C.useRef(rT(t));return C.useEffect(()=>{e.current=rT(t)},[t]),e}let vH="div",zP=Sf.RenderStrategy;function wH(t,e){var n,r;let{beforeEnter:i,afterEnter:s,beforeLeave:o,afterLeave:a,enter:l,enterFrom:u,enterTo:c,entered:h,leave:m,leaveFrom:w,leaveTo:_,...x}=t,b=C.useRef(null),E=Oa(b,e),v=(n=x.unmount)==null||n?ji.Unmount:ji.Hidden,{show:T,appear:S,initial:P}=hH(),[L,M]=C.useState(T?"visible":"hidden"),U=pH(),{register:Z,unregister:G}=U;C.useEffect(()=>Z(b),[Z,b]),C.useEffect(()=>{if(v===ji.Hidden&&b.current){if(T&&L!=="visible"){M("visible");return}return xn(L,{hidden:()=>G(b),visible:()=>Z(b)})}},[L,b,Z,G,T,v]);let ce=Xi({base:Ei(x.className),enter:Ei(l),enterFrom:Ei(u),enterTo:Ei(c),entered:Ei(h),leave:Ei(m),leaveFrom:Ei(w),leaveTo:Ei(_)}),ee=yH({beforeEnter:i,afterEnter:s,beforeLeave:o,afterLeave:a}),de=h0();C.useEffect(()=>{if(de&&L==="visible"&&b.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[b,L,de]);let we=P&&!S,Ue=S&&T&&P,pt=(()=>!de||we?"idle":T?"enter":"leave")(),$e=aH(0),q=Qe(Ze=>xn(Ze,{enter:()=>{$e.addFlag(yn.Opening),ee.current.beforeEnter()},leave:()=>{$e.addFlag(yn.Closing),ee.current.beforeLeave()},idle:()=>{}})),re=Qe(Ze=>xn(Ze,{enter:()=>{$e.removeFlag(yn.Opening),ee.current.afterEnter()},leave:()=>{$e.removeFlag(yn.Closing),ee.current.afterLeave()},idle:()=>{}})),$=BP(()=>{M("hidden"),G(b)},U),be=C.useRef(!1);dH({immediate:Ue,container:b,classes:ce,direction:pt,onStart:Xi(Ze=>{be.current=!0,$.onStart(b,Ze,q)}),onStop:Xi(Ze=>{be.current=!1,$.onStop(b,Ze,re),Ze==="leave"&&!tp($)&&(M("hidden"),G(b))})});let xe=x,Nn={ref:E};return Ue?xe={...xe,className:If(x.className,...ce.current.enter,...ce.current.enterFrom)}:be.current&&(xe.className=If(x.className,(r=b.current)==null?void 0:r.className),xe.className===""&&delete xe.className),he.createElement(ep.Provider,{value:$},he.createElement($P,{value:xn(L,{visible:yn.Open,hidden:yn.Closed})|$e.flags},La({ourProps:Nn,theirProps:xe,defaultTag:vH,features:zP,visible:L==="visible",name:"Transition.Child"})))}function _H(t,e){let{show:n,appear:r=!1,unmount:i=!0,...s}=t,o=C.useRef(null),a=Oa(o,e);h0();let l=v0();if(n===void 0&&l!==null&&(n=(l&yn.Open)===yn.Open),![!0,!1].includes(n))throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[u,c]=C.useState(n?"visible":"hidden"),h=BP(()=>{c("hidden")}),[m,w]=C.useState(!0),_=C.useRef([n]);Hn(()=>{m!==!1&&_.current[_.current.length-1]!==n&&(_.current.push(n),w(!1))},[_,n]);let x=C.useMemo(()=>({show:n,appear:r,initial:m}),[n,r,m]);C.useEffect(()=>{if(n)c("visible");else if(!tp(h))c("hidden");else{let T=o.current;if(!T)return;let S=T.getBoundingClientRect();S.x===0&&S.y===0&&S.width===0&&S.height===0&&c("hidden")}},[n,h]);let b={unmount:i},E=Qe(()=>{var T;m&&w(!1),(T=t.beforeEnter)==null||T.call(t)}),v=Qe(()=>{var T;m&&w(!1),(T=t.beforeLeave)==null||T.call(t)});return he.createElement(ep.Provider,{value:h},he.createElement(Zh.Provider,{value:x},La({ourProps:{...b,as:C.Fragment,children:he.createElement(HP,{ref:a,...b,...s,beforeEnter:E,beforeLeave:v})},theirProps:{},defaultTag:C.Fragment,features:zP,visible:u==="visible",name:"Transition"})))}function EH(t,e){let n=C.useContext(Zh)!==null,r=v0()!==null;return he.createElement(he.Fragment,null,!n&&r?he.createElement(Py,{ref:e,...t}):he.createElement(HP,{ref:e,...t}))}let Py=co(_H),HP=co(wH),xH=co(EH),TH=Object.assign(Py,{Child:xH,Root:Py});function bH({title:t,titleId:e,...n},r){return C.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?C.createElement("title",{id:e},t):null,C.createElement("path",{fillRule:"evenodd",d:"M5.22 8.22a.75.75 0 0 1 1.06 0L10 11.94l3.72-3.72a.75.75 0 1 1 1.06 1.06l-4.25 4.25a.75.75 0 0 1-1.06 0L5.22 9.28a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"}))}const IH=C.forwardRef(bH),SH=IH;function CH(...t){return t.filter(Boolean).join(" ")}const Am=({title:t,options:e=[],handleOptionSelect:n})=>f.jsxs(zc,{as:"div",className:"relative inline-block text-left",children:[f.jsx("div",{children:f.jsxs(zc.Button,{className:"inline-flex w-full justify-between font-bebas gap-x-1.5 rounded-xl bg-[#1E1E1E] px-3 py-2 text-sm text-white shadow-sm ring-1 ring-inset ring-primaryDark hover:bg-gray-50 hover:text-[#1E1E1E]",children:[t,f.jsx(SH,{className:"-mr-1 h-5 w-5 text-primary","aria-hidden":"true"})]})}),f.jsx(TH,{as:C.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:f.jsx(zc.Items,{className:"absolute right-0 z-10 mt-2 w-full origin-top-right rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none",children:f.jsx("div",{className:"py-1",children:e.map(r=>f.jsx(zc.Item,{children:({active:i})=>f.jsx("a",{onClick:()=>n(r),className:CH(i?"bg-gray-100 text-gray-900":"text-gray-700","block px-4 py-2 text-sm font-montserrat cursor-pointer"),children:r})},r))})})})]}),AH="_NavbarInvent_16cg3_1",PH="_products_16cg3_23",el={NavbarInvent:AH,products:PH};function RH(){return f.jsx("nav",{children:f.jsx("div",{children:f.jsxs("ul",{className:el.NavbarInvent,children:[f.jsx("li",{className:el.products,children:"Productos"}),f.jsx("li",{className:el.stock,children:"Stock"}),f.jsx("li",{className:el.price,children:"Precio"}),f.jsx("li",{className:el.actions,children:"Acciones"})]})})})}const kH="_ImageContainer_ep3bb_5",NH="_Image_ep3bb_5",DH="_contenedor_ep3bb_21",OH="_info_ep3bb_35",LH="_infoname_ep3bb_45",xi={ImageContainer:kH,Image:NH,contenedor:DH,info:OH,infoname:LH},jH="/assets/delete-edc82f87.svg";function MH({id:t,name:e,price:n,image:r,stock:i}){us(a=>a.product);const s=kn(),o=a=>{console.log(a),s(a8(a))};return f.jsxs("section",{className:`flex gap-4 p-4 my-3 shadow-md rounded-xl transition hover:scale-110 bg-white ${xi.Card}`,children:[f.jsx("div",{className:xi.ImageContainer,children:f.jsx("img",{src:r,alt:"IMG",className:xi.Image})}),f.jsxs("div",{className:xi.contenedor,children:[f.jsx("h3",{className:xi.infoname,children:e}),f.jsxs("p",{className:xi.info,children:[" ",i]}),f.jsxs("p",{className:xi.info,children:["$",n]}),f.jsx("button",{className:xi.info,onClick:()=>o(t),children:f.jsx("img",{src:jH,alt:""})}),f.jsx(Ln,{to:`editproduct/${t}`,children:f.jsx("button",{children:"Editar"})})]})]})}const VH=()=>{const t=kn(),{products:e,currentPage:n,totalPages:r,filters:i,sorts:s}=us(u=>u.product);C.useEffect(()=>{(async()=>{t(Hh())})()},[t]),C.useEffect(()=>{},[e]);const o=(n-1)*8,a=()=>{n>1&&t(_f(n-1))},l=()=>{n<r&&t(_f(n+1))};return f.jsxs("main",{children:[f.jsx(RH,{}),f.jsx("section",{children:e.slice(o,o+3).map(({id:u,name:c,price:h,image:m,stock:w})=>f.jsx(MH,{id:u,name:c,price:h,image:m,stock:w},u))}),f.jsxs("section",{className:"flex items-center justify-center gap-2 mr-5 mb-5",children:[f.jsx("button",{onClick:a,className:"font-bebas p-2 hover:text-primary",children:"prev"}),f.jsx("span",{className:"font-bebas text-primary text-xl mb-1",children:n}),f.jsx("button",{onClick:l,className:"font-bebas p-2 hover:text-primary",children:"next"})]})]})};var Yu=t=>t.type==="checkbox",Uo=t=>t instanceof Date,Zt=t=>t==null;const qP=t=>typeof t=="object";var ht=t=>!Zt(t)&&!Array.isArray(t)&&qP(t)&&!Uo(t),FH=t=>ht(t)&&t.target?Yu(t.target)?t.target.checked:t.target.value:t,UH=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,$H=(t,e)=>t.has(UH(e)),BH=t=>{const e=t.constructor&&t.constructor.prototype;return ht(e)&&e.hasOwnProperty("isPrototypeOf")},E0=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Vr(t){let e;const n=Array.isArray(t);if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(E0&&(t instanceof Blob||t instanceof FileList))&&(n||ht(t)))if(e=n?[]:{},!n&&!BH(t))e=t;else for(const r in t)t.hasOwnProperty(r)&&(e[r]=Vr(t[r]));else return t;return e}var Xu=t=>Array.isArray(t)?t.filter(Boolean):[],nt=t=>t===void 0,J=(t,e,n)=>{if(!e||!ht(t))return n;const r=Xu(e.split(/[,[\].]+?/)).reduce((i,s)=>Zt(i)?i:i[s],t);return nt(r)||r===t?nt(t[e])?n:t[e]:r},$r=t=>typeof t=="boolean";const iT={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},rr={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Mr={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};he.createContext(null);var zH=(t,e,n,r=!0)=>{const i={defaultValues:e._defaultValues};for(const s in t)Object.defineProperty(i,s,{get:()=>{const o=s;return e._proxyFormState[o]!==rr.all&&(e._proxyFormState[o]=!r||rr.all),n&&(n[o]=!0),t[o]}});return i},jn=t=>ht(t)&&!Object.keys(t).length,HH=(t,e,n,r)=>{n(t);const{name:i,...s}=t;return jn(s)||Object.keys(s).length>=Object.keys(e).length||Object.keys(s).find(o=>e[o]===(!r||rr.all))},Pm=t=>Array.isArray(t)?t:[t];function qH(t){const e=he.useRef(t);e.current=t,he.useEffect(()=>{const n=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{n&&n.unsubscribe()}},[t.disabled])}var br=t=>typeof t=="string",WH=(t,e,n,r,i)=>br(t)?(r&&e.watch.add(t),J(n,t,i)):Array.isArray(t)?t.map(s=>(r&&e.watch.add(s),J(n,s))):(r&&(e.watchAll=!0),n),x0=t=>/^\w*$/.test(t),WP=t=>Xu(t.replace(/["|']|\]/g,"").split(/\.|\[/)),Ve=(t,e,n)=>{let r=-1;const i=x0(e)?[e]:WP(e),s=i.length,o=s-1;for(;++r<s;){const a=i[r];let l=n;if(r!==o){const u=t[a];l=ht(u)||Array.isArray(u)?u:isNaN(+i[r+1])?{}:[]}t[a]=l,t=t[a]}return t},KH=(t,e,n,r,i)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:i||!0}}:{},sT=t=>({isOnSubmit:!t||t===rr.onSubmit,isOnBlur:t===rr.onBlur,isOnChange:t===rr.onChange,isOnAll:t===rr.all,isOnTouch:t===rr.onTouched}),oT=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const kl=(t,e,n,r)=>{for(const i of n||Object.keys(t)){const s=J(t,i);if(s){const{_f:o,...a}=s;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],i)&&!r)break;if(o.ref&&e(o.ref,o.name)&&!r)break;kl(a,e)}else ht(a)&&kl(a,e)}}};var GH=(t,e,n)=>{const r=Xu(J(t,n));return Ve(r,"root",e[n]),Ve(t,n,r),t},T0=t=>t.type==="file",Mi=t=>typeof t=="function",Cf=t=>{if(!E0)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},gd=t=>br(t),b0=t=>t.type==="radio",Af=t=>t instanceof RegExp;const aT={value:!1,isValid:!1},lT={value:!0,isValid:!0};var KP=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!nt(t[0].attributes.value)?nt(t[0].value)||t[0].value===""?lT:{value:t[0].value,isValid:!0}:lT:aT}return aT};const uT={isValid:!1,value:null};var GP=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,uT):uT;function cT(t,e,n="validate"){if(gd(t)||Array.isArray(t)&&t.every(gd)||$r(t)&&!t)return{type:n,message:gd(t)?t:"",ref:e}}var To=t=>ht(t)&&!Af(t)?t:{value:t,message:""},dT=async(t,e,n,r,i)=>{const{ref:s,refs:o,required:a,maxLength:l,minLength:u,min:c,max:h,pattern:m,validate:w,name:_,valueAsNumber:x,mount:b,disabled:E}=t._f,v=J(e,_);if(!b||E)return{};const T=o?o[0]:s,S=ee=>{r&&T.reportValidity&&(T.setCustomValidity($r(ee)?"":ee||""),T.reportValidity())},P={},L=b0(s),M=Yu(s),U=L||M,Z=(x||T0(s))&&nt(s.value)&&nt(v)||Cf(s)&&s.value===""||v===""||Array.isArray(v)&&!v.length,G=KH.bind(null,_,n,P),ce=(ee,de,we,Ue=Mr.maxLength,pt=Mr.minLength)=>{const $e=ee?de:we;P[_]={type:ee?Ue:pt,message:$e,ref:s,...G(ee?Ue:pt,$e)}};if(i?!Array.isArray(v)||!v.length:a&&(!U&&(Z||Zt(v))||$r(v)&&!v||M&&!KP(o).isValid||L&&!GP(o).isValid)){const{value:ee,message:de}=gd(a)?{value:!!a,message:a}:To(a);if(ee&&(P[_]={type:Mr.required,message:de,ref:T,...G(Mr.required,de)},!n))return S(de),P}if(!Z&&(!Zt(c)||!Zt(h))){let ee,de;const we=To(h),Ue=To(c);if(!Zt(v)&&!isNaN(v)){const pt=s.valueAsNumber||v&&+v;Zt(we.value)||(ee=pt>we.value),Zt(Ue.value)||(de=pt<Ue.value)}else{const pt=s.valueAsDate||new Date(v),$e=$=>new Date(new Date().toDateString()+" "+$),q=s.type=="time",re=s.type=="week";br(we.value)&&v&&(ee=q?$e(v)>$e(we.value):re?v>we.value:pt>new Date(we.value)),br(Ue.value)&&v&&(de=q?$e(v)<$e(Ue.value):re?v<Ue.value:pt<new Date(Ue.value))}if((ee||de)&&(ce(!!ee,we.message,Ue.message,Mr.max,Mr.min),!n))return S(P[_].message),P}if((l||u)&&!Z&&(br(v)||i&&Array.isArray(v))){const ee=To(l),de=To(u),we=!Zt(ee.value)&&v.length>+ee.value,Ue=!Zt(de.value)&&v.length<+de.value;if((we||Ue)&&(ce(we,ee.message,de.message),!n))return S(P[_].message),P}if(m&&!Z&&br(v)){const{value:ee,message:de}=To(m);if(Af(ee)&&!v.match(ee)&&(P[_]={type:Mr.pattern,message:de,ref:s,...G(Mr.pattern,de)},!n))return S(de),P}if(w){if(Mi(w)){const ee=await w(v,e),de=cT(ee,T);if(de&&(P[_]={...de,...G(Mr.validate,de.message)},!n))return S(de.message),P}else if(ht(w)){let ee={};for(const de in w){if(!jn(ee)&&!n)break;const we=cT(await w[de](v,e),T,de);we&&(ee={...we,...G(de,we.message)},S(we.message),n&&(P[_]=ee))}if(!jn(ee)&&(P[_]={ref:T,...ee},!n))return P}}return S(!0),P};function QH(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=nt(t)?r++:t[e[r++]];return t}function YH(t){for(const e in t)if(t.hasOwnProperty(e)&&!nt(t[e]))return!1;return!0}function bt(t,e){const n=Array.isArray(e)?e:x0(e)?[e]:WP(e),r=n.length===1?t:QH(t,n),i=n.length-1,s=n[i];return r&&delete r[s],i!==0&&(ht(r)&&jn(r)||Array.isArray(r)&&YH(r))&&bt(t,n.slice(0,-1)),t}var Rm=()=>{let t=[];return{get observers(){return t},next:i=>{for(const s of t)s.next&&s.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(s=>s!==i)}}),unsubscribe:()=>{t=[]}}},Pf=t=>Zt(t)||!qP(t);function Ns(t,e){if(Pf(t)||Pf(e))return t===e;if(Uo(t)&&Uo(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const i of n){const s=t[i];if(!r.includes(i))return!1;if(i!=="ref"){const o=e[i];if(Uo(s)&&Uo(o)||ht(s)&&ht(o)||Array.isArray(s)&&Array.isArray(o)?!Ns(s,o):s!==o)return!1}}return!0}var QP=t=>t.type==="select-multiple",XH=t=>b0(t)||Yu(t),km=t=>Cf(t)&&t.isConnected,YP=t=>{for(const e in t)if(Mi(t[e]))return!0;return!1};function Rf(t,e={}){const n=Array.isArray(t);if(ht(t)||n)for(const r in t)Array.isArray(t[r])||ht(t[r])&&!YP(t[r])?(e[r]=Array.isArray(t[r])?[]:{},Rf(t[r],e[r])):Zt(t[r])||(e[r]=!0);return e}function XP(t,e,n){const r=Array.isArray(t);if(ht(t)||r)for(const i in t)Array.isArray(t[i])||ht(t[i])&&!YP(t[i])?nt(e)||Pf(n[i])?n[i]=Array.isArray(t[i])?Rf(t[i],[]):{...Rf(t[i])}:XP(t[i],Zt(e)?{}:e[i],n[i]):n[i]=!Ns(t[i],e[i]);return n}var Nm=(t,e)=>XP(t,e,Rf(e)),JP=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>nt(t)?t:e?t===""?NaN:t&&+t:n&&br(t)?new Date(t):r?r(t):t;function Dm(t){const e=t.ref;if(!(t.refs?t.refs.every(n=>n.disabled):e.disabled))return T0(e)?e.files:b0(e)?GP(t.refs).value:QP(e)?[...e.selectedOptions].map(({value:n})=>n):Yu(e)?KP(t.refs).value:JP(nt(e.value)?t.ref.value:e.value,t)}var JH=(t,e,n,r)=>{const i={};for(const s of t){const o=J(e,s);o&&Ve(i,s,o._f)}return{criteriaMode:n,names:[...t],fields:i,shouldUseNativeValidation:r}},tl=t=>nt(t)?t:Af(t)?t.source:ht(t)?Af(t.value)?t.value.source:t.value:t,ZH=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function fT(t,e,n){const r=J(t,n);if(r||x0(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const s=i.join("."),o=J(e,s),a=J(t,s);if(o&&!Array.isArray(o)&&n!==s)return{name:n};if(a&&a.type)return{name:s,error:a};i.pop()}return{name:n}}var eq=(t,e,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(e||t):(n?r.isOnBlur:i.isOnBlur)?!t:(n?r.isOnChange:i.isOnChange)?t:!0,tq=(t,e)=>!Xu(J(t,e)).length&&bt(t,e);const nq={mode:rr.onSubmit,reValidateMode:rr.onChange,shouldFocusError:!0};function rq(t={},e){let n={...nq,...t},r={submitCount:0,isDirty:!1,isLoading:Mi(n.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},errors:n.errors||{},disabled:!1},i={},s=ht(n.defaultValues)||ht(n.values)?Vr(n.defaultValues||n.values)||{}:{},o=n.shouldUnregister?{}:Vr(s),a={action:!1,mount:!1,watch:!1},l={mount:new Set,unMount:new Set,array:new Set,watch:new Set},u,c=0;const h={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},m={values:Rm(),array:Rm(),state:Rm()},w=t.resetOptions&&t.resetOptions.keepDirtyValues,_=sT(n.mode),x=sT(n.reValidateMode),b=n.criteriaMode===rr.all,E=A=>R=>{clearTimeout(c),c=setTimeout(A,R)},v=async A=>{if(h.isValid||A){const R=n.resolver?jn((await G()).errors):await ee(i,!0);R!==r.isValid&&m.state.next({isValid:R})}},T=A=>h.isValidating&&m.state.next({isValidating:A}),S=(A,R=[],k,K,z=!0,B=!0)=>{if(K&&k){if(a.action=!0,B&&Array.isArray(J(i,A))){const te=k(J(i,A),K.argA,K.argB);z&&Ve(i,A,te)}if(B&&Array.isArray(J(r.errors,A))){const te=k(J(r.errors,A),K.argA,K.argB);z&&Ve(r.errors,A,te),tq(r.errors,A)}if(h.touchedFields&&B&&Array.isArray(J(r.touchedFields,A))){const te=k(J(r.touchedFields,A),K.argA,K.argB);z&&Ve(r.touchedFields,A,te)}h.dirtyFields&&(r.dirtyFields=Nm(s,o)),m.state.next({name:A,isDirty:we(A,R),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Ve(o,A,R)},P=(A,R)=>{Ve(r.errors,A,R),m.state.next({errors:r.errors})},L=A=>{r.errors=A,m.state.next({errors:r.errors,isValid:!1})},M=(A,R,k,K)=>{const z=J(i,A);if(z){const B=J(o,A,nt(k)?J(s,A):k);nt(B)||K&&K.defaultChecked||R?Ve(o,A,R?B:Dm(z._f)):$e(A,B),a.mount&&v()}},U=(A,R,k,K,z)=>{let B=!1,te=!1;const Se={name:A},Ke=!!(J(i,A)&&J(i,A)._f.disabled);if(!k||K){h.isDirty&&(te=r.isDirty,r.isDirty=Se.isDirty=we(),B=te!==Se.isDirty);const Yt=Ke||Ns(J(s,A),R);te=!!(!Ke&&J(r.dirtyFields,A)),Yt||Ke?bt(r.dirtyFields,A):Ve(r.dirtyFields,A,!0),Se.dirtyFields=r.dirtyFields,B=B||h.dirtyFields&&te!==!Yt}if(k){const Yt=J(r.touchedFields,A);Yt||(Ve(r.touchedFields,A,k),Se.touchedFields=r.touchedFields,B=B||h.touchedFields&&Yt!==k)}return B&&z&&m.state.next(Se),B?Se:{}},Z=(A,R,k,K)=>{const z=J(r.errors,A),B=h.isValid&&$r(R)&&r.isValid!==R;if(t.delayError&&k?(u=E(()=>P(A,k)),u(t.delayError)):(clearTimeout(c),u=null,k?Ve(r.errors,A,k):bt(r.errors,A)),(k?!Ns(z,k):z)||!jn(K)||B){const te={...K,...B&&$r(R)?{isValid:R}:{},errors:r.errors,name:A};r={...r,...te},m.state.next(te)}T(!1)},G=async A=>n.resolver(o,n.context,JH(A||l.mount,i,n.criteriaMode,n.shouldUseNativeValidation)),ce=async A=>{const{errors:R}=await G(A);if(A)for(const k of A){const K=J(R,k);K?Ve(r.errors,k,K):bt(r.errors,k)}else r.errors=R;return R},ee=async(A,R,k={valid:!0})=>{for(const K in A){const z=A[K];if(z){const{_f:B,...te}=z;if(B){const Se=l.array.has(B.name),Ke=await dT(z,o,b,n.shouldUseNativeValidation&&!R,Se);if(Ke[B.name]&&(k.valid=!1,R))break;!R&&(J(Ke,B.name)?Se?GH(r.errors,Ke,B.name):Ve(r.errors,B.name,Ke[B.name]):bt(r.errors,B.name))}te&&await ee(te,R,k)}}return k.valid},de=()=>{for(const A of l.unMount){const R=J(i,A);R&&(R._f.refs?R._f.refs.every(k=>!km(k)):!km(R._f.ref))&&fo(A)}l.unMount=new Set},we=(A,R)=>(A&&R&&Ve(o,A,R),!Ns(Nn(),s)),Ue=(A,R,k)=>WH(A,l,{...a.mount?o:nt(R)?s:br(A)?{[A]:R}:R},k,R),pt=A=>Xu(J(a.mount?o:s,A,t.shouldUnregister?J(s,A,[]):[])),$e=(A,R,k={})=>{const K=J(i,A);let z=R;if(K){const B=K._f;B&&(!B.disabled&&Ve(o,A,JP(R,B)),z=Cf(B.ref)&&Zt(R)?"":R,QP(B.ref)?[...B.ref.options].forEach(te=>te.selected=z.includes(te.value)):B.refs?Yu(B.ref)?B.refs.length>1?B.refs.forEach(te=>(!te.defaultChecked||!te.disabled)&&(te.checked=Array.isArray(z)?!!z.find(Se=>Se===te.value):z===te.value)):B.refs[0]&&(B.refs[0].checked=!!z):B.refs.forEach(te=>te.checked=te.value===z):T0(B.ref)?B.ref.value="":(B.ref.value=z,B.ref.type||m.values.next({name:A,values:{...o}})))}(k.shouldDirty||k.shouldTouch)&&U(A,z,k.shouldTouch,k.shouldDirty,!0),k.shouldValidate&&xe(A)},q=(A,R,k)=>{for(const K in R){const z=R[K],B=`${A}.${K}`,te=J(i,B);(l.array.has(A)||!Pf(z)||te&&!te._f)&&!Uo(z)?q(B,z,k):$e(B,z,k)}},re=(A,R,k={})=>{const K=J(i,A),z=l.array.has(A),B=Vr(R);Ve(o,A,B),z?(m.array.next({name:A,values:{...o}}),(h.isDirty||h.dirtyFields)&&k.shouldDirty&&m.state.next({name:A,dirtyFields:Nm(s,o),isDirty:we(A,B)})):K&&!K._f&&!Zt(B)?q(A,B,k):$e(A,B,k),oT(A,l)&&m.state.next({...r}),m.values.next({name:A,values:{...o}}),!a.mount&&e()},$=async A=>{const R=A.target;let k=R.name,K=!0;const z=J(i,k),B=()=>R.type?Dm(z._f):FH(A),te=Se=>{K=Number.isNaN(Se)||Se===J(o,k,Se)};if(z){let Se,Ke;const Yt=B(),xt=A.type===iT.BLUR||A.type===iT.FOCUS_OUT,fi=!ZH(z._f)&&!n.resolver&&!J(r.errors,k)&&!z._f.deps||eq(xt,J(r.touchedFields,k),r.isSubmitted,x,_),Xn=oT(k,l,xt);Ve(o,k,Yt),xt?(z._f.onBlur&&z._f.onBlur(A),u&&u(0)):z._f.onChange&&z._f.onChange(A);const ja=U(k,Yt,xt,!1),hi=!jn(ja)||Xn;if(!xt&&m.values.next({name:k,type:A.type,values:{...o}}),fi)return h.isValid&&v(),hi&&m.state.next({name:k,...Xn?{}:ja});if(!xt&&Xn&&m.state.next({...r}),T(!0),n.resolver){const{errors:pi}=await G([k]);if(te(Yt),K){const tc=fT(r.errors,i,k),ms=fT(pi,i,tc.name||k);Se=ms.error,k=ms.name,Ke=jn(pi)}}else Se=(await dT(z,o,b,n.shouldUseNativeValidation))[k],te(Yt),K&&(Se?Ke=!1:h.isValid&&(Ke=await ee(i,!0)));K&&(z._f.deps&&xe(z._f.deps),Z(k,Ke,Se,ja))}},be=(A,R)=>{if(J(r.errors,R)&&A.focus)return A.focus(),1},xe=async(A,R={})=>{let k,K;const z=Pm(A);if(T(!0),n.resolver){const B=await ce(nt(A)?A:z);k=jn(B),K=A?!z.some(te=>J(B,te)):k}else A?(K=(await Promise.all(z.map(async B=>{const te=J(i,B);return await ee(te&&te._f?{[B]:te}:te)}))).every(Boolean),!(!K&&!r.isValid)&&v()):K=k=await ee(i);return m.state.next({...!br(A)||h.isValid&&k!==r.isValid?{}:{name:A},...n.resolver||!A?{isValid:k}:{},errors:r.errors,isValidating:!1}),R.shouldFocus&&!K&&kl(i,be,A?z:l.mount),K},Nn=A=>{const R={...s,...a.mount?o:{}};return nt(A)?R:br(A)?J(R,A):A.map(k=>J(R,k))},Ze=(A,R)=>({invalid:!!J((R||r).errors,A),isDirty:!!J((R||r).dirtyFields,A),isTouched:!!J((R||r).touchedFields,A),error:J((R||r).errors,A)}),N=A=>{A&&Pm(A).forEach(R=>bt(r.errors,R)),m.state.next({errors:A?r.errors:{}})},Dn=(A,R,k)=>{const K=(J(i,A,{_f:{}})._f||{}).ref;Ve(r.errors,A,{...R,ref:K}),m.state.next({name:A,errors:r.errors,isValid:!1}),k&&k.shouldFocus&&K&&K.focus&&K.focus()},Yn=(A,R)=>Mi(A)?m.values.subscribe({next:k=>A(Ue(void 0,R),k)}):Ue(A,R,!0),fo=(A,R={})=>{for(const k of A?Pm(A):l.mount)l.mount.delete(k),l.array.delete(k),R.keepValue||(bt(i,k),bt(o,k)),!R.keepError&&bt(r.errors,k),!R.keepDirty&&bt(r.dirtyFields,k),!R.keepTouched&&bt(r.touchedFields,k),!n.shouldUnregister&&!R.keepDefaultValue&&bt(s,k);m.values.next({values:{...o}}),m.state.next({...r,...R.keepDirty?{isDirty:we()}:{}}),!R.keepIsValid&&v()},ho=({disabled:A,name:R,field:k,fields:K,value:z})=>{if($r(A)){const B=A?void 0:nt(z)?Dm(k?k._f:J(K,R)._f):z;Ve(o,R,B),U(R,B,!1,!1,!0)}},mt=(A,R={})=>{let k=J(i,A);const K=$r(R.disabled);return Ve(i,A,{...k||{},_f:{...k&&k._f?k._f:{ref:{name:A}},name:A,mount:!0,...R}}),l.mount.add(A),k?ho({field:k,disabled:R.disabled,name:A,value:R.value}):M(A,!0,R.value),{...K?{disabled:R.disabled}:{},...n.progressive?{required:!!R.required,min:tl(R.min),max:tl(R.max),minLength:tl(R.minLength),maxLength:tl(R.maxLength),pattern:tl(R.pattern)}:{},name:A,onChange:$,onBlur:$,ref:z=>{if(z){mt(A,R),k=J(i,A);const B=nt(z.value)&&z.querySelectorAll&&z.querySelectorAll("input,select,textarea")[0]||z,te=XH(B),Se=k._f.refs||[];if(te?Se.find(Ke=>Ke===B):B===k._f.ref)return;Ve(i,A,{_f:{...k._f,...te?{refs:[...Se.filter(km),B,...Array.isArray(J(s,A))?[{}]:[]],ref:{type:B.type,name:A}}:{ref:B}}}),M(A,!1,void 0,B)}else k=J(i,A,{}),k._f&&(k._f.mount=!1),(n.shouldUnregister||R.shouldUnregister)&&!($H(l.array,A)&&a.action)&&l.unMount.add(A)}}},fr=()=>n.shouldFocusError&&kl(i,be,l.mount),Ju=A=>{$r(A)&&(m.state.next({disabled:A}),kl(i,(R,k)=>{let K=A;const z=J(i,k);z&&$r(z._f.disabled)&&(K||(K=z._f.disabled)),R.disabled=K},0,!1))},Zu=(A,R)=>async k=>{k&&(k.preventDefault&&k.preventDefault(),k.persist&&k.persist());let K=Vr(o);if(m.state.next({isSubmitting:!0}),n.resolver){const{errors:z,values:B}=await G();r.errors=z,K=B}else await ee(i);bt(r.errors,"root"),jn(r.errors)?(m.state.next({errors:{}}),await A(K,k)):(R&&await R({...r.errors},k),fr(),setTimeout(fr)),m.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:jn(r.errors),submitCount:r.submitCount+1,errors:r.errors})},np=(A,R={})=>{J(i,A)&&(nt(R.defaultValue)?re(A,J(s,A)):(re(A,R.defaultValue),Ve(s,A,R.defaultValue)),R.keepTouched||bt(r.touchedFields,A),R.keepDirty||(bt(r.dirtyFields,A),r.isDirty=R.defaultValue?we(A,J(s,A)):we()),R.keepError||(bt(r.errors,A),h.isValid&&v()),m.state.next({...r}))},ps=(A,R={})=>{const k=A?Vr(A):s,K=Vr(k),z=A&&!jn(A)?K:s;if(R.keepDefaultValues||(s=k),!R.keepValues){if(R.keepDirtyValues||w)for(const B of l.mount)J(r.dirtyFields,B)?Ve(z,B,J(o,B)):re(B,J(z,B));else{if(E0&&nt(A))for(const B of l.mount){const te=J(i,B);if(te&&te._f){const Se=Array.isArray(te._f.refs)?te._f.refs[0]:te._f.ref;if(Cf(Se)){const Ke=Se.closest("form");if(Ke){Ke.reset();break}}}}i={}}o=t.shouldUnregister?R.keepDefaultValues?Vr(s):{}:Vr(z),m.array.next({values:{...z}}),m.values.next({values:{...z}})}l={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},!a.mount&&e(),a.mount=!h.isValid||!!R.keepIsValid,a.watch=!!t.shouldUnregister,m.state.next({submitCount:R.keepSubmitCount?r.submitCount:0,isDirty:R.keepDirty?r.isDirty:!!(R.keepDefaultValues&&!Ns(A,s)),isSubmitted:R.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:R.keepDirtyValues?r.dirtyFields:R.keepDefaultValues&&A?Nm(s,A):{},touchedFields:R.keepTouched?r.touchedFields:{},errors:R.keepErrors?r.errors:{},isSubmitSuccessful:R.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},po=(A,R)=>ps(Mi(A)?A(o):A,R);return{control:{register:mt,unregister:fo,getFieldState:Ze,handleSubmit:Zu,setError:Dn,_executeSchema:G,_getWatch:Ue,_getDirty:we,_updateValid:v,_removeUnmounted:de,_updateFieldArray:S,_updateDisabledField:ho,_getFieldArray:pt,_reset:ps,_resetDefaultValues:()=>Mi(n.defaultValues)&&n.defaultValues().then(A=>{po(A,n.resetOptions),m.state.next({isLoading:!1})}),_updateFormState:A=>{r={...r,...A}},_disableForm:Ju,_subjects:m,_proxyFormState:h,_setErrors:L,get _fields(){return i},get _formValues(){return o},get _state(){return a},set _state(A){a=A},get _defaultValues(){return s},get _names(){return l},set _names(A){l=A},get _formState(){return r},set _formState(A){r=A},get _options(){return n},set _options(A){n={...n,...A}}},trigger:xe,register:mt,handleSubmit:Zu,watch:Yn,setValue:re,getValues:Nn,reset:po,resetField:np,clearErrors:N,unregister:fo,setError:Dn,setFocus:(A,R={})=>{const k=J(i,A),K=k&&k._f;if(K){const z=K.refs?K.refs[0]:K.ref;z.focus&&(z.focus(),R.shouldSelect&&z.select())}},getFieldState:Ze}}function ZP(t={}){const e=he.useRef(),n=he.useRef(),[r,i]=he.useState({isDirty:!1,isValidating:!1,isLoading:Mi(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},errors:t.errors||{},disabled:!1,defaultValues:Mi(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...rq(t,()=>i(o=>({...o}))),formState:r});const s=e.current.control;return s._options=t,qH({subject:s._subjects.state,next:o=>{HH(o,s._proxyFormState,s._updateFormState,!0)&&i({...s._formState})}}),he.useEffect(()=>s._disableForm(t.disabled),[s,t.disabled]),he.useEffect(()=>{if(s._proxyFormState.isDirty){const o=s._getDirty();o!==r.isDirty&&s._subjects.state.next({isDirty:o})}},[s,r.isDirty]),he.useEffect(()=>{t.values&&!Ns(t.values,n.current)?(s._reset(t.values,s._options.resetOptions),n.current=t.values,i(o=>({...o}))):s._resetDefaultValues()},[t.values,s]),he.useEffect(()=>{t.errors&&s._setErrors(t.errors)},[t.errors,s]),he.useEffect(()=>{s._state.mount||(s._updateValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),e.current.formState=zH(r,s),e.current}function iq(){var c,h,m,w,_,x,b,E,v;const{register:t,handleSubmit:e,formState:{errors:n}}=ZP(),r=kn(),[i,s]=C.useState([]),o=C.useRef([]),a=T=>{const S=T.target.files,P=Array.from(S).map((L,M)=>({id:M,file:L,previewUrl:URL.createObjectURL(L)}));s(L=>[...L,...P])},l=async T=>{T.preventDefault();try{const S=await Promise.all(i.map(P=>TB(P)));o.current=S,console.log(S)}catch(S){console.error(S)}},u=T=>{T.flavour=T.flavour.split(",").map(S=>S.trim()),T.pre_description=T.pre_description.split(",").map(S=>S.trim()),T.description=T.description.split(".").map(S=>S.trim()),T.stock=Number(T.stock),T.image=o.current,T.categoryId=Number(T.categoryId),console.log(o),console.log(T),r(l8(T))};return console.log(i),f.jsx("div",{className:"max-w-md mx-auto p-6 bg-gray-100 mt-10 rounded-md shadow-md",children:f.jsxs("form",{onSubmit:e(u),children:[f.jsxs("div",{className:"mb-4",children:[f.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Nombre del producto:"}),f.jsx("input",{className:"border rounded w-full py-2 px-3",type:"text",...t("name",{required:!0,maxLength:50})}),((c=n.name)==null?void 0:c.type)==="required"&&f.jsx("span",{className:"text-red-500 text-sm",children:"Campo Obligatorio"}),((h=n.name)==null?void 0:h.type)==="maxLength"&&f.jsxs("span",{className:"text-red-500 text-sm",children:[" ","El campo nombre debe tener menos de 50 caracteres"]})]}),f.jsxs("div",{className:"mb-4",children:[f.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Precio:"}),f.jsx("input",{className:"border rounded w-full py-2 px-3",type:"text",...t("price",{required:!0})}),((m=n.price)==null?void 0:m.type)==="required"&&f.jsx("span",{className:"text-red-500 text-sm",children:"Campo Obligatorio"})]}),f.jsxs("div",{className:"mb-4",children:[f.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Tamaño:"}),f.jsx("input",{className:"border rounded w-full py-2 px-3",type:"text",...t("size",{required:!0})}),((w=n.size)==null?void 0:w.type)==="required"&&f.jsx("span",{className:"text-red-500 text-sm",children:"Campo Obligatorio"})]}),f.jsxs("div",{className:"mb-4",children:[f.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Stock:"}),f.jsx("input",{className:"border rounded w-full py-2 px-3",type:"text",...t("stock",{required:!0})}),((_=n.stock)==null?void 0:_.type)==="required"&&f.jsx("span",{className:"text-red-500 text-sm",children:"Campo Obligatorio"})]}),f.jsxs("div",{className:"mb-4",children:[f.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Imagen del producto:"}),f.jsx("input",{className:"border rounded w-full py-2 px-3",type:"file",multiple:!0,...t("image",{required:!0}),onChange:a}),f.jsx("div",{className:"mt-2 flex space-x-2",children:i.map((T,S)=>f.jsx("div",{children:f.jsx("img",{src:T.previewUrl,alt:`Preview ${S}`,className:"max-w-20 max-h-20"})},S))}),f.jsx("button",{onClick:l,children:"subir"}),((x=n.image)==null?void 0:x.type)==="required"&&f.jsx("span",{className:"text-red-500 text-sm",children:"Campo Obligatorio"})]}),f.jsxs("div",{className:"mb-4",children:[f.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Sabor:"}),f.jsx("input",{className:"border rounded w-full py-2 px-3",type:"text",...t("flavour",{required:!0})}),((b=n.flavour)==null?void 0:b.type)==="required"&&f.jsx("span",{className:"text-red-500 text-sm",children:"Campo Obligatorio"})]}),f.jsxs("div",{className:"mb-4",children:[f.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Descripcion:"}),f.jsx("input",{className:"border rounded w-full py-2 px-3",type:"text",...t("description",{required:!0})}),((E=n.description)==null?void 0:E.type)==="required"&&f.jsx("span",{className:"text-red-500 text-sm",children:"Campo Obligatorio"})]}),f.jsxs("div",{className:"mb-4",children:[f.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"PreDescripcion:"}),f.jsx("input",{className:"border rounded w-full py-2 px-3",type:"text",...t("pre_description",{required:!0})}),((v=n.pre_description)==null?void 0:v.type)==="required"&&f.jsx("span",{className:"text-red-500 text-sm",children:"Campo Obligatorio"})]}),f.jsxs("div",{className:"mb-4",children:[f.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Categoria"}),f.jsxs("select",{...t("categoryId"),children:[f.jsx("option",{value:"1",children:"Proteina"}),f.jsx("option",{value:"2",children:"Control de peso"}),f.jsx("option",{value:"5",children:"Creatina"}),f.jsx("option",{value:"6",children:"Aminoacidos"}),f.jsx("option",{value:"8",children:"Energia"})]})]}),f.jsx("button",{type:"submit",className:"bg-blue-500 text-white py-2 px-4 rounded hover:bg-blue-600",children:"Crear Producto"})]})})}const hT=()=>f.jsxs("main",{className:"py-2 px-4 bg-white/70 rounded-xl flex gap-5 font-montserrat",children:[f.jsx("h2",{className:"w-[50%]",children:"Juan Lopera"}),f.jsx("p",{className:"w-[40%]",children:"correo@gmail.com"}),f.jsx("span",{className:"text-red-500",children:"user"})]});function sq(){const t=kn(),{id:e}=DP(),{products:n}=us(u=>u.product),i=n.filter(u=>u.id==e)[0];console.log(i.flavour);const[s,o]=C.useState({name:i.name,price:i.price,size:i.size,stock:i.stock,image:[],flavour:i.flavour,description:i.description[0],pre_description:i.pre_description}),a=u=>{if(u.target.name===s.image){const c=Array.from(u.target.files);o({...s,[u.target.name]:c})}else if(u.target.name===s.flavour){const c=u.target.value.split(",").map(h=>h.trim());o({...s,[u.target.value]:c})}else if(u.target.name===s.pre_description){const c=u.target.value.split(".").map(h=>h.trim());o({...s,[u.target.name]:c})}else o({...s,[u.target.name]:u.target.value})},l=u=>{u.preventDefault(),t(u8(s,e))};return f.jsxs("div",{className:"max-w-md mx-auto my-8 p-4 bg-white rounded shadow-md",children:[f.jsxs("form",{onSubmit:l,children:[f.jsxs("div",{className:"mb-4",children:[f.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-600",children:"Nombre"}),f.jsx("input",{type:"text",id:"name",value:s.name,name:"name",onChange:a,maxLength:20,className:"mt-1 p-2 w-full border rounded focus:outline-none focus:ring focus:border-blue-300"})]}),f.jsxs("div",{className:"mb-4",children:[f.jsx("label",{htmlFor:"price",className:"block text-sm font-medium text-gray-600",children:"Precio"}),f.jsx("input",{type:"text",id:"price",value:s.price,name:"price",onChange:a,className:"mt-1 p-2 w-full border rounded focus:outline-none focus:ring focus:border-blue-300"})]}),f.jsxs("div",{className:"mb-4",children:[f.jsx("label",{htmlFor:"size",className:"block text-sm font-medium text-gray-600",children:"Tamaño"}),f.jsx("input",{type:"text",id:"size",value:s.size,name:"size",onChange:a,className:"mt-1 p-2 w-full border rounded focus:outline-none focus:ring focus:border-blue-300"})]}),f.jsxs("div",{className:"mb-4",children:[f.jsx("label",{htmlFor:"stock",className:"block text-sm font-medium text-gray-600",children:"Stock"}),f.jsx("input",{type:"text",id:"stock",value:s.stock,name:"stock",onChange:a,className:"mt-1 p-2 w-full border rounded focus:outline-none focus:ring focus:border-blue-300"})]}),f.jsxs("div",{className:"mb-4",children:[f.jsx("label",{htmlFor:"image",className:"block text-sm font-medium text-gray-600",children:"Imagen"}),f.jsx("img",{src:i.image[0],alt:"",className:"mt-1 mb-4 w-full h-auto rounded"}),f.jsx("input",{type:"file",id:"image",name:"image",onChange:a,className:"p-2 w-full border rounded focus:outline-none focus:ring focus:border-blue-300"})]}),f.jsxs("div",{className:"mb-4",children:[f.jsx("label",{htmlFor:"flavour",className:"block text-sm font-medium text-gray-600",children:"Sabor"}),f.jsx("input",{type:"text",id:"flavour",value:s.flavour,name:"flavour",onChange:a,className:"mt-1 p-2 w-full border rounded focus:outline-none focus:ring focus:border-blue-300"})]}),f.jsxs("div",{className:"mb-4",children:[f.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-600",children:"Descripcion"}),f.jsx("textarea",{id:"description",value:s.description,name:"description",onChange:a,className:"mt-1 p-2 w-full border rounded focus:outline-none focus:ring focus:border-blue-300"})]}),f.jsxs("div",{className:"mb-4",children:[f.jsx("label",{htmlFor:"pre_description",className:"block text-sm font-medium text-gray-600",children:"Pre descripcion"}),f.jsx("textarea",{id:"pre_description",value:s.pre_description.join(`
`),name:"pre_description",onChange:u=>a("pre_description",u.target.value.split(`
`)),className:"mt-1 p-2 w-full border rounded focus:outline-none focus:ring focus:border-blue-300"})]}),f.jsx("button",{type:"submit",className:"bg-blue-500 text-white py-2 px-4 rounded focus:outline-none focus:ring focus:border-blue-300",children:"Editar producto"})]}),f.jsx(Ln,{to:"/dasboard",children:"Volver"})]})}const oq=async()=>{try{const t=sn(Bu(Lt,"users"));return(await li(t)).data}catch(t){console.log(t.message)}},aq=()=>(console.log((async()=>await oq())()),f.jsxs("main",{className:"flex flex-col gap-5",children:[f.jsx("section",{children:f.jsx("h1",{className:"font-bebas text-xl",children:"Usuarios"})}),f.jsxs("section",{className:"flex flex-col gap-2",children:[f.jsx(hT,{}),f.jsx(hT,{})]})]})),I0="/assets/image-loginPage-902a2f2b.jpeg",lq=()=>{const[t,e]=C.useState(""),n=i=>{e(i)},r=()=>{switch(t){case"Agregar productos":return f.jsx(iq,{});case"Inventario":return f.jsx(VH,{});case"Control de usuarios":return f.jsx(aq,{});default:return null}};return f.jsxs("main",{className:"h-screen w-full flex justify-center items-center",children:[f.jsx(Qu,{className:"w-[34px] h-[69px] absolute top-10 left-10 z-50"}),f.jsx("img",{className:"w-full h-full object-cover absolute top-0 left-0",src:I0}),f.jsxs("section",{className:"flex gap-5 justify-between items-center h-[70%] w-[80%] z-40",children:[f.jsxs("aside",{className:"bg-[#475157F2] h-full gap-1 w-[30%] rounded-xl flex flex-col p-5",children:[f.jsx(Am,{title:"ordenes",options:["Ordenes pendientes","Ordenes enviadas"]}),f.jsx(Am,{title:"control de inventario",options:["Agregar productos","Inventario"],handleOptionSelect:n}),f.jsx(Am,{title:"gestion de usuarios",options:["Control de usuarios"],handleOptionSelect:n})]}),f.jsx("section",{className:"bg-primaryLight w-full h-full rounded-xl p-5",children:r()})]})]})},uq=()=>f.jsx(f.Fragment,{children:f.jsxs(Qh,{children:[f.jsx(ct,{path:"dasboard",element:f.jsx(lq,{})}),f.jsx(ct,{path:"/*",element:f.jsx(f0,{to:"/dasboard"})}),f.jsx(ct,{path:"dasboard/editproduct/:id",element:f.jsx(sq,{})})]})}),S0=async(t,e)=>{try{const n=sn(Lt,"carritos",t),r=await li(n);if(e){const i=r.data().productos;if(i.length>0){const s=[...i,e],o=[];for(const a of s){const l=o.find(u=>u.id==a.id);console.log(l),l?l.cantidad+=a.cantidad:o.push(a)}o&&await uf(n,{productos:o})}else r.exists()&&e&&await uf(n,{productos:tF(e)})}}catch(n){console.log("Error al agregar producto al carrito",n.message)}},Lr=C.createContext(),cq=({children:t})=>{const[e,n]=C.useState(null),[r,i]=C.useState(!0),[s,o]=C.useState(!1),[a,l]=C.useState(null),[u,c]=C.useState([]),[h,m]=C.useState([]),[w,_]=C.useState(null),[x,b]=C.useState(!1),[E,v]=C.useState(!1);return C.useEffect(()=>{d6(ga,async T=>{if(T){n(T);const S=await tP(T==null?void 0:T.uid);console.log(S),S?(l(S),o(!0),await S0(T==null?void 0:T.uid,JSON.parse(window.localStorage.getItem("products"))),localStorage.removeItem("products"),c([])):(await n0({role:"user",status:"active",photoURL:e.photoURL,id:e.uid,email:e.email,displayName:e.displayName}),o(!0)),o(!1)}i(!1)})},[]),f.jsx(Lr.Provider,{value:{currentUser:e,setCurrentUser:n,isRegistered:s,loading:r,setLoading:i,user:a,showCart:x,setShowCart:b,showOrder:E,setShowOrder:v,productsLocalStorage:u,setProductsLocalStorage:c,products:h,setProducts:m,totalPay:w,setTotalPay:_},children:t})},C0=async(t,e)=>{try{const n=sn(Lt,"carritos",t),r=await li(n);if(r.exists()){const s=r.data().productos,o=s==null?void 0:s.findIndex(a=>a.id===e);o!==-1?(s[o].cantidad+=1,await uf(n,{productos:s})):console.log("El producto no existe en el carrito")}else console.log("El carrito no existe para este usuario")}catch(n){console.log("Error al aumentar la cantidad del producto:",n.message)}},dq=t=>/^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9-.]+$/.test(t)?"":"El email es invalido";var eR={exports:{}};/*!
* sweetalert2 v11.10.3
* Released under the MIT License.
*/(function(t,e){(function(n,r){t.exports=r()})(yi,function(){function n(y,d){var p=y==null?null:typeof Symbol<"u"&&y[Symbol.iterator]||y["@@iterator"];if(p!=null){var g,I,D,W,ae=[],fe=!0,De=!1;try{if(D=(p=p.call(y)).next,d===0){if(Object(p)!==p)return;fe=!1}else for(;!(fe=(g=D.call(p)).done)&&(ae.push(g.value),ae.length!==d);fe=!0);}catch(Ua){De=!0,I=Ua}finally{try{if(!fe&&p.return!=null&&(W=p.return(),Object(W)!==W))return}finally{if(De)throw I}}return ae}}function r(y,d){if(typeof y!="object"||!y)return y;var p=y[Symbol.toPrimitive];if(p!==void 0){var g=p.call(y,d||"default");if(typeof g!="object")return g;throw new TypeError("@@toPrimitive must return a primitive value.")}return(d==="string"?String:Number)(y)}function i(y){var d=r(y,"string");return typeof d=="symbol"?d:String(d)}function s(y){"@babel/helpers - typeof";return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d},s(y)}function o(y,d){if(!(y instanceof d))throw new TypeError("Cannot call a class as a function")}function a(y,d){for(var p=0;p<d.length;p++){var g=d[p];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(y,i(g.key),g)}}function l(y,d,p){return d&&a(y.prototype,d),p&&a(y,p),Object.defineProperty(y,"prototype",{writable:!1}),y}function u(y,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function");y.prototype=Object.create(d&&d.prototype,{constructor:{value:y,writable:!0,configurable:!0}}),Object.defineProperty(y,"prototype",{writable:!1}),d&&h(y,d)}function c(y){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(p){return p.__proto__||Object.getPrototypeOf(p)},c(y)}function h(y,d){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(g,I){return g.__proto__=I,g},h(y,d)}function m(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function w(y,d,p){return m()?w=Reflect.construct.bind():w=function(I,D,W){var ae=[null];ae.push.apply(ae,D);var fe=Function.bind.apply(I,ae),De=new fe;return W&&h(De,W.prototype),De},w.apply(null,arguments)}function _(y){if(y===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y}function x(y,d){if(d&&(typeof d=="object"||typeof d=="function"))return d;if(d!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _(y)}function b(y){var d=m();return function(){var g=c(y),I;if(d){var D=c(this).constructor;I=Reflect.construct(g,arguments,D)}else I=g.apply(this,arguments);return x(this,I)}}function E(y,d){for(;!Object.prototype.hasOwnProperty.call(y,d)&&(y=c(y),y!==null););return y}function v(){return typeof Reflect<"u"&&Reflect.get?v=Reflect.get.bind():v=function(d,p,g){var I=E(d,p);if(I){var D=Object.getOwnPropertyDescriptor(I,p);return D.get?D.get.call(arguments.length<3?d:g):D.value}},v.apply(this,arguments)}function T(y,d){return L(y)||n(y,d)||U(y,d)||ce()}function S(y){return P(y)||M(y)||U(y)||G()}function P(y){if(Array.isArray(y))return Z(y)}function L(y){if(Array.isArray(y))return y}function M(y){if(typeof Symbol<"u"&&y[Symbol.iterator]!=null||y["@@iterator"]!=null)return Array.from(y)}function U(y,d){if(y){if(typeof y=="string")return Z(y,d);var p=Object.prototype.toString.call(y).slice(8,-1);if(p==="Object"&&y.constructor&&(p=y.constructor.name),p==="Map"||p==="Set")return Array.from(y);if(p==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(p))return Z(y,d)}}function Z(y,d){(d==null||d>y.length)&&(d=y.length);for(var p=0,g=new Array(d);p<d;p++)g[p]=y[p];return g}function G(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ee(y,d){var p=we(y,d,"get");return Ue(y,p)}function de(y,d,p){var g=we(y,d,"set");return pt(y,g,p),p}function we(y,d,p){if(!d.has(y))throw new TypeError("attempted to "+p+" private field on non-instance");return d.get(y)}function Ue(y,d){return d.get?d.get.call(y):d.value}function pt(y,d,p){if(d.set)d.set.call(y,p);else{if(!d.writable)throw new TypeError("attempted to set read only private field");d.value=p}}function $e(y,d){if(d.has(y))throw new TypeError("Cannot initialize the same private elements twice on an object")}function q(y,d,p){$e(y,d),d.set(y,p)}var re=100,$={},be=function(){$.previousActiveElement instanceof HTMLElement?($.previousActiveElement.focus(),$.previousActiveElement=null):document.body&&document.body.focus()},xe=function(d){return new Promise(function(p){if(!d)return p();var g=window.scrollX,I=window.scrollY;$.restoreFocusTimeout=setTimeout(function(){be(),p()},re),window.scrollTo(g,I)})},Nn="swal2-",Ze=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"],N=Ze.reduce(function(y,d){return y[d]=Nn+d,y},{}),Dn=["success","warning","info","question","error"],Yn=Dn.reduce(function(y,d){return y[d]=Nn+d,y},{}),fo="SweetAlert2:",ho=function(d){return d.charAt(0).toUpperCase()+d.slice(1)},mt=function(d){console.warn("".concat(fo," ").concat(s(d)==="object"?d.join(" "):d))},fr=function(d){console.error("".concat(fo," ").concat(d))},Ju=[],Zu=function(d){Ju.includes(d)||(Ju.push(d),mt(d))},np=function(d,p){Zu('"'.concat(d,'" is deprecated and will be removed in the next major release. Please use "').concat(p,'" instead.'))},ps=function(d){return typeof d=="function"?d():d},po=function(d){return d&&typeof d.toPromise=="function"},mo=function(d){return po(d)?d.toPromise():Promise.resolve(d)},ec=function(d){return d&&Promise.resolve(d)===d},jt=function(){return document.body.querySelector(".".concat(N.container))},A=function(d){var p=jt();return p?p.querySelector(d):null},R=function(d){return A(".".concat(d))},k=function(){return R(N.popup)},K=function(){return R(N.icon)},z=function(){return R(N["icon-content"])},B=function(){return R(N.title)},te=function(){return R(N["html-container"])},Se=function(){return R(N.image)},Ke=function(){return R(N["progress-steps"])},Yt=function(){return R(N["validation-message"])},xt=function(){return A(".".concat(N.actions," .").concat(N.confirm))},fi=function(){return A(".".concat(N.actions," .").concat(N.cancel))},Xn=function(){return A(".".concat(N.actions," .").concat(N.deny))},ja=function(){return R(N["input-label"])},hi=function(){return A(".".concat(N.loader))},pi=function(){return R(N.actions)},tc=function(){return R(N.footer)},ms=function(){return R(N["timer-progress-bar"])},rp=function(){return R(N.close)},lR=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,ip=function(){var d=k();if(!d)return[];var p=d.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),g=Array.from(p).sort(function(W,ae){var fe=parseInt(W.getAttribute("tabindex")||"0"),De=parseInt(ae.getAttribute("tabindex")||"0");return fe>De?1:fe<De?-1:0}),I=d.querySelectorAll(lR),D=Array.from(I).filter(function(W){return W.getAttribute("tabindex")!=="-1"});return S(new Set(g.concat(D))).filter(function(W){return mn(W)})},sp=function(){return jr(document.body,N.shown)&&!jr(document.body,N["toast-shown"])&&!jr(document.body,N["no-backdrop"])},nc=function(){var d=k();return d?jr(d,N.toast):!1},uR=function(){var d=k();return d?d.hasAttribute("data-loading"):!1},pn=function(d,p){if(d.textContent="",p){var g=new DOMParser,I=g.parseFromString(p,"text/html"),D=I.querySelector("head");D&&Array.from(D.childNodes).forEach(function(ae){d.appendChild(ae)});var W=I.querySelector("body");W&&Array.from(W.childNodes).forEach(function(ae){ae instanceof HTMLVideoElement||ae instanceof HTMLAudioElement?d.appendChild(ae.cloneNode(!0)):d.appendChild(ae)})}},jr=function(d,p){if(!p)return!1;for(var g=p.split(/\s+/),I=0;I<g.length;I++)if(!d.classList.contains(g[I]))return!1;return!0},cR=function(d,p){Array.from(d.classList).forEach(function(g){!Object.values(N).includes(g)&&!Object.values(Yn).includes(g)&&!Object.values(p.showClass||{}).includes(g)&&d.classList.remove(g)})},On=function(d,p,g){if(cR(d,p),p.customClass&&p.customClass[g]){if(typeof p.customClass[g]!="string"&&!p.customClass[g].forEach){mt("Invalid type of customClass.".concat(g,'! Expected string or iterable object, got "').concat(s(p.customClass[g]),'"'));return}_e(d,p.customClass[g])}},rc=function(d,p){if(!p)return null;switch(p){case"select":case"textarea":case"file":return d.querySelector(".".concat(N.popup," > .").concat(N[p]));case"checkbox":return d.querySelector(".".concat(N.popup," > .").concat(N.checkbox," input"));case"radio":return d.querySelector(".".concat(N.popup," > .").concat(N.radio," input:checked"))||d.querySelector(".".concat(N.popup," > .").concat(N.radio," input:first-child"));case"range":return d.querySelector(".".concat(N.popup," > .").concat(N.range," input"));default:return d.querySelector(".".concat(N.popup," > .").concat(N.input))}},R0=function(d){if(d.focus(),d.type!=="file"){var p=d.value;d.value="",d.value=p}},k0=function(d,p,g){!d||!p||(typeof p=="string"&&(p=p.split(/\s+/).filter(Boolean)),p.forEach(function(I){Array.isArray(d)?d.forEach(function(D){g?D.classList.add(I):D.classList.remove(I)}):g?d.classList.add(I):d.classList.remove(I)}))},_e=function(d,p){k0(d,p,!0)},hr=function(d,p){k0(d,p,!1)},mi=function(d,p){for(var g=Array.from(d.children),I=0;I<g.length;I++){var D=g[I];if(D instanceof HTMLElement&&jr(D,p))return D}},gs=function(d,p,g){g==="".concat(parseInt(g))&&(g=parseInt(g)),g||parseInt(g)===0?d.style.setProperty(p,typeof g=="number"?"".concat(g,"px"):g):d.style.removeProperty(p)},gt=function(d){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"flex";d&&(d.style.display=p)},Mt=function(d){d&&(d.style.display="none")},op=function(d){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"block";d&&new MutationObserver(function(){Ma(d,d.innerHTML,p)}).observe(d,{childList:!0,subtree:!0})},N0=function(d,p,g,I){var D=d.querySelector(p);D&&D.style.setProperty(g,I)},Ma=function(d,p){var g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"flex";p?gt(d,g):Mt(d)},mn=function(d){return!!(d&&(d.offsetWidth||d.offsetHeight||d.getClientRects().length))},dR=function(){return!mn(xt())&&!mn(Xn())&&!mn(fi())},D0=function(d){return d.scrollHeight>d.clientHeight},O0=function(d){var p=window.getComputedStyle(d),g=parseFloat(p.getPropertyValue("animation-duration")||"0"),I=parseFloat(p.getPropertyValue("transition-duration")||"0");return g>0||I>0},ap=function(d){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,g=ms();g&&mn(g)&&(p&&(g.style.transition="none",g.style.width="100%"),setTimeout(function(){g.style.transition="width ".concat(d/1e3,"s linear"),g.style.width="0%"},10))},fR=function(){var d=ms();if(d){var p=parseInt(window.getComputedStyle(d).width);d.style.removeProperty("transition"),d.style.width="100%";var g=parseInt(window.getComputedStyle(d).width),I=p/g*100;d.style.width="".concat(I,"%")}},L0=function(){return typeof window>"u"||typeof document>"u"},hR=`
 <div aria-labelledby="`.concat(N.title,'" aria-describedby="').concat(N["html-container"],'" class="').concat(N.popup,`" tabindex="-1">
   <button type="button" class="`).concat(N.close,`"></button>
   <ul class="`).concat(N["progress-steps"],`"></ul>
   <div class="`).concat(N.icon,`"></div>
   <img class="`).concat(N.image,`" />
   <h2 class="`).concat(N.title,'" id="').concat(N.title,`"></h2>
   <div class="`).concat(N["html-container"],'" id="').concat(N["html-container"],`"></div>
   <input class="`).concat(N.input,'" id="').concat(N.input,`" />
   <input type="file" class="`).concat(N.file,`" />
   <div class="`).concat(N.range,`">
     <input type="range" />
     <output></output>
   </div>
   <select class="`).concat(N.select,'" id="').concat(N.select,`"></select>
   <div class="`).concat(N.radio,`"></div>
   <label class="`).concat(N.checkbox,`">
     <input type="checkbox" id="`).concat(N.checkbox,`" />
     <span class="`).concat(N.label,`"></span>
   </label>
   <textarea class="`).concat(N.textarea,'" id="').concat(N.textarea,`"></textarea>
   <div class="`).concat(N["validation-message"],'" id="').concat(N["validation-message"],`"></div>
   <div class="`).concat(N.actions,`">
     <div class="`).concat(N.loader,`"></div>
     <button type="button" class="`).concat(N.confirm,`"></button>
     <button type="button" class="`).concat(N.deny,`"></button>
     <button type="button" class="`).concat(N.cancel,`"></button>
   </div>
   <div class="`).concat(N.footer,`"></div>
   <div class="`).concat(N["timer-progress-bar-container"],`">
     <div class="`).concat(N["timer-progress-bar"],`"></div>
   </div>
 </div>
`).replace(/(^|\n)\s*/g,""),pR=function(){var d=jt();return d?(d.remove(),hr([document.documentElement,document.body],[N["no-backdrop"],N["toast-shown"],N["has-column"]]),!0):!1},ys=function(){$.currentInstance.resetValidationMessage()},mR=function(){var d=k(),p=mi(d,N.input),g=mi(d,N.file),I=d.querySelector(".".concat(N.range," input")),D=d.querySelector(".".concat(N.range," output")),W=mi(d,N.select),ae=d.querySelector(".".concat(N.checkbox," input")),fe=mi(d,N.textarea);p.oninput=ys,g.onchange=ys,W.onchange=ys,ae.onchange=ys,fe.oninput=ys,I.oninput=function(){ys(),D.value=I.value},I.onchange=function(){ys(),D.value=I.value}},gR=function(d){return typeof d=="string"?document.querySelector(d):d},yR=function(d){var p=k();p.setAttribute("role",d.toast?"alert":"dialog"),p.setAttribute("aria-live",d.toast?"polite":"assertive"),d.toast||p.setAttribute("aria-modal","true")},vR=function(d){window.getComputedStyle(d).direction==="rtl"&&_e(jt(),N.rtl)},wR=function(d){var p=pR();if(L0()){fr("SweetAlert2 requires document to initialize");return}var g=document.createElement("div");g.className=N.container,p&&_e(g,N["no-transition"]),pn(g,hR);var I=gR(d.target);I.appendChild(g),yR(d),vR(I),mR()},lp=function(d,p){d instanceof HTMLElement?p.appendChild(d):s(d)==="object"?_R(d,p):d&&pn(p,d)},_R=function(d,p){d.jquery?ER(p,d):pn(p,d.toString())},ER=function(d,p){if(d.textContent="",0 in p)for(var g=0;g in p;g++)d.appendChild(p[g].cloneNode(!0));else d.appendChild(p.cloneNode(!0))},vs=function(){if(L0())return!1;var y=document.createElement("div");return typeof y.style.webkitAnimation<"u"?"webkitAnimationEnd":typeof y.style.animation<"u"?"animationend":!1}(),xR=function(d,p){var g=pi(),I=hi();!g||!I||(!p.showConfirmButton&&!p.showDenyButton&&!p.showCancelButton?Mt(g):gt(g),On(g,p,"actions"),TR(g,I,p),pn(I,p.loaderHtml||""),On(I,p,"loader"))};function TR(y,d,p){var g=xt(),I=Xn(),D=fi();!g||!I||!D||(up(g,"confirm",p),up(I,"deny",p),up(D,"cancel",p),bR(g,I,D,p),p.reverseButtons&&(p.toast?(y.insertBefore(D,g),y.insertBefore(I,g)):(y.insertBefore(D,d),y.insertBefore(I,d),y.insertBefore(g,d))))}function bR(y,d,p,g){if(!g.buttonsStyling){hr([y,d,p],N.styled);return}_e([y,d,p],N.styled),g.confirmButtonColor&&(y.style.backgroundColor=g.confirmButtonColor,_e(y,N["default-outline"])),g.denyButtonColor&&(d.style.backgroundColor=g.denyButtonColor,_e(d,N["default-outline"])),g.cancelButtonColor&&(p.style.backgroundColor=g.cancelButtonColor,_e(p,N["default-outline"]))}function up(y,d,p){var g=ho(d);Ma(y,p["show".concat(g,"Button")],"inline-block"),pn(y,p["".concat(d,"ButtonText")]||""),y.setAttribute("aria-label",p["".concat(d,"ButtonAriaLabel")]||""),y.className=N[d],On(y,p,"".concat(d,"Button"))}var IR=function(d,p){var g=rp();g&&(pn(g,p.closeButtonHtml||""),On(g,p,"closeButton"),Ma(g,p.showCloseButton),g.setAttribute("aria-label",p.closeButtonAriaLabel||""))},SR=function(d,p){var g=jt();g&&(CR(g,p.backdrop),AR(g,p.position),PR(g,p.grow),On(g,p,"container"))};function CR(y,d){typeof d=="string"?y.style.background=d:d||_e([document.documentElement,document.body],N["no-backdrop"])}function AR(y,d){d&&(d in N?_e(y,N[d]):(mt('The "position" parameter is not valid, defaulting to "center"'),_e(y,N.center)))}function PR(y,d){d&&_e(y,N["grow-".concat(d)])}var Pe={innerParams:new WeakMap,domCache:new WeakMap},RR=["input","file","range","select","radio","checkbox","textarea"],kR=function(d,p){var g=k();if(g){var I=Pe.innerParams.get(d),D=!I||p.input!==I.input;RR.forEach(function(W){var ae=mi(g,N[W]);ae&&(OR(W,p.inputAttributes),ae.className=N[W],D&&Mt(ae))}),p.input&&(D&&NR(p),LR(p))}},NR=function(d){if(d.input){if(!et[d.input]){fr("Unexpected type of input! Expected ".concat(Object.keys(et).join(" | "),', got "').concat(d.input,'"'));return}var p=j0(d.input),g=et[d.input](p,d);gt(p),d.inputAutoFocus&&setTimeout(function(){R0(g)})}},DR=function(d){for(var p=0;p<d.attributes.length;p++){var g=d.attributes[p].name;["id","type","value","style"].includes(g)||d.removeAttribute(g)}},OR=function(d,p){var g=rc(k(),d);if(g){DR(g);for(var I in p)g.setAttribute(I,p[I])}},LR=function(d){var p=j0(d.input);s(d.customClass)==="object"&&_e(p,d.customClass.input)},cp=function(d,p){(!d.placeholder||p.inputPlaceholder)&&(d.placeholder=p.inputPlaceholder)},Va=function(d,p,g){if(g.inputLabel){var I=document.createElement("label"),D=N["input-label"];I.setAttribute("for",d.id),I.className=D,s(g.customClass)==="object"&&_e(I,g.customClass.inputLabel),I.innerText=g.inputLabel,p.insertAdjacentElement("beforebegin",I)}},j0=function(d){return mi(k(),N[d]||N.input)},ic=function(d,p){["string","number"].includes(s(p))?d.value="".concat(p):ec(p)||mt('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(s(p),'"'))},et={};et.text=et.email=et.password=et.number=et.tel=et.url=et.search=et.date=et["datetime-local"]=et.time=et.week=et.month=function(y,d){return ic(y,d.inputValue),Va(y,y,d),cp(y,d),y.type=d.input,y},et.file=function(y,d){return Va(y,y,d),cp(y,d),y},et.range=function(y,d){var p=y.querySelector("input"),g=y.querySelector("output");return ic(p,d.inputValue),p.type=d.input,ic(g,d.inputValue),Va(p,y,d),y},et.select=function(y,d){if(y.textContent="",d.inputPlaceholder){var p=document.createElement("option");pn(p,d.inputPlaceholder),p.value="",p.disabled=!0,p.selected=!0,y.appendChild(p)}return Va(y,y,d),y},et.radio=function(y){return y.textContent="",y},et.checkbox=function(y,d){var p=rc(k(),"checkbox");p.value="1",p.checked=!!d.inputValue;var g=y.querySelector("span");return pn(g,d.inputPlaceholder),p},et.textarea=function(y,d){ic(y,d.inputValue),cp(y,d),Va(y,y,d);var p=function(I){return parseInt(window.getComputedStyle(I).marginLeft)+parseInt(window.getComputedStyle(I).marginRight)};return setTimeout(function(){if("MutationObserver"in window){var g=parseInt(window.getComputedStyle(k()).width),I=function(){if(document.body.contains(y)){var W=y.offsetWidth+p(y);W>g?k().style.width="".concat(W,"px"):gs(k(),"width",d.width)}};new MutationObserver(I).observe(y,{attributes:!0,attributeFilter:["style"]})}}),y};var jR=function(d,p){var g=te();g&&(op(g),On(g,p,"htmlContainer"),p.html?(lp(p.html,g),gt(g,"block")):p.text?(g.textContent=p.text,gt(g,"block")):Mt(g),kR(d,p))},MR=function(d,p){var g=tc();g&&(op(g),Ma(g,p.footer,"block"),p.footer&&lp(p.footer,g),On(g,p,"footer"))},VR=function(d,p){var g=Pe.innerParams.get(d),I=K();if(I){if(g&&p.icon===g.icon){V0(I,p),M0(I,p);return}if(!p.icon&&!p.iconHtml){Mt(I);return}if(p.icon&&Object.keys(Yn).indexOf(p.icon)===-1){fr('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(p.icon,'"')),Mt(I);return}gt(I),V0(I,p),M0(I,p),_e(I,p.showClass&&p.showClass.icon)}},M0=function(d,p){for(var g=0,I=Object.entries(Yn);g<I.length;g++){var D=T(I[g],2),W=D[0],ae=D[1];p.icon!==W&&hr(d,ae)}_e(d,p.icon&&Yn[p.icon]),BR(d,p),FR(),On(d,p,"icon")},FR=function(){var d=k();if(d)for(var p=window.getComputedStyle(d).getPropertyValue("background-color"),g=d.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix"),I=0;I<g.length;I++)g[I].style.backgroundColor=p},UR=`
  <div class="swal2-success-circular-line-left"></div>
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>
  <div class="swal2-success-circular-line-right"></div>
`,$R=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,V0=function(d,p){if(!(!p.icon&&!p.iconHtml)){var g=d.innerHTML,I="";if(p.iconHtml)I=F0(p.iconHtml);else if(p.icon==="success")I=UR,g=g.replace(/ style=".*?"/g,"");else if(p.icon==="error")I=$R;else if(p.icon){var D={question:"?",warning:"!",info:"i"};I=F0(D[p.icon])}g.trim()!==I.trim()&&pn(d,I)}},BR=function(d,p){if(p.iconColor){d.style.color=p.iconColor,d.style.borderColor=p.iconColor;for(var g=0,I=[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"];g<I.length;g++){var D=I[g];N0(d,D,"backgroundColor",p.iconColor)}N0(d,".swal2-success-ring","borderColor",p.iconColor)}},F0=function(d){return'<div class="'.concat(N["icon-content"],'">').concat(d,"</div>")},zR=function(d,p){var g=Se();if(g){if(!p.imageUrl){Mt(g);return}gt(g,""),g.setAttribute("src",p.imageUrl),g.setAttribute("alt",p.imageAlt||""),gs(g,"width",p.imageWidth),gs(g,"height",p.imageHeight),g.className=N.image,On(g,p,"image")}},HR=function(d,p){var g=jt(),I=k();if(!(!g||!I)){if(p.toast){gs(g,"width",p.width),I.style.width="100%";var D=hi();D&&I.insertBefore(D,K())}else gs(I,"width",p.width);gs(I,"padding",p.padding),p.color&&(I.style.color=p.color),p.background&&(I.style.background=p.background),Mt(Yt()),qR(I,p)}},qR=function(d,p){var g=p.showClass||{};d.className="".concat(N.popup," ").concat(mn(d)?g.popup:""),p.toast?(_e([document.documentElement,document.body],N["toast-shown"]),_e(d,N.toast)):_e(d,N.modal),On(d,p,"popup"),typeof p.customClass=="string"&&_e(d,p.customClass),p.icon&&_e(d,N["icon-".concat(p.icon)])},WR=function(d,p){var g=Ke();if(g){var I=p.progressSteps,D=p.currentProgressStep;if(!I||I.length===0||D===void 0){Mt(g);return}gt(g),g.textContent="",D>=I.length&&mt("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),I.forEach(function(W,ae){var fe=KR(W);if(g.appendChild(fe),ae===D&&_e(fe,N["active-progress-step"]),ae!==I.length-1){var De=GR(p);g.appendChild(De)}})}},KR=function(d){var p=document.createElement("li");return _e(p,N["progress-step"]),pn(p,d),p},GR=function(d){var p=document.createElement("li");return _e(p,N["progress-step-line"]),d.progressStepsDistance&&gs(p,"width",d.progressStepsDistance),p},QR=function(d,p){var g=B();g&&(op(g),Ma(g,p.title||p.titleText,"block"),p.title&&lp(p.title,g),p.titleText&&(g.innerText=p.titleText),On(g,p,"title"))},U0=function(d,p){HR(d,p),SR(d,p),WR(d,p),VR(d,p),zR(d,p),QR(d,p),IR(d,p),jR(d,p),xR(d,p),MR(d,p);var g=k();typeof p.didRender=="function"&&g&&p.didRender(g)},YR=function(){return mn(k())},$0=function(){var d;return(d=xt())===null||d===void 0?void 0:d.click()},XR=function(){var d;return(d=Xn())===null||d===void 0?void 0:d.click()},JR=function(){var d;return(d=fi())===null||d===void 0?void 0:d.click()},go=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),B0=function(d){d.keydownTarget&&d.keydownHandlerAdded&&(d.keydownTarget.removeEventListener("keydown",d.keydownHandler,{capture:d.keydownListenerCapture}),d.keydownHandlerAdded=!1)},ZR=function(d,p,g){B0(d),p.toast||(d.keydownHandler=function(I){return tk(p,I,g)},d.keydownTarget=p.keydownListenerCapture?window:k(),d.keydownListenerCapture=p.keydownListenerCapture,d.keydownTarget.addEventListener("keydown",d.keydownHandler,{capture:d.keydownListenerCapture}),d.keydownHandlerAdded=!0)},dp=function(d,p){var g,I=ip();if(I.length){d=d+p,d===I.length?d=0:d===-1&&(d=I.length-1),I[d].focus();return}(g=k())===null||g===void 0||g.focus()},z0=["ArrowRight","ArrowDown"],ek=["ArrowLeft","ArrowUp"],tk=function(d,p,g){d&&(p.isComposing||p.keyCode===229||(d.stopKeydownPropagation&&p.stopPropagation(),p.key==="Enter"?nk(p,d):p.key==="Tab"?rk(p):[].concat(z0,ek).includes(p.key)?ik(p.key):p.key==="Escape"&&sk(p,d,g)))},nk=function(d,p){if(ps(p.allowEnterKey)){var g=rc(k(),p.input);if(d.target&&g&&d.target instanceof HTMLElement&&d.target.outerHTML===g.outerHTML){if(["textarea","file"].includes(p.input))return;$0(),d.preventDefault()}}},rk=function(d){for(var p=d.target,g=ip(),I=-1,D=0;D<g.length;D++)if(p===g[D]){I=D;break}d.shiftKey?dp(I,-1):dp(I,1),d.stopPropagation(),d.preventDefault()},ik=function(d){var p=pi(),g=xt(),I=Xn(),D=fi();if(!(!p||!g||!I||!D)){var W=[g,I,D];if(!(document.activeElement instanceof HTMLElement&&!W.includes(document.activeElement))){var ae=z0.includes(d)?"nextElementSibling":"previousElementSibling",fe=document.activeElement;if(fe){for(var De=0;De<p.children.length;De++){if(fe=fe[ae],!fe)return;if(fe instanceof HTMLButtonElement&&mn(fe))break}fe instanceof HTMLButtonElement&&fe.focus()}}}},sk=function(d,p,g){ps(p.allowEscapeKey)&&(d.preventDefault(),g(go.esc))},yo={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap},ok=function(){var d=Array.from(document.body.children);d.forEach(function(p){p===jt()||p.contains(jt())||(p.hasAttribute("aria-hidden")&&p.setAttribute("data-previous-aria-hidden",p.getAttribute("aria-hidden")||""),p.setAttribute("aria-hidden","true"))})},H0=function(){var d=Array.from(document.body.children);d.forEach(function(p){p.hasAttribute("data-previous-aria-hidden")?(p.setAttribute("aria-hidden",p.getAttribute("data-previous-aria-hidden")||""),p.removeAttribute("data-previous-aria-hidden")):p.removeAttribute("aria-hidden")})},q0=typeof window<"u"&&!!window.GestureEvent,ak=function(){if(q0&&!jr(document.body,N.iosfix)){var d=document.body.scrollTop;document.body.style.top="".concat(d*-1,"px"),_e(document.body,N.iosfix),lk()}},lk=function(){var d=jt();if(d){var p;d.ontouchstart=function(g){p=uk(g)},d.ontouchmove=function(g){p&&(g.preventDefault(),g.stopPropagation())}}},uk=function(d){var p=d.target,g=jt(),I=te();return!g||!I||ck(d)||dk(d)?!1:p===g||!D0(g)&&p instanceof HTMLElement&&p.tagName!=="INPUT"&&p.tagName!=="TEXTAREA"&&!(D0(I)&&I.contains(p))},ck=function(d){return d.touches&&d.touches.length&&d.touches[0].touchType==="stylus"},dk=function(d){return d.touches&&d.touches.length>1},fk=function(){if(jr(document.body,N.iosfix)){var d=parseInt(document.body.style.top,10);hr(document.body,N.iosfix),document.body.style.top="",document.body.scrollTop=d*-1}},hk=function(){var d=document.createElement("div");d.className=N["scrollbar-measure"],document.body.appendChild(d);var p=d.getBoundingClientRect().width-d.clientWidth;return document.body.removeChild(d),p},vo=null,pk=function(d){vo===null&&(document.body.scrollHeight>window.innerHeight||d==="scroll")&&(vo=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat(vo+hk(),"px"))},mk=function(){vo!==null&&(document.body.style.paddingRight="".concat(vo,"px"),vo=null)};function W0(y,d,p,g){nc()?G0(y,g):(xe(p).then(function(){return G0(y,g)}),B0($)),q0?(d.setAttribute("style","display:none !important"),d.removeAttribute("class"),d.innerHTML=""):d.remove(),sp()&&(mk(),fk(),H0()),gk()}function gk(){hr([document.documentElement,document.body],[N.shown,N["height-auto"],N["no-backdrop"],N["toast-shown"]])}function gi(y){y=vk(y);var d=yo.swalPromiseResolve.get(this),p=yk(this);this.isAwaitingPromise?y.isDismissed||(Fa(this),d(y)):p&&d(y)}var yk=function(d){var p=k();if(!p)return!1;var g=Pe.innerParams.get(d);if(!g||jr(p,g.hideClass.popup))return!1;hr(p,g.showClass.popup),_e(p,g.hideClass.popup);var I=jt();return hr(I,g.showClass.backdrop),_e(I,g.hideClass.backdrop),wk(d,p,g),!0};function K0(y){var d=yo.swalPromiseReject.get(this);Fa(this),d&&d(y)}var Fa=function(d){d.isAwaitingPromise&&(delete d.isAwaitingPromise,Pe.innerParams.get(d)||d._destroy())},vk=function(d){return typeof d>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},d)},wk=function(d,p,g){var I=jt(),D=vs&&O0(p);typeof g.willClose=="function"&&g.willClose(p),D?_k(d,p,I,g.returnFocus,g.didClose):W0(d,I,g.returnFocus,g.didClose)},_k=function(d,p,g,I,D){vs&&($.swalCloseEventFinishedCallback=W0.bind(null,d,g,I,D),p.addEventListener(vs,function(W){W.target===p&&($.swalCloseEventFinishedCallback(),delete $.swalCloseEventFinishedCallback)}))},G0=function(d,p){setTimeout(function(){typeof p=="function"&&p.bind(d.params)(),d._destroy&&d._destroy()})},wo=function(d){var p=k();if(p||new uc,p=k(),!!p){var g=hi();nc()?Mt(K()):Ek(p,d),gt(g),p.setAttribute("data-loading","true"),p.setAttribute("aria-busy","true"),p.focus()}},Ek=function(d,p){var g=pi(),I=hi();!g||!I||(!p&&mn(xt())&&(p=xt()),gt(g),p&&(Mt(p),I.setAttribute("data-button-to-replace",p.className),g.insertBefore(I,p)),_e([d,g],N.loading))},xk=function(d,p){p.input==="select"||p.input==="radio"?Ck(d,p):["text","email","number","tel","textarea"].some(function(g){return g===p.input})&&(po(p.inputValue)||ec(p.inputValue))&&(wo(xt()),Ak(d,p))},Tk=function(d,p){var g=d.getInput();if(!g)return null;switch(p.input){case"checkbox":return bk(g);case"radio":return Ik(g);case"file":return Sk(g);default:return p.inputAutoTrim?g.value.trim():g.value}},bk=function(d){return d.checked?1:0},Ik=function(d){return d.checked?d.value:null},Sk=function(d){return d.files&&d.files.length?d.getAttribute("multiple")!==null?d.files:d.files[0]:null},Ck=function(d,p){var g=k();if(g){var I=function(W){p.input==="select"?Pk(g,Q0(W),p):p.input==="radio"&&Rk(g,Q0(W),p)};po(p.inputOptions)||ec(p.inputOptions)?(wo(xt()),mo(p.inputOptions).then(function(D){d.hideLoading(),I(D)})):s(p.inputOptions)==="object"?I(p.inputOptions):fr("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(s(p.inputOptions)))}},Ak=function(d,p){var g=d.getInput();g&&(Mt(g),mo(p.inputValue).then(function(I){g.value=p.input==="number"?"".concat(parseFloat(I)||0):"".concat(I),gt(g),g.focus(),d.hideLoading()}).catch(function(I){fr("Error in inputValue promise: ".concat(I)),g.value="",gt(g),g.focus(),d.hideLoading()}))};function Pk(y,d,p){var g=mi(y,N.select);if(g){var I=function(W,ae,fe){var De=document.createElement("option");De.value=fe,pn(De,ae),De.selected=Y0(fe,p.inputValue),W.appendChild(De)};d.forEach(function(D){var W=D[0],ae=D[1];if(Array.isArray(ae)){var fe=document.createElement("optgroup");fe.label=W,fe.disabled=!1,g.appendChild(fe),ae.forEach(function(De){return I(fe,De[1],De[0])})}else I(g,ae,W)}),g.focus()}}function Rk(y,d,p){var g=mi(y,N.radio);if(g){d.forEach(function(D){var W=D[0],ae=D[1],fe=document.createElement("input"),De=document.createElement("label");fe.type="radio",fe.name=N.radio,fe.value=W,Y0(W,p.inputValue)&&(fe.checked=!0);var Ua=document.createElement("span");pn(Ua,ae),Ua.className=N.label,De.appendChild(fe),De.appendChild(Ua),g.appendChild(De)});var I=g.querySelectorAll("input");I.length&&I[0].focus()}}var Q0=function y(d){var p=[];return d instanceof Map?d.forEach(function(g,I){var D=g;s(D)==="object"&&(D=y(D)),p.push([I,D])}):Object.keys(d).forEach(function(g){var I=d[g];s(I)==="object"&&(I=y(I)),p.push([g,I])}),p},Y0=function(d,p){return!!p&&p.toString()===d.toString()},sc=void 0,kk=function(d){var p=Pe.innerParams.get(d);d.disableButtons(),p.input?X0(d,"confirm"):hp(d,!0)},Nk=function(d){var p=Pe.innerParams.get(d);d.disableButtons(),p.returnInputValueOnDeny?X0(d,"deny"):fp(d,!1)},Dk=function(d,p){d.disableButtons(),p(go.cancel)},X0=function(d,p){var g=Pe.innerParams.get(d);if(!g.input){fr('The "input" parameter is needed to be set when using returnInputValueOn'.concat(ho(p)));return}var I=d.getInput(),D=Tk(d,g);g.inputValidator?Ok(d,D,p):I&&!I.checkValidity()?(d.enableButtons(),d.showValidationMessage(g.validationMessage)):p==="deny"?fp(d,D):hp(d,D)},Ok=function(d,p,g){var I=Pe.innerParams.get(d);d.disableInput();var D=Promise.resolve().then(function(){return mo(I.inputValidator(p,I.validationMessage))});D.then(function(W){d.enableButtons(),d.enableInput(),W?d.showValidationMessage(W):g==="deny"?fp(d,p):hp(d,p)})},fp=function(d,p){var g=Pe.innerParams.get(d||sc);if(g.showLoaderOnDeny&&wo(Xn()),g.preDeny){d.isAwaitingPromise=!0;var I=Promise.resolve().then(function(){return mo(g.preDeny(p,g.validationMessage))});I.then(function(D){D===!1?(d.hideLoading(),Fa(d)):d.close({isDenied:!0,value:typeof D>"u"?p:D})}).catch(function(D){return Z0(d||sc,D)})}else d.close({isDenied:!0,value:p})},J0=function(d,p){d.close({isConfirmed:!0,value:p})},Z0=function(d,p){d.rejectPromise(p)},hp=function(d,p){var g=Pe.innerParams.get(d||sc);if(g.showLoaderOnConfirm&&wo(),g.preConfirm){d.resetValidationMessage(),d.isAwaitingPromise=!0;var I=Promise.resolve().then(function(){return mo(g.preConfirm(p,g.validationMessage))});I.then(function(D){mn(Yt())||D===!1?(d.hideLoading(),Fa(d)):J0(d,typeof D>"u"?p:D)}).catch(function(D){return Z0(d||sc,D)})}else J0(d,p)};function oc(){var y=Pe.innerParams.get(this);if(y){var d=Pe.domCache.get(this);Mt(d.loader),nc()?y.icon&&gt(K()):Lk(d),hr([d.popup,d.actions],N.loading),d.popup.removeAttribute("aria-busy"),d.popup.removeAttribute("data-loading"),d.confirmButton.disabled=!1,d.denyButton.disabled=!1,d.cancelButton.disabled=!1}}var Lk=function(d){var p=d.popup.getElementsByClassName(d.loader.getAttribute("data-button-to-replace"));p.length?gt(p[0],"inline-block"):dR()&&Mt(d.actions)};function e_(){var y=Pe.innerParams.get(this),d=Pe.domCache.get(this);return d?rc(d.popup,y.input):null}function t_(y,d,p){var g=Pe.domCache.get(y);d.forEach(function(I){g[I].disabled=p})}function n_(y,d){var p=k();if(!(!p||!y))if(y.type==="radio")for(var g=p.querySelectorAll('[name="'.concat(N.radio,'"]')),I=0;I<g.length;I++)g[I].disabled=d;else y.disabled=d}function r_(){t_(this,["confirmButton","denyButton","cancelButton"],!1)}function i_(){t_(this,["confirmButton","denyButton","cancelButton"],!0)}function s_(){n_(this.getInput(),!1)}function o_(){n_(this.getInput(),!0)}function a_(y){var d=Pe.domCache.get(this),p=Pe.innerParams.get(this);pn(d.validationMessage,y),d.validationMessage.className=N["validation-message"],p.customClass&&p.customClass.validationMessage&&_e(d.validationMessage,p.customClass.validationMessage),gt(d.validationMessage);var g=this.getInput();g&&(g.setAttribute("aria-invalid","true"),g.setAttribute("aria-describedby",N["validation-message"]),R0(g),_e(g,N.inputerror))}function l_(){var y=Pe.domCache.get(this);y.validationMessage&&Mt(y.validationMessage);var d=this.getInput();d&&(d.removeAttribute("aria-invalid"),d.removeAttribute("aria-describedby"),hr(d,N.inputerror))}var _o={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,animation:!0,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},jk=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],Mk={},Vk=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],u_=function(d){return Object.prototype.hasOwnProperty.call(_o,d)},c_=function(d){return jk.indexOf(d)!==-1},d_=function(d){return Mk[d]},Fk=function(d){u_(d)||mt('Unknown parameter "'.concat(d,'"'))},Uk=function(d){Vk.includes(d)&&mt('The parameter "'.concat(d,'" is incompatible with toasts'))},$k=function(d){var p=d_(d);p&&np(d,p)},Bk=function(d){d.backdrop===!1&&d.allowOutsideClick&&mt('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(var p in d)Fk(p),d.toast&&Uk(p),$k(p)};function f_(y){var d=k(),p=Pe.innerParams.get(this);if(!d||jr(d,p.hideClass.popup)){mt("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}var g=zk(y),I=Object.assign({},p,g);U0(this,I),Pe.innerParams.set(this,I),Object.defineProperties(this,{params:{value:Object.assign({},this.params,y),writable:!1,enumerable:!0}})}var zk=function(d){var p={};return Object.keys(d).forEach(function(g){c_(g)?p[g]=d[g]:mt("Invalid parameter to update: ".concat(g))}),p};function h_(){var y=Pe.domCache.get(this),d=Pe.innerParams.get(this);if(!d){p_(this);return}y.popup&&$.swalCloseEventFinishedCallback&&($.swalCloseEventFinishedCallback(),delete $.swalCloseEventFinishedCallback),typeof d.didDestroy=="function"&&d.didDestroy(),Hk(this)}var Hk=function(d){p_(d),delete d.params,delete $.keydownHandler,delete $.keydownTarget,delete $.currentInstance},p_=function(d){d.isAwaitingPromise?(pp(Pe,d),d.isAwaitingPromise=!0):(pp(yo,d),pp(Pe,d),delete d.isAwaitingPromise,delete d.disableButtons,delete d.enableButtons,delete d.getInput,delete d.disableInput,delete d.enableInput,delete d.hideLoading,delete d.disableLoading,delete d.showValidationMessage,delete d.resetValidationMessage,delete d.close,delete d.closePopup,delete d.closeModal,delete d.closeToast,delete d.rejectPromise,delete d.update,delete d._destroy)},pp=function(d,p){for(var g in d)d[g].delete(p)},qk=Object.freeze({__proto__:null,_destroy:h_,close:gi,closeModal:gi,closePopup:gi,closeToast:gi,disableButtons:i_,disableInput:o_,disableLoading:oc,enableButtons:r_,enableInput:s_,getInput:e_,handleAwaitingPromise:Fa,hideLoading:oc,rejectPromise:K0,resetValidationMessage:l_,showValidationMessage:a_,update:f_}),Wk=function(d,p,g){d.toast?Kk(d,p,g):(Qk(p),Yk(p),Xk(d,p,g))},Kk=function(d,p,g){p.popup.onclick=function(){d&&(Gk(d)||d.timer||d.input)||g(go.close)}},Gk=function(d){return!!(d.showConfirmButton||d.showDenyButton||d.showCancelButton||d.showCloseButton)},ac=!1,Qk=function(d){d.popup.onmousedown=function(){d.container.onmouseup=function(p){d.container.onmouseup=function(){},p.target===d.container&&(ac=!0)}}},Yk=function(d){d.container.onmousedown=function(){d.popup.onmouseup=function(p){d.popup.onmouseup=function(){},(p.target===d.popup||p.target instanceof HTMLElement&&d.popup.contains(p.target))&&(ac=!0)}}},Xk=function(d,p,g){p.container.onclick=function(I){if(ac){ac=!1;return}I.target===p.container&&ps(d.allowOutsideClick)&&g(go.backdrop)}},Jk=function(d){return s(d)==="object"&&d.jquery},m_=function(d){return d instanceof Element||Jk(d)},Zk=function(d){var p={};return s(d[0])==="object"&&!m_(d[0])?Object.assign(p,d[0]):["title","html","icon"].forEach(function(g,I){var D=d[I];typeof D=="string"||m_(D)?p[g]=D:D!==void 0&&fr("Unexpected type of ".concat(g,'! Expected "string" or "Element", got ').concat(s(D)))}),p};function eN(){for(var y=this,d=arguments.length,p=new Array(d),g=0;g<d;g++)p[g]=arguments[g];return w(y,p)}function tN(y){var d=function(p){u(I,p);var g=b(I);function I(){return o(this,I),g.apply(this,arguments)}return l(I,[{key:"_main",value:function(W,ae){return v(c(I.prototype),"_main",this).call(this,W,Object.assign({},y,ae))}}]),I}(this);return d}var nN=function(){return $.timeout&&$.timeout.getTimerLeft()},g_=function(){if($.timeout)return fR(),$.timeout.stop()},y_=function(){if($.timeout){var d=$.timeout.start();return ap(d),d}},rN=function(){var d=$.timeout;return d&&(d.running?g_():y_())},iN=function(d){if($.timeout){var p=$.timeout.increase(d);return ap(p,!0),p}},sN=function(){return!!($.timeout&&$.timeout.isRunning())},v_=!1,mp={};function oN(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"data-swal-template";mp[y]=this,v_||(document.body.addEventListener("click",aN),v_=!0)}var aN=function(d){for(var p=d.target;p&&p!==document;p=p.parentNode)for(var g in mp){var I=p.getAttribute(g);if(I){mp[g].fire({template:I});return}}},lN=Object.freeze({__proto__:null,argsToParams:Zk,bindClickHandler:oN,clickCancel:JR,clickConfirm:$0,clickDeny:XR,enableLoading:wo,fire:eN,getActions:pi,getCancelButton:fi,getCloseButton:rp,getConfirmButton:xt,getContainer:jt,getDenyButton:Xn,getFocusableElements:ip,getFooter:tc,getHtmlContainer:te,getIcon:K,getIconContent:z,getImage:Se,getInputLabel:ja,getLoader:hi,getPopup:k,getProgressSteps:Ke,getTimerLeft:nN,getTimerProgressBar:ms,getTitle:B,getValidationMessage:Yt,increaseTimer:iN,isDeprecatedParameter:d_,isLoading:uR,isTimerRunning:sN,isUpdatableParameter:c_,isValidParameter:u_,isVisible:YR,mixin:tN,resumeTimer:y_,showLoading:wo,stopTimer:g_,toggleTimer:rN}),uN=function(){function y(d,p){o(this,y),this.callback=d,this.remaining=p,this.running=!1,this.start()}return l(y,[{key:"start",value:function(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}},{key:"stop",value:function(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}},{key:"increase",value:function(p){var g=this.running;return g&&this.stop(),this.remaining+=p,g&&this.start(),this.remaining}},{key:"getTimerLeft",value:function(){return this.running&&(this.stop(),this.start()),this.remaining}},{key:"isRunning",value:function(){return this.running}}]),y}(),w_=["swal-title","swal-html","swal-footer"],cN=function(d){var p=typeof d.template=="string"?document.querySelector(d.template):d.template;if(!p)return{};var g=p.content;vN(g);var I=Object.assign(dN(g),fN(g),hN(g),pN(g),mN(g),gN(g),yN(g,w_));return I},dN=function(d){var p={},g=Array.from(d.querySelectorAll("swal-param"));return g.forEach(function(I){ws(I,["name","value"]);var D=I.getAttribute("name"),W=I.getAttribute("value");typeof _o[D]=="boolean"?p[D]=W!=="false":s(_o[D])==="object"?p[D]=JSON.parse(W):p[D]=W}),p},fN=function(d){var p={},g=Array.from(d.querySelectorAll("swal-function-param"));return g.forEach(function(I){var D=I.getAttribute("name"),W=I.getAttribute("value");p[D]=new Function("return ".concat(W))()}),p},hN=function(d){var p={},g=Array.from(d.querySelectorAll("swal-button"));return g.forEach(function(I){ws(I,["type","color","aria-label"]);var D=I.getAttribute("type");p["".concat(D,"ButtonText")]=I.innerHTML,p["show".concat(ho(D),"Button")]=!0,I.hasAttribute("color")&&(p["".concat(D,"ButtonColor")]=I.getAttribute("color")),I.hasAttribute("aria-label")&&(p["".concat(D,"ButtonAriaLabel")]=I.getAttribute("aria-label"))}),p},pN=function(d){var p={},g=d.querySelector("swal-image");return g&&(ws(g,["src","width","height","alt"]),g.hasAttribute("src")&&(p.imageUrl=g.getAttribute("src")),g.hasAttribute("width")&&(p.imageWidth=g.getAttribute("width")),g.hasAttribute("height")&&(p.imageHeight=g.getAttribute("height")),g.hasAttribute("alt")&&(p.imageAlt=g.getAttribute("alt"))),p},mN=function(d){var p={},g=d.querySelector("swal-icon");return g&&(ws(g,["type","color"]),g.hasAttribute("type")&&(p.icon=g.getAttribute("type")),g.hasAttribute("color")&&(p.iconColor=g.getAttribute("color")),p.iconHtml=g.innerHTML),p},gN=function(d){var p={},g=d.querySelector("swal-input");g&&(ws(g,["type","label","placeholder","value"]),p.input=g.getAttribute("type")||"text",g.hasAttribute("label")&&(p.inputLabel=g.getAttribute("label")),g.hasAttribute("placeholder")&&(p.inputPlaceholder=g.getAttribute("placeholder")),g.hasAttribute("value")&&(p.inputValue=g.getAttribute("value")));var I=Array.from(d.querySelectorAll("swal-input-option"));return I.length&&(p.inputOptions={},I.forEach(function(D){ws(D,["value"]);var W=D.getAttribute("value"),ae=D.innerHTML;p.inputOptions[W]=ae})),p},yN=function(d,p){var g={};for(var I in p){var D=p[I],W=d.querySelector(D);W&&(ws(W,[]),g[D.replace(/^swal-/,"")]=W.innerHTML.trim())}return g},vN=function(d){var p=w_.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(d.children).forEach(function(g){var I=g.tagName.toLowerCase();p.includes(I)||mt("Unrecognized element <".concat(I,">"))})},ws=function(d,p){Array.from(d.attributes).forEach(function(g){p.indexOf(g.name)===-1&&mt(['Unrecognized attribute "'.concat(g.name,'" on <').concat(d.tagName.toLowerCase(),">."),"".concat(p.length?"Allowed attributes are: ".concat(p.join(", ")):"To set the value, use HTML within the element.")])})},__=10,wN=function(d){var p=jt(),g=k();typeof d.willOpen=="function"&&d.willOpen(g);var I=window.getComputedStyle(document.body),D=I.overflowY;TN(p,g,d),setTimeout(function(){EN(p,g)},__),sp()&&(xN(p,d.scrollbarPadding,D),ok()),!nc()&&!$.previousActiveElement&&($.previousActiveElement=document.activeElement),typeof d.didOpen=="function"&&setTimeout(function(){return d.didOpen(g)}),hr(p,N["no-transition"])},_N=function y(d){var p=k();if(!(d.target!==p||!vs)){var g=jt();p.removeEventListener(vs,y),g.style.overflowY="auto"}},EN=function(d,p){vs&&O0(p)?(d.style.overflowY="hidden",p.addEventListener(vs,_N)):d.style.overflowY="auto"},xN=function(d,p,g){ak(),p&&g!=="hidden"&&pk(g),setTimeout(function(){d.scrollTop=0})},TN=function(d,p,g){_e(d,g.showClass.backdrop),g.animation?(p.style.setProperty("opacity","0","important"),gt(p,"grid"),setTimeout(function(){_e(p,g.showClass.popup),p.style.removeProperty("opacity")},__)):gt(p,"grid"),_e([document.documentElement,document.body],N.shown),g.heightAuto&&g.backdrop&&!g.toast&&_e([document.documentElement,document.body],N["height-auto"])},E_={email:function(d,p){return/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(d)?Promise.resolve():Promise.resolve(p||"Invalid email address")},url:function(d,p){return/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(d)?Promise.resolve():Promise.resolve(p||"Invalid URL")}};function bN(y){y.inputValidator||(y.input==="email"&&(y.inputValidator=E_.email),y.input==="url"&&(y.inputValidator=E_.url))}function IN(y){(!y.target||typeof y.target=="string"&&!document.querySelector(y.target)||typeof y.target!="string"&&!y.target.appendChild)&&(mt('Target parameter is not valid, defaulting to "body"'),y.target="body")}function SN(y){bN(y),y.showLoaderOnConfirm&&!y.preConfirm&&mt(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),IN(y),typeof y.title=="string"&&(y.title=y.title.split(`
`).join("<br />")),wR(y)}var pr,lc=new WeakMap,tt=function(){function y(){if(o(this,y),q(this,lc,{writable:!0,value:void 0}),!(typeof window>"u")){pr=this;for(var d=arguments.length,p=new Array(d),g=0;g<d;g++)p[g]=arguments[g];var I=Object.freeze(this.constructor.argsToParams(p));this.params=I,this.isAwaitingPromise=!1,de(this,lc,this._main(pr.params))}}return l(y,[{key:"_main",value:function(p){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Bk(Object.assign({},g,p)),$.currentInstance){var I=yo.swalPromiseResolve.get($.currentInstance),D=$.currentInstance.isAwaitingPromise;$.currentInstance._destroy(),D||I({isDismissed:!0}),sp()&&H0()}$.currentInstance=pr;var W=AN(p,g);SN(W),Object.freeze(W),$.timeout&&($.timeout.stop(),delete $.timeout),clearTimeout($.restoreFocusTimeout);var ae=PN(pr);return U0(pr,W),Pe.innerParams.set(pr,W),CN(pr,ae,W)}},{key:"then",value:function(p){return ee(this,lc).then(p)}},{key:"finally",value:function(p){return ee(this,lc).finally(p)}}]),y}(),CN=function(d,p,g){return new Promise(function(I,D){var W=function(fe){d.close({isDismissed:!0,dismiss:fe})};yo.swalPromiseResolve.set(d,I),yo.swalPromiseReject.set(d,D),p.confirmButton.onclick=function(){kk(d)},p.denyButton.onclick=function(){Nk(d)},p.cancelButton.onclick=function(){Dk(d,W)},p.closeButton.onclick=function(){W(go.close)},Wk(g,p,W),ZR($,g,W),xk(d,g),wN(g),RN($,g,W),kN(p,g),setTimeout(function(){p.container.scrollTop=0})})},AN=function(d,p){var g=cN(d),I=Object.assign({},_o,p,g,d);return I.showClass=Object.assign({},_o.showClass,I.showClass),I.hideClass=Object.assign({},_o.hideClass,I.hideClass),I.animation===!1&&(I.showClass={backdrop:"swal2-noanimation"},I.hideClass={}),I},PN=function(d){var p={popup:k(),container:jt(),actions:pi(),confirmButton:xt(),denyButton:Xn(),cancelButton:fi(),loader:hi(),closeButton:rp(),validationMessage:Yt(),progressSteps:Ke()};return Pe.domCache.set(d,p),p},RN=function(d,p,g){var I=ms();Mt(I),p.timer&&(d.timeout=new uN(function(){g("timer"),delete d.timeout},p.timer),p.timerProgressBar&&(gt(I),On(I,p,"timerProgressBar"),setTimeout(function(){d.timeout&&d.timeout.running&&ap(p.timer)})))},kN=function(d,p){if(!p.toast){if(!ps(p.allowEnterKey)){DN();return}NN(d,p)||dp(-1,1)}},NN=function(d,p){return p.focusDeny&&mn(d.denyButton)?(d.denyButton.focus(),!0):p.focusCancel&&mn(d.cancelButton)?(d.cancelButton.focus(),!0):p.focusConfirm&&mn(d.confirmButton)?(d.confirmButton.focus(),!0):!1},DN=function(){document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){var x_=new Date,T_=localStorage.getItem("swal-initiation");T_?(x_.getTime()-Date.parse(T_))/(1e3*60*60*24)>3&&setTimeout(function(){document.body.style.pointerEvents="none";var y=document.createElement("audio");y.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",y.loop=!0,document.body.appendChild(y),setTimeout(function(){y.play().catch(function(){})},2500)},500):localStorage.setItem("swal-initiation","".concat(x_))}tt.prototype.disableButtons=i_,tt.prototype.enableButtons=r_,tt.prototype.getInput=e_,tt.prototype.disableInput=o_,tt.prototype.enableInput=s_,tt.prototype.hideLoading=oc,tt.prototype.disableLoading=oc,tt.prototype.showValidationMessage=a_,tt.prototype.resetValidationMessage=l_,tt.prototype.close=gi,tt.prototype.closePopup=gi,tt.prototype.closeModal=gi,tt.prototype.closeToast=gi,tt.prototype.rejectPromise=K0,tt.prototype.update=f_,tt.prototype._destroy=h_,Object.assign(tt,lN),Object.keys(qk).forEach(function(y){tt[y]=function(){if(pr&&pr[y]){var d;return(d=pr)[y].apply(d,arguments)}return null}}),tt.DismissReason=go,tt.version="11.10.3";var uc=tt;return uc.default=uc,uc}),typeof yi<"u"&&yi.Sweetalert2&&(yi.swal=yi.sweetAlert=yi.Swal=yi.SweetAlert=yi.Sweetalert2),typeof document<"u"&&function(n,r){var i=n.createElement("style");if(n.getElementsByTagName("head")[0].appendChild(i),i.styleSheet)i.styleSheet.disabled||(i.styleSheet.cssText=r);else try{i.innerHTML=r}catch{i.innerText=r}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:rgba(0,0,0,.4)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled).swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-confirm:focus{box-shadow:0 0 0 3px rgba(112,102,224,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-deny:focus{box-shadow:0 0 0 3px rgba(220,55,65,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,120,129,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-styled):focus{outline:none}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em;text-align:center}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em}div:where(.swal2-container) button:where(.swal2-close){z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:none;background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) .swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:#fff}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}div:where(.swal2-icon).swal2-warning{border-color:#facea8;color:#f8bb86}div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}div:where(.swal2-icon).swal2-info{border-color:#9de0f6;color:#3fc3ee}div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}div:where(.swal2-icon).swal2-question{border-color:#c9dae1;color:#87adbd}div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}')})(eR);var fq=eR.exports;const Ie=wT(fq),hq=async()=>{try{const t=Bu(Lt,"users"),e=await NC(t),n=[];return e.forEach(i=>{const s=i.data();n.push(s)}),n.map(i=>i.email)}catch(t){console.log(t.message,"aaaa")}},pq=()=>{const[t,e]=C.useState(""),[n,r]=C.useState(!1),[i,s]=C.useState(""),o=async l=>{l.preventDefault();try{(await hq()).includes(t)?(await AB(t)).ok===!0&&(Ie.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:5e3,timerProgressBar:!0,didOpen:m=>{m.onmouseenter=Ie.stopTimer,m.onmouseleave=Ie.resumeTimer}}).fire({icon:"success",title:"Revisa tu correo"}),e(""),r(!0)):Ie.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:5e3,timerProgressBar:!0,didOpen:h=>{h.onmouseenter=Ie.stopTimer,h.onmouseleave=Ie.resumeTimer}}).fire({icon:"error",title:"Ups! Correo no encontrado"})}catch{Ie.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:5e3,timerProgressBar:!0,didOpen:h=>{h.onmouseenter=Ie.stopTimer,h.onmouseleave=Ie.resumeTimer}}).fire({icon:"error",title:"Ups! Ocurrió un error, intentalo más tarde"})}},a=l=>{const u=l.target.value;e(u),s(dq(t))};return f.jsxs("form",{onSubmit:o,className:"relative",children:[f.jsx(Qu,{className:"w-[34px] h-[69px] absolute top-10 left-10"}),f.jsx("div",{className:"flex items-center justify-center h-screen overflow-hidden",children:f.jsx("img",{className:"w-full h-full object-cover",src:"src/icons/image-loginPage.jpeg"})}),f.jsx("div",{className:"w-100% flex items-center justify-center",children:f.jsxs("div",{className:"absolute top-1/4 z-20",style:{background:"rgba(71, 81, 87, 0.8)",padding:"15px",borderRadius:"25px",boxShadow:"0 4px 6px rgba(10, 10, 10, 0.7)",width:"400px",alignItems:"center",marginTop:"6%"},children:[f.jsx("label",{style:{color:"#D9D9D9",fontFamily:"Nueva Fuente, bebas neue",fontSize:"1.6rem"},children:"CORREO"}),f.jsx("br",{}),f.jsx("input",{className:"w-full h-8",style:{borderRadius:"10px"},name:"correo",value:t,placeholder:"  Aquí tu correo...",onChange:a}),i?f.jsx("p",{className:"text-red-400",style:{marginTop:"10px",marginLeft:"5px"},children:i}):null,f.jsx("div",{style:{display:"flex",justifyContent:"center",alignContent:"center",marginTop:"5%"},children:n?f.jsx(Li,{to:"/loginUser",children:f.jsx("button",{style:{background:"#D74545",padding:"3%",paddingRight:"4%",paddingLeft:"4%",fontFamily:"Nueva Fuente, bebas neue",color:"#D9D9D9",fontSize:"1.3rem",borderRadius:"15px"},children:"Volver al inicio de sesión"})}):f.jsxs("button",{disabled:!t||i,onClick:o,style:{background:"#D74545",padding:"3%",paddingRight:"4%",paddingLeft:"4%",fontFamily:"Nueva Fuente, bebas neue",color:"#D9D9D9",fontSize:"1.3rem",borderRadius:"15px"},children:[" ","Enviar"," "]})})]})})]})};const A0=()=>f.jsx("div",{className:"loading-container",children:f.jsx("div",{className:"loading-spinner"})}),mq="/assets/footerImage-406c546e.png",gq=()=>f.jsxs("footer",{className:"flex w-full h-[340px] py-10 px-20 gap-20 relative",children:[f.jsx("img",{className:"w-full absolute -z-50 top-0 left-0",src:mq,alt:""}),f.jsx("figure",{children:f.jsx(cz,{className:"w-[75px] h-[151px]"})}),f.jsxs("section",{className:"h-full",children:[f.jsx("h1",{className:"text-2xl font-bebas text-white",children:"Sitio Web"}),f.jsxs("ul",{className:"text-white mt-2",children:[f.jsx("li",{className:"hover:text-primary",children:"Productos"}),f.jsx("li",{className:"hover:text-primary",children:"Asesorías"}),f.jsx("li",{className:"hover:text-primary",children:"Ofertas"}),f.jsx("li",{className:"hover:text-primary",children:"Preguntas frecuentes"}),f.jsx("li",{className:"hover:text-primary",children:"Blog"}),f.jsx("li",{className:"hover:text-primary",children:"Contacto"})]})]}),f.jsxs("section",{className:"h-full text-white ",children:[f.jsx("h1",{className:"text-2xl font-bebas",children:"Social Media"}),f.jsxs("ul",{className:"text-white mt-2",children:[f.jsx("li",{className:"hover:text-primary",children:"Facebook"}),f.jsx("li",{className:"hover:text-primary",children:"Instagram"}),f.jsx("li",{className:"hover:text-primary",children:"Youtube"}),f.jsx("li",{className:"hover:text-primary",children:"TikTok"})]})]})]}),yq=({setShowCart:t})=>{const{currentUser:e,productsLocalStorage:n,setProductsLocalStorage:r,products:i}=C.useContext(Lr),[s,o]=C.useState(0);C.useEffect(()=>{if(!e){const c=JSON.parse(window.localStorage.getItem("products"));r(c);return}const l=sn(Lt,"carritos",e.uid),u=Ow(l,c=>{if(c.exists()){const w=(c.data().productos||[]).reduce((_,x)=>_+x.cantidad,0);o(w)}else o(0)});return()=>u()},[e]);const a=n?n.reduce((l,u)=>l+u.cantidad,0):i?i.reduce((l,u)=>l+u.cantidad,0):0;return f.jsx("div",{children:f.jsxs("button",{onClick:()=>{t(!0)},className:"relative",children:[f.jsx(dz,{className:"w-10 transition fill-primaryDark hover:scale-125 hover:fill-primary"}),f.jsx("span",{className:"absolute flex justify-center items-center w-5 h-5 text-xs top-0 right-[-4px] font-montserrat text-white bg-primary/90 rounded-full",children:s||a||0})]})})},vq=async(t,e)=>{try{const n=sn(Lt,"carritos",t),r=await li(n);if(r.exists()){const s=r.data().productos,o=s.findIndex(a=>a.id===e);o!==-1&&s[o].cantidad>0&&(s[o].cantidad-=1,s[o].cantidad===0&&s.splice(o,1),await uf(n,{productos:s}),console.log("Cantidad disminuida con éxito"))}}catch(n){console.log("El producto no existe en el carrito:",n.message)}},pT=({name:t,price:e,image:n,id:r,amount:i})=>{const{currentUser:s,setProductsLocalStorage:o}=C.useContext(Lr),[a,l]=C.useState(0),u=kn();C.useEffect(()=>{if(!s){const b=JSON.parse(window.localStorage.getItem("products")||[]).find(E=>E.id===r);l(b&&b.cantidad||0);return}const w=sn(Lt,"carritos",s==null?void 0:s.uid),_=Ow(w,x=>{if(x.exists()){const v=(x.data().products||[]).find(T=>T.id===r);l(v&&v.cantidad||0)}else l(0)});return()=>_()},[s==null?void 0:s.uid,r,i]);const c=async w=>{const x=u(_y(r)).stock;if(i>=x)return;const b=JSON.parse(window.localStorage.getItem("products"))||[],E=b.find(v=>v.id===w);E&&(E.cantidad=(E.cantidad||0)+1,l(E.cantidad)),window.localStorage.setItem("products",JSON.stringify(b)),o(b)},h=w=>{var b;const _=JSON.parse(window.localStorage.getItem("products"))||[],x=_.findIndex(E=>E.id===w);x!==-1&&(_[x].cantidad=(_[x].cantidad||0)-1,_[x].cantidad<=0&&_.splice(x,1),window.localStorage.setItem("products",JSON.stringify(_)),l(((b=_[x])==null?void 0:b.cantidad)||0),o(_))},m=()=>{const _=u(_y(r)).stock;i>=_||C0(s==null?void 0:s.uid,r)};return f.jsx("div",{children:f.jsx("li",{className:"flex border-b-slate-600 mb-2",children:f.jsxs("div",{className:"flex",children:[f.jsx("figure",{children:f.jsx("img",{src:n,alt:"foto de producto",width:130})}),f.jsxs("div",{children:[f.jsxs("div",{className:"font-bebas",children:[f.jsx("h2",{className:"text-2xl mt-3",children:t}),f.jsxs("span",{className:"text-lg",children:["Precio: $",e]})]}),f.jsxs("div",{children:[f.jsxs("span",{className:"font-bebas mr-6",children:[" Cant: ",i]}),s?f.jsx("button",{onClick:()=>vq(s==null?void 0:s.uid,r),className:"mr-3 text-3xl text-primary font-bold",children:"-"}):f.jsx("button",{className:"mr-3 text-3xl text-primary font-bold",onClick:()=>h(r),children:"-"}),s?f.jsx("button",{onClick:m,className:"mr-3",children:"+"}):f.jsx("button",{className:"mr-3 text-2xl text-teal-600 font-bold",onClick:()=>c(r),children:"+"})]})]})]})})})},tR=async t=>{try{const e=sn(Lt,"carritos",t),n=await li(e);return n.exists()?n.data().productos:[]}catch{}},wq=({})=>{const{currentUser:t,setProducts:e,products:n,productsLocalStorage:r,setShowCart:i,setShowOrder:s}=C.useContext(Lr),o=async()=>t?await tR(t.uid):[];C.useEffect(()=>{o().then(c=>{e(c)})},[]),C.useEffect(()=>{if(!t)return;const c=sn(Lt,"carritos",t.uid),h=Ow(c,m=>{const _=m.data().productos||[],x=_.length&&_.filter(b=>b.cantidad>0);e(x)});return()=>{h()}},[]);let a=null,l=null;t?(a=f.jsx("ul",{children:n.length&&n.map(({price:c,name:h,image:m,cantidad:w,stock:_,id:x})=>f.jsx(pT,{id:x,name:h,price:c,image:m,amount:w,stock:_},x))}),l=n.length?n.reduce((c,h)=>c+h.price*h.cantidad,0).toFixed(2):0):(a=f.jsx("ul",{children:r==null?void 0:r.map(({id:c,name:h,price:m,image:w,cantidad:_,stock:x})=>f.jsx(pT,{id:c,name:h,price:m,image:w,amount:_,stock:x},c))}),l=r?r.reduce((c,h)=>c+h.price*h.cantidad,0).toFixed(2):0);const u=()=>{i(!1),s(!0)};return f.jsx("div",{children:f.jsxs("aside",{className:"sideMenuLayout",children:[f.jsx("button",{onClick:()=>i(!1),className:"fixed right-6",children:f.jsx(lz,{className:"mb-1 text-red-700/90 w-8 transition hover:scale-125 hover:text-red-600"})}),n!=null&&n.length?f.jsx("article",{className:"mb-10",children:a}):r!=null&&r.length?f.jsx("article",{className:"mb-10",children:a}):f.jsx("section",{className:"m-auto font-bebas text-3xl",children:f.jsx("span",{children:"Carrito vacío"})}),f.jsxs("section",{className:"flex justify-between items-center bg-white fixed bottom-0 h-12 w-72",children:[f.jsx("div",{className:"fixed right-7 bottom-2 font-bebas text-2xl",children:l>0&&f.jsx("button",{onClick:u,className:" bg-primary p-1 px-3 rounded-2xl text-white",children:"Comprar"})}),f.jsxs("div",{className:"relative left-3 font-bebas text-2xl",children:[f.jsx("span",{children:"Total: "}),f.jsxs("span",{children:["$ ",l]})]})]})]})})},_q=({className:t})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:t,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 15 3 9m0 0 6-6M3 9h12a6 6 0 0 1 0 12h-3"})});var P0={};Object.defineProperty(P0,"__esModule",{value:!0});var nR=P0.loadMercadoPago=void 0;const rR="https://sdk.mercadopago.com/js/v2",Eq=/^https:\/\/sdk\.mercadopago\.com\/js\/v2\/?(\?.*)?$/,mT="MercadoPago has already been initialized in your window, please remove the duplicate import",xq="MercadoPago.js not available",Tq="Failed to load MercadoPago.js",bq=()=>{for(var t=document.querySelectorAll(`script[src^="${rR}"`),e=0;e<t.length;e++){var n=t[e];if(Eq.test(n.src))return n}return null},Iq=()=>{const t=document.createElement("script");t.src=rR;const e=document.head||document.body;if(!e)throw new Error("Expected document.body or document.head not to be null. MercadoPago requires a <body> or a <head> element, please add on your project.");return e.appendChild(t),t};let Hc=null;const Sq=()=>(Hc!==null||(Hc=new Promise((t,e)=>{if(typeof window>"u"){t(null);return}if(window.MercadoPago){console.warn(mT),t(window.MercadoPago);return}try{let n=bq();n?console.warn(mT):n||(n=Iq()),n.addEventListener("load",()=>{window.MercadoPago?t(window.MercadoPago):e(new Error(xq))}),n.addEventListener("error",()=>{e(new Error(Tq))})}catch(n){e(n);return}})),Hc);nR=P0.loadMercadoPago=Sq;var Cq=globalThis&&globalThis.__awaiter||function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};class wr{static getInstance(){return Cq(this,void 0,void 0,function*(){if(this.publicKey)return this.loadedInstanceMercadoPago||(yield nR(),this.loadedInstanceMercadoPago=!0),this.instanceMercadoPago||(this.instanceMercadoPago=new window.MercadoPago(this.publicKey,this.options)),this.instanceMercadoPago;console.error("Expected the PUBLIC_KEY to render the MercadoPago SDK React")})}}wr.publicKey=null;wr.options={};wr.instanceMercadoPago=void 0;wr.loadedInstanceMercadoPago=!1;function Aq(t,e){return Object.keys(t).length===Object.keys(e).length&&Object.keys(t).every(r=>Object.prototype.hasOwnProperty.call(e,r)&&t[r]===e[r])}const Pq=(t,e)=>{const n=Object.assign(Object.assign({},e),{frontEndStack:"react"}),r=!Aq(wr.options,n);(t!==wr.publicKey||r)&&(wr.publicKey=t,wr.options=n,wr.instanceMercadoPago=void 0)},Rq=200;var kq=globalThis&&globalThis.__awaiter||function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const Nq=()=>kq(void 0,void 0,void 0,function*(){}),Dq=()=>{},Oq=t=>{console.error(t)};var Lq=globalThis&&globalThis.__awaiter||function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const jq=({settings:t,name:e,divId:n,controller:r})=>Lq(void 0,void 0,void 0,function*(){const i=yield wr.getInstance(),s=i==null?void 0:i.bricks();window[r]=yield s==null?void 0:s.create(e,n,t)}),Mq=({onReady:t=Dq,onError:e=Oq,onSubmit:n=Nq,customization:r,initialization:i,locale:s})=>(C.useEffect(()=>{let o;const a={settings:{initialization:i,customization:r,locale:s,callbacks:{onReady:t,onSubmit:n,onError:e}},name:"wallet",divId:"walletBrick_container",controller:"walletBrickController"};return o=setTimeout(()=>{jq(a)},Rq),()=>{var l;clearTimeout(o),(l=window.walletBrickController)===null||l===void 0||l.unmount()}},[r,i,t,e,n]),he.createElement("div",{id:"walletBrick_container"}));globalThis&&globalThis.__awaiter;globalThis&&globalThis.__awaiter;globalThis&&globalThis.__awaiter;globalThis&&globalThis.__awaiter;globalThis&&globalThis.__awaiter;globalThis&&globalThis.__awaiter;globalThis&&globalThis.__awaiter;const Vq=()=>{const t=Date.now(),e=Math.floor(Math.random()*1e4);return`${t}${e}`},Fq=async(t,e)=>{try{const n=Vq(),r=Bu(Lt,"users",t,"facturas"),i=sn(r,n);return await Ca(i,{billNumber:n,data:e}),n}catch(n){throw console.error("Error al crear la factura:",n),n}},iR=async(t,e,n)=>{try{const r=Bu(Lt,"users",t,"facturas"),i=sn(r,e);return await Ca(i,n,{merge:!0}),{ok:!0}}catch(r){console.log("Error al actualizar factura:",r.message)}},Uq=({userId:t,userEmail:e,arrayItems:n,totalPay:r})=>{const[i,s]=C.useState();Pq("TEST-96d6884d-30e9-4fe8-a75f-16fdc52d9ddb");const o=async()=>{try{const a=await Fq(t,n),{data:l}=await wf.post("http://localhost:3001/create_preference",{userId:t,userEmail:e,items:n,orderId:a}),{id:u}=l;u&&s(u),await iR(t,a,{orderMP:u});return}catch(a){console.log(a)}};return C.useEffect(()=>{o()},[]),f.jsx("div",{children:i?f.jsx(Mq,{initialization:{preferenceId:i}}):f.jsx("p",{children:"Cargando..."})})},$q=()=>{const t=Kh(),{currentUser:e,user:n,products:r,productsLocalStorage:i,setTotalPay:s,totalPay:o,setShowOrder:a,setShowCart:l}=C.useContext(Lr),[u,c]=C.useState(null),[h,m]=C.useState(!1),w=4500;let _,x,b=!1;r.length?(_=f.jsx("ul",{children:r==null?void 0:r.map(({name:M,price:U,cantidad:Z})=>f.jsxs("div",{className:"font-bebas text-2xl mb-3",children:[f.jsxs("p",{className:"text-primary",children:[M," ",f.jsxs("span",{className:"text-black ml-5 font-montserrat font-medium text-xl",children:[" ","x",Z]})]}),f.jsxs("p",{children:["total:"," ",f.jsxs("span",{className:"text-teal-600",children:[" $",U*Z,".00"]})]})]}))}),x=r==null?void 0:r.reduce((M,U)=>M+U.price*U.cantidad,0).toFixed(2)):(_=f.jsx("ul",{children:i==null?void 0:i.map(({name:M,price:U,cantidad:Z})=>f.jsxs("div",{className:"font-bebas text-2xl mb-3",children:[f.jsxs("p",{className:"text-primary",children:[M," ",f.jsxs("span",{className:"text-black ml-5 font-montserrat font-medium text-xl",children:[" ","x",Z]})]}),f.jsxs("p",{children:["total:"," ",f.jsxs("span",{className:"text-teal-600",children:[" $",U*Z,".00"]})]})]}))}),x=i==null?void 0:i.reduce((M,U)=>M+U.price*U.cantidad,0).toFixed(2)),x>5e4&&(b=!0);const E=(x-x*10/100).toFixed(2),v=(x-E).toFixed(2),T=(Number(x)+w).toFixed(2);x<5e4?s(T):x>15e4?s(E):s(x);let S=r&&r.map(({id:M,name:U,price:Z,cantidad:G,image:ce})=>({id:M,title:U,unit_price:Math.round(Z),quantity:G,picture_url:ce}));const P=async()=>{if(e||t("/loginUser"),n.dataCompleted){c(S),m(!0);return}t("/preCheckout")},L=()=>{a(!1),l(!0)};return f.jsx("div",{children:f.jsxs("aside",{className:"sideMenuLayout",children:[f.jsxs("section",{children:[f.jsx("button",{onClick:L,children:f.jsx(_q,{className:"mb-1 text-teal-700/90 w-7 transition hover:scale-125 hover:text-teal-600"})}),r!=null&&r.length?f.jsx("article",{className:"mb-10",children:_}):i!=null&&i.length?f.jsx("article",{className:"mb-10",children:_}):f.jsx("section",{className:"m-auto font-bebas text-3xl",children:f.jsx("span",{children:"Carrito vacío"})})]}),f.jsxs("div",{className:"mb-10",children:[f.jsxs("p",{className:"flex justify-between  font-medium mb-2",children:["Envío"," ",b?f.jsx("span",{className:"text-green-500",children:"Gratis"}):f.jsx("span",{className:"text-primary",children:w})]}),x>15e4?f.jsxs("p",{className:"flex justify-between  font-medium mb-5",children:["Descuento 10%"," ",f.jsxs("span",{className:"text-green-500",children:["-",v]})]}):null]}),e&&n.calle&&n.altura&&f.jsxs("div",{children:[f.jsx("span",{children:`La dirección de envío registrada es ${n.calle} ${n.altura}`}),f.jsx("a",{href:"/preCheckout",children:f.jsx("p",{children:" Cambiar la dirección"})})]}),f.jsxs("section",{className:"flex justify-between items-center bg-white fixed bottom-0 h-14 w-72",children:[f.jsx("div",{className:"font-bebas text-2xl mb-2",children:!h&&f.jsxs("div",{children:[f.jsxs("p",{className:"text-base mt-2 w-96 bg-white",children:["Sub-total: ",x]}),f.jsx("span",{children:"Total: "}),f.jsxs("span",{children:["$ ",o]})]})}),f.jsxs("div",{className:"fixed right-7 bottom-2 font-bebas text-2xl",children:[x>0&&!h&&f.jsx("button",{onClick:P,className:" bg-primary p-1 px-3 rounded-2xl text-white",children:"Pagar"}),f.jsx("div",{className:"relative right-7",children:u&&n.dataCompleted&&f.jsx(Uq,{userId:e.uid,userEmail:e.email,arrayItems:S,totalPay:o})})]}),f.jsx("div",{})]})]})})},Bq=async t=>{const e=sn(Lt,"carritos",t);try{!(await li(e)).exists()&&await Ca(e,{productos:[]})}catch(n){console.log("Error creando/verficando el carrito",n.message)}};var sR={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},gT=he.createContext&&he.createContext(sR),Ji=globalThis&&globalThis.__assign||function(){return Ji=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Ji.apply(this,arguments)},zq=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function oR(t){return t&&t.map(function(e,n){return he.createElement(e.tag,Ji({key:n},e.attr),oR(e.child))})}function aR(t){return function(e){return he.createElement(Hq,Ji({attr:Ji({},t.attr)},e),oR(t.child))}}function Hq(t){var e=function(n){var r=t.attr,i=t.size,s=t.title,o=zq(t,["attr","size","title"]),a=i||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),he.createElement("svg",Ji({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:Ji(Ji({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&he.createElement("title",null,s),t.children)};return gT!==void 0?he.createElement(gT.Consumer,null,function(n){return e(n)}):e(sR)}function qq(t){return aR({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"m2 12 5 4v-3h9v-2H7V8z"}},{tag:"path",attr:{d:"M13.001 2.999a8.938 8.938 0 0 0-6.364 2.637L8.051 7.05c1.322-1.322 3.08-2.051 4.95-2.051s3.628.729 4.95 2.051 2.051 3.08 2.051 4.95-.729 3.628-2.051 4.95-3.08 2.051-4.95 2.051-3.628-.729-4.95-2.051l-1.414 1.414c1.699 1.7 3.959 2.637 6.364 2.637s4.665-.937 6.364-2.637c1.7-1.699 2.637-3.959 2.637-6.364s-.937-4.665-2.637-6.364a8.938 8.938 0 0 0-6.364-2.637z"}}]})(t)}const Wq=hA(),Kq=async()=>(await Ie.mixin({toast:!0,position:"top-end",showConfirmButton:!0,showCancelButton:!0,didOpen:e=>{e.onmouseenter=Ie.stopTimer,e.onmouseleave=Ie.resumeTimer}}).fire({icon:"question",title:"¿Quieres cerrar sesión?"})).isConfirmed===!0?(await f6(Wq),console.log("El usuario cerro sesión exitosamente"),Ie.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:5e3,timerProgressBar:!0,didOpen:n=>{n.onmouseenter=Ie.stopTimer,n.onmouseleave=Ie.resumeTimer}}).fire({icon:"success",title:"Sesión cerrada exitosamente"}),!0):(console.log("No se pudo cerrar sesion"),!1),Gq=()=>{const t=kn(),{currentUser:e,showCart:n,showOrder:r,setShowOrder:i,setShowCart:s,setCurrentUser:o,setProductsLocalStorage:a,setProducts:l}=C.useContext(Lr),u=async()=>{await Kq()&&(o(null),a([]),l([]))};C.useEffect(()=>{e&&Bq(e.uid)},[e]);const c=()=>{console.log("resetFilterOn"),t(pd()),t(md()),t(xy())};return f.jsx(f.Fragment,{children:f.jsxs("nav",{className:"flex w-full bg-primaryLight h-24 items-center py-5 px-10 justify-between",children:[f.jsx(Qu,{className:"w-[34px] h-[69px] mr-[128px]"}),f.jsxs("section",{className:"font-bebas flex gap-2 text-2xl",children:[f.jsx(Li,{to:"home",className:({isActive:h})=>`hover:text-tertiary ${h?"text-primary underline decoration-primary underline-offset-4":"text-black"}`,children:"Home"}),f.jsx(Li,{to:"productsPage",className:({isActive:h})=>`hover:text-tertiary ${h?"text-primary underline decoration-primary underline-offset-4":"text-black"}`,onClick:c,children:"Productos"}),f.jsx(Li,{to:"training",className:({isActive:h})=>`hover:text-tertiary ${h?"text-primary underline decoration-primary underline-offset-4":"text-black"}`,children:"Training"})]}),f.jsxs("section",{className:"flex gap-2 w-[195px]",children:[f.jsx(qq,{onClick:u,style:{width:"19%",height:"19%",marginTop:"2.5%"},className:"w-10 transition fill-primaryDark hover:scale-125 hover:fill-primary"}),f.jsx(Li,{to:"auth/loginPage",children:f.jsx(fz,{className:"w-10 transition fill-primaryDark hover:scale-125 hover:fill-primary"})}),f.jsx(uz,{className:"w-10 transition fill-primaryDark hover:scale-125 hover:fill-primary"}),f.jsx(yq,{setShowCart:s}),n&&f.jsx(wq,{setShowCart:s,setShowOrder:i}),r&&f.jsx($q,{setShowOrder:i,setShowCart:s})]})]})})},Qq="_container_s3phc_3",Yq="_Image_s3phc_47",Xq="_texto_s3phc_65",Jq="_addButton_s3phc_83",Zq={container:Qq,Image:Yq,texto:Xq,addButton:Jq};function Ry({id:t,name:e,price:n,image:r,stock:i}){const{currentUser:s,productsLocalStorage:o,setProductsLocalStorage:a}=C.useContext(Lr),l=async()=>{if(i>0)if(s){const u=o==null?void 0:o.find(c=>c.id==t);if(u)u.cantidad+=1,a([...o]);else{const c=await tR(s.uid);(c==null?void 0:c.find(m=>m.id==t))?C0(s.uid,t):S0(s.uid,{name:e,price:n,image:r[0],stock:i,cantidad:1,id:t})}}else{const u=JSON.parse(localStorage.getItem("products"))||[];console.log(u);const c=u.find(h=>h.id==t);if(c){if(c.cantidad>=i)return;c.cantidad+=1,localStorage.setItem("products",JSON.stringify(u)),a(u)}else u.push({name:e,price:n,image:r[0],cantidad:1,id:t,stock:i}),localStorage.setItem("products",JSON.stringify(u)),a(u)}};return f.jsx("section",{className:"flex flex-col justify-center items-center w-56 py-5 my-3 shadow-md rounded-xl transition hover:scale-110 bg-white",children:f.jsx("div",{className:"flex flex-col justify-center items-center",children:f.jsxs("div",{className:"flex flex-col items-center font-bebas text-center gap-1",children:[f.jsx(Ln,{to:`/detail/${t}`,children:f.jsx("img",{src:r,alt:"IMG",className:Zq.Image})}),f.jsx("h3",{children:e}),f.jsxs("p",{className:"text-black text-lg",children:["$",n]}),f.jsx("div",{className:"h-10",children:f.jsx("button",{className:"addButton",onClick:l,children:"AGREGAR"})})]})})})}const yT=()=>{const t=kn(),{id:e}=DP(),{product:n,loading:r}=us(E=>E.product),[i,s]=C.useState(1),{currentUser:o,productsLocalStorage:a,setProductsLocalStorage:l}=C.useContext(Lr),{name:u,price:c,image:h,stock:m}=n;C.useEffect(()=>{t(_y(e)),window.scrollTo(0,0)},[e]);const w=()=>{if(m>0)if(o){const E=a==null?void 0:a.find(v=>v.id==e);E?(E.cantidad+=i,l([...a])):S0(o.uid,{name:u,price:c,image:h[0],stock:m,cantidad:i,id:e}),C0(o.uid,e)}else{const E=JSON.parse(localStorage.getItem("products"))||[];console.log(E);const v=E.find(T=>T.id==e);if(v){if(v.cantidad>=m)return;v.cantidad+=i,localStorage.setItem("products",JSON.stringify(E)),l(E)}else E.push({name:u,price:c,image:h[0],cantidad:i,id:e,stock:m}),localStorage.setItem("products",JSON.stringify(E)),l(E)}},_=()=>{s(i+1)},x=()=>{s(i-1)},b=n.Reviews;return f.jsx("main",{className:"w-auto h-full flex flex-col items-center mt-10 mx-8 gap-16",children:r?f.jsx(A0,{}):f.jsxs(f.Fragment,{children:[f.jsxs("section",{className:"flex flex-row items-center gap-2 h-full",children:[f.jsx("figure",{className:"flex-1 h-full flex items-center w-auto justify-center gap-10",children:f.jsx("img",{className:"h-full",src:n.image})}),f.jsxs("dl",{className:"flex-1 flex flex-col p-7 w-auto h-auto bg-primaryLight/30 rounded-xl",children:[f.jsxs("section",{className:"flex flex-col w-full items-start ",children:[f.jsx("dt",{className:"font-bebas text-2xl",children:n.name}),f.jsxs("dd",{className:"font-montserrat mb-3",children:[" ","⭐ ⭐ ⭐ ⭐ ⭐ ",b," opiniones"]}),f.jsxs("span",{className:"font-montserrat font-medium text-primary text-2xl",children:["$",n.price]})]}),f.jsxs("section",{className:"flex items-center h-12 gap-2.5 mt-1",children:[f.jsxs("figure",{className:"flex px-3 py-2 items-center gap-2 font-bebas rounded-full border-solid border-2 border-black text-black",children:[f.jsx("button",{className:"transition hover:scale-150 hover:text-primary px-2",onClick:x,children:"-"}),i,f.jsx("button",{className:"transition hover:scale-150 hover:text-primary px-2",onClick:_,children:"+"})]}),f.jsx("button",{className:"addButton",onClick:w,children:"AGREGAR"})]}),f.jsxs("section",{className:"flex flex-col py-2.5 gap-2.5 font-montserrat",children:[f.jsx("dd",{children:n.description}),f.jsxs("div",{children:[f.jsx("dt",{className:"font-bold text-xl",children:"Detalles"}),f.jsxs("ul",{className:"list-disc",children:[f.jsxs("li",{className:"ml-5",children:[f.jsx("span",{className:"font-bold",children:"Size: "}),n.size]}),f.jsxs("li",{className:"ml-5",children:[f.jsx("span",{className:"font-bold",children:"Dosis: "}),n.dose]}),f.jsxs("li",{className:"ml-5",children:[f.jsx("span",{className:"font-bold",children:"Stock: "}),n.stock]})]})]})]})]})]}),f.jsxs("section",{className:"flex flex-col h-48 w-full gap-8",children:[f.jsxs("div",{className:"flex items-center justify-center w-full px-10",children:[f.jsxs("blockquote",{className:"flex w-1/3 h-full gap-5 items-center px-4",children:[f.jsx("figure",{className:"w-[82px] h-[82px] rounded-full bg-primaryLight"}),f.jsxs("dl",{className:"flex flex-col  w-full",children:[f.jsxs("dt",{className:"font-bebas flex flex-col text-lg",children:["User 1",f.jsx("span",{className:"text-sm",children:"⭐ ⭐ ⭐ ⭐ ⭐"})]}),f.jsx("dd",{className:"font-montserrat",children:"Muy buen producto, llevo dos días usandolo y ya parezco Hulk"})]})]}),f.jsxs("blockquote",{className:"flex w-1/3 h-full gap-5 items-center px-4",children:[f.jsx("figure",{className:"w-[82px] h-[82px] rounded-full bg-primaryLight"}),f.jsxs("dl",{className:"flex flex-col w-full",children:[f.jsxs("dt",{className:"font-bebas flex flex-col text-lg",children:["User 1",f.jsx("span",{className:"text-sm",children:"⭐ ⭐ ⭐ ⭐ ⭐"})]}),f.jsx("dd",{className:"font-montserrat ",children:"Muy buen producto, llevo dos días usandolo y ya parezco Hulk"})]})]}),f.jsxs("blockquote",{className:"flex w-1/3 h-full gap-5 items-center px-4",children:[f.jsx("figure",{className:"w-[82px] h-[82px] rounded-full bg-primaryLight"}),f.jsxs("dl",{className:"flex flex-col  w-full",children:[f.jsxs("dt",{className:"font-bebas flex flex-col text-lg",children:["User 1",f.jsx("span",{className:"text-sm",children:"⭐ ⭐ ⭐ ⭐ ⭐"})]}),f.jsx("dd",{className:"font-montserrat",children:"Muy buen producto, llevo dos días usandolo y ya parezco Hulk"})]})]})]}),f.jsx("button",{className:"p-2 font-bebas text-xl text-primaryDark hover:text-tertiary transition",children:"Ver más"})]}),f.jsx("section",{})]})})};const eW=()=>{const{copyProducts:t,loading:e,filters:n}=us(h=>h.product),r=C.useMemo(()=>c(t,5),[t]),i=C.useMemo(()=>u(t),[t]),s=u(t),o=u(t),a=kn(),l=h=>{a(Ey({...n,category:h.target.value}))};function u(h){const m=Math.floor(Math.random()*h.length);return h[m]}function c(h,m){if(h.length===0||m<=0||m>h.length)return[];const w=h.slice(),_=[];for(let x=0;x<m;x++){const b=Math.floor(Math.random()*w.length),E=w.splice(b,1)[0];_.push(E)}return _}return f.jsx("div",{children:e?f.jsx(A0,{}):f.jsxs(f.Fragment,{children:[f.jsx("div",{className:" bg-[url('/images/Rectangle.jpg')] bg-center bg-no-repeat bg-cover",children:f.jsxs("section",{className:"header flex w-full h-[420px] justify-evenly bg-black/60",children:[f.jsx("section",{className:"textHeader flex items-center text-white font-montserrat text-4xl font-extralight	",children:f.jsxs("span",{children:["Vuelvete imparable con el ",f.jsx("br",{})," Nuevo "," ",f.jsx("strong",{children:i.name})]})}),f.jsx("section",{className:"offerCard flex justify-center items-center",children:f.jsx(Ry,{...i})})]})}),f.jsx("div",{className:"categories flex justify-center bg-primaryLight py-5",children:f.jsxs("section",{className:"buttonsCategories flex gap-12",children:[f.jsx(Ln,{to:"/productsPage",children:f.jsx("button",{className:"categoriesButton",value:"Proteína",onClick:l,children:"PROTEINA"})}),f.jsx(Ln,{to:"/productsPage",children:f.jsx("button",{className:"categoriesButton",value:"Creatina",onClick:l,children:"CREATINA"})}),f.jsx(Ln,{to:"/productsPage",children:f.jsx("button",{className:"categoriesButton",value:"Energía",onClick:l,children:"ENERGIA"})}),f.jsx(Ln,{to:"/productsPage",children:f.jsx("button",{className:"categoriesButton",value:"Control de peso",onClick:l,children:"CONTROL DE PESO"})})]})}),f.jsx("div",{className:"destacadosTitle font-bebas text-center text-[40px] pt-8",children:f.jsx("span",{children:"DESTACADOS"})}),f.jsx("div",{className:"destacadosCards flex justify-evenly",children:r.map(h=>f.jsx(Ry,{...h},h.id))}),f.jsxs("div",{className:"photosContainer flex justify-evenly h-[600px] my-[60px]",children:[f.jsxs("section",{className:"photoDiv1 flex flex-col items-center justify-between w-[45%] bg-[url('/images/menconcapucha.jpg')] bg-no-repeat bg-cover",children:[f.jsx("section",{className:"descriptionText bg-primaryLight w-[90%] rounded-[20px] font-bebas text-2xl py-2.5 px-5 mt-3.5 text-center ",children:f.jsx("p",{children:"Los productos Mass Gain están compuestos principalmente por carbohidratos. Su función principal es contribuir en la ganancia de masa muscular y en el aumento de peso."})}),f.jsx("section",{className:"productSection flex justify-center items-end h-1/2",children:f.jsxs("div",{className:"productDescription bg-white flex items-center w-[70%] h-1/2 rounded-[20px] mb-[8%] relative",children:[f.jsx("section",{className:"w-1/4 overflow-hidden ml-[5px]",children:f.jsx(Ln,{to:`/detail/${s.id}`,className:"w-full",children:f.jsx("img",{src:s.image,alt:"",className:"images-inphoto"})})}),f.jsx("section",{className:"w-3/4",children:f.jsx("p",{className:"parrafoProducto font-montserrat text-xs font-semibold m-[5%] line-clamp-5",children:s.description})}),f.jsx(Ln,{to:`/detail/${s.id}`,children:f.jsx("button",{className:"addButton absolute top-[90%] left-[40%] ",children:"Ver detalles"})})]})})]}),f.jsxs("section",{className:"photoDiv1 flex flex-col items-center justify-between w-[45%] bg-[url('/images/mujersogas.jpg')] bg-no-repeat bg-cover bg-center",children:[f.jsx("section",{className:"descriptionText bg-primaryLight w-[90%] rounded-[20px] font-bebas text-2xl py-2.5 px-5 mt-3.5 text-center ",children:f.jsx("p",{children:"Las creatinas aportan energía y vitalidad, fomentando no solo el rendimiento deportivo, sino que también el rendimiento mental."})}),f.jsx("section",{className:"productSection flex justify-center items-end h-1/2",children:f.jsxs("div",{className:"productDescription bg-white flex items-center w-[70%] h-1/2 rounded-[20px] mb-[8%] relative",children:[f.jsx("section",{className:"w-1/4 overflow-hidden ml-[5px]",children:f.jsx(Ln,{to:`/detail/${o.id}`,className:"w-full",children:f.jsx("img",{src:o.image,alt:"",className:"images-inphoto"})})}),f.jsx("section",{className:"w-3/4",children:f.jsx("p",{className:"parrafoProducto font-montserrat text-xs font-semibold m-[5%] line-clamp-5",children:o.description})}),f.jsx(Ln,{to:`/detail/${o.id}`,children:f.jsx("button",{className:"addButton absolute top-[90%] left-[40%] ",children:"Ver detalles"})})]})})]})]}),f.jsx("div",{className:"font-bebas text-center text-[40px] pt-8",children:f.jsxs("span",{children:["¿POR QUE"," ",f.jsx("span",{className:"text-primary",children:"VITALFIT?"})]})}),f.jsxs("div",{className:"characteristicsViatlFit flex flex-wrap justify-center gap-[80px] mt-[30px] mb-[90px]",children:[f.jsxs("div",{className:"characteristic flex w-[350px] flex-col items-center text-center",children:[f.jsx("img",{src:"images/confianza.jpg",alt:""}),f.jsx("h6",{className:"font-bebas text-2xl text-primary",children:"CONFIANZA"}),f.jsx("p",{children:"Comprometidos con tu bienestar, aseguramos productos consistentes y de alta calidad"})]}),f.jsxs("div",{className:"characteristic flex w-[350px] flex-col items-center text-center",children:[f.jsx("img",{src:"images/transparencia.jpg",alt:""}),f.jsx("h6",{className:"font-bebas text-2xl text-primary",children:"TRANSPARENCIA"}),f.jsx("p",{children:"Información clara sobre nuestras vitaminas y suplementos. Creemos en construir una relación honesta, y tomes decisiones informadas sobre tu bienestar."})]}),f.jsxs("div",{className:"characteristic flex w-[350px] flex-col items-center text-center",children:[f.jsx("img",{src:"images/respeto.jpg",alt:""}),f.jsx("h6",{className:"font-bebas text-2xl text-primary",children:"RESPETO"}),f.jsx("p",{children:"Tu bienestar es nuestra prioridad, y nos esforzamos por ganarnos tu confianza con cada elección que hagas con nosotros."})]}),f.jsxs("div",{className:"characteristic flex w-[350px] flex-col items-center text-center",children:[f.jsx("img",{src:"images/orientacion.jpg",alt:""}),f.jsx("h6",{className:"font-bebas text-2xl text-primary",children:"ORIENTACION"}),f.jsx("p",{children:"Seguimos estándares rigurosos. Nuestras directrices garantizan la calidad y eficacia de cada vitamina y suplemento proteico que ofrecemos."})]}),f.jsxs("div",{className:"characteristic flex w-[350px] flex-col items-center text-center",children:[f.jsx("img",{src:"images/empatia.jpg",alt:""}),f.jsx("h6",{className:"font-bebas text-2xl text-primary",children:"EMPATIA"}),f.jsx("p",{children:"Comprendemos tus necesidades y aspiraciones de bienestar, y trabajamos para ser parte de tu jornada hacia una vida más saludable y plena."})]}),f.jsxs("div",{className:"characteristic flex w-[350px] flex-col items-center text-center",children:[f.jsx("img",{src:"images/cercania.jpg",alt:""}),f.jsx("h6",{className:"font-bebas text-2xl text-primary",children:"CERCANIA"}),f.jsxs("p",{children:[" ","Estamos cerca de ti en tu búsqueda de bienestar, ofreciendo vitaminas y suplementos de calidad, queriendo hacer parte de proceso saludable."," "]})]})]}),f.jsxs("div",{className:"flex justify-center gap-10 my-10",children:[f.jsx("div",{className:"vasoFoto 2-[40%]",children:f.jsx("img",{src:"images/vaso.jpg",alt:""})}),f.jsxs("div",{className:"noestasSeguroContainer flex w-[30%] bg-primaryLight font-bebas text-[42px] p-2.5 flex-col justify-around",children:[f.jsxs("div",{className:"w-[40%]",children:[f.jsx("p",{children:"¿No estas seguro de qué es mejor para ti?"}),f.jsx("p",{className:"font-montserrat text-xl",children:"No te preocupes!"})]}),f.jsx("button",{className:"w-full categoriesButton",children:"SEPARA UNA ASESORIA"})]})]}),f.jsxs("div",{className:"bg-tertiary flex",children:[f.jsx("div",{className:"w-3/5 flex items-center justify-center",children:f.jsx("img",{src:"images/suplementos.jpg",alt:"",className:"w-4/6 m-3"})}),f.jsxs("div",{className:"flex flex-col justify-center items-start w-1/4 gap-5 ",children:[f.jsx("div",{className:"w-2/4",children:f.jsxs("p",{className:"font-['Bebas_Neue'] text-3xl",children:["SUSCRIBITE A ",f.jsx("br",{})," NUESTRO NEWSLETTER"]})}),f.jsxs("div",{className:"flex items-center h-8  w-1/3",children:[f.jsx("input",{type:"text",placeholder:"Ingresa tu E-mail",className:"border-black h-full text-center    rounded-l-lg font-['Montserrat']"}),f.jsx("button",{className:"bg-primary text-white   rounded-r-lg font-['Bebas_neue'] text-lg px-5 h-full transition hover:scale-110 duration-300",children:"ENVIAR"})]})]})]})]})})},tW="_Container_326zu_3",nW="_cardsContainer_326zu_25",rW="_controls_326zu_47",iW="_search_326zu_65",sW="_searchInput_326zu_87",oW="_searchButton_326zu_107",aW="_filter_326zu_137",lW="_line_326zu_157",uW="_title_326zu_169",cW="_Columna_326zu_183",dW="_Input_326zu_195",fW="_Checks_326zu_209",hW="_Check_326zu_209",pW="_CheckboxLabel_326zu_227",mW="_paginado_326zu_243",gW="_buttonPag_326zu_263",yW="_filtro_326zu_289",vW="_pag_326zu_243",wW="_Orden_326zu_325",_W={Container:tW,cardsContainer:nW,controls:rW,search:iW,searchInput:sW,searchButton:oW,filter:aW,line:lW,title:uW,Columna:cW,Input:dW,Checks:fW,Check:hW,CheckboxLabel:pW,paginado:mW,buttonPag:gW,filtro:yW,pag:vW,Orden:wW},EW=()=>{const t=/^([0-9])*$/,e=kn(),{filters:n,categories:r,products:i}=us(S=>S.product),[s,o]=C.useState({minPrice:"",maxPrice:""}),[a,l]=C.useState(""),[u,c]=C.useState(""),h=S=>{console.log(S.target.value),e(xy()),e(Ey({...n,category:S.target.value}))},m=S=>{const P=S.target.name,L=S.target.value;o({...s,[P]:L})},w=()=>{if(!t.test(s.minPrice)||!t.test(s.maxPrice))return c("Por favor introducir solo números");e(pd()),e(md()),e(Ey({...n,minPrice:s.minPrice,maxPrice:s.maxPrice})),c("")},_=S=>{l(S.target.value)},x=()=>{const S=document.getElementById("orders"),P=document.getElementById("categories");S.selectedIndex=0,P.selectedIndex=0,o({minPrice:"",maxPrice:""}),e(pd()),e(md()),e(o8(a)),l("")},b=S=>{const P=S.target.value;let L={};P.includes("price")?L=P==="priceA"?{sortByPrice:"ASC",sortByName:""}:{sortByPrice:"DESC",sortByName:""}:L=P==="nameA"?{sortByName:"ASC",sortByPrice:""}:{sortByName:"DESC",sortByPrice:""},e(s8(L))},E=()=>{const S=document.getElementById("orders"),P=document.getElementById("categories");S.selectedIndex=0,P.selectedIndex=0,l(""),o({minPrice:"",maxPrice:""}),e(pd()),e(xy()),e(md())},v=S=>{S.key==="Enter"&&x()},T=S=>{S.key==="Enter"&&w()};return f.jsxs("div",{className:"mt-2 font-bebas",children:[f.jsxs("div",{className:"h-40 flex flex-col items-center w-full bg-primaryLight rounded-xl p-5",children:[f.jsx("h3",{className:"text-2xl mb-2",children:"Buscar por nombre"}),f.jsx("input",{className:"mb-2 rounded border-none w-80 placeholder:text-center",type:"search",placeholder:"Ingrese el nombre de un producto",value:a,onChange:_,onKeyDown:v}),f.jsx("button",{onClick:x,className:" bg-teal-400 text-xl text-white w-32 p-1 rounded-xl mx-auto mt-2",children:"Buscar"})]}),f.jsxs("div",{className:"mt-4 flex flex-col justify-start w-full bg-primaryLight rounded-xl p-5",children:[f.jsxs("div",{className:"flex justify-baseline items-center",children:[f.jsx("h3",{className:"text-xl",children:"Categorías"}),f.jsxs("select",{id:"categories",onChange:h,className:" appearance-none focus:ring-0 border-none rounded-xl w-44 ml-10 focus:outline-none  hover:bg-slate-100 cursor-pointer",value:n.category?n.category:"",children:[f.jsx("option",{value:"",className:"appearance-none hover:bg-teal-500 focus:bg-teal-500",children:"Todas las categorias"}),r.map((S,P)=>f.jsx("option",{value:S.name,children:S.name},P))]})]}),f.jsx("h3",{className:"text-xl  my-2",children:"Rango de Precios"}),f.jsxs("div",{className:"flex items-center justify-center",children:[f.jsx("input",{type:"text",placeholder:"Min",name:"minPrice",value:s.minPrice,onChange:m,className:"w-24 border-none mx-2 rounded-xl focus:ring-0",onKeyDown:T}),f.jsx("span",{children:" - "}),f.jsx("input",{type:"text",placeholder:"Max",name:"maxPrice",value:s.maxPrice,onChange:m,className:"w-24 border-none mx-2 rounded-xl focus:ring-0",onKeyDown:T}),f.jsx("button",{onClick:w,children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"w-6 h-6",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m5.25 4.5 7.5 7.5-7.5 7.5m6-15 7.5 7.5-7.5 7.5"})})})]}),u&&f.jsx("div",{className:"flex justify-center text-red-600 mt-3",children:u}),f.jsxs("div",{className:"flex justify-baseline items-center mt-3",children:[f.jsx("h3",{className:"text-xl",children:"Ordenar por"}),f.jsxs("select",{id:"orders",onChange:b,className:" appearance-none border-none rounded-xl w-44 ml-7 focus:ring-0 cursor-pointer hover:bg-slate-100",children:[f.jsx("option",{value:"",children:"Más relevantes"}),f.jsx("option",{value:"priceD",children:"Mayor precio"}),f.jsx("option",{value:"priceA",children:"Menor precio"}),f.jsx("option",{value:"nameA",children:"A - Z"}),f.jsx("option",{value:"nameD",children:"Z - A"})]})]}),f.jsx("button",{onClick:E,className:"bg-teal-400 text-white text-xl w-32 p-1 rounded-xl mx-auto mt-3",children:"Reset"})]})]})};function xW(){const t=kn(),{products:e,currentPage:n,totalPages:r,filters:i,sorts:s,loading:o}=us(c=>c.product);C.useEffect(()=>{t(Hh()),window.scrollTo(0,0)},[t,i,s]);const a=(n-1)*8,l=()=>{n>1&&(t(_f(n-1)),window.scrollTo(0,0))},u=()=>{n<r&&(t(_f(n+1)),window.scrollTo(0,0))};return f.jsxs("div",{className:"flex h-full p-2 w-[ '97vw' ]",children:[f.jsx(EW,{}),f.jsxs("main",{className:"flex flex-1 flex-col justify-center gap-20 h-full ",children:[o?f.jsx(A0,{}):f.jsx("section",{className:_W.cardsContainer,children:e.length?e.slice(a,a+8).map(({id:c,name:h,price:m,image:w,stock:_})=>f.jsx(Ry,{id:c,name:h,price:m,image:w,stock:_},c)):f.jsx("p",{className:"text-2xl mt-[10%]",children:"Ups! No hay productos que coincidan con tu búsqueda."})}),e.length>0&&f.jsxs("section",{className:"flex items-center justify-center gap-2 mr-5 mb-5",children:[f.jsx("button",{onClick:l,className:"font-bebas p-2 hover:text-primary",children:"prev"}),f.jsxs("span",{className:"font-bebas text-primary text-xl mb-1",children:[n,"  ",f.jsxs("span",{className:" text-gray-800",children:["/ ",r]})]}),f.jsx("button",{onClick:u,className:"font-bebas p-2 hover:text-primary",children:"next"})]})]})]})}const TW=t=>{let e={},n=/^[0-9]+$/,r=/^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9-.]+$/,i=/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{6,}$/;return t.nombre||(e.nombre="El nombre debe ser requerido"),t.apellido||(e.apellido="El apellido debe ser requerido"),n.test(t.dni)||(e.dni="El DNI debe contener sólo numeros"),r.test(t.correo)||(e.correo="El email es invalido"),i.test(t.contraseña)||(e.contraseña="La contraseña debe tener mayusculas, numeros y letras, al menos 6 caracteres"),t.confirmarContraseña!==t.contraseña&&(e.confirmarContraseña="La contraseña no coincide con la anterior"),e};function bW(t){return aR({tag:"svg",attr:{version:"1.1",x:"0px",y:"0px",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48"},child:[{tag:"path",attr:{fill:"#FFC107",d:`M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12\r
	c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24\r
	c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z`}},{tag:"path",attr:{fill:"#FF3D00",d:`M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657\r
	C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z`}},{tag:"path",attr:{fill:"#4CAF50",d:`M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36\r
	c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z`}},{tag:"path",attr:{fill:"#1976D2",d:`M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571\r
	c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z`}}]})(t)}const IW=()=>{const t=kn(),[e,n]=C.useState({nombre:"",apellido:"",dni:"",correo:"",contraseña:"",confirmarContraseña:""}),[r,i]=C.useState({}),s=()=>r.nombre||r.apellido||r.dni||r.correo||r.contraseña||r.confirmarContraseña||!e.nombre||!e.dni||!e.correo||!e.contraseña||!e.confirmarContraseña,o=async u=>{u.preventDefault();try{const c=e.nombre+" "+e.apellido,h=await t(kB(e.correo,e.contraseña,c));console.log(h),h.ok===!0?(await n0({role:"user",status:"active",id:h.uid,email:h.email,displayName:h.displayName}),Ie.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:5e3,timerProgressBar:!0,didOpen:w=>{w.onmouseenter=Ie.stopTimer,w.onmouseleave=Ie.resumeTimer}}).fire({icon:"success",title:`Usuario creado con exito: ${h.displayName} `})):Ie.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:5e3,timerProgressBar:!0,didOpen:w=>{w.onmouseenter=Ie.stopTimer,w.onmouseleave=Ie.resumeTimer}}).fire({icon:"error",title:"Ups, ocurrio un error, intenta un nuevo email"})}catch(c){console.log(c.message,"mensaje")}n({nombre:"",apellido:"",dni:"",correo:"",contraseña:"",confirmarContraseña:""})},a=async u=>{u.preventDefault();try{const c=await t(RB());if(c.ok===!1)Ie.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:5e3,timerProgressBar:!0,didOpen:m=>{m.onmouseenter=Ie.stopTimer,m.onmouseleave=Ie.resumeTimer}}).fire({icon:"error",title:" Upss! Ocurrio un error, intentalo más tarde"});else return c}catch(c){console.log(c.message,"mensaje")}},l=u=>{const{name:c,value:h}=u.target;n({...e,[c]:h}),i(TW({...e,[c]:h}))};return f.jsxs("form",{className:" h-[calc(100vh+35vh)]",children:[f.jsx(Qu,{className:"w-[34px] h-[69px] absolute top-10 left-10"}),f.jsx("div",{className:"flex items-center justify-center h-full",children:f.jsx("img",{className:"w-full h-full object-cover object-center",src:I0})}),f.jsx("span",{style:{fontFamily:"NuevaFuente, montserrat",color:"#D9D9D9"},className:"absolute top-10 right-14 text-3xl",children:"Soy"}),f.jsx("span",{style:{fontFamily:"NuevaFuente, bebas neue",color:"#D74545 "},className:"absolute top-20 right-11 text-4xl",children:"ADMIN"}),f.jsx("div",{className:"w-100% flex items-center justify-center",children:f.jsxs("div",{className:"absolute top-20 z-20 justify-center",style:{background:"rgba(71, 81, 87, 0.8)",padding:"15px",borderRadius:"25px",boxShadow:"0 4px 6px rgba(10, 10, 10, 0.7)",width:"400px",marginTop:"3%"},children:[f.jsx("h1",{style:{fontFamily:"NuevaFuente, bebas neue",color:" #D9D9D9",fontSize:"1.4rem",marginBottom:"8px"},className:"text-lg font-bold text-64x43",children:"CREAR CUENTA"}),f.jsx("label",{style:{fontFamily:"NuevaFuente, bebas neue",color:" #D9D9D9",fontSize:"1.4rem"},children:"NOMBRE"}),f.jsx("br",{}),f.jsx("input",{className:"w-full h-9",style:{borderRadius:"10px",marginBottom:"10px"},name:"nombre",type:"text",placeholder:" Nombre...",value:e.nombre,onChange:l}),r.nombre&&f.jsx("p",{className:"text-red-400",children:r.nombre}),f.jsx("br",{}),f.jsx("label",{style:{fontFamily:"NuevaFuente, bebas neue",color:" #D9D9D9",fontSize:"1.4rem"},children:"APELLIDO"}),f.jsx("br",{}),f.jsx("input",{className:"w-full h-9",style:{borderRadius:"10px",marginBottom:"10px"},name:"apellido",type:"text",placeholder:" Apellido...",value:e.apellido,onChange:l}),r.apellido&&f.jsx("p",{className:"text-red-400",children:r.apellido}),f.jsx("br",{}),f.jsx("label",{style:{fontFamily:"NuevaFuente, bebas neue",color:" #D9D9D9",fontSize:"1.5rem"},children:"DNI"}),f.jsx("br",{}),f.jsx("input",{className:"w-full h-9",style:{borderRadius:"10px",marginBottom:"10px"},name:"dni",type:"text",placeholder:" DNI...",value:e.dni,onChange:l}),r.dni&&f.jsx("p",{className:"text-red-400",children:r.dni}),f.jsx("br",{}),f.jsx("label",{style:{fontFamily:"NuevaFuente, bebas neue",color:" #D9D9D9",fontSize:"1.5rem"},children:"CORREO"}),f.jsx("input",{className:"w-full h-9",style:{borderRadius:"10px",marginBottom:"10px"},name:"correo",type:"text",placeholder:" Email...",value:e.correo,onChange:l}),r.correo&&f.jsx("p",{className:"text-red-400",children:r.correo}),f.jsx("label",{style:{fontFamily:"NuevaFuente, bebas neue",color:" #D9D9D9",fontSize:"1.5rem",marginTop:"10px"},children:"CONTRASEÑA"}),f.jsx("input",{className:"w-full h-9",style:{borderRadius:"10px",marginBottom:"10px"},name:"contraseña",type:"password",placeholder:" Contraseña...",value:e.contraseña,onChange:l}),r.contraseña&&f.jsx("p",{className:"text-red-400",children:r.contraseña}),f.jsx("label",{style:{fontFamily:"NuevaFuente, bebas neue",color:" #D9D9D9",fontSize:"1.5rem"},children:"CONFIRMAR CONTRASEÑA"}),f.jsx("input",{className:"w-full h-9",style:{borderRadius:"10px",marginBottom:"10px"},name:"confirmarContraseña",type:"password",placeholder:" Confirmar contraseña...",value:e.confirmarContraseña,onChange:l}),r.confirmarContraseña&&f.jsx("p",{className:"text-red-400",children:r.confirmarContraseña}),f.jsx("button",{disabled:s(),onClick:o,style:{fontFamily:"NuevaFuente, bebas neue",color:" #D9D9D9",fontSize:"1.2rem",background:"#D74545",padding:"6px",paddingLeft:"25px",paddingRight:"25px",borderRadius:"15px",marginBottom:"15px",marginTop:"12px",marginLeft:"145px"},children:"CREAR"}),f.jsx("br",{}),f.jsxs("button",{onClick:a,style:{display:"flex",alignItems:"center",marginLeft:"19%",background:"#D74545",padding:"2.5%",borderRadius:"9px"},children:[f.jsx(bW,{})," ",f.jsx("span",{style:{marginLeft:"8px",fontFamily:"NuevaFuente, montserrat",color:"white"},children:"Inicia sesión con Google"})]}),f.jsx("br",{}),f.jsx("span",{style:{fontFamily:"NuevaFuente, montserrat",color:" #D9D9D9",fontSize:"0.9rem",marginLeft:"80px"},children:"Ya tienes cuenta?"}),f.jsx(Li,{to:"/auth/loginPage",children:f.jsx("span",{style:{fontFamily:"NuevaFuente, montserrat",color:" #2FD6BD  ",marginLeft:"5px",fontSize:"0.9rem"},children:"Inicia sesión."})})]})})]})},SW=t=>{let e={},n=/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{6,}$/;return/^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9-.]+$/.test(t.correo)||(e.correo="El correo es invalido"),n.test(t.contraseña)||(e.contraseña="La contraseña debe tener mayusculas, numeros y letras, al menos 6 caracteres"),e},CW=()=>{const t=kn(),[e,n]=C.useState({}),[r,i]=C.useState({correo:"",contraseña:""}),s=l=>{const{name:u,value:c}=l.target;i({...r,[u]:c}),n(SW({...r,[u]:c}))},o=async l=>{l.preventDefault();try{const u=await t(PB(r.correo,r.contraseña));u.ok===!0?(Ie.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:5e3,timerProgressBar:!0,didOpen:h=>{h.onmouseenter=Ie.stopTimer,h.onmouseleave=Ie.resumeTimer}}).fire({icon:"success",title:`Bienvenido ${u.displayName}`}),i({correo:"",contraseña:""})):Ie.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:5e3,timerProgressBar:!0,didOpen:h=>{h.onmouseenter=Ie.stopTimer,h.onmouseleave=Ie.resumeTimer}}).fire({icon:"error",title:"Usuario no encontrado, email o contraseña incorrectos"})}catch(u){console.log(u.message,"mensaje")}},a=()=>e.correo||e.contraseña||!r.correo||!r.contraseña;return f.jsxs("form",{className:"relative",onSubmit:o,children:[f.jsx(Qu,{className:"w-[34px] h-[69px] absolute top-10 left-10"}),f.jsx("div",{className:"flex items-center justify-center h-screen overflow-hidden",children:f.jsx("img",{className:"w-full h-full object-cover",src:I0})}),f.jsx("div",{className:"w-100% flex items-center justify-center",children:f.jsxs("div",{className:"absolute top-1/4 z-20",style:{background:"rgba(71, 81, 87, 0.8)",padding:"15px",borderRadius:"25px",boxShadow:"0 4px 6px rgba(10, 10, 10, 0.7)",width:"400px"},children:[f.jsx("h1",{style:{fontFamily:"NuevaFuente, bebas neue",color:" #D9D9D9",fontSize:"1.5rem",marginBottom:"25px"},className:"text-lg font-bold text-64x43",children:"LOGIN"}),f.jsx("label",{style:{fontFamily:"NuevaFuente, bebas neue",color:" #D9D9D9",fontSize:"1.5rem"},children:"CORREO"}),f.jsx("br",{}),f.jsx("input",{className:"w-full h-9",style:{borderRadius:"10px",marginBottom:"10px"},name:"correo",type:"text",placeholder:" Correo...",value:r.correo,onChange:s}),e.correo&&f.jsx("p",{className:"text-red-400",children:e.correo}),f.jsx("br",{}),f.jsx("label",{style:{fontFamily:"NuevaFuente, bebas neue",color:" #D9D9D9",fontSize:"1.5rem",marginTop:"10px"},children:"CONTRASEÑA"}),f.jsx("br",{}),f.jsx("input",{className:"w-full h-9",style:{borderRadius:"10px",marginBottom:"10px"},name:"contraseña",type:"password",placeholder:" Contraseña...",value:r.contraseña,onChange:s}),e.contraseña&&f.jsx("p",{className:"text-red-400",children:e.contraseña}),f.jsx("br",{}),f.jsx("button",{disabled:a(),onClick:o,style:{fontFamily:"NuevaFuente, bebas neue",color:" #D9D9D9",fontSize:"1.2rem",background:"#D74545",padding:"6px",paddingLeft:"25px",paddingRight:"25px",borderRadius:"15px",marginBottom:"10px",marginTop:"12px",marginLeft:"145px"},children:"ENTRAR"}),f.jsx("br",{}),f.jsx("span",{style:{fontFamily:"NuevaFuente, montserrat",color:" #D9D9D9",fontSize:"0.9rem",marginLeft:"80px"},children:"No tienes cuenta?"}),f.jsx(Li,{to:"/auth/signUpPage",children:f.jsx("span",{style:{fontFamily:"NuevaFuente, montserrat",color:" #2FD6BD  ",marginLeft:"5px",fontSize:"0.9rem"},children:"Registrate."})})]})})]})},AW=async t=>{try{const e=sn(Lt,"carritos",t);(await li(e)).exists()&&await Ca(e,{productos:[]},{merge:!0})}catch(e){console.log("Error al vaciar el carrito:",e.message)}},PW=async(t,e)=>{try{const n=Bu(Lt,"users",t,"facturas"),r=e?YE(n,XV("billNumber","==",e)):YE(n),i=await NC(r),s=[];return i.forEach(o=>s.push(o.data().data,{...o.data()})),s}catch(n){console.log("Error al obtener las facturas del usuario:",n.message)}},RW=()=>{const{currentUser:t,loading:e}=C.useContext(Lr),n=new URLSearchParams(window.location.search),r=n.get("payment_id"),s=n.get("external_reference").split("-_")[0],[o,a]=C.useState(),l=async()=>{await iR(t.uid,s,{payment_id:r,status:"succesfull"});const c=await PW(t.uid,s);await AW(t.uid),a(c[0])};C.useEffect(()=>{localStorage.removeItem("products"),l()},[t]);let u=o.reduce((c,h)=>c+h.unit_price*h.quantity,0);return f.jsx("div",{children:e?f.jsx("p",{children:"Cargando..."}):f.jsxs("div",{children:[f.jsx("h1",{children:"Pago exitoso!"}),f.jsx("h1",{children:"Gracias por confiar en nosotros!"}),f.jsx("p",{children:"Tu compra ha sido procesada y te estaremos informando cuando esté en camino!"}),f.jsx("p",{children:"Disfruta del producto y gracias por comprar!"}),f.jsxs("div",{children:[f.jsx("p",{children:"Tu compra fue:"}),o&&o.map((c,h)=>f.jsxs("div",{children:[f.jsxs("h1",{children:[c.title," X ",c.quantity]}),f.jsx("img",{src:c.picture_url,width:45,alt:""}),f.jsxs("p",{children:["Precio unit: ",c.unit_price]})]},h)),f.jsx("div",{children:f.jsxs("span",{children:["El total de tu compra fue: ",o&&u]})})]})]})})},kW=async(t,e)=>{const n=sn(Lt,"users",t);return(await li(n)).exists()&&await Ca(n,{...e,dataCompleted:!0},{merge:!0}),{ok:!0}},NW=()=>{var E,v,T,S,P,L,M,U,Z,G;const{currentUser:t,user:e,loading:n,setShowCart:r}=C.useContext(Lr),[i,s]=C.useState([]),[o,a]=C.useState([]);C.useEffect(()=>{async function ce(){const{data:ee}=await wf("https://apis.datos.gob.ar/georef/api/provincias");s(ee.provincias)}ce()},[]),Kh();const{getValues:l,register:u,setValue:c,handleSubmit:h,formState:{errors:m}}=ZP(),{provincia:w}=l(),_=async ce=>{x(ce.target.value)},x=async ce=>{const{data:ee}=await wf(`https://apis.datos.gob.ar/georef/api/municipios?provincia=${ce}&max=500`);a(ee.municipios)};n||e.dataCompleted&&(o.length||x(w));const b=async ce=>{ce&&(await kW(t.uid,ce),r(!0))};return f.jsx("div",{children:n?f.jsx("p",{children:"loading..."}):f.jsxs("form",{className:"flex-row my-2 mx-auto w-[50vw] font-bebas text-xl",children:[f.jsxs("p",{children:["Los campos con ",f.jsx("span",{className:"text-primary",children:"*"})," son obligatorios"]}),f.jsxs("div",{className:"max-w-fit mx-auto",children:[f.jsxs("div",{className:"m-2",children:[f.jsxs("label",{htmlFor:"nombre",className:"m-5",children:[f.jsx("span",{className:"text-primary text-2xl mr-1",children:"*"}),"Nombre:"]}),f.jsx("input",{id:"name",...u("name",{required:{value:!0,message:"El campo es obligatorio"},maxLength:{value:15,message:"Debe tener menos de 15 caracteres"},pattern:{value:/^[A-Z][A-Za-zäÄëËïÏöÖüÜáéíóúáéíóúÁÉÍÓÚÂÊÎÔÛâêîôûàèìòùÀÈÌÒÙ.-\s]+$/,message:"Ingresa un nombre valido, la primera letra debe ser mayúscula"},value:e.name||""}),onChange:ce=>c("name",ce.target.value),type:"text",className:`p-1.5 w-72 font-montserrat  border-x-transparent  border-t-transparent border-b-2 focus:ring-0 focus:border-transparent focus:border-b-red-500${m.name?"bg-red-200":""} border-zinc-600`,placeholder:"nombre"}),f.jsx("p",{className:" text-red-500 font-medium",children:(E=m.name)==null?void 0:E.message})]}),f.jsxs("div",{className:"m-2",children:[f.jsxs("label",{htmlFor:"apellido",className:"m-5",children:[f.jsx("span",{className:"text-primary text-2xl mr-1",children:"*"}),"Apellido:"]}),f.jsx("input",{id:"apellido",...u("apellido",{required:{value:!0,message:"El campo es obligatorio"},maxLength:{value:15,message:"Debe tener menos de 15 caracteres"},pattern:{value:/^[A-Z][A-Za-zäÄëËïÏöÖüÜáéíóúáéíóúÁÉÍÓÚÂÊÎÔÛâêîôûàèìòùÀÈÌÒÙ.-\s]+$/,message:"Ingresa un apellido valido, la primera letra debe ser mayúscula"},value:e.apellido||""}),type:"text",className:`p-1.5 w-72 font-montserrat  border-x-transparent  border-t-transparent border-b-2 focus:ring-0 focus:border-transparent focus:border-b-red-500${m.apellido?"bg-red-200":""} border-zinc-600`,placeholder:"apellido"}),f.jsx("p",{className:" text-red-500 font-medium",children:(v=m.apellido)==null?void 0:v.message})]}),f.jsxs("div",{className:"m-2",children:[f.jsxs("label",{htmlFor:"documento",className:"m-5",children:[f.jsx("span",{className:"text-primary text-2xl mr-1",children:"*"}),"DNI:"]}),f.jsx("input",{id:"documento",...u("documento",{required:{value:!0,message:"El campo es obligatorio"},pattern:{value:/^[0-9-]+$/i,message:"Documento invalido"},maxLength:{value:15,message:"Debe tener menos de 15 caracteres"},value:e.documento||""}),type:"text",className:`p-1.5 w-72 font-montserrat border-x-transparent  border-t-transparent border-b-2 focus:ring-0 focus:border-transparent focus:border-b-red-500${m.documento?"bg-red-200":""} border-zinc-600`,placeholder:"numero de documento"}),f.jsx("p",{className:" text-red-500 font-medium",children:(T=m.documento)==null?void 0:T.message})]}),f.jsxs("div",{className:"m-2",children:[f.jsxs("label",{htmlFor:"teléfono",className:"m-5",children:[f.jsx("span",{className:"text-primary text-2xl mr-1",children:"*"}),"Teléfono:"]}),f.jsx("input",{id:"telefono",...u("telefono",{required:{value:!0,message:"El campo es obligatorio"},pattern:{value:/^\+\d{1,3}\s?\d{4,}$/,message:"Numero de telfono invalido"},value:e.telefono||""}),type:"text",className:`p-1.5 w-72 font-montserrat  border-x-transparent  border-t-transparent border-b-2 focus:ring-0 focus:border-transparent focus:border-b-red-500${m.telefono?"bg-red-200":""} border-zinc-600`,placeholder:"+573245271273"}),f.jsx("p",{className:" text-red-500 font-medium",children:(S=m.telefono)==null?void 0:S.message})]}),f.jsxs("div",{className:"m-2",children:[f.jsxs("label",{htmlFor:"provincias",className:"m-5",children:[f.jsx("span",{className:"text-primary text-2xl mr-1",children:"*"}),"Provincia:"]}),f.jsxs("select",{id:"provincia",...u("provincia",{required:{value:!0,message:"El campo es obligatorio"},value:e.provincia||""}),onChange:_,className:"border-x-transparent border-t-transparent border-b-2 w-72 font-montserrat focus:ring-0 focus:border-transparent focus:border-b-red-500",children:[f.jsx("option",{value:"Elige una provincia",disabled:!0,children:"Elige una provincia"}),i.length&&i.map((ce,ee)=>f.jsx("option",{value:ce.nombre,children:ce.nombre},ee))]}),f.jsx("p",{className:" text-red-500 font-medium",children:(P=m.provincia)==null?void 0:P.message})]}),f.jsxs("div",{className:"m-2",children:[f.jsxs("label",{htmlFor:"municipios",className:"m-5",children:[f.jsx("span",{className:"text-primary text-2xl mr-1",children:"*"}),"Municipio:"]}),f.jsxs("select",{id:"municipio",...u("municipio",{required:{value:!0,message:"El campo es obligatorio"},value:e.municipio||""}),className:"border-x-transparent border-t-transparent border-b-2 w-72 font-montserrat focus:ring-0 focus:border-transparent focus:border-b-red-500",children:[f.jsx("option",{value:"Elige un municipio",disabled:!0,children:"Elige un municipio"}),o.length&&o.map((ce,ee)=>f.jsx("option",{value:ce.nombre,children:ce.nombre},ee))]}),f.jsx("p",{className:" text-red-500 font-medium",children:(L=m.municipio)==null?void 0:L.message})]}),f.jsxs("div",{className:"m-2",children:[f.jsxs("label",{htmlFor:"ciudad",className:"m-5",children:[f.jsx("span",{className:"text-primary text-2xl mr-1",children:"*"}),"Ciudad:"]}),f.jsx("input",{id:"ciudad",...u("ciudad",{required:{value:!0,message:"El campo es obligatorio"},pattern:{value:/^[A-Za-z0-9äÄëËïÏöÖüÜáéíóúáéíóúÁÉÍÓÚÂÊÎÔÛâêîôûàèìòùÀÈÌÒÙ.-\s\-,#.]+$/,message:"Ciudad inválida"},maxLength:{value:25,message:"Debe tener menos de 25 caracteres"},value:e.ciudad||""}),type:"text",className:`p-1.5 w-72 font-montserrat  border-x-transparent  border-t-transparent border-b-2 focus:ring-0 focus:border-transparent focus:border-b-red-500${m.ciudad?"bg-red-200":""} border-zinc-600`,placeholder:"Ingrese una ciudad"}),f.jsx("p",{className:" text-red-500 font-medium",children:(M=m.ciudad)==null?void 0:M.message})]}),f.jsxs("div",{className:"m-2",children:[f.jsxs("label",{htmlFor:"calle",className:"m-5",children:[f.jsx("span",{className:"text-primary text-2xl mr-1",children:"*"}),"Calle:"]}),f.jsx("input",{...u("calle",{required:{value:!0,message:"El campo es obligatorio"},maxLength:{value:20,message:"Debe tener menos de 20 caracteres"},pattern:{value:/^[A-Za-z0-9äÄëËïÏöÖüÜáéíóúáéíóúÁÉÍÓÚÂÊÎÔÛâêîôûàèìòùÀÈÌÒÙ.-\s\-,#.]+$/,message:"Calle inválida"},value:e.calle||""}),type:"text",className:`p-1.5 w-72 font-montserrat  border-x-transparent  border-t-transparent border-b-2 focus:ring-0 focus:border-transparent focus:border-b-red-500${m.calle?"bg-red-200":""} border-zinc-600`,placeholder:"nombre de calle"}),f.jsx("p",{className:" text-red-500 font-medium",children:(U=m.calle)==null?void 0:U.message})]}),f.jsxs("div",{className:"m-2",children:[f.jsxs("label",{htmlFor:"Altura",className:"m-5",children:[f.jsx("span",{className:"text-primary text-2xl mr-1",children:"*"}),"Altura:"]}),f.jsx("input",{id:"altura",...u("altura",{required:{value:!0,message:"El campo es obligatorio"},maxLength:{value:10,message:"Debe tener menos de 10 caracteres"},pattern:{value:/^[A-Za-z0-9\s\-,#.]+$/,message:"Altura de calle inválida"},value:e.altura||""}),type:"text",className:`p-1.5 w-72 font-montserrat  border-x-transparent  border-t-transparent border-b-2 focus:ring-0 focus:border-transparent focus:border-b-red-500${m.altura?"bg-red-200":""} border-zinc-600`,placeholder:"altura de calle"}),f.jsx("p",{className:" text-red-500 font-medium",children:(Z=m.altura)==null?void 0:Z.message})]}),f.jsxs("div",{className:"m-2",children:[f.jsx("label",{htmlFor:"piso/departamento",className:"m-5",children:"Piso / Dpto :"}),f.jsx("input",{id:"pisoDpto",...u("pisoDpto",{pattern:{value:/^[A-Za-z0-9\s\-,#.]+$/,message:"Piso / dpto inválido"},value:e.pisoDpto||""}),type:"text",className:`p-1.5 w-72 font-montserrat  border-x-transparent  border-t-transparent border-b-2 focus:ring-0 focus:border-transparent focus:border-b-red-500${m.pisoDpto?"bg-red-200":""} border-zinc-600`,placeholder:"nº de piso / departamento"}),f.jsx("p",{className:" text-red-500 font-medium",children:(G=m.pisoDpto)==null?void 0:G.message})]})]}),f.jsx("div",{className:"max-w-fit mx-auto",children:f.jsx("button",{className:" text-white bg-primary p-2 px-5 rounded-xl",onClick:h(b),children:"finalizar"})})]})})},vT=()=>f.jsxs(f.Fragment,{children:[f.jsx(Gq,{}),f.jsxs(Qh,{children:[f.jsx(ct,{path:"home",element:f.jsx(eW,{})}),f.jsx(ct,{path:"/productspage",element:f.jsx(xW,{})}),f.jsx(ct,{path:"/preCheckout",element:f.jsx(NW,{})}),f.jsx(ct,{path:"checkout/successfull",element:f.jsx(RW,{})}),f.jsx(ct,{path:"/resetPass",element:f.jsx(pq,{})}),f.jsx(ct,{path:"/detail",element:f.jsx(yT,{})}),f.jsx(ct,{path:"/*",element:f.jsx(f0,{to:"/home"})}),f.jsx(ct,{path:"/detail/:id",element:f.jsx(yT,{})})]}),f.jsx(gq,{})]}),DW=()=>f.jsxs(Qh,{children:[f.jsx(ct,{path:"/signUpPage",element:f.jsx(IW,{})}),f.jsx(ct,{path:"/loginPage",element:f.jsx(CW,{})}),f.jsx(ct,{path:"/*",element:f.jsx(f0,{to:"/auth/loginPage"})})]}),OW=()=>{const{status:t,user:e}=us(r=>r.auth),n=kn();return C.useEffect(()=>{n(Hh()),n(i8())},[n]),f.jsxs(Qh,{children:[e.role==="admin"?f.jsx(ct,{path:"/*",element:f.jsx(uq,{})}):f.jsx(ct,{path:"/*",element:f.jsx(vT,{})}),t!=="online"&&f.jsxs(f.Fragment,{children:[f.jsx(ct,{path:"auth/*",element:f.jsx(DW,{})}),f.jsx(ct,{path:"/*",element:f.jsx(vT,{})})]})]})},LW=()=>f.jsx(I5,{store:c8,children:f.jsx(cq,{children:f.jsx(OW,{})})});Om.createRoot(document.getElementById("root")).render(f.jsx(he.StrictMode,{children:f.jsx(nz,{children:f.jsx(LW,{})})}));
