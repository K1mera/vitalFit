function SA(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function AA(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var dw={exports:{}},Ic={},hw={exports:{}},re={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $a=Symbol.for("react.element"),CA=Symbol.for("react.portal"),RA=Symbol.for("react.fragment"),PA=Symbol.for("react.strict_mode"),kA=Symbol.for("react.profiler"),NA=Symbol.for("react.provider"),bA=Symbol.for("react.context"),DA=Symbol.for("react.forward_ref"),OA=Symbol.for("react.suspense"),LA=Symbol.for("react.memo"),jA=Symbol.for("react.lazy"),Dy=Symbol.iterator;function VA(t){return t===null||typeof t!="object"?null:(t=Dy&&t[Dy]||t["@@iterator"],typeof t=="function"?t:null)}var fw={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},pw=Object.assign,mw={};function Xs(t,e,n){this.props=t,this.context=e,this.refs=mw,this.updater=n||fw}Xs.prototype.isReactComponent={};Xs.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Xs.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function gw(){}gw.prototype=Xs.prototype;function Qp(t,e,n){this.props=t,this.context=e,this.refs=mw,this.updater=n||fw}var Jp=Qp.prototype=new gw;Jp.constructor=Qp;pw(Jp,Xs.prototype);Jp.isPureReactComponent=!0;var Oy=Array.isArray,yw=Object.prototype.hasOwnProperty,Xp={current:null},vw={key:!0,ref:!0,__self:!0,__source:!0};function _w(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)yw.call(e,r)&&!vw.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:$a,type:t,key:s,ref:o,props:i,_owner:Xp.current}}function MA(t,e){return{$$typeof:$a,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Yp(t){return typeof t=="object"&&t!==null&&t.$$typeof===$a}function FA(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Ly=/\/+/g;function Bd(t,e){return typeof t=="object"&&t!==null&&t.key!=null?FA(""+t.key):e.toString(36)}function Gl(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case $a:case CA:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Bd(o,0):r,Oy(i)?(n="",t!=null&&(n=t.replace(Ly,"$&/")+"/"),Gl(i,e,n,"",function(u){return u})):i!=null&&(Yp(i)&&(i=MA(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Ly,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Oy(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+Bd(s,a);o+=Gl(s,e,n,l,i)}else if(l=VA(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+Bd(s,a++),o+=Gl(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function _l(t,e,n){if(t==null)return t;var r=[],i=0;return Gl(t,r,"","",function(s){return e.call(n,s,i++)}),r}function UA(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var It={current:null},Ql={transition:null},$A={ReactCurrentDispatcher:It,ReactCurrentBatchConfig:Ql,ReactCurrentOwner:Xp};re.Children={map:_l,forEach:function(t,e,n){_l(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return _l(t,function(){e++}),e},toArray:function(t){return _l(t,function(e){return e})||[]},only:function(t){if(!Yp(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};re.Component=Xs;re.Fragment=RA;re.Profiler=kA;re.PureComponent=Qp;re.StrictMode=PA;re.Suspense=OA;re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$A;re.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=pw({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Xp.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)yw.call(e,l)&&!vw.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:$a,type:t.type,key:i,ref:s,props:r,_owner:o}};re.createContext=function(t){return t={$$typeof:bA,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:NA,_context:t},t.Consumer=t};re.createElement=_w;re.createFactory=function(t){var e=_w.bind(null,t);return e.type=t,e};re.createRef=function(){return{current:null}};re.forwardRef=function(t){return{$$typeof:DA,render:t}};re.isValidElement=Yp;re.lazy=function(t){return{$$typeof:jA,_payload:{_status:-1,_result:t},_init:UA}};re.memo=function(t,e){return{$$typeof:LA,type:t,compare:e===void 0?null:e}};re.startTransition=function(t){var e=Ql.transition;Ql.transition={};try{t()}finally{Ql.transition=e}};re.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};re.useCallback=function(t,e){return It.current.useCallback(t,e)};re.useContext=function(t){return It.current.useContext(t)};re.useDebugValue=function(){};re.useDeferredValue=function(t){return It.current.useDeferredValue(t)};re.useEffect=function(t,e){return It.current.useEffect(t,e)};re.useId=function(){return It.current.useId()};re.useImperativeHandle=function(t,e,n){return It.current.useImperativeHandle(t,e,n)};re.useInsertionEffect=function(t,e){return It.current.useInsertionEffect(t,e)};re.useLayoutEffect=function(t,e){return It.current.useLayoutEffect(t,e)};re.useMemo=function(t,e){return It.current.useMemo(t,e)};re.useReducer=function(t,e,n){return It.current.useReducer(t,e,n)};re.useRef=function(t){return It.current.useRef(t)};re.useState=function(t){return It.current.useState(t)};re.useSyncExternalStore=function(t,e,n){return It.current.useSyncExternalStore(t,e,n)};re.useTransition=function(){return It.current.useTransition()};re.version="18.2.0";hw.exports=re;var S=hw.exports;const _t=AA(S),ef=SA({__proto__:null,default:_t},[S]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BA=S,zA=Symbol.for("react.element"),HA=Symbol.for("react.fragment"),qA=Object.prototype.hasOwnProperty,WA=BA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,KA={key:!0,ref:!0,__self:!0,__source:!0};function ww(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)qA.call(e,r)&&!KA.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:zA,type:t,key:s,ref:o,props:i,_owner:WA.current}}Ic.Fragment=HA;Ic.jsx=ww;Ic.jsxs=ww;dw.exports=Ic;var h=dw.exports,tf={},Ew={exports:{}},Qt={},Tw={exports:{}},xw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(j,W){var X=j.length;j.push(W);e:for(;0<X;){var _e=X-1>>>1,Re=j[_e];if(0<i(Re,W))j[_e]=W,j[X]=Re,X=_e;else break e}}function n(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var W=j[0],X=j.pop();if(X!==W){j[0]=X;e:for(var _e=0,Re=j.length,di=Re>>>1;_e<di;){var xn=2*(_e+1)-1,uo=j[xn],In=xn+1,Xi=j[In];if(0>i(uo,X))In<Re&&0>i(Xi,uo)?(j[_e]=Xi,j[In]=X,_e=In):(j[_e]=uo,j[xn]=X,_e=xn);else if(In<Re&&0>i(Xi,X))j[_e]=Xi,j[In]=X,_e=In;else break e}}return W}function i(j,W){var X=j.sortIndex-W.sortIndex;return X!==0?X:j.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,d=null,f=3,y=!1,g=!1,v=!1,w=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(j){for(var W=n(u);W!==null;){if(W.callback===null)r(u);else if(W.startTime<=j)r(u),W.sortIndex=W.expirationTime,e(l,W);else break;W=n(u)}}function T(j){if(v=!1,_(j),!g)if(n(l)!==null)g=!0,At(I);else{var W=n(u);W!==null&&yt(T,W.startTime-j)}}function I(j,W){g=!1,v&&(v=!1,m(M),M=-1),y=!0;var X=f;try{for(_(W),d=n(l);d!==null&&(!(d.expirationTime>W)||j&&!ot());){var _e=d.callback;if(typeof _e=="function"){d.callback=null,f=d.priorityLevel;var Re=_e(d.expirationTime<=W);W=t.unstable_now(),typeof Re=="function"?d.callback=Re:d===n(l)&&r(l),_(W)}else r(l);d=n(l)}if(d!==null)var di=!0;else{var xn=n(u);xn!==null&&yt(T,xn.startTime-W),di=!1}return di}finally{d=null,f=X,y=!1}}var N=!1,O=null,M=-1,ee=5,B=-1;function ot(){return!(t.unstable_now()-B<ee)}function Z(){if(O!==null){var j=t.unstable_now();B=j;var W=!0;try{W=O(!0,j)}finally{W?ie():(N=!1,O=null)}}else N=!1}var ie;if(typeof p=="function")ie=function(){p(Z)};else if(typeof MessageChannel<"u"){var he=new MessageChannel,Be=he.port2;he.port1.onmessage=Z,ie=function(){Be.postMessage(null)}}else ie=function(){w(Z,0)};function At(j){O=j,N||(N=!0,ie())}function yt(j,W){M=w(function(){j(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(j){j.callback=null},t.unstable_continueExecution=function(){g||y||(g=!0,At(I))},t.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ee=0<j?Math.floor(1e3/j):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(j){switch(f){case 1:case 2:case 3:var W=3;break;default:W=f}var X=f;f=W;try{return j()}finally{f=X}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(j,W){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var X=f;f=j;try{return W()}finally{f=X}},t.unstable_scheduleCallback=function(j,W,X){var _e=t.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?_e+X:_e):X=_e,j){case 1:var Re=-1;break;case 2:Re=250;break;case 5:Re=1073741823;break;case 4:Re=1e4;break;default:Re=5e3}return Re=X+Re,j={id:c++,callback:W,priorityLevel:j,startTime:X,expirationTime:Re,sortIndex:-1},X>_e?(j.sortIndex=X,e(u,j),n(l)===null&&j===n(u)&&(v?(m(M),M=-1):v=!0,yt(T,X-_e))):(j.sortIndex=Re,e(l,j),g||y||(g=!0,At(I))),j},t.unstable_shouldYield=ot,t.unstable_wrapCallback=function(j){var W=f;return function(){var X=f;f=W;try{return j.apply(this,arguments)}finally{f=X}}}})(xw);Tw.exports=xw;var GA=Tw.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Iw=S,qt=GA;function k(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Sw=new Set,Yo={};function $i(t,e){Ns(t,e),Ns(t+"Capture",e)}function Ns(t,e){for(Yo[t]=e,t=0;t<e.length;t++)Sw.add(e[t])}var ar=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),nf=Object.prototype.hasOwnProperty,QA=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,jy={},Vy={};function JA(t){return nf.call(Vy,t)?!0:nf.call(jy,t)?!1:QA.test(t)?Vy[t]=!0:(jy[t]=!0,!1)}function XA(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function YA(t,e,n,r){if(e===null||typeof e>"u"||XA(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function St(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var st={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){st[t]=new St(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];st[e]=new St(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){st[t]=new St(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){st[t]=new St(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){st[t]=new St(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){st[t]=new St(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){st[t]=new St(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){st[t]=new St(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){st[t]=new St(t,5,!1,t.toLowerCase(),null,!1,!1)});var Zp=/[\-:]([a-z])/g;function em(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Zp,em);st[e]=new St(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Zp,em);st[e]=new St(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Zp,em);st[e]=new St(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){st[t]=new St(t,1,!1,t.toLowerCase(),null,!1,!1)});st.xlinkHref=new St("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){st[t]=new St(t,1,!1,t.toLowerCase(),null,!0,!0)});function tm(t,e,n,r){var i=st.hasOwnProperty(e)?st[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(YA(e,n,i,r)&&(n=null),r||i===null?JA(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var vr=Iw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,wl=Symbol.for("react.element"),ss=Symbol.for("react.portal"),os=Symbol.for("react.fragment"),nm=Symbol.for("react.strict_mode"),rf=Symbol.for("react.profiler"),Aw=Symbol.for("react.provider"),Cw=Symbol.for("react.context"),rm=Symbol.for("react.forward_ref"),sf=Symbol.for("react.suspense"),of=Symbol.for("react.suspense_list"),im=Symbol.for("react.memo"),Sr=Symbol.for("react.lazy"),Rw=Symbol.for("react.offscreen"),My=Symbol.iterator;function co(t){return t===null||typeof t!="object"?null:(t=My&&t[My]||t["@@iterator"],typeof t=="function"?t:null)}var Ae=Object.assign,zd;function Io(t){if(zd===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);zd=e&&e[1]||""}return`
`+zd+t}var Hd=!1;function qd(t,e){if(!t||Hd)return"";Hd=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Hd=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Io(t):""}function ZA(t){switch(t.tag){case 5:return Io(t.type);case 16:return Io("Lazy");case 13:return Io("Suspense");case 19:return Io("SuspenseList");case 0:case 2:case 15:return t=qd(t.type,!1),t;case 11:return t=qd(t.type.render,!1),t;case 1:return t=qd(t.type,!0),t;default:return""}}function af(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case os:return"Fragment";case ss:return"Portal";case rf:return"Profiler";case nm:return"StrictMode";case sf:return"Suspense";case of:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Cw:return(t.displayName||"Context")+".Consumer";case Aw:return(t._context.displayName||"Context")+".Provider";case rm:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case im:return e=t.displayName||null,e!==null?e:af(t.type)||"Memo";case Sr:e=t._payload,t=t._init;try{return af(t(e))}catch{}}return null}function eC(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return af(e);case 8:return e===nm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Xr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Pw(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function tC(t){var e=Pw(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function El(t){t._valueTracker||(t._valueTracker=tC(t))}function kw(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Pw(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function vu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function lf(t,e){var n=e.checked;return Ae({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Fy(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Xr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Nw(t,e){e=e.checked,e!=null&&tm(t,"checked",e,!1)}function uf(t,e){Nw(t,e);var n=Xr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?cf(t,e.type,n):e.hasOwnProperty("defaultValue")&&cf(t,e.type,Xr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Uy(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function cf(t,e,n){(e!=="number"||vu(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var So=Array.isArray;function ws(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Xr(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function df(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(k(91));return Ae({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function $y(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(k(92));if(So(n)){if(1<n.length)throw Error(k(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Xr(n)}}function bw(t,e){var n=Xr(e.value),r=Xr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function By(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Dw(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function hf(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Dw(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Tl,Ow=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Tl=Tl||document.createElement("div"),Tl.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Tl.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Zo(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Oo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},nC=["Webkit","ms","Moz","O"];Object.keys(Oo).forEach(function(t){nC.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Oo[e]=Oo[t]})});function Lw(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Oo.hasOwnProperty(t)&&Oo[t]?(""+e).trim():e+"px"}function jw(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Lw(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var rC=Ae({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ff(t,e){if(e){if(rC[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(k(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(k(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(k(61))}if(e.style!=null&&typeof e.style!="object")throw Error(k(62))}}function pf(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mf=null;function sm(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var gf=null,Es=null,Ts=null;function zy(t){if(t=Ha(t)){if(typeof gf!="function")throw Error(k(280));var e=t.stateNode;e&&(e=Pc(e),gf(t.stateNode,t.type,e))}}function Vw(t){Es?Ts?Ts.push(t):Ts=[t]:Es=t}function Mw(){if(Es){var t=Es,e=Ts;if(Ts=Es=null,zy(t),e)for(t=0;t<e.length;t++)zy(e[t])}}function Fw(t,e){return t(e)}function Uw(){}var Wd=!1;function $w(t,e,n){if(Wd)return t(e,n);Wd=!0;try{return Fw(t,e,n)}finally{Wd=!1,(Es!==null||Ts!==null)&&(Uw(),Mw())}}function ea(t,e){var n=t.stateNode;if(n===null)return null;var r=Pc(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(k(231,e,typeof n));return n}var yf=!1;if(ar)try{var ho={};Object.defineProperty(ho,"passive",{get:function(){yf=!0}}),window.addEventListener("test",ho,ho),window.removeEventListener("test",ho,ho)}catch{yf=!1}function iC(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var Lo=!1,_u=null,wu=!1,vf=null,sC={onError:function(t){Lo=!0,_u=t}};function oC(t,e,n,r,i,s,o,a,l){Lo=!1,_u=null,iC.apply(sC,arguments)}function aC(t,e,n,r,i,s,o,a,l){if(oC.apply(this,arguments),Lo){if(Lo){var u=_u;Lo=!1,_u=null}else throw Error(k(198));wu||(wu=!0,vf=u)}}function Bi(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Bw(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Hy(t){if(Bi(t)!==t)throw Error(k(188))}function lC(t){var e=t.alternate;if(!e){if(e=Bi(t),e===null)throw Error(k(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Hy(i),t;if(s===r)return Hy(i),e;s=s.sibling}throw Error(k(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(k(189))}}if(n.alternate!==r)throw Error(k(190))}if(n.tag!==3)throw Error(k(188));return n.stateNode.current===n?t:e}function zw(t){return t=lC(t),t!==null?Hw(t):null}function Hw(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Hw(t);if(e!==null)return e;t=t.sibling}return null}var qw=qt.unstable_scheduleCallback,qy=qt.unstable_cancelCallback,uC=qt.unstable_shouldYield,cC=qt.unstable_requestPaint,be=qt.unstable_now,dC=qt.unstable_getCurrentPriorityLevel,om=qt.unstable_ImmediatePriority,Ww=qt.unstable_UserBlockingPriority,Eu=qt.unstable_NormalPriority,hC=qt.unstable_LowPriority,Kw=qt.unstable_IdlePriority,Sc=null,jn=null;function fC(t){if(jn&&typeof jn.onCommitFiberRoot=="function")try{jn.onCommitFiberRoot(Sc,t,void 0,(t.current.flags&128)===128)}catch{}}var yn=Math.clz32?Math.clz32:gC,pC=Math.log,mC=Math.LN2;function gC(t){return t>>>=0,t===0?32:31-(pC(t)/mC|0)|0}var xl=64,Il=4194304;function Ao(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Tu(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Ao(a):(s&=o,s!==0&&(r=Ao(s)))}else o=n&~i,o!==0?r=Ao(o):s!==0&&(r=Ao(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-yn(e),i=1<<n,r|=t[n],e&=~i;return r}function yC(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vC(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-yn(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=yC(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function _f(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Gw(){var t=xl;return xl<<=1,!(xl&4194240)&&(xl=64),t}function Kd(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ba(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-yn(e),t[e]=n}function _C(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-yn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function am(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-yn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var ce=0;function Qw(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Jw,lm,Xw,Yw,Zw,wf=!1,Sl=[],Vr=null,Mr=null,Fr=null,ta=new Map,na=new Map,Cr=[],wC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Wy(t,e){switch(t){case"focusin":case"focusout":Vr=null;break;case"dragenter":case"dragleave":Mr=null;break;case"mouseover":case"mouseout":Fr=null;break;case"pointerover":case"pointerout":ta.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":na.delete(e.pointerId)}}function fo(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Ha(e),e!==null&&lm(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function EC(t,e,n,r,i){switch(e){case"focusin":return Vr=fo(Vr,t,e,n,r,i),!0;case"dragenter":return Mr=fo(Mr,t,e,n,r,i),!0;case"mouseover":return Fr=fo(Fr,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return ta.set(s,fo(ta.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,na.set(s,fo(na.get(s)||null,t,e,n,r,i)),!0}return!1}function e1(t){var e=gi(t.target);if(e!==null){var n=Bi(e);if(n!==null){if(e=n.tag,e===13){if(e=Bw(n),e!==null){t.blockedOn=e,Zw(t.priority,function(){Xw(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Jl(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Ef(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);mf=r,n.target.dispatchEvent(r),mf=null}else return e=Ha(n),e!==null&&lm(e),t.blockedOn=n,!1;e.shift()}return!0}function Ky(t,e,n){Jl(t)&&n.delete(e)}function TC(){wf=!1,Vr!==null&&Jl(Vr)&&(Vr=null),Mr!==null&&Jl(Mr)&&(Mr=null),Fr!==null&&Jl(Fr)&&(Fr=null),ta.forEach(Ky),na.forEach(Ky)}function po(t,e){t.blockedOn===e&&(t.blockedOn=null,wf||(wf=!0,qt.unstable_scheduleCallback(qt.unstable_NormalPriority,TC)))}function ra(t){function e(i){return po(i,t)}if(0<Sl.length){po(Sl[0],t);for(var n=1;n<Sl.length;n++){var r=Sl[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Vr!==null&&po(Vr,t),Mr!==null&&po(Mr,t),Fr!==null&&po(Fr,t),ta.forEach(e),na.forEach(e),n=0;n<Cr.length;n++)r=Cr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Cr.length&&(n=Cr[0],n.blockedOn===null);)e1(n),n.blockedOn===null&&Cr.shift()}var xs=vr.ReactCurrentBatchConfig,xu=!0;function xC(t,e,n,r){var i=ce,s=xs.transition;xs.transition=null;try{ce=1,um(t,e,n,r)}finally{ce=i,xs.transition=s}}function IC(t,e,n,r){var i=ce,s=xs.transition;xs.transition=null;try{ce=4,um(t,e,n,r)}finally{ce=i,xs.transition=s}}function um(t,e,n,r){if(xu){var i=Ef(t,e,n,r);if(i===null)rh(t,e,r,Iu,n),Wy(t,r);else if(EC(i,t,e,n,r))r.stopPropagation();else if(Wy(t,r),e&4&&-1<wC.indexOf(t)){for(;i!==null;){var s=Ha(i);if(s!==null&&Jw(s),s=Ef(t,e,n,r),s===null&&rh(t,e,r,Iu,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else rh(t,e,r,null,n)}}var Iu=null;function Ef(t,e,n,r){if(Iu=null,t=sm(r),t=gi(t),t!==null)if(e=Bi(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Bw(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Iu=t,null}function t1(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(dC()){case om:return 1;case Ww:return 4;case Eu:case hC:return 16;case Kw:return 536870912;default:return 16}default:return 16}}var br=null,cm=null,Xl=null;function n1(){if(Xl)return Xl;var t,e=cm,n=e.length,r,i="value"in br?br.value:br.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Xl=i.slice(t,1<r?1-r:void 0)}function Yl(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Al(){return!0}function Gy(){return!1}function Jt(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Al:Gy,this.isPropagationStopped=Gy,this}return Ae(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Al)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Al)},persist:function(){},isPersistent:Al}),e}var Ys={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dm=Jt(Ys),za=Ae({},Ys,{view:0,detail:0}),SC=Jt(za),Gd,Qd,mo,Ac=Ae({},za,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hm,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==mo&&(mo&&t.type==="mousemove"?(Gd=t.screenX-mo.screenX,Qd=t.screenY-mo.screenY):Qd=Gd=0,mo=t),Gd)},movementY:function(t){return"movementY"in t?t.movementY:Qd}}),Qy=Jt(Ac),AC=Ae({},Ac,{dataTransfer:0}),CC=Jt(AC),RC=Ae({},za,{relatedTarget:0}),Jd=Jt(RC),PC=Ae({},Ys,{animationName:0,elapsedTime:0,pseudoElement:0}),kC=Jt(PC),NC=Ae({},Ys,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),bC=Jt(NC),DC=Ae({},Ys,{data:0}),Jy=Jt(DC),OC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},LC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function VC(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=jC[t])?!!e[t]:!1}function hm(){return VC}var MC=Ae({},za,{key:function(t){if(t.key){var e=OC[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Yl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?LC[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hm,charCode:function(t){return t.type==="keypress"?Yl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Yl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),FC=Jt(MC),UC=Ae({},Ac,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xy=Jt(UC),$C=Ae({},za,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hm}),BC=Jt($C),zC=Ae({},Ys,{propertyName:0,elapsedTime:0,pseudoElement:0}),HC=Jt(zC),qC=Ae({},Ac,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),WC=Jt(qC),KC=[9,13,27,32],fm=ar&&"CompositionEvent"in window,jo=null;ar&&"documentMode"in document&&(jo=document.documentMode);var GC=ar&&"TextEvent"in window&&!jo,r1=ar&&(!fm||jo&&8<jo&&11>=jo),Yy=String.fromCharCode(32),Zy=!1;function i1(t,e){switch(t){case"keyup":return KC.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function s1(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var as=!1;function QC(t,e){switch(t){case"compositionend":return s1(e);case"keypress":return e.which!==32?null:(Zy=!0,Yy);case"textInput":return t=e.data,t===Yy&&Zy?null:t;default:return null}}function JC(t,e){if(as)return t==="compositionend"||!fm&&i1(t,e)?(t=n1(),Xl=cm=br=null,as=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return r1&&e.locale!=="ko"?null:e.data;default:return null}}var XC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ev(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!XC[t.type]:e==="textarea"}function o1(t,e,n,r){Vw(r),e=Su(e,"onChange"),0<e.length&&(n=new dm("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Vo=null,ia=null;function YC(t){y1(t,0)}function Cc(t){var e=cs(t);if(kw(e))return t}function ZC(t,e){if(t==="change")return e}var a1=!1;if(ar){var Xd;if(ar){var Yd="oninput"in document;if(!Yd){var tv=document.createElement("div");tv.setAttribute("oninput","return;"),Yd=typeof tv.oninput=="function"}Xd=Yd}else Xd=!1;a1=Xd&&(!document.documentMode||9<document.documentMode)}function nv(){Vo&&(Vo.detachEvent("onpropertychange",l1),ia=Vo=null)}function l1(t){if(t.propertyName==="value"&&Cc(ia)){var e=[];o1(e,ia,t,sm(t)),$w(YC,e)}}function eR(t,e,n){t==="focusin"?(nv(),Vo=e,ia=n,Vo.attachEvent("onpropertychange",l1)):t==="focusout"&&nv()}function tR(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Cc(ia)}function nR(t,e){if(t==="click")return Cc(e)}function rR(t,e){if(t==="input"||t==="change")return Cc(e)}function iR(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var wn=typeof Object.is=="function"?Object.is:iR;function sa(t,e){if(wn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!nf.call(e,i)||!wn(t[i],e[i]))return!1}return!0}function rv(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function iv(t,e){var n=rv(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=rv(n)}}function u1(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?u1(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function c1(){for(var t=window,e=vu();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=vu(t.document)}return e}function pm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function sR(t){var e=c1(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&u1(n.ownerDocument.documentElement,n)){if(r!==null&&pm(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=iv(n,s);var o=iv(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var oR=ar&&"documentMode"in document&&11>=document.documentMode,ls=null,Tf=null,Mo=null,xf=!1;function sv(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;xf||ls==null||ls!==vu(r)||(r=ls,"selectionStart"in r&&pm(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Mo&&sa(Mo,r)||(Mo=r,r=Su(Tf,"onSelect"),0<r.length&&(e=new dm("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ls)))}function Cl(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var us={animationend:Cl("Animation","AnimationEnd"),animationiteration:Cl("Animation","AnimationIteration"),animationstart:Cl("Animation","AnimationStart"),transitionend:Cl("Transition","TransitionEnd")},Zd={},d1={};ar&&(d1=document.createElement("div").style,"AnimationEvent"in window||(delete us.animationend.animation,delete us.animationiteration.animation,delete us.animationstart.animation),"TransitionEvent"in window||delete us.transitionend.transition);function Rc(t){if(Zd[t])return Zd[t];if(!us[t])return t;var e=us[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in d1)return Zd[t]=e[n];return t}var h1=Rc("animationend"),f1=Rc("animationiteration"),p1=Rc("animationstart"),m1=Rc("transitionend"),g1=new Map,ov="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ii(t,e){g1.set(t,e),$i(e,[t])}for(var eh=0;eh<ov.length;eh++){var th=ov[eh],aR=th.toLowerCase(),lR=th[0].toUpperCase()+th.slice(1);ii(aR,"on"+lR)}ii(h1,"onAnimationEnd");ii(f1,"onAnimationIteration");ii(p1,"onAnimationStart");ii("dblclick","onDoubleClick");ii("focusin","onFocus");ii("focusout","onBlur");ii(m1,"onTransitionEnd");Ns("onMouseEnter",["mouseout","mouseover"]);Ns("onMouseLeave",["mouseout","mouseover"]);Ns("onPointerEnter",["pointerout","pointerover"]);Ns("onPointerLeave",["pointerout","pointerover"]);$i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));$i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));$i("onBeforeInput",["compositionend","keypress","textInput","paste"]);$i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));$i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));$i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Co="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),uR=new Set("cancel close invalid load scroll toggle".split(" ").concat(Co));function av(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,aC(r,e,void 0,t),t.currentTarget=null}function y1(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;av(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;av(i,a,u),s=l}}}if(wu)throw t=vf,wu=!1,vf=null,t}function ge(t,e){var n=e[Rf];n===void 0&&(n=e[Rf]=new Set);var r=t+"__bubble";n.has(r)||(v1(e,t,2,!1),n.add(r))}function nh(t,e,n){var r=0;e&&(r|=4),v1(n,t,r,e)}var Rl="_reactListening"+Math.random().toString(36).slice(2);function oa(t){if(!t[Rl]){t[Rl]=!0,Sw.forEach(function(n){n!=="selectionchange"&&(uR.has(n)||nh(n,!1,t),nh(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Rl]||(e[Rl]=!0,nh("selectionchange",!1,e))}}function v1(t,e,n,r){switch(t1(e)){case 1:var i=xC;break;case 4:i=IC;break;default:i=um}n=i.bind(null,e,n,t),i=void 0,!yf||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function rh(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=gi(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}$w(function(){var u=s,c=sm(n),d=[];e:{var f=g1.get(t);if(f!==void 0){var y=dm,g=t;switch(t){case"keypress":if(Yl(n)===0)break e;case"keydown":case"keyup":y=FC;break;case"focusin":g="focus",y=Jd;break;case"focusout":g="blur",y=Jd;break;case"beforeblur":case"afterblur":y=Jd;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=Qy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=CC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=BC;break;case h1:case f1:case p1:y=kC;break;case m1:y=HC;break;case"scroll":y=SC;break;case"wheel":y=WC;break;case"copy":case"cut":case"paste":y=bC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=Xy}var v=(e&4)!==0,w=!v&&t==="scroll",m=v?f!==null?f+"Capture":null:f;v=[];for(var p=u,_;p!==null;){_=p;var T=_.stateNode;if(_.tag===5&&T!==null&&(_=T,m!==null&&(T=ea(p,m),T!=null&&v.push(aa(p,T,_)))),w)break;p=p.return}0<v.length&&(f=new y(f,g,null,n,c),d.push({event:f,listeners:v}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",f&&n!==mf&&(g=n.relatedTarget||n.fromElement)&&(gi(g)||g[lr]))break e;if((y||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,y?(g=n.relatedTarget||n.toElement,y=u,g=g?gi(g):null,g!==null&&(w=Bi(g),g!==w||g.tag!==5&&g.tag!==6)&&(g=null)):(y=null,g=u),y!==g)){if(v=Qy,T="onMouseLeave",m="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(v=Xy,T="onPointerLeave",m="onPointerEnter",p="pointer"),w=y==null?f:cs(y),_=g==null?f:cs(g),f=new v(T,p+"leave",y,n,c),f.target=w,f.relatedTarget=_,T=null,gi(c)===u&&(v=new v(m,p+"enter",g,n,c),v.target=_,v.relatedTarget=w,T=v),w=T,y&&g)t:{for(v=y,m=g,p=0,_=v;_;_=Zi(_))p++;for(_=0,T=m;T;T=Zi(T))_++;for(;0<p-_;)v=Zi(v),p--;for(;0<_-p;)m=Zi(m),_--;for(;p--;){if(v===m||m!==null&&v===m.alternate)break t;v=Zi(v),m=Zi(m)}v=null}else v=null;y!==null&&lv(d,f,y,v,!1),g!==null&&w!==null&&lv(d,w,g,v,!0)}}e:{if(f=u?cs(u):window,y=f.nodeName&&f.nodeName.toLowerCase(),y==="select"||y==="input"&&f.type==="file")var I=ZC;else if(ev(f))if(a1)I=rR;else{I=tR;var N=eR}else(y=f.nodeName)&&y.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(I=nR);if(I&&(I=I(t,u))){o1(d,I,n,c);break e}N&&N(t,f,u),t==="focusout"&&(N=f._wrapperState)&&N.controlled&&f.type==="number"&&cf(f,"number",f.value)}switch(N=u?cs(u):window,t){case"focusin":(ev(N)||N.contentEditable==="true")&&(ls=N,Tf=u,Mo=null);break;case"focusout":Mo=Tf=ls=null;break;case"mousedown":xf=!0;break;case"contextmenu":case"mouseup":case"dragend":xf=!1,sv(d,n,c);break;case"selectionchange":if(oR)break;case"keydown":case"keyup":sv(d,n,c)}var O;if(fm)e:{switch(t){case"compositionstart":var M="onCompositionStart";break e;case"compositionend":M="onCompositionEnd";break e;case"compositionupdate":M="onCompositionUpdate";break e}M=void 0}else as?i1(t,n)&&(M="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(M="onCompositionStart");M&&(r1&&n.locale!=="ko"&&(as||M!=="onCompositionStart"?M==="onCompositionEnd"&&as&&(O=n1()):(br=c,cm="value"in br?br.value:br.textContent,as=!0)),N=Su(u,M),0<N.length&&(M=new Jy(M,t,null,n,c),d.push({event:M,listeners:N}),O?M.data=O:(O=s1(n),O!==null&&(M.data=O)))),(O=GC?QC(t,n):JC(t,n))&&(u=Su(u,"onBeforeInput"),0<u.length&&(c=new Jy("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=O))}y1(d,e)})}function aa(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Su(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=ea(t,n),s!=null&&r.unshift(aa(t,s,i)),s=ea(t,e),s!=null&&r.push(aa(t,s,i))),t=t.return}return r}function Zi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function lv(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=ea(n,s),l!=null&&o.unshift(aa(n,l,a))):i||(l=ea(n,s),l!=null&&o.push(aa(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var cR=/\r\n?/g,dR=/\u0000|\uFFFD/g;function uv(t){return(typeof t=="string"?t:""+t).replace(cR,`
`).replace(dR,"")}function Pl(t,e,n){if(e=uv(e),uv(t)!==e&&n)throw Error(k(425))}function Au(){}var If=null,Sf=null;function Af(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Cf=typeof setTimeout=="function"?setTimeout:void 0,hR=typeof clearTimeout=="function"?clearTimeout:void 0,cv=typeof Promise=="function"?Promise:void 0,fR=typeof queueMicrotask=="function"?queueMicrotask:typeof cv<"u"?function(t){return cv.resolve(null).then(t).catch(pR)}:Cf;function pR(t){setTimeout(function(){throw t})}function ih(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),ra(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);ra(e)}function Ur(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function dv(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Zs=Math.random().toString(36).slice(2),Pn="__reactFiber$"+Zs,la="__reactProps$"+Zs,lr="__reactContainer$"+Zs,Rf="__reactEvents$"+Zs,mR="__reactListeners$"+Zs,gR="__reactHandles$"+Zs;function gi(t){var e=t[Pn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[lr]||n[Pn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=dv(t);t!==null;){if(n=t[Pn])return n;t=dv(t)}return e}t=n,n=t.parentNode}return null}function Ha(t){return t=t[Pn]||t[lr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function cs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(k(33))}function Pc(t){return t[la]||null}var Pf=[],ds=-1;function si(t){return{current:t}}function ve(t){0>ds||(t.current=Pf[ds],Pf[ds]=null,ds--)}function pe(t,e){ds++,Pf[ds]=t.current,t.current=e}var Yr={},pt=si(Yr),bt=si(!1),Ri=Yr;function bs(t,e){var n=t.type.contextTypes;if(!n)return Yr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Dt(t){return t=t.childContextTypes,t!=null}function Cu(){ve(bt),ve(pt)}function hv(t,e,n){if(pt.current!==Yr)throw Error(k(168));pe(pt,e),pe(bt,n)}function _1(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(k(108,eC(t)||"Unknown",i));return Ae({},n,r)}function Ru(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Yr,Ri=pt.current,pe(pt,t),pe(bt,bt.current),!0}function fv(t,e,n){var r=t.stateNode;if(!r)throw Error(k(169));n?(t=_1(t,e,Ri),r.__reactInternalMemoizedMergedChildContext=t,ve(bt),ve(pt),pe(pt,t)):ve(bt),pe(bt,n)}var Qn=null,kc=!1,sh=!1;function w1(t){Qn===null?Qn=[t]:Qn.push(t)}function yR(t){kc=!0,w1(t)}function oi(){if(!sh&&Qn!==null){sh=!0;var t=0,e=ce;try{var n=Qn;for(ce=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Qn=null,kc=!1}catch(i){throw Qn!==null&&(Qn=Qn.slice(t+1)),qw(om,oi),i}finally{ce=e,sh=!1}}return null}var hs=[],fs=0,Pu=null,ku=0,Zt=[],en=0,Pi=null,Zn=1,er="";function hi(t,e){hs[fs++]=ku,hs[fs++]=Pu,Pu=t,ku=e}function E1(t,e,n){Zt[en++]=Zn,Zt[en++]=er,Zt[en++]=Pi,Pi=t;var r=Zn;t=er;var i=32-yn(r)-1;r&=~(1<<i),n+=1;var s=32-yn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Zn=1<<32-yn(e)+i|n<<i|r,er=s+t}else Zn=1<<s|n<<i|r,er=t}function mm(t){t.return!==null&&(hi(t,1),E1(t,1,0))}function gm(t){for(;t===Pu;)Pu=hs[--fs],hs[fs]=null,ku=hs[--fs],hs[fs]=null;for(;t===Pi;)Pi=Zt[--en],Zt[en]=null,er=Zt[--en],Zt[en]=null,Zn=Zt[--en],Zt[en]=null}var zt=null,Ut=null,Ee=!1,fn=null;function T1(t,e){var n=nn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function pv(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,zt=t,Ut=Ur(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,zt=t,Ut=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Pi!==null?{id:Zn,overflow:er}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=nn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,zt=t,Ut=null,!0):!1;default:return!1}}function kf(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Nf(t){if(Ee){var e=Ut;if(e){var n=e;if(!pv(t,e)){if(kf(t))throw Error(k(418));e=Ur(n.nextSibling);var r=zt;e&&pv(t,e)?T1(r,n):(t.flags=t.flags&-4097|2,Ee=!1,zt=t)}}else{if(kf(t))throw Error(k(418));t.flags=t.flags&-4097|2,Ee=!1,zt=t}}}function mv(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;zt=t}function kl(t){if(t!==zt)return!1;if(!Ee)return mv(t),Ee=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Af(t.type,t.memoizedProps)),e&&(e=Ut)){if(kf(t))throw x1(),Error(k(418));for(;e;)T1(t,e),e=Ur(e.nextSibling)}if(mv(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(k(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Ut=Ur(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Ut=null}}else Ut=zt?Ur(t.stateNode.nextSibling):null;return!0}function x1(){for(var t=Ut;t;)t=Ur(t.nextSibling)}function Ds(){Ut=zt=null,Ee=!1}function ym(t){fn===null?fn=[t]:fn.push(t)}var vR=vr.ReactCurrentBatchConfig;function dn(t,e){if(t&&t.defaultProps){e=Ae({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Nu=si(null),bu=null,ps=null,vm=null;function _m(){vm=ps=bu=null}function wm(t){var e=Nu.current;ve(Nu),t._currentValue=e}function bf(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Is(t,e){bu=t,vm=ps=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Nt=!0),t.firstContext=null)}function on(t){var e=t._currentValue;if(vm!==t)if(t={context:t,memoizedValue:e,next:null},ps===null){if(bu===null)throw Error(k(308));ps=t,bu.dependencies={lanes:0,firstContext:t}}else ps=ps.next=t;return e}var yi=null;function Em(t){yi===null?yi=[t]:yi.push(t)}function I1(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Em(e)):(n.next=i.next,i.next=n),e.interleaved=n,ur(t,r)}function ur(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ar=!1;function Tm(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function S1(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ir(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function $r(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,le&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,ur(t,n)}return i=r.interleaved,i===null?(e.next=e,Em(r)):(e.next=i.next,i.next=e),r.interleaved=e,ur(t,n)}function Zl(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,am(t,n)}}function gv(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Du(t,e,n,r){var i=t.updateQueue;Ar=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,c=u=l=null,a=s;do{var f=a.lane,y=a.eventTime;if((r&f)===f){c!==null&&(c=c.next={eventTime:y,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=t,v=a;switch(f=e,y=n,v.tag){case 1:if(g=v.payload,typeof g=="function"){d=g.call(y,d,f);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=v.payload,f=typeof g=="function"?g.call(y,d,f):g,f==null)break e;d=Ae({},d,f);break e;case 2:Ar=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else y={eventTime:y,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=y,l=d):c=c.next=y,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(1);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Ni|=o,t.lanes=o,t.memoizedState=d}}function yv(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(k(191,i));i.call(r)}}}var A1=new Iw.Component().refs;function Df(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ae({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Nc={isMounted:function(t){return(t=t._reactInternals)?Bi(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Tt(),i=zr(t),s=ir(r,i);s.payload=e,n!=null&&(s.callback=n),e=$r(t,s,i),e!==null&&(vn(e,t,i,r),Zl(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Tt(),i=zr(t),s=ir(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=$r(t,s,i),e!==null&&(vn(e,t,i,r),Zl(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Tt(),r=zr(t),i=ir(n,r);i.tag=2,e!=null&&(i.callback=e),e=$r(t,i,r),e!==null&&(vn(e,t,r,n),Zl(e,t,r))}};function vv(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!sa(n,r)||!sa(i,s):!0}function C1(t,e,n){var r=!1,i=Yr,s=e.contextType;return typeof s=="object"&&s!==null?s=on(s):(i=Dt(e)?Ri:pt.current,r=e.contextTypes,s=(r=r!=null)?bs(t,i):Yr),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Nc,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function _v(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Nc.enqueueReplaceState(e,e.state,null)}function Of(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=A1,Tm(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=on(s):(s=Dt(e)?Ri:pt.current,i.context=bs(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Df(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Nc.enqueueReplaceState(i,i.state,null),Du(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function go(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(k(309));var r=n.stateNode}if(!r)throw Error(k(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===A1&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(k(284));if(!n._owner)throw Error(k(290,t))}return t}function Nl(t,e){throw t=Object.prototype.toString.call(e),Error(k(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function wv(t){var e=t._init;return e(t._payload)}function R1(t){function e(m,p){if(t){var _=m.deletions;_===null?(m.deletions=[p],m.flags|=16):_.push(p)}}function n(m,p){if(!t)return null;for(;p!==null;)e(m,p),p=p.sibling;return null}function r(m,p){for(m=new Map;p!==null;)p.key!==null?m.set(p.key,p):m.set(p.index,p),p=p.sibling;return m}function i(m,p){return m=Hr(m,p),m.index=0,m.sibling=null,m}function s(m,p,_){return m.index=_,t?(_=m.alternate,_!==null?(_=_.index,_<p?(m.flags|=2,p):_):(m.flags|=2,p)):(m.flags|=1048576,p)}function o(m){return t&&m.alternate===null&&(m.flags|=2),m}function a(m,p,_,T){return p===null||p.tag!==6?(p=hh(_,m.mode,T),p.return=m,p):(p=i(p,_),p.return=m,p)}function l(m,p,_,T){var I=_.type;return I===os?c(m,p,_.props.children,T,_.key):p!==null&&(p.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===Sr&&wv(I)===p.type)?(T=i(p,_.props),T.ref=go(m,p,_),T.return=m,T):(T=su(_.type,_.key,_.props,null,m.mode,T),T.ref=go(m,p,_),T.return=m,T)}function u(m,p,_,T){return p===null||p.tag!==4||p.stateNode.containerInfo!==_.containerInfo||p.stateNode.implementation!==_.implementation?(p=fh(_,m.mode,T),p.return=m,p):(p=i(p,_.children||[]),p.return=m,p)}function c(m,p,_,T,I){return p===null||p.tag!==7?(p=Si(_,m.mode,T,I),p.return=m,p):(p=i(p,_),p.return=m,p)}function d(m,p,_){if(typeof p=="string"&&p!==""||typeof p=="number")return p=hh(""+p,m.mode,_),p.return=m,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case wl:return _=su(p.type,p.key,p.props,null,m.mode,_),_.ref=go(m,null,p),_.return=m,_;case ss:return p=fh(p,m.mode,_),p.return=m,p;case Sr:var T=p._init;return d(m,T(p._payload),_)}if(So(p)||co(p))return p=Si(p,m.mode,_,null),p.return=m,p;Nl(m,p)}return null}function f(m,p,_,T){var I=p!==null?p.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return I!==null?null:a(m,p,""+_,T);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case wl:return _.key===I?l(m,p,_,T):null;case ss:return _.key===I?u(m,p,_,T):null;case Sr:return I=_._init,f(m,p,I(_._payload),T)}if(So(_)||co(_))return I!==null?null:c(m,p,_,T,null);Nl(m,_)}return null}function y(m,p,_,T,I){if(typeof T=="string"&&T!==""||typeof T=="number")return m=m.get(_)||null,a(p,m,""+T,I);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case wl:return m=m.get(T.key===null?_:T.key)||null,l(p,m,T,I);case ss:return m=m.get(T.key===null?_:T.key)||null,u(p,m,T,I);case Sr:var N=T._init;return y(m,p,_,N(T._payload),I)}if(So(T)||co(T))return m=m.get(_)||null,c(p,m,T,I,null);Nl(p,T)}return null}function g(m,p,_,T){for(var I=null,N=null,O=p,M=p=0,ee=null;O!==null&&M<_.length;M++){O.index>M?(ee=O,O=null):ee=O.sibling;var B=f(m,O,_[M],T);if(B===null){O===null&&(O=ee);break}t&&O&&B.alternate===null&&e(m,O),p=s(B,p,M),N===null?I=B:N.sibling=B,N=B,O=ee}if(M===_.length)return n(m,O),Ee&&hi(m,M),I;if(O===null){for(;M<_.length;M++)O=d(m,_[M],T),O!==null&&(p=s(O,p,M),N===null?I=O:N.sibling=O,N=O);return Ee&&hi(m,M),I}for(O=r(m,O);M<_.length;M++)ee=y(O,m,M,_[M],T),ee!==null&&(t&&ee.alternate!==null&&O.delete(ee.key===null?M:ee.key),p=s(ee,p,M),N===null?I=ee:N.sibling=ee,N=ee);return t&&O.forEach(function(ot){return e(m,ot)}),Ee&&hi(m,M),I}function v(m,p,_,T){var I=co(_);if(typeof I!="function")throw Error(k(150));if(_=I.call(_),_==null)throw Error(k(151));for(var N=I=null,O=p,M=p=0,ee=null,B=_.next();O!==null&&!B.done;M++,B=_.next()){O.index>M?(ee=O,O=null):ee=O.sibling;var ot=f(m,O,B.value,T);if(ot===null){O===null&&(O=ee);break}t&&O&&ot.alternate===null&&e(m,O),p=s(ot,p,M),N===null?I=ot:N.sibling=ot,N=ot,O=ee}if(B.done)return n(m,O),Ee&&hi(m,M),I;if(O===null){for(;!B.done;M++,B=_.next())B=d(m,B.value,T),B!==null&&(p=s(B,p,M),N===null?I=B:N.sibling=B,N=B);return Ee&&hi(m,M),I}for(O=r(m,O);!B.done;M++,B=_.next())B=y(O,m,M,B.value,T),B!==null&&(t&&B.alternate!==null&&O.delete(B.key===null?M:B.key),p=s(B,p,M),N===null?I=B:N.sibling=B,N=B);return t&&O.forEach(function(Z){return e(m,Z)}),Ee&&hi(m,M),I}function w(m,p,_,T){if(typeof _=="object"&&_!==null&&_.type===os&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case wl:e:{for(var I=_.key,N=p;N!==null;){if(N.key===I){if(I=_.type,I===os){if(N.tag===7){n(m,N.sibling),p=i(N,_.props.children),p.return=m,m=p;break e}}else if(N.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===Sr&&wv(I)===N.type){n(m,N.sibling),p=i(N,_.props),p.ref=go(m,N,_),p.return=m,m=p;break e}n(m,N);break}else e(m,N);N=N.sibling}_.type===os?(p=Si(_.props.children,m.mode,T,_.key),p.return=m,m=p):(T=su(_.type,_.key,_.props,null,m.mode,T),T.ref=go(m,p,_),T.return=m,m=T)}return o(m);case ss:e:{for(N=_.key;p!==null;){if(p.key===N)if(p.tag===4&&p.stateNode.containerInfo===_.containerInfo&&p.stateNode.implementation===_.implementation){n(m,p.sibling),p=i(p,_.children||[]),p.return=m,m=p;break e}else{n(m,p);break}else e(m,p);p=p.sibling}p=fh(_,m.mode,T),p.return=m,m=p}return o(m);case Sr:return N=_._init,w(m,p,N(_._payload),T)}if(So(_))return g(m,p,_,T);if(co(_))return v(m,p,_,T);Nl(m,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,p!==null&&p.tag===6?(n(m,p.sibling),p=i(p,_),p.return=m,m=p):(n(m,p),p=hh(_,m.mode,T),p.return=m,m=p),o(m)):n(m,p)}return w}var Os=R1(!0),P1=R1(!1),qa={},Vn=si(qa),ua=si(qa),ca=si(qa);function vi(t){if(t===qa)throw Error(k(174));return t}function xm(t,e){switch(pe(ca,e),pe(ua,t),pe(Vn,qa),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:hf(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=hf(e,t)}ve(Vn),pe(Vn,e)}function Ls(){ve(Vn),ve(ua),ve(ca)}function k1(t){vi(ca.current);var e=vi(Vn.current),n=hf(e,t.type);e!==n&&(pe(ua,t),pe(Vn,n))}function Im(t){ua.current===t&&(ve(Vn),ve(ua))}var xe=si(0);function Ou(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var oh=[];function Sm(){for(var t=0;t<oh.length;t++)oh[t]._workInProgressVersionPrimary=null;oh.length=0}var eu=vr.ReactCurrentDispatcher,ah=vr.ReactCurrentBatchConfig,ki=0,Ie=null,Ve=null,qe=null,Lu=!1,Fo=!1,da=0,_R=0;function at(){throw Error(k(321))}function Am(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!wn(t[n],e[n]))return!1;return!0}function Cm(t,e,n,r,i,s){if(ki=s,Ie=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,eu.current=t===null||t.memoizedState===null?xR:IR,t=n(r,i),Fo){s=0;do{if(Fo=!1,da=0,25<=s)throw Error(k(301));s+=1,qe=Ve=null,e.updateQueue=null,eu.current=SR,t=n(r,i)}while(Fo)}if(eu.current=ju,e=Ve!==null&&Ve.next!==null,ki=0,qe=Ve=Ie=null,Lu=!1,e)throw Error(k(300));return t}function Rm(){var t=da!==0;return da=0,t}function Cn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qe===null?Ie.memoizedState=qe=t:qe=qe.next=t,qe}function an(){if(Ve===null){var t=Ie.alternate;t=t!==null?t.memoizedState:null}else t=Ve.next;var e=qe===null?Ie.memoizedState:qe.next;if(e!==null)qe=e,Ve=t;else{if(t===null)throw Error(k(310));Ve=t,t={memoizedState:Ve.memoizedState,baseState:Ve.baseState,baseQueue:Ve.baseQueue,queue:Ve.queue,next:null},qe===null?Ie.memoizedState=qe=t:qe=qe.next=t}return qe}function ha(t,e){return typeof e=="function"?e(t):e}function lh(t){var e=an(),n=e.queue;if(n===null)throw Error(k(311));n.lastRenderedReducer=t;var r=Ve,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((ki&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,Ie.lanes|=c,Ni|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,wn(r,e.memoizedState)||(Nt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Ie.lanes|=s,Ni|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function uh(t){var e=an(),n=e.queue;if(n===null)throw Error(k(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);wn(s,e.memoizedState)||(Nt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function N1(){}function b1(t,e){var n=Ie,r=an(),i=e(),s=!wn(r.memoizedState,i);if(s&&(r.memoizedState=i,Nt=!0),r=r.queue,Pm(L1.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||qe!==null&&qe.memoizedState.tag&1){if(n.flags|=2048,fa(9,O1.bind(null,n,r,i,e),void 0,null),We===null)throw Error(k(349));ki&30||D1(n,e,i)}return i}function D1(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ie.updateQueue,e===null?(e={lastEffect:null,stores:null},Ie.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function O1(t,e,n,r){e.value=n,e.getSnapshot=r,j1(e)&&V1(t)}function L1(t,e,n){return n(function(){j1(e)&&V1(t)})}function j1(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!wn(t,n)}catch{return!0}}function V1(t){var e=ur(t,1);e!==null&&vn(e,t,1,-1)}function Ev(t){var e=Cn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ha,lastRenderedState:t},e.queue=t,t=t.dispatch=TR.bind(null,Ie,t),[e.memoizedState,t]}function fa(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ie.updateQueue,e===null?(e={lastEffect:null,stores:null},Ie.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function M1(){return an().memoizedState}function tu(t,e,n,r){var i=Cn();Ie.flags|=t,i.memoizedState=fa(1|e,n,void 0,r===void 0?null:r)}function bc(t,e,n,r){var i=an();r=r===void 0?null:r;var s=void 0;if(Ve!==null){var o=Ve.memoizedState;if(s=o.destroy,r!==null&&Am(r,o.deps)){i.memoizedState=fa(e,n,s,r);return}}Ie.flags|=t,i.memoizedState=fa(1|e,n,s,r)}function Tv(t,e){return tu(8390656,8,t,e)}function Pm(t,e){return bc(2048,8,t,e)}function F1(t,e){return bc(4,2,t,e)}function U1(t,e){return bc(4,4,t,e)}function $1(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function B1(t,e,n){return n=n!=null?n.concat([t]):null,bc(4,4,$1.bind(null,e,t),n)}function km(){}function z1(t,e){var n=an();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Am(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function H1(t,e){var n=an();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Am(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function q1(t,e,n){return ki&21?(wn(n,e)||(n=Gw(),Ie.lanes|=n,Ni|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Nt=!0),t.memoizedState=n)}function wR(t,e){var n=ce;ce=n!==0&&4>n?n:4,t(!0);var r=ah.transition;ah.transition={};try{t(!1),e()}finally{ce=n,ah.transition=r}}function W1(){return an().memoizedState}function ER(t,e,n){var r=zr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},K1(t))G1(e,n);else if(n=I1(t,e,n,r),n!==null){var i=Tt();vn(n,t,r,i),Q1(n,e,r)}}function TR(t,e,n){var r=zr(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(K1(t))G1(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,wn(a,o)){var l=e.interleaved;l===null?(i.next=i,Em(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=I1(t,e,i,r),n!==null&&(i=Tt(),vn(n,t,r,i),Q1(n,e,r))}}function K1(t){var e=t.alternate;return t===Ie||e!==null&&e===Ie}function G1(t,e){Fo=Lu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Q1(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,am(t,n)}}var ju={readContext:on,useCallback:at,useContext:at,useEffect:at,useImperativeHandle:at,useInsertionEffect:at,useLayoutEffect:at,useMemo:at,useReducer:at,useRef:at,useState:at,useDebugValue:at,useDeferredValue:at,useTransition:at,useMutableSource:at,useSyncExternalStore:at,useId:at,unstable_isNewReconciler:!1},xR={readContext:on,useCallback:function(t,e){return Cn().memoizedState=[t,e===void 0?null:e],t},useContext:on,useEffect:Tv,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,tu(4194308,4,$1.bind(null,e,t),n)},useLayoutEffect:function(t,e){return tu(4194308,4,t,e)},useInsertionEffect:function(t,e){return tu(4,2,t,e)},useMemo:function(t,e){var n=Cn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Cn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=ER.bind(null,Ie,t),[r.memoizedState,t]},useRef:function(t){var e=Cn();return t={current:t},e.memoizedState=t},useState:Ev,useDebugValue:km,useDeferredValue:function(t){return Cn().memoizedState=t},useTransition:function(){var t=Ev(!1),e=t[0];return t=wR.bind(null,t[1]),Cn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ie,i=Cn();if(Ee){if(n===void 0)throw Error(k(407));n=n()}else{if(n=e(),We===null)throw Error(k(349));ki&30||D1(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Tv(L1.bind(null,r,s,t),[t]),r.flags|=2048,fa(9,O1.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Cn(),e=We.identifierPrefix;if(Ee){var n=er,r=Zn;n=(r&~(1<<32-yn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=da++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=_R++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},IR={readContext:on,useCallback:z1,useContext:on,useEffect:Pm,useImperativeHandle:B1,useInsertionEffect:F1,useLayoutEffect:U1,useMemo:H1,useReducer:lh,useRef:M1,useState:function(){return lh(ha)},useDebugValue:km,useDeferredValue:function(t){var e=an();return q1(e,Ve.memoizedState,t)},useTransition:function(){var t=lh(ha)[0],e=an().memoizedState;return[t,e]},useMutableSource:N1,useSyncExternalStore:b1,useId:W1,unstable_isNewReconciler:!1},SR={readContext:on,useCallback:z1,useContext:on,useEffect:Pm,useImperativeHandle:B1,useInsertionEffect:F1,useLayoutEffect:U1,useMemo:H1,useReducer:uh,useRef:M1,useState:function(){return uh(ha)},useDebugValue:km,useDeferredValue:function(t){var e=an();return Ve===null?e.memoizedState=t:q1(e,Ve.memoizedState,t)},useTransition:function(){var t=uh(ha)[0],e=an().memoizedState;return[t,e]},useMutableSource:N1,useSyncExternalStore:b1,useId:W1,unstable_isNewReconciler:!1};function js(t,e){try{var n="",r=e;do n+=ZA(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function ch(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Lf(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var AR=typeof WeakMap=="function"?WeakMap:Map;function J1(t,e,n){n=ir(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Mu||(Mu=!0,qf=r),Lf(t,e)},n}function X1(t,e,n){n=ir(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Lf(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Lf(t,e),typeof r!="function"&&(Br===null?Br=new Set([this]):Br.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function xv(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new AR;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=UR.bind(null,t,e,n),e.then(t,t))}function Iv(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Sv(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ir(-1,1),e.tag=2,$r(n,e,1))),n.lanes|=1),t)}var CR=vr.ReactCurrentOwner,Nt=!1;function vt(t,e,n,r){e.child=t===null?P1(e,null,n,r):Os(e,t.child,n,r)}function Av(t,e,n,r,i){n=n.render;var s=e.ref;return Is(e,i),r=Cm(t,e,n,r,s,i),n=Rm(),t!==null&&!Nt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,cr(t,e,i)):(Ee&&n&&mm(e),e.flags|=1,vt(t,e,r,i),e.child)}function Cv(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Mm(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,Y1(t,e,s,r,i)):(t=su(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:sa,n(o,r)&&t.ref===e.ref)return cr(t,e,i)}return e.flags|=1,t=Hr(s,r),t.ref=e.ref,t.return=e,e.child=t}function Y1(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(sa(s,r)&&t.ref===e.ref)if(Nt=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Nt=!0);else return e.lanes=t.lanes,cr(t,e,i)}return jf(t,e,n,r,i)}function Z1(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},pe(gs,Mt),Mt|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,pe(gs,Mt),Mt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,pe(gs,Mt),Mt|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,pe(gs,Mt),Mt|=r;return vt(t,e,i,n),e.child}function eE(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function jf(t,e,n,r,i){var s=Dt(n)?Ri:pt.current;return s=bs(e,s),Is(e,i),n=Cm(t,e,n,r,s,i),r=Rm(),t!==null&&!Nt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,cr(t,e,i)):(Ee&&r&&mm(e),e.flags|=1,vt(t,e,n,i),e.child)}function Rv(t,e,n,r,i){if(Dt(n)){var s=!0;Ru(e)}else s=!1;if(Is(e,i),e.stateNode===null)nu(t,e),C1(e,n,r),Of(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=on(u):(u=Dt(n)?Ri:pt.current,u=bs(e,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&_v(e,o,r,u),Ar=!1;var f=e.memoizedState;o.state=f,Du(e,r,o,i),l=e.memoizedState,a!==r||f!==l||bt.current||Ar?(typeof c=="function"&&(Df(e,n,c,r),l=e.memoizedState),(a=Ar||vv(e,n,a,r,f,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,S1(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:dn(e.type,a),o.props=u,d=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=on(l):(l=Dt(n)?Ri:pt.current,l=bs(e,l));var y=n.getDerivedStateFromProps;(c=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||f!==l)&&_v(e,o,r,l),Ar=!1,f=e.memoizedState,o.state=f,Du(e,r,o,i);var g=e.memoizedState;a!==d||f!==g||bt.current||Ar?(typeof y=="function"&&(Df(e,n,y,r),g=e.memoizedState),(u=Ar||vv(e,n,u,r,f,g,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),o.props=r,o.state=g,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return Vf(t,e,n,r,s,i)}function Vf(t,e,n,r,i,s){eE(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&fv(e,n,!1),cr(t,e,s);r=e.stateNode,CR.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Os(e,t.child,null,s),e.child=Os(e,null,a,s)):vt(t,e,a,s),e.memoizedState=r.state,i&&fv(e,n,!0),e.child}function tE(t){var e=t.stateNode;e.pendingContext?hv(t,e.pendingContext,e.pendingContext!==e.context):e.context&&hv(t,e.context,!1),xm(t,e.containerInfo)}function Pv(t,e,n,r,i){return Ds(),ym(i),e.flags|=256,vt(t,e,n,r),e.child}var Mf={dehydrated:null,treeContext:null,retryLane:0};function Ff(t){return{baseLanes:t,cachePool:null,transitions:null}}function nE(t,e,n){var r=e.pendingProps,i=xe.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),pe(xe,i&1),t===null)return Nf(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Lc(o,r,0,null),t=Si(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Ff(n),e.memoizedState=Mf,t):Nm(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return RR(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Hr(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Hr(a,s):(s=Si(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Ff(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Mf,r}return s=t.child,t=s.sibling,r=Hr(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Nm(t,e){return e=Lc({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function bl(t,e,n,r){return r!==null&&ym(r),Os(e,t.child,null,n),t=Nm(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function RR(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=ch(Error(k(422))),bl(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Lc({mode:"visible",children:r.children},i,0,null),s=Si(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Os(e,t.child,null,o),e.child.memoizedState=Ff(o),e.memoizedState=Mf,s);if(!(e.mode&1))return bl(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(k(419)),r=ch(s,r,void 0),bl(t,e,o,r)}if(a=(o&t.childLanes)!==0,Nt||a){if(r=We,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,ur(t,i),vn(r,t,i,-1))}return Vm(),r=ch(Error(k(421))),bl(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=$R.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Ut=Ur(i.nextSibling),zt=e,Ee=!0,fn=null,t!==null&&(Zt[en++]=Zn,Zt[en++]=er,Zt[en++]=Pi,Zn=t.id,er=t.overflow,Pi=e),e=Nm(e,r.children),e.flags|=4096,e)}function kv(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),bf(t.return,e,n)}function dh(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function rE(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(vt(t,e,r.children,n),r=xe.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&kv(t,n,e);else if(t.tag===19)kv(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(pe(xe,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Ou(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),dh(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Ou(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}dh(e,!0,n,null,s);break;case"together":dh(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function nu(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function cr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ni|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(k(153));if(e.child!==null){for(t=e.child,n=Hr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Hr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function PR(t,e,n){switch(e.tag){case 3:tE(e),Ds();break;case 5:k1(e);break;case 1:Dt(e.type)&&Ru(e);break;case 4:xm(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;pe(Nu,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(pe(xe,xe.current&1),e.flags|=128,null):n&e.child.childLanes?nE(t,e,n):(pe(xe,xe.current&1),t=cr(t,e,n),t!==null?t.sibling:null);pe(xe,xe.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return rE(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),pe(xe,xe.current),r)break;return null;case 22:case 23:return e.lanes=0,Z1(t,e,n)}return cr(t,e,n)}var iE,Uf,sE,oE;iE=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Uf=function(){};sE=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,vi(Vn.current);var s=null;switch(n){case"input":i=lf(t,i),r=lf(t,r),s=[];break;case"select":i=Ae({},i,{value:void 0}),r=Ae({},r,{value:void 0}),s=[];break;case"textarea":i=df(t,i),r=df(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Au)}ff(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Yo.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Yo.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&ge("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};oE=function(t,e,n,r){n!==r&&(e.flags|=4)};function yo(t,e){if(!Ee)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function lt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function kR(t,e,n){var r=e.pendingProps;switch(gm(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lt(e),null;case 1:return Dt(e.type)&&Cu(),lt(e),null;case 3:return r=e.stateNode,Ls(),ve(bt),ve(pt),Sm(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(kl(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,fn!==null&&(Gf(fn),fn=null))),Uf(t,e),lt(e),null;case 5:Im(e);var i=vi(ca.current);if(n=e.type,t!==null&&e.stateNode!=null)sE(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(k(166));return lt(e),null}if(t=vi(Vn.current),kl(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Pn]=e,r[la]=s,t=(e.mode&1)!==0,n){case"dialog":ge("cancel",r),ge("close",r);break;case"iframe":case"object":case"embed":ge("load",r);break;case"video":case"audio":for(i=0;i<Co.length;i++)ge(Co[i],r);break;case"source":ge("error",r);break;case"img":case"image":case"link":ge("error",r),ge("load",r);break;case"details":ge("toggle",r);break;case"input":Fy(r,s),ge("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},ge("invalid",r);break;case"textarea":$y(r,s),ge("invalid",r)}ff(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Pl(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Pl(r.textContent,a,t),i=["children",""+a]):Yo.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ge("scroll",r)}switch(n){case"input":El(r),Uy(r,s,!0);break;case"textarea":El(r),By(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Au)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Dw(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Pn]=e,t[la]=r,iE(t,e,!1,!1),e.stateNode=t;e:{switch(o=pf(n,r),n){case"dialog":ge("cancel",t),ge("close",t),i=r;break;case"iframe":case"object":case"embed":ge("load",t),i=r;break;case"video":case"audio":for(i=0;i<Co.length;i++)ge(Co[i],t);i=r;break;case"source":ge("error",t),i=r;break;case"img":case"image":case"link":ge("error",t),ge("load",t),i=r;break;case"details":ge("toggle",t),i=r;break;case"input":Fy(t,r),i=lf(t,r),ge("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Ae({},r,{value:void 0}),ge("invalid",t);break;case"textarea":$y(t,r),i=df(t,r),ge("invalid",t);break;default:i=r}ff(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?jw(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Ow(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Zo(t,l):typeof l=="number"&&Zo(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Yo.hasOwnProperty(s)?l!=null&&s==="onScroll"&&ge("scroll",t):l!=null&&tm(t,s,l,o))}switch(n){case"input":El(t),Uy(t,r,!1);break;case"textarea":El(t),By(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Xr(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?ws(t,!!r.multiple,s,!1):r.defaultValue!=null&&ws(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Au)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return lt(e),null;case 6:if(t&&e.stateNode!=null)oE(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(k(166));if(n=vi(ca.current),vi(Vn.current),kl(e)){if(r=e.stateNode,n=e.memoizedProps,r[Pn]=e,(s=r.nodeValue!==n)&&(t=zt,t!==null))switch(t.tag){case 3:Pl(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Pl(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Pn]=e,e.stateNode=r}return lt(e),null;case 13:if(ve(xe),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ee&&Ut!==null&&e.mode&1&&!(e.flags&128))x1(),Ds(),e.flags|=98560,s=!1;else if(s=kl(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(k(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(k(317));s[Pn]=e}else Ds(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;lt(e),s=!1}else fn!==null&&(Gf(fn),fn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||xe.current&1?Fe===0&&(Fe=3):Vm())),e.updateQueue!==null&&(e.flags|=4),lt(e),null);case 4:return Ls(),Uf(t,e),t===null&&oa(e.stateNode.containerInfo),lt(e),null;case 10:return wm(e.type._context),lt(e),null;case 17:return Dt(e.type)&&Cu(),lt(e),null;case 19:if(ve(xe),s=e.memoizedState,s===null)return lt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)yo(s,!1);else{if(Fe!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Ou(t),o!==null){for(e.flags|=128,yo(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return pe(xe,xe.current&1|2),e.child}t=t.sibling}s.tail!==null&&be()>Vs&&(e.flags|=128,r=!0,yo(s,!1),e.lanes=4194304)}else{if(!r)if(t=Ou(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),yo(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Ee)return lt(e),null}else 2*be()-s.renderingStartTime>Vs&&n!==1073741824&&(e.flags|=128,r=!0,yo(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=be(),e.sibling=null,n=xe.current,pe(xe,r?n&1|2:n&1),e):(lt(e),null);case 22:case 23:return jm(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Mt&1073741824&&(lt(e),e.subtreeFlags&6&&(e.flags|=8192)):lt(e),null;case 24:return null;case 25:return null}throw Error(k(156,e.tag))}function NR(t,e){switch(gm(e),e.tag){case 1:return Dt(e.type)&&Cu(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ls(),ve(bt),ve(pt),Sm(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Im(e),null;case 13:if(ve(xe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(k(340));Ds()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ve(xe),null;case 4:return Ls(),null;case 10:return wm(e.type._context),null;case 22:case 23:return jm(),null;case 24:return null;default:return null}}var Dl=!1,ct=!1,bR=typeof WeakSet=="function"?WeakSet:Set,V=null;function ms(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Pe(t,e,r)}else n.current=null}function $f(t,e,n){try{n()}catch(r){Pe(t,e,r)}}var Nv=!1;function DR(t,e){if(If=xu,t=c1(),pm(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,d=t,f=null;t:for(;;){for(var y;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(y=d.firstChild)!==null;)f=d,d=y;for(;;){if(d===t)break t;if(f===n&&++u===i&&(a=o),f===s&&++c===r&&(l=o),(y=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=y}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Sf={focusedElem:t,selectionRange:n},xu=!1,V=e;V!==null;)if(e=V,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,V=t;else for(;V!==null;){e=V;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var v=g.memoizedProps,w=g.memoizedState,m=e.stateNode,p=m.getSnapshotBeforeUpdate(e.elementType===e.type?v:dn(e.type,v),w);m.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(k(163))}}catch(T){Pe(e,e.return,T)}if(t=e.sibling,t!==null){t.return=e.return,V=t;break}V=e.return}return g=Nv,Nv=!1,g}function Uo(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&$f(e,n,s)}i=i.next}while(i!==r)}}function Dc(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Bf(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function aE(t){var e=t.alternate;e!==null&&(t.alternate=null,aE(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Pn],delete e[la],delete e[Rf],delete e[mR],delete e[gR])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function lE(t){return t.tag===5||t.tag===3||t.tag===4}function bv(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||lE(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function zf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Au));else if(r!==4&&(t=t.child,t!==null))for(zf(t,e,n),t=t.sibling;t!==null;)zf(t,e,n),t=t.sibling}function Hf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Hf(t,e,n),t=t.sibling;t!==null;)Hf(t,e,n),t=t.sibling}var Ye=null,hn=!1;function Tr(t,e,n){for(n=n.child;n!==null;)uE(t,e,n),n=n.sibling}function uE(t,e,n){if(jn&&typeof jn.onCommitFiberUnmount=="function")try{jn.onCommitFiberUnmount(Sc,n)}catch{}switch(n.tag){case 5:ct||ms(n,e);case 6:var r=Ye,i=hn;Ye=null,Tr(t,e,n),Ye=r,hn=i,Ye!==null&&(hn?(t=Ye,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ye.removeChild(n.stateNode));break;case 18:Ye!==null&&(hn?(t=Ye,n=n.stateNode,t.nodeType===8?ih(t.parentNode,n):t.nodeType===1&&ih(t,n),ra(t)):ih(Ye,n.stateNode));break;case 4:r=Ye,i=hn,Ye=n.stateNode.containerInfo,hn=!0,Tr(t,e,n),Ye=r,hn=i;break;case 0:case 11:case 14:case 15:if(!ct&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&$f(n,e,o),i=i.next}while(i!==r)}Tr(t,e,n);break;case 1:if(!ct&&(ms(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Pe(n,e,a)}Tr(t,e,n);break;case 21:Tr(t,e,n);break;case 22:n.mode&1?(ct=(r=ct)||n.memoizedState!==null,Tr(t,e,n),ct=r):Tr(t,e,n);break;default:Tr(t,e,n)}}function Dv(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new bR),e.forEach(function(r){var i=BR.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function cn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Ye=a.stateNode,hn=!1;break e;case 3:Ye=a.stateNode.containerInfo,hn=!0;break e;case 4:Ye=a.stateNode.containerInfo,hn=!0;break e}a=a.return}if(Ye===null)throw Error(k(160));uE(s,o,i),Ye=null,hn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Pe(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)cE(e,t),e=e.sibling}function cE(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(cn(e,t),An(t),r&4){try{Uo(3,t,t.return),Dc(3,t)}catch(v){Pe(t,t.return,v)}try{Uo(5,t,t.return)}catch(v){Pe(t,t.return,v)}}break;case 1:cn(e,t),An(t),r&512&&n!==null&&ms(n,n.return);break;case 5:if(cn(e,t),An(t),r&512&&n!==null&&ms(n,n.return),t.flags&32){var i=t.stateNode;try{Zo(i,"")}catch(v){Pe(t,t.return,v)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&Nw(i,s),pf(a,o);var u=pf(a,s);for(o=0;o<l.length;o+=2){var c=l[o],d=l[o+1];c==="style"?jw(i,d):c==="dangerouslySetInnerHTML"?Ow(i,d):c==="children"?Zo(i,d):tm(i,c,d,u)}switch(a){case"input":uf(i,s);break;case"textarea":bw(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var y=s.value;y!=null?ws(i,!!s.multiple,y,!1):f!==!!s.multiple&&(s.defaultValue!=null?ws(i,!!s.multiple,s.defaultValue,!0):ws(i,!!s.multiple,s.multiple?[]:"",!1))}i[la]=s}catch(v){Pe(t,t.return,v)}}break;case 6:if(cn(e,t),An(t),r&4){if(t.stateNode===null)throw Error(k(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(v){Pe(t,t.return,v)}}break;case 3:if(cn(e,t),An(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ra(e.containerInfo)}catch(v){Pe(t,t.return,v)}break;case 4:cn(e,t),An(t);break;case 13:cn(e,t),An(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Om=be())),r&4&&Dv(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(ct=(u=ct)||c,cn(e,t),ct=u):cn(e,t),An(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(V=t,c=t.child;c!==null;){for(d=V=c;V!==null;){switch(f=V,y=f.child,f.tag){case 0:case 11:case 14:case 15:Uo(4,f,f.return);break;case 1:ms(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(v){Pe(r,n,v)}}break;case 5:ms(f,f.return);break;case 22:if(f.memoizedState!==null){Lv(d);continue}}y!==null?(y.return=f,V=y):Lv(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Lw("display",o))}catch(v){Pe(t,t.return,v)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(v){Pe(t,t.return,v)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:cn(e,t),An(t),r&4&&Dv(t);break;case 21:break;default:cn(e,t),An(t)}}function An(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(lE(n)){var r=n;break e}n=n.return}throw Error(k(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Zo(i,""),r.flags&=-33);var s=bv(t);Hf(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=bv(t);zf(t,a,o);break;default:throw Error(k(161))}}catch(l){Pe(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function OR(t,e,n){V=t,dE(t)}function dE(t,e,n){for(var r=(t.mode&1)!==0;V!==null;){var i=V,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Dl;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||ct;a=Dl;var u=ct;if(Dl=o,(ct=l)&&!u)for(V=i;V!==null;)o=V,l=o.child,o.tag===22&&o.memoizedState!==null?jv(i):l!==null?(l.return=o,V=l):jv(i);for(;s!==null;)V=s,dE(s),s=s.sibling;V=i,Dl=a,ct=u}Ov(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,V=s):Ov(t)}}function Ov(t){for(;V!==null;){var e=V;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ct||Dc(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!ct)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:dn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&yv(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}yv(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&ra(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(k(163))}ct||e.flags&512&&Bf(e)}catch(f){Pe(e,e.return,f)}}if(e===t){V=null;break}if(n=e.sibling,n!==null){n.return=e.return,V=n;break}V=e.return}}function Lv(t){for(;V!==null;){var e=V;if(e===t){V=null;break}var n=e.sibling;if(n!==null){n.return=e.return,V=n;break}V=e.return}}function jv(t){for(;V!==null;){var e=V;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Dc(4,e)}catch(l){Pe(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Pe(e,i,l)}}var s=e.return;try{Bf(e)}catch(l){Pe(e,s,l)}break;case 5:var o=e.return;try{Bf(e)}catch(l){Pe(e,o,l)}}}catch(l){Pe(e,e.return,l)}if(e===t){V=null;break}var a=e.sibling;if(a!==null){a.return=e.return,V=a;break}V=e.return}}var LR=Math.ceil,Vu=vr.ReactCurrentDispatcher,bm=vr.ReactCurrentOwner,rn=vr.ReactCurrentBatchConfig,le=0,We=null,Le=null,nt=0,Mt=0,gs=si(0),Fe=0,pa=null,Ni=0,Oc=0,Dm=0,$o=null,Pt=null,Om=0,Vs=1/0,Gn=null,Mu=!1,qf=null,Br=null,Ol=!1,Dr=null,Fu=0,Bo=0,Wf=null,ru=-1,iu=0;function Tt(){return le&6?be():ru!==-1?ru:ru=be()}function zr(t){return t.mode&1?le&2&&nt!==0?nt&-nt:vR.transition!==null?(iu===0&&(iu=Gw()),iu):(t=ce,t!==0||(t=window.event,t=t===void 0?16:t1(t.type)),t):1}function vn(t,e,n,r){if(50<Bo)throw Bo=0,Wf=null,Error(k(185));Ba(t,n,r),(!(le&2)||t!==We)&&(t===We&&(!(le&2)&&(Oc|=n),Fe===4&&Rr(t,nt)),Ot(t,r),n===1&&le===0&&!(e.mode&1)&&(Vs=be()+500,kc&&oi()))}function Ot(t,e){var n=t.callbackNode;vC(t,e);var r=Tu(t,t===We?nt:0);if(r===0)n!==null&&qy(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&qy(n),e===1)t.tag===0?yR(Vv.bind(null,t)):w1(Vv.bind(null,t)),fR(function(){!(le&6)&&oi()}),n=null;else{switch(Qw(r)){case 1:n=om;break;case 4:n=Ww;break;case 16:n=Eu;break;case 536870912:n=Kw;break;default:n=Eu}n=_E(n,hE.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function hE(t,e){if(ru=-1,iu=0,le&6)throw Error(k(327));var n=t.callbackNode;if(Ss()&&t.callbackNode!==n)return null;var r=Tu(t,t===We?nt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Uu(t,r);else{e=r;var i=le;le|=2;var s=pE();(We!==t||nt!==e)&&(Gn=null,Vs=be()+500,Ii(t,e));do try{MR();break}catch(a){fE(t,a)}while(1);_m(),Vu.current=s,le=i,Le!==null?e=0:(We=null,nt=0,e=Fe)}if(e!==0){if(e===2&&(i=_f(t),i!==0&&(r=i,e=Kf(t,i))),e===1)throw n=pa,Ii(t,0),Rr(t,r),Ot(t,be()),n;if(e===6)Rr(t,r);else{if(i=t.current.alternate,!(r&30)&&!jR(i)&&(e=Uu(t,r),e===2&&(s=_f(t),s!==0&&(r=s,e=Kf(t,s))),e===1))throw n=pa,Ii(t,0),Rr(t,r),Ot(t,be()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(k(345));case 2:fi(t,Pt,Gn);break;case 3:if(Rr(t,r),(r&130023424)===r&&(e=Om+500-be(),10<e)){if(Tu(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Tt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Cf(fi.bind(null,t,Pt,Gn),e);break}fi(t,Pt,Gn);break;case 4:if(Rr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-yn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=be()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*LR(r/1960))-r,10<r){t.timeoutHandle=Cf(fi.bind(null,t,Pt,Gn),r);break}fi(t,Pt,Gn);break;case 5:fi(t,Pt,Gn);break;default:throw Error(k(329))}}}return Ot(t,be()),t.callbackNode===n?hE.bind(null,t):null}function Kf(t,e){var n=$o;return t.current.memoizedState.isDehydrated&&(Ii(t,e).flags|=256),t=Uu(t,e),t!==2&&(e=Pt,Pt=n,e!==null&&Gf(e)),t}function Gf(t){Pt===null?Pt=t:Pt.push.apply(Pt,t)}function jR(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!wn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Rr(t,e){for(e&=~Dm,e&=~Oc,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-yn(e),r=1<<n;t[n]=-1,e&=~r}}function Vv(t){if(le&6)throw Error(k(327));Ss();var e=Tu(t,0);if(!(e&1))return Ot(t,be()),null;var n=Uu(t,e);if(t.tag!==0&&n===2){var r=_f(t);r!==0&&(e=r,n=Kf(t,r))}if(n===1)throw n=pa,Ii(t,0),Rr(t,e),Ot(t,be()),n;if(n===6)throw Error(k(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,fi(t,Pt,Gn),Ot(t,be()),null}function Lm(t,e){var n=le;le|=1;try{return t(e)}finally{le=n,le===0&&(Vs=be()+500,kc&&oi())}}function bi(t){Dr!==null&&Dr.tag===0&&!(le&6)&&Ss();var e=le;le|=1;var n=rn.transition,r=ce;try{if(rn.transition=null,ce=1,t)return t()}finally{ce=r,rn.transition=n,le=e,!(le&6)&&oi()}}function jm(){Mt=gs.current,ve(gs)}function Ii(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,hR(n)),Le!==null)for(n=Le.return;n!==null;){var r=n;switch(gm(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Cu();break;case 3:Ls(),ve(bt),ve(pt),Sm();break;case 5:Im(r);break;case 4:Ls();break;case 13:ve(xe);break;case 19:ve(xe);break;case 10:wm(r.type._context);break;case 22:case 23:jm()}n=n.return}if(We=t,Le=t=Hr(t.current,null),nt=Mt=e,Fe=0,pa=null,Dm=Oc=Ni=0,Pt=$o=null,yi!==null){for(e=0;e<yi.length;e++)if(n=yi[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}yi=null}return t}function fE(t,e){do{var n=Le;try{if(_m(),eu.current=ju,Lu){for(var r=Ie.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Lu=!1}if(ki=0,qe=Ve=Ie=null,Fo=!1,da=0,bm.current=null,n===null||n.return===null){Fe=1,pa=e,Le=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=nt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var y=Iv(o);if(y!==null){y.flags&=-257,Sv(y,o,a,s,e),y.mode&1&&xv(s,u,e),e=y,l=u;var g=e.updateQueue;if(g===null){var v=new Set;v.add(l),e.updateQueue=v}else g.add(l);break e}else{if(!(e&1)){xv(s,u,e),Vm();break e}l=Error(k(426))}}else if(Ee&&a.mode&1){var w=Iv(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),Sv(w,o,a,s,e),ym(js(l,a));break e}}s=l=js(l,a),Fe!==4&&(Fe=2),$o===null?$o=[s]:$o.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var m=J1(s,l,e);gv(s,m);break e;case 1:a=l;var p=s.type,_=s.stateNode;if(!(s.flags&128)&&(typeof p.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Br===null||!Br.has(_)))){s.flags|=65536,e&=-e,s.lanes|=e;var T=X1(s,a,e);gv(s,T);break e}}s=s.return}while(s!==null)}gE(n)}catch(I){e=I,Le===n&&n!==null&&(Le=n=n.return);continue}break}while(1)}function pE(){var t=Vu.current;return Vu.current=ju,t===null?ju:t}function Vm(){(Fe===0||Fe===3||Fe===2)&&(Fe=4),We===null||!(Ni&268435455)&&!(Oc&268435455)||Rr(We,nt)}function Uu(t,e){var n=le;le|=2;var r=pE();(We!==t||nt!==e)&&(Gn=null,Ii(t,e));do try{VR();break}catch(i){fE(t,i)}while(1);if(_m(),le=n,Vu.current=r,Le!==null)throw Error(k(261));return We=null,nt=0,Fe}function VR(){for(;Le!==null;)mE(Le)}function MR(){for(;Le!==null&&!uC();)mE(Le)}function mE(t){var e=vE(t.alternate,t,Mt);t.memoizedProps=t.pendingProps,e===null?gE(t):Le=e,bm.current=null}function gE(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=NR(n,e),n!==null){n.flags&=32767,Le=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Fe=6,Le=null;return}}else if(n=kR(n,e,Mt),n!==null){Le=n;return}if(e=e.sibling,e!==null){Le=e;return}Le=e=t}while(e!==null);Fe===0&&(Fe=5)}function fi(t,e,n){var r=ce,i=rn.transition;try{rn.transition=null,ce=1,FR(t,e,n,r)}finally{rn.transition=i,ce=r}return null}function FR(t,e,n,r){do Ss();while(Dr!==null);if(le&6)throw Error(k(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(k(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(_C(t,s),t===We&&(Le=We=null,nt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ol||(Ol=!0,_E(Eu,function(){return Ss(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=rn.transition,rn.transition=null;var o=ce;ce=1;var a=le;le|=4,bm.current=null,DR(t,n),cE(n,t),sR(Sf),xu=!!If,Sf=If=null,t.current=n,OR(n),cC(),le=a,ce=o,rn.transition=s}else t.current=n;if(Ol&&(Ol=!1,Dr=t,Fu=i),s=t.pendingLanes,s===0&&(Br=null),fC(n.stateNode),Ot(t,be()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Mu)throw Mu=!1,t=qf,qf=null,t;return Fu&1&&t.tag!==0&&Ss(),s=t.pendingLanes,s&1?t===Wf?Bo++:(Bo=0,Wf=t):Bo=0,oi(),null}function Ss(){if(Dr!==null){var t=Qw(Fu),e=rn.transition,n=ce;try{if(rn.transition=null,ce=16>t?16:t,Dr===null)var r=!1;else{if(t=Dr,Dr=null,Fu=0,le&6)throw Error(k(331));var i=le;for(le|=4,V=t.current;V!==null;){var s=V,o=s.child;if(V.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(V=u;V!==null;){var c=V;switch(c.tag){case 0:case 11:case 15:Uo(8,c,s)}var d=c.child;if(d!==null)d.return=c,V=d;else for(;V!==null;){c=V;var f=c.sibling,y=c.return;if(aE(c),c===u){V=null;break}if(f!==null){f.return=y,V=f;break}V=y}}}var g=s.alternate;if(g!==null){var v=g.child;if(v!==null){g.child=null;do{var w=v.sibling;v.sibling=null,v=w}while(v!==null)}}V=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,V=o;else e:for(;V!==null;){if(s=V,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Uo(9,s,s.return)}var m=s.sibling;if(m!==null){m.return=s.return,V=m;break e}V=s.return}}var p=t.current;for(V=p;V!==null;){o=V;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,V=_;else e:for(o=p;V!==null;){if(a=V,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Dc(9,a)}}catch(I){Pe(a,a.return,I)}if(a===o){V=null;break e}var T=a.sibling;if(T!==null){T.return=a.return,V=T;break e}V=a.return}}if(le=i,oi(),jn&&typeof jn.onPostCommitFiberRoot=="function")try{jn.onPostCommitFiberRoot(Sc,t)}catch{}r=!0}return r}finally{ce=n,rn.transition=e}}return!1}function Mv(t,e,n){e=js(n,e),e=J1(t,e,1),t=$r(t,e,1),e=Tt(),t!==null&&(Ba(t,1,e),Ot(t,e))}function Pe(t,e,n){if(t.tag===3)Mv(t,t,n);else for(;e!==null;){if(e.tag===3){Mv(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Br===null||!Br.has(r))){t=js(n,t),t=X1(e,t,1),e=$r(e,t,1),t=Tt(),e!==null&&(Ba(e,1,t),Ot(e,t));break}}e=e.return}}function UR(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Tt(),t.pingedLanes|=t.suspendedLanes&n,We===t&&(nt&n)===n&&(Fe===4||Fe===3&&(nt&130023424)===nt&&500>be()-Om?Ii(t,0):Dm|=n),Ot(t,e)}function yE(t,e){e===0&&(t.mode&1?(e=Il,Il<<=1,!(Il&130023424)&&(Il=4194304)):e=1);var n=Tt();t=ur(t,e),t!==null&&(Ba(t,e,n),Ot(t,n))}function $R(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),yE(t,n)}function BR(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(k(314))}r!==null&&r.delete(e),yE(t,n)}var vE;vE=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||bt.current)Nt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Nt=!1,PR(t,e,n);Nt=!!(t.flags&131072)}else Nt=!1,Ee&&e.flags&1048576&&E1(e,ku,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;nu(t,e),t=e.pendingProps;var i=bs(e,pt.current);Is(e,n),i=Cm(null,e,r,t,i,n);var s=Rm();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Dt(r)?(s=!0,Ru(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Tm(e),i.updater=Nc,e.stateNode=i,i._reactInternals=e,Of(e,r,t,n),e=Vf(null,e,r,!0,s,n)):(e.tag=0,Ee&&s&&mm(e),vt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(nu(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=HR(r),t=dn(r,t),i){case 0:e=jf(null,e,r,t,n);break e;case 1:e=Rv(null,e,r,t,n);break e;case 11:e=Av(null,e,r,t,n);break e;case 14:e=Cv(null,e,r,dn(r.type,t),n);break e}throw Error(k(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:dn(r,i),jf(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:dn(r,i),Rv(t,e,r,i,n);case 3:e:{if(tE(e),t===null)throw Error(k(387));r=e.pendingProps,s=e.memoizedState,i=s.element,S1(t,e),Du(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=js(Error(k(423)),e),e=Pv(t,e,r,n,i);break e}else if(r!==i){i=js(Error(k(424)),e),e=Pv(t,e,r,n,i);break e}else for(Ut=Ur(e.stateNode.containerInfo.firstChild),zt=e,Ee=!0,fn=null,n=P1(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ds(),r===i){e=cr(t,e,n);break e}vt(t,e,r,n)}e=e.child}return e;case 5:return k1(e),t===null&&Nf(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Af(r,i)?o=null:s!==null&&Af(r,s)&&(e.flags|=32),eE(t,e),vt(t,e,o,n),e.child;case 6:return t===null&&Nf(e),null;case 13:return nE(t,e,n);case 4:return xm(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Os(e,null,r,n):vt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:dn(r,i),Av(t,e,r,i,n);case 7:return vt(t,e,e.pendingProps,n),e.child;case 8:return vt(t,e,e.pendingProps.children,n),e.child;case 12:return vt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,pe(Nu,r._currentValue),r._currentValue=o,s!==null)if(wn(s.value,o)){if(s.children===i.children&&!bt.current){e=cr(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=ir(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),bf(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(k(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),bf(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}vt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Is(e,n),i=on(i),r=r(i),e.flags|=1,vt(t,e,r,n),e.child;case 14:return r=e.type,i=dn(r,e.pendingProps),i=dn(r.type,i),Cv(t,e,r,i,n);case 15:return Y1(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:dn(r,i),nu(t,e),e.tag=1,Dt(r)?(t=!0,Ru(e)):t=!1,Is(e,n),C1(e,r,i),Of(e,r,i,n),Vf(null,e,r,!0,t,n);case 19:return rE(t,e,n);case 22:return Z1(t,e,n)}throw Error(k(156,e.tag))};function _E(t,e){return qw(t,e)}function zR(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function nn(t,e,n,r){return new zR(t,e,n,r)}function Mm(t){return t=t.prototype,!(!t||!t.isReactComponent)}function HR(t){if(typeof t=="function")return Mm(t)?1:0;if(t!=null){if(t=t.$$typeof,t===rm)return 11;if(t===im)return 14}return 2}function Hr(t,e){var n=t.alternate;return n===null?(n=nn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function su(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Mm(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case os:return Si(n.children,i,s,e);case nm:o=8,i|=8;break;case rf:return t=nn(12,n,e,i|2),t.elementType=rf,t.lanes=s,t;case sf:return t=nn(13,n,e,i),t.elementType=sf,t.lanes=s,t;case of:return t=nn(19,n,e,i),t.elementType=of,t.lanes=s,t;case Rw:return Lc(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Aw:o=10;break e;case Cw:o=9;break e;case rm:o=11;break e;case im:o=14;break e;case Sr:o=16,r=null;break e}throw Error(k(130,t==null?t:typeof t,""))}return e=nn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Si(t,e,n,r){return t=nn(7,t,r,e),t.lanes=n,t}function Lc(t,e,n,r){return t=nn(22,t,r,e),t.elementType=Rw,t.lanes=n,t.stateNode={isHidden:!1},t}function hh(t,e,n){return t=nn(6,t,null,e),t.lanes=n,t}function fh(t,e,n){return e=nn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function qR(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Kd(0),this.expirationTimes=Kd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Kd(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Fm(t,e,n,r,i,s,o,a,l){return t=new qR(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=nn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Tm(s),t}function WR(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ss,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function wE(t){if(!t)return Yr;t=t._reactInternals;e:{if(Bi(t)!==t||t.tag!==1)throw Error(k(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Dt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(k(171))}if(t.tag===1){var n=t.type;if(Dt(n))return _1(t,n,e)}return e}function EE(t,e,n,r,i,s,o,a,l){return t=Fm(n,r,!0,t,i,s,o,a,l),t.context=wE(null),n=t.current,r=Tt(),i=zr(n),s=ir(r,i),s.callback=e??null,$r(n,s,i),t.current.lanes=i,Ba(t,i,r),Ot(t,r),t}function jc(t,e,n,r){var i=e.current,s=Tt(),o=zr(i);return n=wE(n),e.context===null?e.context=n:e.pendingContext=n,e=ir(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=$r(i,e,o),t!==null&&(vn(t,i,o,s),Zl(t,i,o)),o}function $u(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Fv(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Um(t,e){Fv(t,e),(t=t.alternate)&&Fv(t,e)}function KR(){return null}var TE=typeof reportError=="function"?reportError:function(t){console.error(t)};function $m(t){this._internalRoot=t}Vc.prototype.render=$m.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(k(409));jc(t,e,null,null)};Vc.prototype.unmount=$m.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;bi(function(){jc(null,t,null,null)}),e[lr]=null}};function Vc(t){this._internalRoot=t}Vc.prototype.unstable_scheduleHydration=function(t){if(t){var e=Yw();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Cr.length&&e!==0&&e<Cr[n].priority;n++);Cr.splice(n,0,t),n===0&&e1(t)}};function Bm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Mc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Uv(){}function GR(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=$u(o);s.call(u)}}var o=EE(e,r,t,0,null,!1,!1,"",Uv);return t._reactRootContainer=o,t[lr]=o.current,oa(t.nodeType===8?t.parentNode:t),bi(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=$u(l);a.call(u)}}var l=Fm(t,0,!1,null,null,!1,!1,"",Uv);return t._reactRootContainer=l,t[lr]=l.current,oa(t.nodeType===8?t.parentNode:t),bi(function(){jc(e,l,n,r)}),l}function Fc(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=$u(o);a.call(l)}}jc(e,o,t,i)}else o=GR(n,e,t,i,r);return $u(o)}Jw=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ao(e.pendingLanes);n!==0&&(am(e,n|1),Ot(e,be()),!(le&6)&&(Vs=be()+500,oi()))}break;case 13:bi(function(){var r=ur(t,1);if(r!==null){var i=Tt();vn(r,t,1,i)}}),Um(t,1)}};lm=function(t){if(t.tag===13){var e=ur(t,134217728);if(e!==null){var n=Tt();vn(e,t,134217728,n)}Um(t,134217728)}};Xw=function(t){if(t.tag===13){var e=zr(t),n=ur(t,e);if(n!==null){var r=Tt();vn(n,t,e,r)}Um(t,e)}};Yw=function(){return ce};Zw=function(t,e){var n=ce;try{return ce=t,e()}finally{ce=n}};gf=function(t,e,n){switch(e){case"input":if(uf(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Pc(r);if(!i)throw Error(k(90));kw(r),uf(r,i)}}}break;case"textarea":bw(t,n);break;case"select":e=n.value,e!=null&&ws(t,!!n.multiple,e,!1)}};Fw=Lm;Uw=bi;var QR={usingClientEntryPoint:!1,Events:[Ha,cs,Pc,Vw,Mw,Lm]},vo={findFiberByHostInstance:gi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},JR={bundleType:vo.bundleType,version:vo.version,rendererPackageName:vo.rendererPackageName,rendererConfig:vo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:vr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=zw(t),t===null?null:t.stateNode},findFiberByHostInstance:vo.findFiberByHostInstance||KR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ll=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ll.isDisabled&&Ll.supportsFiber)try{Sc=Ll.inject(JR),jn=Ll}catch{}}Qt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=QR;Qt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Bm(e))throw Error(k(200));return WR(t,e,null,n)};Qt.createRoot=function(t,e){if(!Bm(t))throw Error(k(299));var n=!1,r="",i=TE;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Fm(t,1,!1,null,null,n,!1,r,i),t[lr]=e.current,oa(t.nodeType===8?t.parentNode:t),new $m(e)};Qt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(k(188)):(t=Object.keys(t).join(","),Error(k(268,t)));return t=zw(e),t=t===null?null:t.stateNode,t};Qt.flushSync=function(t){return bi(t)};Qt.hydrate=function(t,e,n){if(!Mc(e))throw Error(k(200));return Fc(null,t,e,!0,n)};Qt.hydrateRoot=function(t,e,n){if(!Bm(t))throw Error(k(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=TE;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=EE(e,null,t,1,n??null,i,!1,s,o),t[lr]=e.current,oa(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Vc(e)};Qt.render=function(t,e,n){if(!Mc(e))throw Error(k(200));return Fc(null,t,e,!1,n)};Qt.unmountComponentAtNode=function(t){if(!Mc(t))throw Error(k(40));return t._reactRootContainer?(bi(function(){Fc(null,null,t,!1,function(){t._reactRootContainer=null,t[lr]=null})}),!0):!1};Qt.unstable_batchedUpdates=Lm;Qt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Mc(n))throw Error(k(200));if(t==null||t._reactInternals===void 0)throw Error(k(38));return Fc(t,e,n,!1,r)};Qt.version="18.2.0-next-9e3b772b8-20220608";function xE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(xE)}catch(t){console.error(t)}}xE(),Ew.exports=Qt;var XR=Ew.exports,$v=XR;tf.createRoot=$v.createRoot,tf.hydrateRoot=$v.hydrateRoot;var IE={exports:{}},SE={};/**
 * @license React
 * use-sync-external-store-with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wa=S;function YR(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ZR=typeof Object.is=="function"?Object.is:YR,eP=Wa.useSyncExternalStore,tP=Wa.useRef,nP=Wa.useEffect,rP=Wa.useMemo,iP=Wa.useDebugValue;SE.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=tP(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=rP(function(){function l(y){if(!u){if(u=!0,c=y,y=r(y),i!==void 0&&o.hasValue){var g=o.value;if(i(g,y))return d=g}return d=y}if(g=d,ZR(c,y))return g;var v=r(y);return i!==void 0&&i(g,v)?g:(c=y,d=v)}var u=!1,c,d,f=n===void 0?null:n;return[function(){return l(e())},f===null?void 0:function(){return l(f())}]},[e,n,r,i]);var a=eP(t,s[0],s[1]);return nP(function(){o.hasValue=!0,o.value=a},[a]),iP(a),a};IE.exports=SE;var sP=IE.exports,$t="default"in ef?_t:ef,Bv=Symbol.for("react-redux-context"),zv=typeof globalThis<"u"?globalThis:{};function oP(){if(!$t.createContext)return{};const t=zv[Bv]??(zv[Bv]=new Map);let e=t.get($t.createContext);return e||(e=$t.createContext(null),t.set($t.createContext,e)),e}var Zr=oP(),aP=()=>{throw new Error("uSES not initialized!")};function zm(t=Zr){return function(){return $t.useContext(t)}}var AE=zm(),CE=aP,lP=t=>{CE=t},uP=(t,e)=>t===e;function cP(t=Zr){const e=t===Zr?AE:zm(t);return function(r,i={}){const{equalityFn:s=uP,devModeChecks:o={}}=typeof i=="function"?{equalityFn:i}:i,{store:a,subscription:l,getServerState:u,stabilityCheck:c,identityFunctionCheck:d}=e();$t.useRef(!0);const f=$t.useCallback({[r.name](g){return r(g)}}[r.name],[r,c,o.stabilityCheck]),y=CE(l.addNestedSub,a.getState,u||a.getState,f,s);return $t.useDebugValue(y),y}}var dr=cP();function dP(t){t()}function hP(){let t=null,e=null;return{clear(){t=null,e=null},notify(){dP(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){let n=[],r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0,i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var Hv={notify(){},get:()=>[]};function fP(t,e){let n,r=Hv,i=0,s=!1;function o(v){c();const w=r.subscribe(v);let m=!1;return()=>{m||(m=!0,w(),d())}}function a(){r.notify()}function l(){g.onStateChange&&g.onStateChange()}function u(){return s}function c(){i++,n||(n=e?e.addNestedSub(l):t.subscribe(l),r=hP())}function d(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=Hv)}function f(){s||(s=!0,c())}function y(){s&&(s=!1,d())}const g={addNestedSub:o,notifyNestedSubs:a,handleChangeWrapper:l,isSubscribed:u,trySubscribe:f,tryUnsubscribe:y,getListeners:()=>r};return g}var pP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",mP=pP?$t.useLayoutEffect:$t.useEffect;function gP({store:t,context:e,children:n,serverState:r,stabilityCheck:i="once",identityFunctionCheck:s="once"}){const o=$t.useMemo(()=>{const u=fP(t);return{store:t,subscription:u,getServerState:r?()=>r:void 0,stabilityCheck:i,identityFunctionCheck:s}},[t,r,i,s]),a=$t.useMemo(()=>t.getState(),[t]);mP(()=>{const{subscription:u}=o;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),a!==t.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[o,a]);const l=e||Zr;return $t.createElement(l.Provider,{value:o},n)}var yP=gP;function RE(t=Zr){const e=t===Zr?AE:zm(t);return function(){const{store:r}=e();return r}}var vP=RE();function _P(t=Zr){const e=t===Zr?vP:RE(t);return function(){return e().dispatch}}var Vt=_P();lP(sP.useSyncExternalStoreWithSelector);function Xe(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var wP=(()=>typeof Symbol=="function"&&Symbol.observable||"@@observable")(),qv=wP,ph=()=>Math.random().toString(36).substring(7).split("").join("."),EP={INIT:`@@redux/INIT${ph()}`,REPLACE:`@@redux/REPLACE${ph()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${ph()}`},Bu=EP;function Hm(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function PE(t,e,n){if(typeof t!="function")throw new Error(Xe(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Xe(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Xe(1));return n(PE)(t,e)}let r=t,i=e,s=new Map,o=s,a=0,l=!1;function u(){o===s&&(o=new Map,s.forEach((w,m)=>{o.set(m,w)}))}function c(){if(l)throw new Error(Xe(3));return i}function d(w){if(typeof w!="function")throw new Error(Xe(4));if(l)throw new Error(Xe(5));let m=!0;u();const p=a++;return o.set(p,w),function(){if(m){if(l)throw new Error(Xe(6));m=!1,u(),o.delete(p),s=null}}}function f(w){if(!Hm(w))throw new Error(Xe(7));if(typeof w.type>"u")throw new Error(Xe(8));if(typeof w.type!="string")throw new Error(Xe(17));if(l)throw new Error(Xe(9));try{l=!0,i=r(i,w)}finally{l=!1}return(s=o).forEach(p=>{p()}),w}function y(w){if(typeof w!="function")throw new Error(Xe(10));r=w,f({type:Bu.REPLACE})}function g(){const w=d;return{subscribe(m){if(typeof m!="object"||m===null)throw new Error(Xe(11));function p(){const T=m;T.next&&T.next(c())}return p(),{unsubscribe:w(p)}},[qv](){return this}}}return f({type:Bu.INIT}),{dispatch:f,subscribe:d,getState:c,replaceReducer:y,[qv]:g}}function TP(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:Bu.INIT})>"u")throw new Error(Xe(12));if(typeof n(void 0,{type:Bu.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Xe(13))})}function xP(t){const e=Object.keys(t),n={};for(let s=0;s<e.length;s++){const o=e[s];typeof t[o]=="function"&&(n[o]=t[o])}const r=Object.keys(n);let i;try{TP(n)}catch(s){i=s}return function(o={},a){if(i)throw i;let l=!1;const u={};for(let c=0;c<r.length;c++){const d=r[c],f=n[d],y=o[d],g=f(y,a);if(typeof g>"u")throw a&&a.type,new Error(Xe(14));u[d]=g,l=l||g!==y}return l=l||r.length!==Object.keys(o).length,l?u:o}}function zu(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function IP(...t){return e=>(n,r)=>{const i=e(n,r);let s=()=>{throw new Error(Xe(15))};const o={getState:i.getState,dispatch:(l,...u)=>s(l,...u)},a=t.map(l=>l(o));return s=zu(...a)(i.dispatch),{...i,dispatch:s}}}function SP(t){return Hm(t)&&"type"in t&&typeof t.type=="string"}var kE=Symbol.for("immer-nothing"),Wv=Symbol.for("immer-draftable"),Wt=Symbol.for("immer-state");function mn(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Ms=Object.getPrototypeOf;function ei(t){return!!t&&!!t[Wt]}function hr(t){var e;return t?NE(t)||Array.isArray(t)||!!t[Wv]||!!((e=t.constructor)!=null&&e[Wv])||$c(t)||Bc(t):!1}var AP=Object.prototype.constructor.toString();function NE(t){if(!t||typeof t!="object")return!1;const e=Ms(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===AP}function ma(t,e){Uc(t)===0?Object.entries(t).forEach(([n,r])=>{e(n,r,t)}):t.forEach((n,r)=>e(r,n,t))}function Uc(t){const e=t[Wt];return e?e.type_:Array.isArray(t)?1:$c(t)?2:Bc(t)?3:0}function Qf(t,e){return Uc(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function bE(t,e,n){const r=Uc(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function CP(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function $c(t){return t instanceof Map}function Bc(t){return t instanceof Set}function pi(t){return t.copy_||t.base_}function Jf(t,e){if($c(t))return new Map(t);if(Bc(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);if(!e&&NE(t))return Ms(t)?{...t}:Object.assign(Object.create(null),t);const n=Object.getOwnPropertyDescriptors(t);delete n[Wt];let r=Reflect.ownKeys(n);for(let i=0;i<r.length;i++){const s=r[i],o=n[s];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(n[s]={configurable:!0,writable:!0,enumerable:o.enumerable,value:t[s]})}return Object.create(Ms(t),n)}function qm(t,e=!1){return zc(t)||ei(t)||!hr(t)||(Uc(t)>1&&(t.set=t.add=t.clear=t.delete=RP),Object.freeze(t),e&&ma(t,(n,r)=>qm(r,!0))),t}function RP(){mn(2)}function zc(t){return Object.isFrozen(t)}var PP={};function Di(t){const e=PP[t];return e||mn(0,t),e}var ga;function DE(){return ga}function kP(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Kv(t,e){e&&(Di("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function Xf(t){Yf(t),t.drafts_.forEach(NP),t.drafts_=null}function Yf(t){t===ga&&(ga=t.parent_)}function Gv(t){return ga=kP(ga,t)}function NP(t){const e=t[Wt];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function Qv(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[Wt].modified_&&(Xf(e),mn(4)),hr(t)&&(t=Hu(e,t),e.parent_||qu(e,t)),e.patches_&&Di("Patches").generateReplacementPatches_(n[Wt].base_,t,e.patches_,e.inversePatches_)):t=Hu(e,n,[]),Xf(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==kE?t:void 0}function Hu(t,e,n){if(zc(e))return e;const r=e[Wt];if(!r)return ma(e,(i,s)=>Jv(t,r,e,i,s,n)),e;if(r.scope_!==t)return e;if(!r.modified_)return qu(t,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let s=i,o=!1;r.type_===3&&(s=new Set(i),i.clear(),o=!0),ma(s,(a,l)=>Jv(t,r,i,a,l,n,o)),qu(t,i,!1),n&&t.patches_&&Di("Patches").generatePatches_(r,n,t.patches_,t.inversePatches_)}return r.copy_}function Jv(t,e,n,r,i,s,o){if(ei(i)){const a=s&&e&&e.type_!==3&&!Qf(e.assigned_,r)?s.concat(r):void 0,l=Hu(t,i,a);if(bE(n,r,l),ei(l))t.canAutoFreeze_=!1;else return}else o&&n.add(i);if(hr(i)&&!zc(i)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;Hu(t,i),(!e||!e.scope_.parent_)&&qu(t,i)}}function qu(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&qm(e,n)}function bP(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:DE(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=Wm;n&&(i=[r],s=ya);const{revoke:o,proxy:a}=Proxy.revocable(i,s);return r.draft_=a,r.revoke_=o,a}var Wm={get(t,e){if(e===Wt)return t;const n=pi(t);if(!Qf(n,e))return DP(t,n,e);const r=n[e];return t.finalized_||!hr(r)?r:r===mh(t.base_,e)?(gh(t),t.copy_[e]=ep(r,t)):r},has(t,e){return e in pi(t)},ownKeys(t){return Reflect.ownKeys(pi(t))},set(t,e,n){const r=OE(pi(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=mh(pi(t),e),s=i==null?void 0:i[Wt];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(CP(n,i)&&(n!==void 0||Qf(t.base_,e)))return!0;gh(t),Zf(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return mh(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,gh(t),Zf(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=pi(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){mn(11)},getPrototypeOf(t){return Ms(t.base_)},setPrototypeOf(){mn(12)}},ya={};ma(Wm,(t,e)=>{ya[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});ya.deleteProperty=function(t,e){return ya.set.call(this,t,e,void 0)};ya.set=function(t,e,n){return Wm.set.call(this,t[0],e,n,t[0])};function mh(t,e){const n=t[Wt];return(n?pi(n):t)[e]}function DP(t,e,n){var i;const r=OE(e,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function OE(t,e){if(!(e in t))return;let n=Ms(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Ms(n)}}function Zf(t){t.modified_||(t.modified_=!0,t.parent_&&Zf(t.parent_))}function gh(t){t.copy_||(t.copy_=Jf(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var OP=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const s=n;n=e;const o=this;return function(l=s,...u){return o.produce(l,c=>n.call(this,c,...u))}}typeof n!="function"&&mn(6),r!==void 0&&typeof r!="function"&&mn(7);let i;if(hr(e)){const s=Gv(this),o=ep(e,void 0);let a=!0;try{i=n(o),a=!1}finally{a?Xf(s):Yf(s)}return Kv(s,r),Qv(i,s)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===kE&&(i=void 0),this.autoFreeze_&&qm(i,!0),r){const s=[],o=[];Di("Patches").generateReplacementPatches_(e,i,s,o),r(s,o)}return i}else mn(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(o,...a)=>this.produceWithPatches(o,l=>e(l,...a));let r,i;return[this.produce(e,n,(o,a)=>{r=o,i=a}),r,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){hr(t)||mn(8),ei(t)&&(t=LE(t));const e=Gv(this),n=ep(t,void 0);return n[Wt].isManual_=!0,Yf(e),n}finishDraft(t,e){const n=t&&t[Wt];(!n||!n.isManual_)&&mn(9);const{scope_:r}=n;return Kv(r,e),Qv(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=Di("Patches").applyPatches_;return ei(t)?r(t,e):this.produce(t,i=>r(i,e))}};function ep(t,e){const n=$c(t)?Di("MapSet").proxyMap_(t,e):Bc(t)?Di("MapSet").proxySet_(t,e):bP(t,e);return(e?e.scope_:DE()).drafts_.push(n),n}function LE(t){return ei(t)||mn(10,t),jE(t)}function jE(t){if(!hr(t)||zc(t))return t;const e=t[Wt];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=Jf(t,e.scope_.immer_.useStrictShallowCopy_)}else n=Jf(t,!0);return ma(n,(r,i)=>{bE(n,r,jE(i))}),e&&(e.finalized_=!1),n}var Kt=new OP,VE=Kt.produce;Kt.produceWithPatches.bind(Kt);Kt.setAutoFreeze.bind(Kt);Kt.setUseStrictShallowCopy.bind(Kt);Kt.applyPatches.bind(Kt);Kt.createDraft.bind(Kt);Kt.finishDraft.bind(Kt);function LP(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function jP(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var Xv=t=>Array.isArray(t)?t:[t];function VP(t){const e=Array.isArray(t[0])?t[0]:t;return jP(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function MP(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var FP=class{constructor(t){this.value=t}deref(){return this.value}},UP=typeof WeakRef<"u"?WeakRef:FP,$P=0,Yv=1;function jl(){return{s:$P,v:void 0,o:null,p:null}}function ME(t,e={}){let n=jl();const{resultEqualityCheck:r}=e;let i,s=0;function o(){let a=n;const{length:l}=arguments;for(let d=0,f=l;d<f;d++){const y=arguments[d];if(typeof y=="function"||typeof y=="object"&&y!==null){let g=a.o;g===null&&(a.o=g=new WeakMap);const v=g.get(y);v===void 0?(a=jl(),g.set(y,a)):a=v}else{let g=a.p;g===null&&(a.p=g=new Map);const v=g.get(y);v===void 0?(a=jl(),g.set(y,a)):a=v}}const u=a;let c;if(a.s===Yv?c=a.v:(c=t.apply(null,arguments),s++),u.s=Yv,r){const d=(i==null?void 0:i.deref())??i;d!=null&&r(d,c)&&(c=d,s!==0&&s--),i=typeof c=="object"&&c!==null||typeof c=="function"?new UP(c):c}return u.v=c,c}return o.clearCache=()=>{n=jl(),o.resetResultsCount()},o.resultsCount=()=>s,o.resetResultsCount=()=>{s=0},o}function BP(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t;return(...i)=>{let s=0,o=0,a,l={},u=i.pop();typeof u=="object"&&(l=u,u=i.pop()),LP(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const c={...n,...l},{memoize:d,memoizeOptions:f=[],argsMemoize:y=ME,argsMemoizeOptions:g=[],devModeChecks:v={}}=c,w=Xv(f),m=Xv(g),p=VP(i),_=d(function(){return s++,u.apply(null,arguments)},...w),T=y(function(){o++;const N=MP(p,arguments);return a=_.apply(null,N),a},...m);return Object.assign(T,{resultFunc:u,memoizedResultFunc:_,dependencies:p,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>a,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:d,argsMemoize:y})}}function FE(t){return({dispatch:n,getState:r})=>i=>s=>typeof s=="function"?s(n,r,t):i(s)}var zP=FE(),HP=FE,qP=(...t)=>{const e=BP(...t);return(...n)=>{const r=e(...n),i=(s,...o)=>r(ei(s)?LE(s):s,...o);return Object.assign(i,r),i}};qP(ME);var WP=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?zu:zu.apply(null,arguments)};function va(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(_n(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>SP(r)&&r.type===t,n}var UE=class Ro extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Ro.prototype)}static get[Symbol.species](){return Ro}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Ro(...e[0].concat(this)):new Ro(...e.concat(this))}};function Zv(t){return hr(t)?VE(t,()=>{}):t}function e_(t,e,n){if(t.has(e)){let i=t.get(e);return n.update&&(i=n.update(i,e,t),t.set(e,i)),i}if(!n.insert)throw new Error(_n(10));const r=n.insert(e,t);return t.set(e,r),r}function KP(t){return typeof t=="boolean"}var GP=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=e??{};let o=new UE;return n&&(KP(n)?o.push(zP):o.push(HP(n.extraArgument))),o},QP="RTK_autoBatch",$E=t=>e=>{setTimeout(e,t)},JP=typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:$E(10),XP=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,s=!1,o=!1;const a=new Set,l=t.type==="tick"?queueMicrotask:t.type==="raf"?JP:t.type==="callback"?t.queueNotification:$E(t.timeout),u=()=>{o=!1,s&&(s=!1,a.forEach(c=>c()))};return Object.assign({},r,{subscribe(c){const d=()=>i&&c(),f=r.subscribe(d);return a.add(c),()=>{f(),a.delete(c)}},dispatch(c){var d;try{return i=!((d=c==null?void 0:c.meta)!=null&&d[QP]),s=!i,s&&(o||(o=!0,l(u))),r.dispatch(c)}finally{i=!0}}})},YP=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new UE(t);return r&&i.push(XP(typeof r=="object"?r:void 0)),i},ZP=!0;function e2(t){const e=GP(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:s=void 0,enhancers:o=void 0}=t||{};let a;if(typeof n=="function")a=n;else if(Hm(n))a=xP(n);else throw new Error(_n(1));let l;typeof r=="function"?l=r(e):l=e();let u=zu;i&&(u=WP({trace:!ZP,...typeof i=="object"&&i}));const c=IP(...l),d=YP(c);let f=typeof o=="function"?o(d):d();const y=u(...f);return PE(a,s,y)}function BE(t){const e={},n=[];let r;const i={addCase(s,o){const a=typeof s=="string"?s:s.type;if(!a)throw new Error(_n(28));if(a in e)throw new Error(_n(29));return e[a]=o,i},addMatcher(s,o){return n.push({matcher:s,reducer:o}),i},addDefaultCase(s){return r=s,i}};return t(i),[e,n,r]}function t2(t){return typeof t=="function"}function n2(t,e){let[n,r,i]=BE(e),s;if(t2(t))s=()=>Zv(t());else{const a=Zv(t);s=()=>a}function o(a=s(),l){let u=[n[l.type],...r.filter(({matcher:c})=>c(l)).map(({reducer:c})=>c)];return u.filter(c=>!!c).length===0&&(u=[i]),u.reduce((c,d)=>{if(d)if(ei(c)){const y=d(c,l);return y===void 0?c:y}else{if(hr(c))return VE(c,f=>d(f,l));{const f=d(c,l);if(f===void 0){if(c===null)return c;throw new Error(_n(9))}return f}}return c},a)}return o.getInitialState=s,o}var r2=Symbol.for("rtk-slice-createasyncthunk");function i2(t,e){return`${t}/${e}`}function s2({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[r2];return function(i){const{name:s,reducerPath:o=s}=i;if(!s)throw new Error(_n(11));typeof process<"u";const a=(typeof i.reducers=="function"?i.reducers(a2()):i.reducers)||{},l=Object.keys(a),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},c={addCase(w,m){const p=typeof w=="string"?w:w.type;if(!p)throw new Error(_n(12));if(p in u.sliceCaseReducersByType)throw new Error(_n(13));return u.sliceCaseReducersByType[p]=m,c},addMatcher(w,m){return u.sliceMatchers.push({matcher:w,reducer:m}),c},exposeAction(w,m){return u.actionCreators[w]=m,c},exposeCaseReducer(w,m){return u.sliceCaseReducersByName[w]=m,c}};l.forEach(w=>{const m=a[w],p={reducerName:w,type:i2(s,w),createNotation:typeof i.reducers=="function"};u2(m)?d2(p,m,c,e):l2(p,m,c)});function d(){const[w={},m=[],p=void 0]=typeof i.extraReducers=="function"?BE(i.extraReducers):[i.extraReducers],_={...w,...u.sliceCaseReducersByType};return n2(i.initialState,T=>{for(let I in _)T.addCase(I,_[I]);for(let I of u.sliceMatchers)T.addMatcher(I.matcher,I.reducer);for(let I of m)T.addMatcher(I.matcher,I.reducer);p&&T.addDefaultCase(p)})}const f=w=>w,y=new WeakMap;let g;const v={name:s,reducerPath:o,reducer(w,m){return g||(g=d()),g(w,m)},actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState(){return g||(g=d()),g.getInitialState()},getSelectors(w=f){const m=e_(y,this,{insert:()=>new WeakMap});return e_(m,w,{insert:()=>{const p={};for(const[_,T]of Object.entries(i.selectors??{}))p[_]=o2(this,T,w,this!==v);return p}})},selectSlice(w){let m=w[this.reducerPath];return typeof m>"u"&&this!==v&&(m=this.getInitialState()),m},get selectors(){return this.getSelectors(this.selectSlice)},injectInto(w,{reducerPath:m,...p}={}){const _=m??this.reducerPath;return w.inject({reducerPath:_,reducer:this.reducer},p),{...this,reducerPath:_}}};return v}}function o2(t,e,n,r){function i(s,...o){let a=n.call(t,s);return typeof a>"u"&&r&&(a=t.getInitialState()),e(a,...o)}return i.unwrapped=e,i}var Km=s2();function a2(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function l2({type:t,reducerName:e,createNotation:n},r,i){let s,o;if("reducer"in r){if(n&&!c2(r))throw new Error(_n(17));s=r.reducer,o=r.prepare}else s=r;i.addCase(t,s).exposeCaseReducer(e,s).exposeAction(e,o?va(t,o):va(t))}function u2(t){return t._reducerDefinitionType==="asyncThunk"}function c2(t){return t._reducerDefinitionType==="reducerWithPrepare"}function d2({type:t,reducerName:e},n,r,i){if(!i)throw new Error(_n(18));const{payloadCreator:s,fulfilled:o,pending:a,rejected:l,settled:u,options:c}=n,d=i(t,s,c);r.exposeAction(e,d),o&&r.addCase(d.fulfilled,o),a&&r.addCase(d.pending,a),l&&r.addCase(d.rejected,l),u&&r.addMatcher(d.settled,u),r.exposeCaseReducer(e,{fulfilled:o||Vl,pending:a||Vl,rejected:l||Vl,settled:u||Vl})}function Vl(){}var Gm="listenerMiddleware";va(`${Gm}/add`);va(`${Gm}/removeAll`);va(`${Gm}/remove`);function _n(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}const h2=Km({name:"auth",initialState:{status:"offline",user:{},errorMessage:null,resetPasswordMessage:null},reducers:{login:(t,e)=>{t.status="online",t.user=e.payload},logout:(t,e)=>{t.status="offline",t.user={},t.errorMessage=e.payload},checkingCredentials:(t,e)=>{t.status="checking"},checkingGoogleCredentials:(t,e)=>{t.status="checking"},resetPasswordEmail:(t,e)=>{t.resetPasswordMessage=e.payload}}});h2.actions;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zE=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},f2=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},HE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=s>>2,d=(s&3)<<4|a>>4;let f=(a&15)<<2|u>>6,y=u&63;l||(y=64,o||(f=64)),r.push(n[c],n[d],n[f],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(zE(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):f2(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||d==null)throw new p2;const f=s<<2|a>>4;if(r.push(f),u!==64){const y=a<<4&240|u>>2;if(r.push(y),d!==64){const g=u<<6&192|d;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class p2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const m2=function(t){const e=zE(t);return HE.encodeByteArray(e,!0)},Wu=function(t){return m2(t).replace(/\./g,"")},qE=function(t){try{return HE.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y2=()=>g2().__FIREBASE_DEFAULTS__,v2=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},_2=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&qE(t[1]);return e&&JSON.parse(e)},Qm=()=>{try{return y2()||v2()||_2()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},WE=t=>{var e,n;return(n=(e=Qm())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},w2=t=>{const e=WE(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},KE=()=>{var t;return(t=Qm())===null||t===void 0?void 0:t.config},GE=t=>{var e;return(e=Qm())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T2(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[Wu(JSON.stringify(n)),Wu(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function x2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(mt())}function QE(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function I2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function S2(){const t=mt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function JE(){try{return typeof indexedDB=="object"}catch{return!1}}function XE(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}function A2(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C2="FirebaseError";class un extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=C2,Object.setPrototypeOf(this,un.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,zi.prototype.create)}}class zi{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?R2(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new un(i,a,r)}}function R2(t,e){return t.replace(P2,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const P2=/\{\$([^}]+)}/g;function k2(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function _a(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(t_(s)&&t_(o)){if(!_a(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function t_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ka(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function N2(t,e){const n=new b2(t,e);return n.subscribe.bind(n)}class b2{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");D2(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=yh),i.error===void 0&&(i.error=yh),i.complete===void 0&&(i.complete=yh);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function D2(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function yh(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O2=1e3,L2=2,j2=4*60*60*1e3,V2=.5;function n_(t,e=O2,n=L2){const r=e*Math.pow(n,t),i=Math.round(V2*r*(Math.random()-.5)*2);return Math.min(j2,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ke(t){return t&&t._delegate?t._delegate:t}class ln{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new E2;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(U2(e))try{this.getOrInitializeService({instanceIdentifier:mi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=mi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=mi){return this.instances.has(e)}getOptions(e=mi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:F2(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=mi){return this.component?this.component.multipleInstances?e:mi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function F2(t){return t===mi?void 0:t}function U2(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new M2(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var te;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(te||(te={}));const B2={debug:te.DEBUG,verbose:te.VERBOSE,info:te.INFO,warn:te.WARN,error:te.ERROR,silent:te.SILENT},z2=te.INFO,H2={[te.DEBUG]:"log",[te.VERBOSE]:"log",[te.INFO]:"info",[te.WARN]:"warn",[te.ERROR]:"error"},q2=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=H2[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ga{constructor(e){this.name=e,this._logLevel=z2,this._logHandler=q2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in te))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?B2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,te.DEBUG,...e),this._logHandler(this,te.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,te.VERBOSE,...e),this._logHandler(this,te.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,te.INFO,...e),this._logHandler(this,te.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,te.WARN,...e),this._logHandler(this,te.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,te.ERROR,...e),this._logHandler(this,te.ERROR,...e)}}const W2=(t,e)=>e.some(n=>t instanceof n);let r_,i_;function K2(){return r_||(r_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function G2(){return i_||(i_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const YE=new WeakMap,tp=new WeakMap,ZE=new WeakMap,vh=new WeakMap,Jm=new WeakMap;function Q2(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(qr(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&YE.set(n,t)}).catch(()=>{}),Jm.set(e,t),e}function J2(t){if(tp.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});tp.set(t,e)}let np={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return tp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||ZE.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return qr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function X2(t){np=t(np)}function Y2(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(_h(this),e,...n);return ZE.set(r,e.sort?e.sort():[e]),qr(r)}:G2().includes(t)?function(...e){return t.apply(_h(this),e),qr(YE.get(this))}:function(...e){return qr(t.apply(_h(this),e))}}function Z2(t){return typeof t=="function"?Y2(t):(t instanceof IDBTransaction&&J2(t),W2(t,K2())?new Proxy(t,np):t)}function qr(t){if(t instanceof IDBRequest)return Q2(t);if(vh.has(t))return vh.get(t);const e=Z2(t);return e!==t&&(vh.set(t,e),Jm.set(e,t)),e}const _h=t=>Jm.get(t);function ek(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=qr(o);return r&&o.addEventListener("upgradeneeded",l=>{r(qr(o.result),l.oldVersion,l.newVersion,qr(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const tk=["get","getKey","getAll","getAllKeys","count"],nk=["put","add","delete","clear"],wh=new Map;function s_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(wh.get(e))return wh.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=nk.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||tk.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return wh.set(e,s),s}X2(t=>({...t,get:(e,n,r)=>s_(e,n)||t.get(e,n,r),has:(e,n)=>!!s_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rk{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(ik(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function ik(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const rp="@firebase/app",o_="0.9.25";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oi=new Ga("@firebase/app"),sk="@firebase/app-compat",ok="@firebase/analytics-compat",ak="@firebase/analytics",lk="@firebase/app-check-compat",uk="@firebase/app-check",ck="@firebase/auth",dk="@firebase/auth-compat",hk="@firebase/database",fk="@firebase/database-compat",pk="@firebase/functions",mk="@firebase/functions-compat",gk="@firebase/installations",yk="@firebase/installations-compat",vk="@firebase/messaging",_k="@firebase/messaging-compat",wk="@firebase/performance",Ek="@firebase/performance-compat",Tk="@firebase/remote-config",xk="@firebase/remote-config-compat",Ik="@firebase/storage",Sk="@firebase/storage-compat",Ak="@firebase/firestore",Ck="@firebase/firestore-compat",Rk="firebase",Pk="10.7.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ip="[DEFAULT]",kk={[rp]:"fire-core",[sk]:"fire-core-compat",[ak]:"fire-analytics",[ok]:"fire-analytics-compat",[uk]:"fire-app-check",[lk]:"fire-app-check-compat",[ck]:"fire-auth",[dk]:"fire-auth-compat",[hk]:"fire-rtdb",[fk]:"fire-rtdb-compat",[pk]:"fire-fn",[mk]:"fire-fn-compat",[gk]:"fire-iid",[yk]:"fire-iid-compat",[vk]:"fire-fcm",[_k]:"fire-fcm-compat",[wk]:"fire-perf",[Ek]:"fire-perf-compat",[Tk]:"fire-rc",[xk]:"fire-rc-compat",[Ik]:"fire-gcs",[Sk]:"fire-gcs-compat",[Ak]:"fire-fst",[Ck]:"fire-fst-compat","fire-js":"fire-js",[Rk]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ku=new Map,sp=new Map;function Nk(t,e){try{t.container.addComponent(e)}catch(n){Oi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function En(t){const e=t.name;if(sp.has(e))return Oi.debug(`There were multiple attempts to register component ${e}.`),!1;sp.set(e,t);for(const n of Ku.values())Nk(n,t);return!0}function Hi(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bk={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Wr=new zi("app","Firebase",bk);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dk{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ln("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Wr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qi=Pk;function eT(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:ip,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Wr.create("bad-app-name",{appName:String(i)});if(n||(n=KE()),!n)throw Wr.create("no-options");const s=Ku.get(i);if(s){if(_a(n,s.options)&&_a(r,s.config))return s;throw Wr.create("duplicate-app",{appName:i})}const o=new $2(i);for(const l of sp.values())o.addComponent(l);const a=new Dk(n,r,o);return Ku.set(i,a),a}function Xm(t=ip){const e=Ku.get(t);if(!e&&t===ip&&KE())return eT();if(!e)throw Wr.create("no-app",{appName:t});return e}function Lt(t,e,n){var r;let i=(r=kk[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Oi.warn(a.join(" "));return}En(new ln(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ok="firebase-heartbeat-database",Lk=1,wa="firebase-heartbeat-store";let Eh=null;function tT(){return Eh||(Eh=ek(Ok,Lk,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(wa)}}}).catch(t=>{throw Wr.create("idb-open",{originalErrorMessage:t.message})})),Eh}async function jk(t){try{return await(await tT()).transaction(wa).objectStore(wa).get(nT(t))}catch(e){if(e instanceof un)Oi.warn(e.message);else{const n=Wr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Oi.warn(n.message)}}}async function a_(t,e){try{const r=(await tT()).transaction(wa,"readwrite");await r.objectStore(wa).put(e,nT(t)),await r.done}catch(n){if(n instanceof un)Oi.warn(n.message);else{const r=Wr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Oi.warn(r.message)}}}function nT(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vk=1024,Mk=30*24*60*60*1e3;class Fk{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new $k(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=l_();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=Mk}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=l_(),{heartbeatsToSend:r,unsentEntries:i}=Uk(this._heartbeatsCache.heartbeats),s=Wu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function l_(){return new Date().toISOString().substring(0,10)}function Uk(t,e=Vk){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),u_(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),u_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class $k{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return JE()?XE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await jk(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return a_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return a_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function u_(t){return Wu(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bk(t){En(new ln("platform-logger",e=>new rk(e),"PRIVATE")),En(new ln("heartbeat",e=>new Fk(e),"PRIVATE")),Lt(rp,o_,t),Lt(rp,o_,"esm2017"),Lt("fire-js","")}Bk("");function Ym(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function rT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const zk=rT,iT=new zi("auth","Firebase",rT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gu=new Ga("@firebase/auth");function Hk(t,...e){Gu.logLevel<=te.WARN&&Gu.warn(`Auth (${qi}): ${t}`,...e)}function ou(t,...e){Gu.logLevel<=te.ERROR&&Gu.error(`Auth (${qi}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fr(t,...e){throw Zm(t,...e)}function Mn(t,...e){return Zm(t,...e)}function qk(t,e,n){const r=Object.assign(Object.assign({},zk()),{[e]:n});return new zi("auth","Firebase",r).create(e,{appName:t.name})}function Zm(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return iT.create(t,...e)}function J(t,e,...n){if(!t)throw Zm(e,...n)}function tr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw ou(e),new Error(e)}function pr(t,e){t||tr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function op(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function Wk(){return c_()==="http:"||c_()==="https:"}function c_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kk(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Wk()||QE()||"connection"in navigator)?navigator.onLine:!0}function Gk(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(e,n){this.shortDelay=e,this.longDelay=n,pr(n>e,"Short delay should be less than long delay!"),this.isMobile=x2()||I2()}get(){return Kk()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eg(t,e){pr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sT{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;tr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;tr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;tr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qk={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jk=new Qa(3e4,6e4);function tg(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function eo(t,e,n,r,i={}){return oT(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=Ka(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),sT.fetch()(aT(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function oT(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Qk),e);try{const i=new Yk(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Ml(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ml(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Ml(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Ml(t,"user-disabled",o);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw qk(t,c,u);fr(t,c)}}catch(i){if(i instanceof un)throw i;fr(t,"network-request-failed",{message:String(i)})}}async function Xk(t,e,n,r,i={}){const s=await eo(t,e,n,r,i);return"mfaPendingCredential"in s&&fr(t,"multi-factor-auth-required",{_serverResponse:s}),s}function aT(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?eg(t.config,i):`${t.config.apiScheme}://${i}`}class Yk{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Mn(this.auth,"network-request-failed")),Jk.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ml(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Mn(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zk(t,e){return eo(t,"POST","/v1/accounts:delete",e)}async function eN(t,e){return eo(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zo(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function tN(t,e=!1){const n=Ke(t),r=await n.getIdToken(e),i=ng(r);J(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:zo(Th(i.auth_time)),issuedAtTime:zo(Th(i.iat)),expirationTime:zo(Th(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Th(t){return Number(t)*1e3}function ng(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return ou("JWT malformed, contained fewer than 3 sections"),null;try{const i=qE(n);return i?JSON.parse(i):(ou("Failed to decode base64 JWT payload"),null)}catch(i){return ou("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function nN(t){const e=ng(t);return J(e,"internal-error"),J(typeof e.exp<"u","internal-error"),J(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ea(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof un&&rN(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function rN({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lT{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=zo(this.lastLoginAt),this.creationTime=zo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qu(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Ea(t,eN(n,{idToken:r}));J(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?aN(s.providerUserInfo):[],a=oN(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new lT(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,d)}async function sN(t){const e=Ke(t);await Qu(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function oN(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function aN(t){return t.map(e=>{var{providerId:n}=e,r=Ym(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lN(t,e){const n=await oT(t,{},async()=>{const r=Ka({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=aT(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",sT.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function uN(t,e){return eo(t,"POST","/v2/accounts:revokeToken",tg(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){J(e.idToken,"internal-error"),J(typeof e.idToken<"u","internal-error"),J(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):nN(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return J(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await lN(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Ta;return r&&(J(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(J(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(J(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ta,this.toJSON())}_performRefresh(){return tr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xr(t,e){J(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ai{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Ym(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new iN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new lT(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Ea(this,this.stsTokenManager.getToken(this.auth,e));return J(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return tN(this,e)}reload(){return sN(this)}_assign(e){this!==e&&(J(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ai(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){J(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Qu(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Ea(this,Zk(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,c;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,y=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,g=(o=n.photoURL)!==null&&o!==void 0?o:void 0,v=(a=n.tenantId)!==null&&a!==void 0?a:void 0,w=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,m=(u=n.createdAt)!==null&&u!==void 0?u:void 0,p=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:_,emailVerified:T,isAnonymous:I,providerData:N,stsTokenManager:O}=n;J(_&&O,e,"internal-error");const M=Ta.fromJSON(this.name,O);J(typeof _=="string",e,"internal-error"),xr(d,e.name),xr(f,e.name),J(typeof T=="boolean",e,"internal-error"),J(typeof I=="boolean",e,"internal-error"),xr(y,e.name),xr(g,e.name),xr(v,e.name),xr(w,e.name),xr(m,e.name),xr(p,e.name);const ee=new Ai({uid:_,auth:e,email:f,emailVerified:T,displayName:d,isAnonymous:I,photoURL:g,phoneNumber:y,tenantId:v,stsTokenManager:M,createdAt:m,lastLoginAt:p});return N&&Array.isArray(N)&&(ee.providerData=N.map(B=>Object.assign({},B))),w&&(ee._redirectEventId=w),ee}static async _fromIdTokenResponse(e,n,r=!1){const i=new Ta;i.updateFromServerResponse(n);const s=new Ai({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Qu(s),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d_=new Map;function nr(t){pr(t instanceof Function,"Expected a class definition");let e=d_.get(t);return e?(pr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,d_.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}uT.type="NONE";const h_=uT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function au(t,e,n){return`firebase:${t}:${e}:${n}`}class As{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=au(this.userKey,i.apiKey,s),this.fullPersistenceKey=au("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ai._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new As(nr(h_),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||nr(h_);const o=au(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(o);if(c){const d=Ai._fromJSON(e,c);u!==s&&(a=d),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new As(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new As(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(hT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(cT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(pT(e))return"Blackberry";if(mT(e))return"Webos";if(rg(e))return"Safari";if((e.includes("chrome/")||dT(e))&&!e.includes("edge/"))return"Chrome";if(fT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function cT(t=mt()){return/firefox\//i.test(t)}function rg(t=mt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function dT(t=mt()){return/crios\//i.test(t)}function hT(t=mt()){return/iemobile/i.test(t)}function fT(t=mt()){return/android/i.test(t)}function pT(t=mt()){return/blackberry/i.test(t)}function mT(t=mt()){return/webos/i.test(t)}function Hc(t=mt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function cN(t=mt()){var e;return Hc(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function dN(){return S2()&&document.documentMode===10}function gT(t=mt()){return Hc(t)||fT(t)||mT(t)||pT(t)||/windows phone/i.test(t)||hT(t)}function hN(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yT(t,e=[]){let n;switch(t){case"Browser":n=f_(mt());break;case"Worker":n=`${f_(mt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${qi}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pN(t,e={}){return eo(t,"GET","/v2/passwordPolicy",tg(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mN=6;class gN{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:mN,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new p_(this),this.idTokenSubscription=new p_(this),this.beforeStateQueue=new fN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=iT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=nr(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await As.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return J(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Qu(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Gk()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?Ke(e):null;return n&&J(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&J(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(nr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await pN(this),n=new gN(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new zi("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await uN(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&nr(e)||this._popupRedirectResolver;J(n,this,"argument-error"),this.redirectPersistenceManager=await As.create(this,[nr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(J(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return J(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=yT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&Hk(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ig(t){return Ke(t)}class p_{constructor(e){this.auth=e,this.observer=null,this.addObserver=N2(n=>this.observer=n)}get next(){return J(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vN(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function _N(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Mn("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",vN().appendChild(r)})}function wN(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EN(t,e){const n=Hi(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(_a(s,e??{}))return i;fr(i,"already-initialized")}return n.initialize({options:e})}function TN(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(nr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function xN(t,e,n){const r=ig(t);J(r._canInitEmulator,r,"emulator-config-failed"),J(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=vT(e),{host:o,port:a}=IN(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||SN()}function vT(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function IN(t){const e=vT(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:m_(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:m_(o)}}}function m_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function SN(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _T{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return tr("not implemented")}_getIdTokenResponse(e){return tr("not implemented")}_linkToIdToken(e,n){return tr("not implemented")}_getReauthenticationResolver(e){return tr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cs(t,e){return Xk(t,"POST","/v1/accounts:signInWithIdp",tg(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AN="http://localhost";class Li extends _T{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Li(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):fr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Ym(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Li(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Cs(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Cs(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Cs(e,n)}buildRequest(){const e={requestUri:AN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ka(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja extends wT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr extends Ja{constructor(){super("facebook.com")}static credential(e){return Li._fromParams({providerId:Pr.PROVIDER_ID,signInMethod:Pr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Pr.credentialFromTaggedObject(e)}static credentialFromError(e){return Pr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Pr.credential(e.oauthAccessToken)}catch{return null}}}Pr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Pr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn extends Ja{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Li._fromParams({providerId:Yn.PROVIDER_ID,signInMethod:Yn.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Yn.credentialFromTaggedObject(e)}static credentialFromError(e){return Yn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Yn.credential(n,r)}catch{return null}}}Yn.GOOGLE_SIGN_IN_METHOD="google.com";Yn.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr extends Ja{constructor(){super("github.com")}static credential(e){return Li._fromParams({providerId:kr.PROVIDER_ID,signInMethod:kr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return kr.credentialFromTaggedObject(e)}static credentialFromError(e){return kr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return kr.credential(e.oauthAccessToken)}catch{return null}}}kr.GITHUB_SIGN_IN_METHOD="github.com";kr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr extends Ja{constructor(){super("twitter.com")}static credential(e,n){return Li._fromParams({providerId:Nr.PROVIDER_ID,signInMethod:Nr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Nr.credentialFromTaggedObject(e)}static credentialFromError(e){return Nr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Nr.credential(n,r)}catch{return null}}}Nr.TWITTER_SIGN_IN_METHOD="twitter.com";Nr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Ai._fromIdTokenResponse(e,r,i),o=g_(r);return new Fs({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=g_(r);return new Fs({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function g_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju extends un{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Ju.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Ju(e,n,r,i)}}function ET(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Ju._fromErrorAndOperation(t,s,e,r):s})}async function CN(t,e,n=!1){const r=await Ea(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Fs._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RN(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await Ea(t,ET(r,i,e,t),n);J(s.idToken,r,"internal-error");const o=ng(s.idToken);J(o,r,"internal-error");const{sub:a}=o;return J(t.uid===a,r,"user-mismatch"),Fs._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&fr(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PN(t,e,n=!1){const r="signIn",i=await ET(t,r,e),s=await Fs._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}function kN(t,e,n,r){return Ke(t).onIdTokenChanged(e,n,r)}function NN(t,e,n){return Ke(t).beforeAuthStateChanged(e,n)}function bN(t,e,n,r){return Ke(t).onAuthStateChanged(e,n,r)}const Xu="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Xu,"1"),this.storage.removeItem(Xu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DN(){const t=mt();return rg(t)||Hc(t)}const ON=1e3,LN=10;class xT extends TT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=DN()&&hN(),this.fallbackToPolling=gT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);dN()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,LN):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},ON)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}xT.type="LOCAL";const jN=xT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT extends TT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}IT.type="SESSION";const ST=IT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VN(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new qc(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await VN(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}qc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sg(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=sg("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){const f=d;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(c),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fn(){return window}function FN(t){Fn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AT(){return typeof Fn().WorkerGlobalScope<"u"&&typeof Fn().importScripts=="function"}async function UN(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function $N(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function BN(){return AT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CT="firebaseLocalStorageDb",zN=1,Yu="firebaseLocalStorage",RT="fbase_key";class Xa{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Wc(t,e){return t.transaction([Yu],e?"readwrite":"readonly").objectStore(Yu)}function HN(){const t=indexedDB.deleteDatabase(CT);return new Xa(t).toPromise()}function ap(){const t=indexedDB.open(CT,zN);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Yu,{keyPath:RT})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Yu)?e(r):(r.close(),await HN(),e(await ap()))})})}async function y_(t,e,n){const r=Wc(t,!0).put({[RT]:e,value:n});return new Xa(r).toPromise()}async function qN(t,e){const n=Wc(t,!1).get(e),r=await new Xa(n).toPromise();return r===void 0?null:r.value}function v_(t,e){const n=Wc(t,!0).delete(e);return new Xa(n).toPromise()}const WN=800,KN=3;class PT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ap(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>KN)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return AT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=qc._getInstance(BN()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await UN(),!this.activeServiceWorker)return;this.sender=new MN(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||$N()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ap();return await y_(e,Xu,"1"),await v_(e,Xu),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>y_(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>qN(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>v_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Wc(i,!1).getAll();return new Xa(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),WN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}PT.type="LOCAL";const GN=PT;new Qa(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QN(t,e){return e?nr(e):(J(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class og extends _T{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Cs(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Cs(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Cs(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function JN(t){return PN(t.auth,new og(t),t.bypassAuthState)}function XN(t){const{auth:e,user:n}=t;return J(n,e,"internal-error"),RN(n,new og(t),t.bypassAuthState)}async function YN(t){const{auth:e,user:n}=t;return J(n,e,"internal-error"),CN(n,new og(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kT{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return JN;case"linkViaPopup":case"linkViaRedirect":return YN;case"reauthViaPopup":case"reauthViaRedirect":return XN;default:fr(this.auth,"internal-error")}}resolve(e){pr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){pr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZN=new Qa(2e3,1e4);class ys extends kT{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,ys.currentPopupAction&&ys.currentPopupAction.cancel(),ys.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return J(e,this.auth,"internal-error"),e}async onExecution(){pr(this.filter.length===1,"Popup operations only handle one event");const e=sg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Mn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Mn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ys.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Mn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,ZN.get())};e()}}ys.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eb="pendingRedirect",lu=new Map;class tb extends kT{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=lu.get(this.auth._key());if(!e){try{const r=await nb(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}lu.set(this.auth._key(),e)}return this.bypassAuthState||lu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function nb(t,e){const n=sb(e),r=ib(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function rb(t,e){lu.set(t._key(),e)}function ib(t){return nr(t._redirectPersistence)}function sb(t){return au(eb,t.config.apiKey,t.name)}async function ob(t,e,n=!1){const r=ig(t),i=QN(r,e),o=await new tb(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ab=10*60*1e3;class lb{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!ub(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!NT(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Mn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=ab&&this.cachedEventUids.clear(),this.cachedEventUids.has(__(e))}saveEventToCache(e){this.cachedEventUids.add(__(e)),this.lastProcessedEventTime=Date.now()}}function __(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function NT({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function ub(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return NT(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cb(t,e={}){return eo(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const db=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,hb=/^https?/;async function fb(t){if(t.config.emulator)return;const{authorizedDomains:e}=await cb(t);for(const n of e)try{if(pb(n))return}catch{}fr(t,"unauthorized-domain")}function pb(t){const e=op(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!hb.test(n))return!1;if(db.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mb=new Qa(3e4,6e4);function w_(){const t=Fn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function gb(t){return new Promise((e,n)=>{var r,i,s;function o(){w_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{w_(),n(Mn(t,"network-request-failed"))},timeout:mb.get()})}if(!((i=(r=Fn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Fn().gapi)===null||s===void 0)&&s.load)o();else{const a=wN("iframefcb");return Fn()[a]=()=>{gapi.load?o():n(Mn(t,"network-request-failed"))},_N(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw uu=null,e})}let uu=null;function yb(t){return uu=uu||gb(t),uu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vb=new Qa(5e3,15e3),_b="__/auth/iframe",wb="emulator/auth/iframe",Eb={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Tb=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function xb(t){const e=t.config;J(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?eg(e,wb):`https://${t.config.authDomain}/${_b}`,r={apiKey:e.apiKey,appName:t.name,v:qi},i=Tb.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Ka(r).slice(1)}`}async function Ib(t){const e=await yb(t),n=Fn().gapi;return J(n,t,"internal-error"),e.open({where:document.body,url:xb(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Eb,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Mn(t,"network-request-failed"),a=Fn().setTimeout(()=>{s(o)},vb.get());function l(){Fn().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sb={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Ab=500,Cb=600,Rb="_blank",Pb="http://localhost";class E_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function kb(t,e,n,r=Ab,i=Cb){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},Sb),{width:r.toString(),height:i.toString(),top:s,left:o}),u=mt().toLowerCase();n&&(a=dT(u)?Rb:n),cT(u)&&(e=e||Pb,l.scrollbars="yes");const c=Object.entries(l).reduce((f,[y,g])=>`${f}${y}=${g},`,"");if(cN(u)&&a!=="_self")return Nb(e||"",a),new E_(null);const d=window.open(e||"",a,c);J(d,t,"popup-blocked");try{d.focus()}catch{}return new E_(d)}function Nb(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bb="__/auth/handler",Db="emulator/auth/handler",Ob=encodeURIComponent("fac");async function T_(t,e,n,r,i,s){J(t.config.authDomain,t,"auth-domain-config-required"),J(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:qi,eventId:i};if(e instanceof wT){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",k2(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,d]of Object.entries(s||{}))o[c]=d}if(e instanceof Ja){const c=e.getScopes().filter(d=>d!=="");c.length>0&&(o.scopes=c.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await t._getAppCheckToken(),u=l?`#${Ob}=${encodeURIComponent(l)}`:"";return`${Lb(t)}?${Ka(a).slice(1)}${u}`}function Lb({config:t}){return t.emulator?eg(t,Db):`https://${t.authDomain}/${bb}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xh="webStorageSupport";class jb{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ST,this._completeRedirectFn=ob,this._overrideRedirectResult=rb}async _openPopup(e,n,r,i){var s;pr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await T_(e,n,r,op(),i);return kb(e,o,sg())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await T_(e,n,r,op(),i);return FN(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(pr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await Ib(e),r=new lb(e);return n.register("authEvent",i=>(J(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(xh,{type:xh},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[xh];o!==void 0&&n(!!o),fr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=fb(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return gT()||rg()||Hc()}}const Vb=jb;var x_="@firebase/auth",I_="1.5.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mb{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){J(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fb(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function Ub(t){En(new ln("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;J(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:yT(t)},u=new yN(r,i,s,l);return TN(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),En(new ln("auth-internal",e=>{const n=ig(e.getProvider("auth").getImmediate());return(r=>new Mb(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Lt(x_,I_,Fb(t)),Lt(x_,I_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $b=5*60,Bb=GE("authIdTokenMaxAge")||$b;let S_=null;const zb=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Bb)return;const i=n==null?void 0:n.token;S_!==i&&(S_=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Hb(t=Xm()){const e=Hi(t,"auth");if(e.isInitialized())return e.getImmediate();const n=EN(t,{popupRedirectResolver:Vb,persistence:[GN,jN,ST]}),r=GE("authTokenSyncURL");if(r){const s=zb(r);NN(n,s,()=>s(n.currentUser)),kN(n,o=>s(o))}const i=WE("auth");return i&&xN(n,`http://${i}`),n}Ub("Browser");var qb="firebase",Wb="10.7.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Lt(qb,Wb,"app");const Kb=(t,e)=>e.some(n=>t instanceof n);let A_,C_;function Gb(){return A_||(A_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Qb(){return C_||(C_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const bT=new WeakMap,lp=new WeakMap,DT=new WeakMap,Ih=new WeakMap,ag=new WeakMap;function Jb(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Kr(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&bT.set(n,t)}).catch(()=>{}),ag.set(e,t),e}function Xb(t){if(lp.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});lp.set(t,e)}let up={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return lp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||DT.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Kr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Yb(t){up=t(up)}function Zb(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Sh(this),e,...n);return DT.set(r,e.sort?e.sort():[e]),Kr(r)}:Qb().includes(t)?function(...e){return t.apply(Sh(this),e),Kr(bT.get(this))}:function(...e){return Kr(t.apply(Sh(this),e))}}function eD(t){return typeof t=="function"?Zb(t):(t instanceof IDBTransaction&&Xb(t),Kb(t,Gb())?new Proxy(t,up):t)}function Kr(t){if(t instanceof IDBRequest)return Jb(t);if(Ih.has(t))return Ih.get(t);const e=eD(t);return e!==t&&(Ih.set(t,e),ag.set(e,t)),e}const Sh=t=>ag.get(t);function tD(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Kr(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Kr(o.result),l.oldVersion,l.newVersion,Kr(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}const nD=["get","getKey","getAll","getAllKeys","count"],rD=["put","add","delete","clear"],Ah=new Map;function R_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ah.get(e))return Ah.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=rD.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||nD.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return Ah.set(e,s),s}Yb(t=>({...t,get:(e,n,r)=>R_(e,n)||t.get(e,n,r),has:(e,n)=>!!R_(e,n)||t.has(e,n)}));const OT="@firebase/installations",lg="0.6.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LT=1e4,jT=`w:${lg}`,VT="FIS_v2",iD="https://firebaseinstallations.googleapis.com/v1",sD=60*60*1e3,oD="installations",aD="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lD={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},ji=new zi(oD,aD,lD);function MT(t){return t instanceof un&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FT({projectId:t}){return`${iD}/projects/${t}/installations`}function UT(t){return{token:t.token,requestStatus:2,expiresIn:cD(t.expiresIn),creationTime:Date.now()}}async function $T(t,e){const r=(await e.json()).error;return ji.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function BT({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function uD(t,{refreshToken:e}){const n=BT(t);return n.append("Authorization",dD(e)),n}async function zT(t){const e=await t();return e.status>=500&&e.status<600?t():e}function cD(t){return Number(t.replace("s","000"))}function dD(t){return`${VT} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hD({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=FT(t),i=BT(t),s=e.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={fid:n,authVersion:VT,appId:t.appId,sdkVersion:jT},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await zT(()=>fetch(r,a));if(l.ok){const u=await l.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:UT(u.authToken)}}else throw await $T("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HT(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fD(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pD=/^[cdef][\w-]{21}$/,cp="";function mD(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=gD(t);return pD.test(n)?n:cp}catch{return cp}}function gD(t){return fD(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kc(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qT=new Map;function WT(t,e){const n=Kc(t);KT(n,e),yD(n,e)}function KT(t,e){const n=qT.get(t);if(n)for(const r of n)r(e)}function yD(t,e){const n=vD();n&&n.postMessage({key:t,fid:e}),_D()}let _i=null;function vD(){return!_i&&"BroadcastChannel"in self&&(_i=new BroadcastChannel("[Firebase] FID Change"),_i.onmessage=t=>{KT(t.data.key,t.data.fid)}),_i}function _D(){qT.size===0&&_i&&(_i.close(),_i=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wD="firebase-installations-database",ED=1,Vi="firebase-installations-store";let Ch=null;function ug(){return Ch||(Ch=tD(wD,ED,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Vi)}}})),Ch}async function Zu(t,e){const n=Kc(t),i=(await ug()).transaction(Vi,"readwrite"),s=i.objectStore(Vi),o=await s.get(n);return await s.put(e,n),await i.done,(!o||o.fid!==e.fid)&&WT(t,e.fid),e}async function GT(t){const e=Kc(t),r=(await ug()).transaction(Vi,"readwrite");await r.objectStore(Vi).delete(e),await r.done}async function Gc(t,e){const n=Kc(t),i=(await ug()).transaction(Vi,"readwrite"),s=i.objectStore(Vi),o=await s.get(n),a=e(o);return a===void 0?await s.delete(n):await s.put(a,n),await i.done,a&&(!o||o.fid!==a.fid)&&WT(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cg(t){let e;const n=await Gc(t.appConfig,r=>{const i=TD(r),s=xD(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===cp?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function TD(t){const e=t||{fid:mD(),registrationStatus:0};return QT(e)}function xD(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(ji.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=ID(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:SD(t)}:{installationEntry:e}}async function ID(t,e){try{const n=await hD(t,e);return Zu(t.appConfig,n)}catch(n){throw MT(n)&&n.customData.serverCode===409?await GT(t.appConfig):await Zu(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function SD(t){let e=await P_(t.appConfig);for(;e.registrationStatus===1;)await HT(100),e=await P_(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await cg(t);return r||n}return e}function P_(t){return Gc(t,e=>{if(!e)throw ji.create("installation-not-found");return QT(e)})}function QT(t){return AD(t)?{fid:t.fid,registrationStatus:0}:t}function AD(t){return t.registrationStatus===1&&t.registrationTime+LT<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CD({appConfig:t,heartbeatServiceProvider:e},n){const r=RD(t,n),i=uD(t,n),s=e.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={installation:{sdkVersion:jT,appId:t.appId}},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await zT(()=>fetch(r,a));if(l.ok){const u=await l.json();return UT(u)}else throw await $T("Generate Auth Token",l)}function RD(t,{fid:e}){return`${FT(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dg(t,e=!1){let n;const r=await Gc(t.appConfig,s=>{if(!JT(s))throw ji.create("not-registered");const o=s.authToken;if(!e&&ND(o))return s;if(o.requestStatus===1)return n=PD(t,e),s;{if(!navigator.onLine)throw ji.create("app-offline");const a=DD(s);return n=kD(t,a),a}});return n?await n:r.authToken}async function PD(t,e){let n=await k_(t.appConfig);for(;n.authToken.requestStatus===1;)await HT(100),n=await k_(t.appConfig);const r=n.authToken;return r.requestStatus===0?dg(t,e):r}function k_(t){return Gc(t,e=>{if(!JT(e))throw ji.create("not-registered");const n=e.authToken;return OD(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function kD(t,e){try{const n=await CD(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await Zu(t.appConfig,r),n}catch(n){if(MT(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await GT(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Zu(t.appConfig,r)}throw n}}function JT(t){return t!==void 0&&t.registrationStatus===2}function ND(t){return t.requestStatus===2&&!bD(t)}function bD(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+sD}function DD(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function OD(t){return t.requestStatus===1&&t.requestTime+LT<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LD(t){const e=t,{installationEntry:n,registrationPromise:r}=await cg(e);return r?r.catch(console.error):dg(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jD(t,e=!1){const n=t;return await VD(n),(await dg(n,e)).token}async function VD(t){const{registrationPromise:e}=await cg(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MD(t){if(!t||!t.options)throw Rh("App Configuration");if(!t.name)throw Rh("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Rh(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Rh(t){return ji.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XT="installations",FD="installations-internal",UD=t=>{const e=t.getProvider("app").getImmediate(),n=MD(e),r=Hi(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},$D=t=>{const e=t.getProvider("app").getImmediate(),n=Hi(e,XT).getImmediate();return{getId:()=>LD(n),getToken:i=>jD(n,i)}};function BD(){En(new ln(XT,UD,"PUBLIC")),En(new ln(FD,$D,"PRIVATE"))}BD();Lt(OT,lg);Lt(OT,lg,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ec="analytics",zD="firebase_id",HD="origin",qD=60*1e3,WD="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",hg="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jt=new Ga("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KD={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Ht=new zi("analytics","Analytics",KD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GD(t){if(!t.startsWith(hg)){const e=Ht.create("invalid-gtag-resource",{gtagURL:t});return jt.warn(e.message),""}return t}function YT(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function QD(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function JD(t,e){const n=QD("firebase-js-sdk-policy",{createScriptURL:GD}),r=document.createElement("script"),i=`${hg}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function XD(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function YD(t,e,n,r,i,s){const o=r[i];try{if(o)await e[o];else{const l=(await YT(n)).find(u=>u.measurementId===i);l&&await e[l.appId]}}catch(a){jt.error(a)}t("config",i,s)}async function ZD(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=await YT(n);for(const l of o){const u=a.find(d=>d.measurementId===l),c=u&&e[u.appId];if(c)s.push(c);else{s=[];break}}}s.length===0&&(s=Object.values(e)),await Promise.all(s),t("event",r,i||{})}catch(s){jt.error(s)}}function eO(t,e,n,r){async function i(s,...o){try{if(s==="event"){const[a,l]=o;await ZD(t,e,n,a,l)}else if(s==="config"){const[a,l]=o;await YD(t,e,n,r,a,l)}else if(s==="consent"){const[a]=o;t("consent","update",a)}else if(s==="get"){const[a,l,u]=o;t("get",a,l,u)}else if(s==="set"){const[a]=o;t("set",a)}else t(s,...o)}catch(a){jt.error(a)}}return i}function tO(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=eO(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}function nO(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(hg)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rO=30,iO=1e3;class sO{constructor(e={},n=iO){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const ZT=new sO;function oO(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function aO(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:oO(r)},s=WD.replace("{app-id}",n),o=await fetch(s,i);if(o.status!==200&&o.status!==304){let a="";try{const l=await o.json();!((e=l.error)===null||e===void 0)&&e.message&&(a=l.error.message)}catch{}throw Ht.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}async function lO(t,e=ZT,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw Ht.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw Ht.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new dO;return setTimeout(async()=>{a.abort()},n!==void 0?n:qD),ex({appId:r,apiKey:i,measurementId:s},o,a,e)}async function ex(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=ZT){var s;const{appId:o,measurementId:a}=t;try{await uO(r,e)}catch(l){if(a)return jt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:o,measurementId:a};throw l}try{const l=await aO(t);return i.deleteThrottleMetadata(o),l}catch(l){const u=l;if(!cO(u)){if(i.deleteThrottleMetadata(o),a)return jt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:o,measurementId:a};throw l}const c=Number((s=u==null?void 0:u.customData)===null||s===void 0?void 0:s.httpStatus)===503?n_(n,i.intervalMillis,rO):n_(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+c,backoffCount:n+1};return i.setThrottleMetadata(o,d),jt.debug(`Calling attemptFetch again in ${c} millis`),ex(t,d,r,i)}}function uO(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(Ht.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function cO(t){if(!(t instanceof un)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class dO{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function hO(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const s=await e,o=Object.assign(Object.assign({},r),{send_to:s});t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fO(){if(JE())try{await XE()}catch(t){return jt.warn(Ht.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return jt.warn(Ht.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function pO(t,e,n,r,i,s,o){var a;const l=lO(t);l.then(y=>{n[y.measurementId]=y.appId,t.options.measurementId&&y.measurementId!==t.options.measurementId&&jt.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${y.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(y=>jt.error(y)),e.push(l);const u=fO().then(y=>{if(y)return r.getId()}),[c,d]=await Promise.all([l,u]);nO(s)||JD(s,c.measurementId),i("js",new Date);const f=(a=o==null?void 0:o.config)!==null&&a!==void 0?a:{};return f[HD]="firebase",f.update=!0,d!=null&&(f[zD]=d),i("config",c.measurementId,f),c.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mO{constructor(e){this.app=e}_delete(){return delete Ho[this.app.options.appId],Promise.resolve()}}let Ho={},N_=[];const b_={};let Ph="dataLayer",gO="gtag",D_,tx,O_=!1;function yO(){const t=[];if(QE()&&t.push("This is a browser extension environment."),A2()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Ht.create("invalid-analytics-context",{errorInfo:e});jt.warn(n.message)}}function vO(t,e,n){yO();const r=t.options.appId;if(!r)throw Ht.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)jt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Ht.create("no-api-key");if(Ho[r]!=null)throw Ht.create("already-exists",{id:r});if(!O_){XD(Ph);const{wrappedGtag:s,gtagCore:o}=tO(Ho,N_,b_,Ph,gO);tx=s,D_=o,O_=!0}return Ho[r]=pO(t,N_,b_,e,D_,Ph,n),new mO(t)}function _O(t=Xm()){t=Ke(t);const e=Hi(t,ec);return e.isInitialized()?e.getImmediate():wO(t)}function wO(t,e={}){const n=Hi(t,ec);if(n.isInitialized()){const i=n.getImmediate();if(_a(e,n.getOptions()))return i;throw Ht.create("already-initialized")}return n.initialize({options:e})}function EO(t,e,n,r){t=Ke(t),hO(tx,Ho[t.app.options.appId],e,n,r).catch(i=>jt.error(i))}const L_="@firebase/analytics",j_="0.10.0";function TO(){En(new ln(ec,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return vO(r,i,n)},"PUBLIC")),En(new ln("analytics-internal",t,"PRIVATE")),Lt(L_,j_),Lt(L_,j_,"esm2017");function t(e){try{const n=e.getProvider(ec).getImmediate();return{logEvent:(r,i,s)=>EO(n,r,i,s)}}catch(n){throw Ht.create("interop-component-reg-failed",{reason:n})}}}TO();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ct=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Ct.UNAUTHENTICATED=new Ct(null),Ct.GOOGLE_CREDENTIALS=new Ct("google-credentials-uid"),Ct.FIRST_PARTY=new Ct("first-party-uid"),Ct.MOCK_USER=new Ct("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ya="10.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Us=new Ga("@firebase/firestore");function xO(t,...e){if(Us.logLevel<=te.DEBUG){const n=e.map(fg);Us.debug(`Firestore (${Ya}): ${t}`,...n)}}function IO(t,...e){if(Us.logLevel<=te.ERROR){const n=e.map(fg);Us.error(`Firestore (${Ya}): ${t}`,...n)}}function SO(t,...e){if(Us.logLevel<=te.WARN){const n=e.map(fg);Us.warn(`Firestore (${Ya}): ${t}`,...n)}}function fg(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nx(t="Unexpected state"){const e=`FIRESTORE (${Ya}) INTERNAL ASSERTION FAILED: `+t;throw IO(e),new Error(e)}function rx(t,e){t||nx()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pn="invalid-argument",V_="failed-precondition";let Ft=class extends un{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ix=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},AO=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ct.UNAUTHENTICATED))}shutdown(){}};class CO{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class RO{constructor(e){this.auth=null,e.onInit(n=>{this.auth=n})}getToken(){return this.auth?this.auth.getToken().then(e=>e?(rx(typeof e.accessToken=="string"),new ix(e.accessToken,new Ct(this.auth.getUid()))):null):Promise.resolve(null)}invalidateToken(){}start(e,n){}shutdown(){}}let PO=class{constructor(e,n,r){this.t=e,this.i=n,this.o=r,this.type="FirstParty",this.user=Ct.FIRST_PARTY,this.u=new Map}l(){return this.o?this.o():null}get headers(){this.u.set("X-Goog-AuthUser",this.t);const e=this.l();return e&&this.u.set("Authorization",e),this.i&&this.u.set("X-Goog-Iam-Authorization-Token",this.i),this.u}},kO=class{constructor(e,n,r){this.t=e,this.i=n,this.o=r}getToken(){return Promise.resolve(new PO(this.t,this.i,this.o))}start(e,n){e.enqueueRetryable(()=>n(Ct.FIRST_PARTY))}shutdown(){}invalidateToken(){}},NO=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}};class bO{constructor(e){this.h=e,this.appCheck=null,e.onInit(n=>{this.appCheck=n})}getToken(){return this.appCheck?this.appCheck.getToken().then(e=>e?(rx(typeof e.token=="string"),new NO(e.token)):null):Promise.resolve(null)}invalidateToken(){}start(e,n){}shutdown(){}}let DO=class dp{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new dp("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof dp&&e.projectId===this.projectId&&e.database===this.database}};function OO(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":nx()}function LO(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ft(pn,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=OO(t);throw new Ft(pn,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jO(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var M_,se;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(se=M_||(M_={}))[se.OK=0]="OK",se[se.CANCELLED=1]="CANCELLED",se[se.UNKNOWN=2]="UNKNOWN",se[se.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",se[se.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",se[se.NOT_FOUND=5]="NOT_FOUND",se[se.ALREADY_EXISTS=6]="ALREADY_EXISTS",se[se.PERMISSION_DENIED=7]="PERMISSION_DENIED",se[se.UNAUTHENTICATED=16]="UNAUTHENTICATED",se[se.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",se[se.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",se[se.ABORTED=10]="ABORTED",se[se.OUT_OF_RANGE=11]="OUT_OF_RANGE",se[se.UNIMPLEMENTED=12]="UNIMPLEMENTED",se[se.INTERNAL=13]="INTERNAL",se[se.UNAVAILABLE=14]="UNAVAILABLE",se[se.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F_=new Map;let U_=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Ft(pn,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Ft(pn,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(s,o,a,l){if(o===!0&&l===!0)throw new Ft(pn,`${s} and ${a} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=jO((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Ft(pn,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Ft(pn,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Ft(pn,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},sx=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new U_({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ft(V_,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new Ft(V_,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new U_(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new AO;switch(r.type){case"firstParty":return new kO(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ft(pn,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=F_.get(n);r&&(xO("ComponentProvider","Removing Datastore"),F_.delete(n),r.terminate())}(this),Promise.resolve()}};function VO(t,e){const n=typeof t=="object"?t:Xm(),r=typeof t=="string"?t:e||"(default)",i=Hi(n,"firestore/lite").getImmediate({identifier:r});if(!i._initialized){const s=w2("firestore");s&&MO(i,...s)}return i}function MO(t,e,n,r={}){var i;const s=(t=LO(t,sx))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&SO("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Ct.MOCK_USER;else{a=T2(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new Ft(pn,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Ct(u)}t._authCredentials=new CO(new ix(a,l))}}(function(){(function(n){Ya=n})(`${qi}_lite`),En(new ln("firestore/lite",(e,{instanceIdentifier:n,options:r})=>{const i=e.getProvider("app").getImmediate(),s=new sx(new RO(e.getProvider("auth-internal")),new bO(e.getProvider("app-check-internal")),function(a,l){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new Ft(pn,'"projectId" not provided in firebase.initializeApp.');return new DO(a.options.projectId,l)}(i,n),i);return r&&s._setSettings(r),s},"PUBLIC").setMultipleInstances(!0)),Lt("firestore-lite","4.4.0",""),Lt("firestore-lite","4.4.0","esm2017")})();const FO={apiKey:"AIzaSyA_Mo2SKOIkWYyaDDw4iILnjdXb8Q_ZjKU",authDomain:"vitalfitapp-77225.firebaseapp.com",projectId:"vitalfitapp-77225",storageBucket:"vitalfitapp-77225.appspot.com",messagingSenderId:"558817686410",appId:"1:558817686410:web:b1cd87acbf95af845ace73",measurementId:"G-62Y0Q89LME"},pg=eT(FO),UO=Hb(pg),_r=VO(pg);_O(pg);new Yn;const ox=Km({name:"orders",initialState:{orders:[],currentOrder:[],onOrder:{},totalPriceOrder:0,orderWindow:!1},reducers:{checkOutOrder:(t,e)=>{t.currentOrder=e.payload,t.orderWindow=!0},getCurrentOrder:(t,e)=>{t.onOrder=e.payload},getOrders:(t,e)=>{t.orders=e.payload},saveOrder:(t,e)=>{t.orders=[e.payload,...t.orders]},passTotalPrice:(t,e)=>{t.totalPriceOrder=e.payload}}}),{checkOutOrder:$O,getOrders:D9,saveOrder:BO,passTotalPrice:zO,getCurrentOrder:O9}=ox.actions,HO=t=>async e=>{e($O(t))},qO=(t,e,n,r)=>async i=>{i(BO({id:t,date:e,order:n,totalAmount:r}))},WO=t=>async e=>{e(zO(t))},ax=Km({name:"product",initialState:{products:[],copyProducts:[],categories:[],product:{},loading:!0,currentPage:1,itemsPerPage:8,totalPages:0,shopListOpen:!1,shoppingCart:[],countTotal:0,search:"",filters:{category:"",minPrice:"",maxPrice:""},sorts:{sortByName:"",sortByPrice:""}},reducers:{startLoading:t=>{t.loading=!0},setProducts:(t,e)=>{t.products=e.payload,t.copyProducts.length||(t.copyProducts=e.payload),t.totalPages=Math.ceil(e.payload.length/8),t.loading=!1},setCategories:(t,e)=>{t.categories=e.payload},setCurrentPage:(t,e)=>{t.currentPage=e.payload},findbyProductById:(t,e)=>{t.product=e.payload,t.loading=!1},itemsAdded:(t,e)=>{const n=e.payload,r=t.shoppingCart.find(i=>i.id===n.id);r?r.count++:t.shoppingCart.push({...n,count:1}),t.countTotal+=1},removeItem:(t,e)=>{const n=e.payload,r=t.shoppingCart.find(i=>i.id===n);r&&(r.count--,r.count===0&&(t.shoppingCart=t.shoppingCart.filter(i=>i.id!==n)),t.countTotal-=1)},handleShopList:(t,e)=>{t.shopListOpen=e.payload},cleanEverything:(t,e)=>{t.shoppingCart=[],t.countTotal=0},setFilters:(t,e)=>{t.filters=e.payload},setSorts:(t,e)=>{t.sorts=e.payload},setSearch:(t,e)=>{t.search=e.payload},resetFilters:(t,e)=>{t.filters={category:"",minPrice:"",maxPrice:""}},resetSearch:(t,e)=>{t.search=""},resetSorts:(t,e)=>{t.sorts={sortByName:"",sortByPrice:""}}}}),{setProducts:KO,setCategories:GO,startLoading:L9,findbyProductById:QO,handleShopList:lx,itemsAdded:JO,removeItem:XO,setCurrentPage:ux,cleanEverything:YO,setFilters:ZO,resetFilters:e4,setSorts:t4,setSearch:n4,resetSorts:r4,resetSearch:i4}=ax.actions;function cx(t,e){return function(){return t.apply(e,arguments)}}const{toString:s4}=Object.prototype,{getPrototypeOf:mg}=Object,Qc=(t=>e=>{const n=s4.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),qn=t=>(t=t.toLowerCase(),e=>Qc(e)===t),Jc=t=>e=>typeof e===t,{isArray:to}=Array,xa=Jc("undefined");function o4(t){return t!==null&&!xa(t)&&t.constructor!==null&&!xa(t.constructor)&&sn(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const dx=qn("ArrayBuffer");function a4(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&dx(t.buffer),e}const l4=Jc("string"),sn=Jc("function"),hx=Jc("number"),Xc=t=>t!==null&&typeof t=="object",u4=t=>t===!0||t===!1,cu=t=>{if(Qc(t)!=="object")return!1;const e=mg(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},c4=qn("Date"),d4=qn("File"),h4=qn("Blob"),f4=qn("FileList"),p4=t=>Xc(t)&&sn(t.pipe),m4=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||sn(t.append)&&((e=Qc(t))==="formdata"||e==="object"&&sn(t.toString)&&t.toString()==="[object FormData]"))},g4=qn("URLSearchParams"),y4=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Za(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),to(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{const s=n?Object.getOwnPropertyNames(t):Object.keys(t),o=s.length;let a;for(r=0;r<o;r++)a=s[r],e.call(null,t[a],a,t)}}function fx(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const px=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),mx=t=>!xa(t)&&t!==px;function hp(){const{caseless:t}=mx(this)&&this||{},e={},n=(r,i)=>{const s=t&&fx(e,i)||i;cu(e[s])&&cu(r)?e[s]=hp(e[s],r):cu(r)?e[s]=hp({},r):to(r)?e[s]=r.slice():e[s]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&Za(arguments[r],n);return e}const v4=(t,e,n,{allOwnKeys:r}={})=>(Za(e,(i,s)=>{n&&sn(i)?t[s]=cx(i,n):t[s]=i},{allOwnKeys:r}),t),_4=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),w4=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},E4=(t,e,n,r)=>{let i,s,o;const a={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)o=i[s],(!r||r(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=n!==!1&&mg(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},T4=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},x4=t=>{if(!t)return null;if(to(t))return t;let e=t.length;if(!hx(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},I4=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&mg(Uint8Array)),S4=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},A4=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},C4=qn("HTMLFormElement"),R4=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),$_=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),P4=qn("RegExp"),gx=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};Za(n,(i,s)=>{let o;(o=e(i,s,t))!==!1&&(r[s]=o||i)}),Object.defineProperties(t,r)},k4=t=>{gx(t,(e,n)=>{if(sn(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(sn(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},N4=(t,e)=>{const n={},r=i=>{i.forEach(s=>{n[s]=!0})};return to(t)?r(t):r(String(t).split(e)),n},b4=()=>{},D4=(t,e)=>(t=+t,Number.isFinite(t)?t:e),kh="abcdefghijklmnopqrstuvwxyz",B_="0123456789",yx={DIGIT:B_,ALPHA:kh,ALPHA_DIGIT:kh+kh.toUpperCase()+B_},O4=(t=16,e=yx.ALPHA_DIGIT)=>{let n="";const{length:r}=e;for(;t--;)n+=e[Math.random()*r|0];return n};function L4(t){return!!(t&&sn(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const j4=t=>{const e=new Array(10),n=(r,i)=>{if(Xc(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const s=to(r)?[]:{};return Za(r,(o,a)=>{const l=n(o,i+1);!xa(l)&&(s[a]=l)}),e[i]=void 0,s}}return r};return n(t,0)},V4=qn("AsyncFunction"),M4=t=>t&&(Xc(t)||sn(t))&&sn(t.then)&&sn(t.catch),C={isArray:to,isArrayBuffer:dx,isBuffer:o4,isFormData:m4,isArrayBufferView:a4,isString:l4,isNumber:hx,isBoolean:u4,isObject:Xc,isPlainObject:cu,isUndefined:xa,isDate:c4,isFile:d4,isBlob:h4,isRegExp:P4,isFunction:sn,isStream:p4,isURLSearchParams:g4,isTypedArray:I4,isFileList:f4,forEach:Za,merge:hp,extend:v4,trim:y4,stripBOM:_4,inherits:w4,toFlatObject:E4,kindOf:Qc,kindOfTest:qn,endsWith:T4,toArray:x4,forEachEntry:S4,matchAll:A4,isHTMLForm:C4,hasOwnProperty:$_,hasOwnProp:$_,reduceDescriptors:gx,freezeMethods:k4,toObjectSet:N4,toCamelCase:R4,noop:b4,toFiniteNumber:D4,findKey:fx,global:px,isContextDefined:mx,ALPHABET:yx,generateString:O4,isSpecCompliantForm:L4,toJSONObject:j4,isAsyncFn:V4,isThenable:M4};function ae(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}C.inherits(ae,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:C.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const vx=ae.prototype,_x={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{_x[t]={value:t}});Object.defineProperties(ae,_x);Object.defineProperty(vx,"isAxiosError",{value:!0});ae.from=(t,e,n,r,i,s)=>{const o=Object.create(vx);return C.toFlatObject(t,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),ae.call(o,t.message,e,n,r,i),o.cause=t,o.name=t.name,s&&Object.assign(o,s),o};const F4=null;function fp(t){return C.isPlainObject(t)||C.isArray(t)}function wx(t){return C.endsWith(t,"[]")?t.slice(0,-2):t}function z_(t,e,n){return t?t.concat(e).map(function(i,s){return i=wx(i),!n&&s?"["+i+"]":i}).join(n?".":""):e}function U4(t){return C.isArray(t)&&!t.some(fp)}const $4=C.toFlatObject(C,{},null,function(e){return/^is[A-Z]/.test(e)});function Yc(t,e,n){if(!C.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=C.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,w){return!C.isUndefined(w[v])});const r=n.metaTokens,i=n.visitor||c,s=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&C.isSpecCompliantForm(e);if(!C.isFunction(i))throw new TypeError("visitor must be a function");function u(g){if(g===null)return"";if(C.isDate(g))return g.toISOString();if(!l&&C.isBlob(g))throw new ae("Blob is not supported. Use a Buffer instead.");return C.isArrayBuffer(g)||C.isTypedArray(g)?l&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function c(g,v,w){let m=g;if(g&&!w&&typeof g=="object"){if(C.endsWith(v,"{}"))v=r?v:v.slice(0,-2),g=JSON.stringify(g);else if(C.isArray(g)&&U4(g)||(C.isFileList(g)||C.endsWith(v,"[]"))&&(m=C.toArray(g)))return v=wx(v),m.forEach(function(_,T){!(C.isUndefined(_)||_===null)&&e.append(o===!0?z_([v],T,s):o===null?v:v+"[]",u(_))}),!1}return fp(g)?!0:(e.append(z_(w,v,s),u(g)),!1)}const d=[],f=Object.assign($4,{defaultVisitor:c,convertValue:u,isVisitable:fp});function y(g,v){if(!C.isUndefined(g)){if(d.indexOf(g)!==-1)throw Error("Circular reference detected in "+v.join("."));d.push(g),C.forEach(g,function(m,p){(!(C.isUndefined(m)||m===null)&&i.call(e,m,C.isString(p)?p.trim():p,v,f))===!0&&y(m,v?v.concat(p):[p])}),d.pop()}}if(!C.isObject(t))throw new TypeError("data must be an object");return y(t),e}function H_(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function gg(t,e){this._pairs=[],t&&Yc(t,this,e)}const Ex=gg.prototype;Ex.append=function(e,n){this._pairs.push([e,n])};Ex.toString=function(e){const n=e?function(r){return e.call(this,r,H_)}:H_;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function B4(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Tx(t,e,n){if(!e)return t;const r=n&&n.encode||B4,i=n&&n.serialize;let s;if(i?s=i(e,n):s=C.isURLSearchParams(e)?e.toString():new gg(e,n).toString(r),s){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class z4{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){C.forEach(this.handlers,function(r){r!==null&&e(r)})}}const q_=z4,xx={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},H4=typeof URLSearchParams<"u"?URLSearchParams:gg,q4=typeof FormData<"u"?FormData:null,W4=typeof Blob<"u"?Blob:null,K4={isBrowser:!0,classes:{URLSearchParams:H4,FormData:q4,Blob:W4},protocols:["http","https","file","blob","url","data"]},Ix=typeof window<"u"&&typeof document<"u",G4=(t=>Ix&&["ReactNative","NativeScript","NS"].indexOf(t)<0)(typeof navigator<"u"&&navigator.product),Q4=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),J4=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Ix,hasStandardBrowserEnv:G4,hasStandardBrowserWebWorkerEnv:Q4},Symbol.toStringTag,{value:"Module"})),bn={...J4,...K4};function X4(t,e){return Yc(t,new bn.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,s){return bn.isNode&&C.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function Y4(t){return C.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Z4(t){const e={},n=Object.keys(t);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],e[s]=t[s];return e}function Sx(t){function e(n,r,i,s){let o=n[s++];const a=Number.isFinite(+o),l=s>=n.length;return o=!o&&C.isArray(i)?i.length:o,l?(C.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!a):((!i[o]||!C.isObject(i[o]))&&(i[o]=[]),e(n,r,i[o],s)&&C.isArray(i[o])&&(i[o]=Z4(i[o])),!a)}if(C.isFormData(t)&&C.isFunction(t.entries)){const n={};return C.forEachEntry(t,(r,i)=>{e(Y4(r),i,n,0)}),n}return null}function eL(t,e,n){if(C.isString(t))try{return(e||JSON.parse)(t),C.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const yg={transitional:xx,adapter:["xhr","http"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,s=C.isObject(e);if(s&&C.isHTMLForm(e)&&(e=new FormData(e)),C.isFormData(e))return i&&i?JSON.stringify(Sx(e)):e;if(C.isArrayBuffer(e)||C.isBuffer(e)||C.isStream(e)||C.isFile(e)||C.isBlob(e))return e;if(C.isArrayBufferView(e))return e.buffer;if(C.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return X4(e,this.formSerializer).toString();if((a=C.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Yc(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||i?(n.setContentType("application/json",!1),eL(e)):e}],transformResponse:[function(e){const n=this.transitional||yg.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(e&&C.isString(e)&&(r&&!this.responseType||i)){const o=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?ae.from(a,ae.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:bn.classes.FormData,Blob:bn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};C.forEach(["delete","get","head","post","put","patch"],t=>{yg.headers[t]={}});const vg=yg,tL=C.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),nL=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(o){i=o.indexOf(":"),n=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!n||e[n]&&tL[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},W_=Symbol("internals");function _o(t){return t&&String(t).trim().toLowerCase()}function du(t){return t===!1||t==null?t:C.isArray(t)?t.map(du):String(t)}function rL(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const iL=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Nh(t,e,n,r,i){if(C.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!C.isString(e)){if(C.isString(r))return e.indexOf(r)!==-1;if(C.isRegExp(r))return r.test(e)}}function sL(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function oL(t,e){const n=C.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,s,o){return this[r].call(this,e,i,s,o)},configurable:!0})})}class Zc{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function s(a,l,u){const c=_o(l);if(!c)throw new Error("header name must be a non-empty string");const d=C.findKey(i,c);(!d||i[d]===void 0||u===!0||u===void 0&&i[d]!==!1)&&(i[d||l]=du(a))}const o=(a,l)=>C.forEach(a,(u,c)=>s(u,c,l));return C.isPlainObject(e)||e instanceof this.constructor?o(e,n):C.isString(e)&&(e=e.trim())&&!iL(e)?o(nL(e),n):e!=null&&s(n,e,r),this}get(e,n){if(e=_o(e),e){const r=C.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return rL(i);if(C.isFunction(n))return n.call(this,i,r);if(C.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=_o(e),e){const r=C.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||Nh(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function s(o){if(o=_o(o),o){const a=C.findKey(r,o);a&&(!n||Nh(r,r[a],a,n))&&(delete r[a],i=!0)}}return C.isArray(e)?e.forEach(s):s(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const s=n[r];(!e||Nh(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const n=this,r={};return C.forEach(this,(i,s)=>{const o=C.findKey(r,s);if(o){n[o]=du(i),delete n[s];return}const a=e?sL(s):String(s).trim();a!==s&&delete n[s],n[a]=du(i),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return C.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&C.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[W_]=this[W_]={accessors:{}}).accessors,i=this.prototype;function s(o){const a=_o(o);r[a]||(oL(i,o),r[a]=!0)}return C.isArray(e)?e.forEach(s):s(e),this}}Zc.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);C.reduceDescriptors(Zc.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});C.freezeMethods(Zc);const sr=Zc;function bh(t,e){const n=this||vg,r=e||n,i=sr.from(r.headers);let s=r.data;return C.forEach(t,function(a){s=a.call(n,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function Ax(t){return!!(t&&t.__CANCEL__)}function el(t,e,n){ae.call(this,t??"canceled",ae.ERR_CANCELED,e,n),this.name="CanceledError"}C.inherits(el,ae,{__CANCEL__:!0});function aL(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new ae("Request failed with status code "+n.status,[ae.ERR_BAD_REQUEST,ae.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const lL=bn.hasStandardBrowserEnv?{write(t,e,n,r,i,s){const o=[t+"="+encodeURIComponent(e)];C.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),C.isString(r)&&o.push("path="+r),C.isString(i)&&o.push("domain="+i),s===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function uL(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function cL(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}function Cx(t,e){return t&&!uL(e)?cL(t,e):e}const dL=bn.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let r;function i(s){let o=s;return e&&(n.setAttribute("href",o),o=n.href),n.setAttribute("href",o),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=i(window.location.href),function(o){const a=C.isString(o)?i(o):o;return a.protocol===r.protocol&&a.host===r.host}}():function(){return function(){return!0}}();function hL(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function fL(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,s=0,o;return e=e!==void 0?e:1e3,function(l){const u=Date.now(),c=r[s];o||(o=u),n[i]=l,r[i]=u;let d=s,f=0;for(;d!==i;)f+=n[d++],d=d%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),u-o<e)return;const y=c&&u-c;return y?Math.round(f*1e3/y):void 0}}function K_(t,e){let n=0;const r=fL(50,250);return i=>{const s=i.loaded,o=i.lengthComputable?i.total:void 0,a=s-n,l=r(a),u=s<=o;n=s;const c={loaded:s,total:o,progress:o?s/o:void 0,bytes:a,rate:l||void 0,estimated:l&&o&&u?(o-s)/l:void 0,event:i};c[e?"download":"upload"]=!0,t(c)}}const pL=typeof XMLHttpRequest<"u",mL=pL&&function(t){return new Promise(function(n,r){let i=t.data;const s=sr.from(t.headers).normalize();let{responseType:o,withXSRFToken:a}=t,l;function u(){t.cancelToken&&t.cancelToken.unsubscribe(l),t.signal&&t.signal.removeEventListener("abort",l)}let c;if(C.isFormData(i)){if(bn.hasStandardBrowserEnv||bn.hasStandardBrowserWebWorkerEnv)s.setContentType(!1);else if((c=s.getContentType())!==!1){const[v,...w]=c?c.split(";").map(m=>m.trim()).filter(Boolean):[];s.setContentType([v||"multipart/form-data",...w].join("; "))}}let d=new XMLHttpRequest;if(t.auth){const v=t.auth.username||"",w=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";s.set("Authorization","Basic "+btoa(v+":"+w))}const f=Cx(t.baseURL,t.url);d.open(t.method.toUpperCase(),Tx(f,t.params,t.paramsSerializer),!0),d.timeout=t.timeout;function y(){if(!d)return;const v=sr.from("getAllResponseHeaders"in d&&d.getAllResponseHeaders()),m={data:!o||o==="text"||o==="json"?d.responseText:d.response,status:d.status,statusText:d.statusText,headers:v,config:t,request:d};aL(function(_){n(_),u()},function(_){r(_),u()},m),d=null}if("onloadend"in d?d.onloadend=y:d.onreadystatechange=function(){!d||d.readyState!==4||d.status===0&&!(d.responseURL&&d.responseURL.indexOf("file:")===0)||setTimeout(y)},d.onabort=function(){d&&(r(new ae("Request aborted",ae.ECONNABORTED,t,d)),d=null)},d.onerror=function(){r(new ae("Network Error",ae.ERR_NETWORK,t,d)),d=null},d.ontimeout=function(){let w=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const m=t.transitional||xx;t.timeoutErrorMessage&&(w=t.timeoutErrorMessage),r(new ae(w,m.clarifyTimeoutError?ae.ETIMEDOUT:ae.ECONNABORTED,t,d)),d=null},bn.hasStandardBrowserEnv&&(a&&C.isFunction(a)&&(a=a(t)),a||a!==!1&&dL(f))){const v=t.xsrfHeaderName&&t.xsrfCookieName&&lL.read(t.xsrfCookieName);v&&s.set(t.xsrfHeaderName,v)}i===void 0&&s.setContentType(null),"setRequestHeader"in d&&C.forEach(s.toJSON(),function(w,m){d.setRequestHeader(m,w)}),C.isUndefined(t.withCredentials)||(d.withCredentials=!!t.withCredentials),o&&o!=="json"&&(d.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&d.addEventListener("progress",K_(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&d.upload&&d.upload.addEventListener("progress",K_(t.onUploadProgress)),(t.cancelToken||t.signal)&&(l=v=>{d&&(r(!v||v.type?new el(null,t,d):v),d.abort(),d=null)},t.cancelToken&&t.cancelToken.subscribe(l),t.signal&&(t.signal.aborted?l():t.signal.addEventListener("abort",l)));const g=hL(f);if(g&&bn.protocols.indexOf(g)===-1){r(new ae("Unsupported protocol "+g+":",ae.ERR_BAD_REQUEST,t));return}d.send(i||null)})},pp={http:F4,xhr:mL};C.forEach(pp,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const G_=t=>`- ${t}`,gL=t=>C.isFunction(t)||t===null||t===!1,Rx={getAdapter:t=>{t=C.isArray(t)?t:[t];const{length:e}=t;let n,r;const i={};for(let s=0;s<e;s++){n=t[s];let o;if(r=n,!gL(n)&&(r=pp[(o=String(n)).toLowerCase()],r===void 0))throw new ae(`Unknown adapter '${o}'`);if(r)break;i[o||"#"+s]=r}if(!r){const s=Object.entries(i).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=e?s.length>1?`since :
`+s.map(G_).join(`
`):" "+G_(s[0]):"as no adapter specified";throw new ae("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:pp};function Dh(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new el(null,t)}function Q_(t){return Dh(t),t.headers=sr.from(t.headers),t.data=bh.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Rx.getAdapter(t.adapter||vg.adapter)(t).then(function(r){return Dh(t),r.data=bh.call(t,t.transformResponse,r),r.headers=sr.from(r.headers),r},function(r){return Ax(r)||(Dh(t),r&&r.response&&(r.response.data=bh.call(t,t.transformResponse,r.response),r.response.headers=sr.from(r.response.headers))),Promise.reject(r)})}const J_=t=>t instanceof sr?t.toJSON():t;function $s(t,e){e=e||{};const n={};function r(u,c,d){return C.isPlainObject(u)&&C.isPlainObject(c)?C.merge.call({caseless:d},u,c):C.isPlainObject(c)?C.merge({},c):C.isArray(c)?c.slice():c}function i(u,c,d){if(C.isUndefined(c)){if(!C.isUndefined(u))return r(void 0,u,d)}else return r(u,c,d)}function s(u,c){if(!C.isUndefined(c))return r(void 0,c)}function o(u,c){if(C.isUndefined(c)){if(!C.isUndefined(u))return r(void 0,u)}else return r(void 0,c)}function a(u,c,d){if(d in e)return r(u,c);if(d in t)return r(void 0,u)}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(u,c)=>i(J_(u),J_(c),!0)};return C.forEach(Object.keys(Object.assign({},t,e)),function(c){const d=l[c]||i,f=d(t[c],e[c],c);C.isUndefined(f)&&d!==a||(n[c]=f)}),n}const Px="1.6.2",_g={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{_g[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const X_={};_g.transitional=function(e,n,r){function i(s,o){return"[Axios v"+Px+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return(s,o,a)=>{if(e===!1)throw new ae(i(o," has been removed"+(n?" in "+n:"")),ae.ERR_DEPRECATED);return n&&!X_[o]&&(X_[o]=!0,console.warn(i(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,o,a):!0}};function yL(t,e,n){if(typeof t!="object")throw new ae("options must be an object",ae.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const s=r[i],o=e[s];if(o){const a=t[s],l=a===void 0||o(a,s,t);if(l!==!0)throw new ae("option "+s+" must be "+l,ae.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new ae("Unknown option "+s,ae.ERR_BAD_OPTION)}}const mp={assertOptions:yL,validators:_g},Ir=mp.validators;class tc{constructor(e){this.defaults=e,this.interceptors={request:new q_,response:new q_}}request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=$s(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:s}=n;r!==void 0&&mp.assertOptions(r,{silentJSONParsing:Ir.transitional(Ir.boolean),forcedJSONParsing:Ir.transitional(Ir.boolean),clarifyTimeoutError:Ir.transitional(Ir.boolean)},!1),i!=null&&(C.isFunction(i)?n.paramsSerializer={serialize:i}:mp.assertOptions(i,{encode:Ir.function,serialize:Ir.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=s&&C.merge(s.common,s[n.method]);s&&C.forEach(["delete","get","head","post","put","patch","common"],g=>{delete s[g]}),n.headers=sr.concat(o,s);const a=[];let l=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(n)===!1||(l=l&&v.synchronous,a.unshift(v.fulfilled,v.rejected))});const u=[];this.interceptors.response.forEach(function(v){u.push(v.fulfilled,v.rejected)});let c,d=0,f;if(!l){const g=[Q_.bind(this),void 0];for(g.unshift.apply(g,a),g.push.apply(g,u),f=g.length,c=Promise.resolve(n);d<f;)c=c.then(g[d++],g[d++]);return c}f=a.length;let y=n;for(d=0;d<f;){const g=a[d++],v=a[d++];try{y=g(y)}catch(w){v.call(this,w);break}}try{c=Q_.call(this,y)}catch(g){return Promise.reject(g)}for(d=0,f=u.length;d<f;)c=c.then(u[d++],u[d++]);return c}getUri(e){e=$s(this.defaults,e);const n=Cx(e.baseURL,e.url);return Tx(n,e.params,e.paramsSerializer)}}C.forEach(["delete","get","head","options"],function(e){tc.prototype[e]=function(n,r){return this.request($s(r||{},{method:e,url:n,data:(r||{}).data}))}});C.forEach(["post","put","patch"],function(e){function n(r){return function(s,o,a){return this.request($s(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}tc.prototype[e]=n(),tc.prototype[e+"Form"]=n(!0)});const hu=tc;class wg{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(a=>{r.subscribe(a),s=a}).then(i);return o.cancel=function(){r.unsubscribe(s)},o},e(function(s,o,a){r.reason||(r.reason=new el(s,o,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}static source(){let e;return{token:new wg(function(i){e=i}),cancel:e}}}const vL=wg;function _L(t){return function(n){return t.apply(null,n)}}function wL(t){return C.isObject(t)&&t.isAxiosError===!0}const gp={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(gp).forEach(([t,e])=>{gp[e]=t});const EL=gp;function kx(t){const e=new hu(t),n=cx(hu.prototype.request,e);return C.extend(n,hu.prototype,e,{allOwnKeys:!0}),C.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return kx($s(t,i))},n}const je=kx(vg);je.Axios=hu;je.CanceledError=el;je.CancelToken=vL;je.isCancel=Ax;je.VERSION=Px;je.toFormData=Yc;je.AxiosError=ae;je.Cancel=je.CanceledError;je.all=function(e){return Promise.all(e)};je.spread=_L;je.isAxiosError=wL;je.mergeConfig=$s;je.AxiosHeaders=sr;je.formToJSON=t=>Sx(C.isHTMLForm(t)?new FormData(t):t);je.getAdapter=Rx.getAdapter;je.HttpStatusCode=EL;je.default=je;const Ia=je,ed=Ia.create({baseURL:"https://vitalfitapi.onrender.com"}),Nx=(t=1)=>async(e,n)=>{const{filters:r,search:i,sorts:s}=n().product,{category:o,minPrice:a,maxPrice:l}=r,{sortByName:u,sortByPrice:c}=s,{data:d}=await ed.get("/",{params:{search:i,category:o,minPrice:a,maxPrice:l,sortByName:u,sortByPrice:c}});e(KO(d)),e(ux(t))},yp=t=>async e=>{const{data:n}=await ed.get(`/product/${t}`);e(QO(n))},TL=()=>async t=>{const{data:e}=await ed.get("/category");t(GO(e))},xL=t=>async e=>{const{data:n}=await ed.get(`/product/${t}`);e(JO(n))},Y_=(t=1)=>async e=>{e(ux(t))},vp=t=>async e=>{e(ZO(t))},IL=t=>async e=>{e(XO(t))},SL=()=>async t=>{t(YO())},Oh=()=>async t=>{t(e4())},AL=()=>async t=>{t(i4())},Lh=()=>async t=>{t(r4())},CL=t=>async e=>{e(t4(t))},RL=t=>async e=>{e(n4(t))},PL=e2({reducer:{product:ax.reducer,orders:ox.reducer}});/**
 * @remix-run/router v1.13.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Sa(){return Sa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sa.apply(this,arguments)}var Or;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Or||(Or={}));const Z_="popstate";function kL(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return _p("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:nc(i)}return bL(e,n,null,t)}function Se(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Eg(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function NL(){return Math.random().toString(36).substr(2,8)}function e0(t,e){return{usr:t.state,key:t.key,idx:e}}function _p(t,e,n,r){return n===void 0&&(n=null),Sa({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?no(e):e,{state:n,key:e&&e.key||r||NL()})}function nc(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function no(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function bL(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Or.Pop,l=null,u=c();u==null&&(u=0,o.replaceState(Sa({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function d(){a=Or.Pop;let w=c(),m=w==null?null:w-u;u=w,l&&l({action:a,location:v.location,delta:m})}function f(w,m){a=Or.Push;let p=_p(v.location,w,m);n&&n(p,w),u=c()+1;let _=e0(p,u),T=v.createHref(p);try{o.pushState(_,"",T)}catch(I){if(I instanceof DOMException&&I.name==="DataCloneError")throw I;i.location.assign(T)}s&&l&&l({action:a,location:v.location,delta:1})}function y(w,m){a=Or.Replace;let p=_p(v.location,w,m);n&&n(p,w),u=c();let _=e0(p,u),T=v.createHref(p);o.replaceState(_,"",T),s&&l&&l({action:a,location:v.location,delta:0})}function g(w){let m=i.location.origin!=="null"?i.location.origin:i.location.href,p=typeof w=="string"?w:nc(w);return Se(m,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,m)}let v={get action(){return a},get location(){return t(i,o)},listen(w){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Z_,d),l=w,()=>{i.removeEventListener(Z_,d),l=null}},createHref(w){return e(i,w)},createURL:g,encodeLocation(w){let m=g(w);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:f,replace:y,go(w){return o.go(w)}};return v}var t0;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(t0||(t0={}));function DL(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?no(e):e,i=Aa(r.pathname||"/",n);if(i==null)return null;let s=bx(t);OL(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=zL(s[a],qL(i));return o}function bx(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Se(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Gr([r,l.relativePath]),c=n.concat(l);s.children&&s.children.length>0&&(Se(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),bx(s.children,e,c,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:$L(u,s.index),routesMeta:c})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of Dx(s.path))i(s,o,l)}),e}function Dx(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=Dx(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function OL(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:BL(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const LL=/^:\w+$/,jL=3,VL=2,ML=1,FL=10,UL=-2,n0=t=>t==="*";function $L(t,e){let n=t.split("/"),r=n.length;return n.some(n0)&&(r+=UL),e&&(r+=VL),n.filter(i=>!n0(i)).reduce((i,s)=>i+(LL.test(s)?jL:s===""?ML:FL),r)}function BL(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function zL(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,u=i==="/"?e:e.slice(i.length)||"/",c=wp({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);let d=a.route;s.push({params:r,pathname:Gr([i,c.pathname]),pathnameBase:QL(Gr([i,c.pathnameBase])),route:d}),c.pathnameBase!=="/"&&(i=Gr([i,c.pathnameBase]))}return s}function wp(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=HL(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,d)=>{let{paramName:f,isOptional:y}=c;if(f==="*"){let v=a[d]||"";o=s.slice(0,s.length-v.length).replace(/(.)\/+$/,"$1")}const g=a[d];return y&&!g?u[f]=void 0:u[f]=WL(g||"",f),u},{}),pathname:s,pathnameBase:o,pattern:t}}function HL(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Eg(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function qL(t){try{return decodeURI(t)}catch(e){return Eg(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function WL(t,e){try{return decodeURIComponent(t)}catch(n){return Eg(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function Aa(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function KL(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?no(t):t;return{pathname:n?n.startsWith("/")?n:GL(n,e):e,search:JL(r),hash:XL(i)}}function GL(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function jh(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Tg(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function xg(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=no(t):(i=Sa({},t),Se(!i.pathname||!i.pathname.includes("?"),jh("?","pathname","search",i)),Se(!i.pathname||!i.pathname.includes("#"),jh("#","pathname","hash",i)),Se(!i.search||!i.search.includes("#"),jh("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else if(r){let d=e[e.length-1].replace(/^\//,"").split("/");if(o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),d.pop();i.pathname=f.join("/")}a="/"+d.join("/")}else{let d=e.length-1;if(o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),d-=1;i.pathname=f.join("/")}a=d>=0?e[d]:"/"}let l=KL(i,a),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const Gr=t=>t.join("/").replace(/\/\/+/g,"/"),QL=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),JL=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,XL=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function YL(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Ox=["post","put","patch","delete"];new Set(Ox);const ZL=["get",...Ox];new Set(ZL);/**
 * React Router v6.20.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function rc(){return rc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rc.apply(this,arguments)}const td=S.createContext(null),Lx=S.createContext(null),Wi=S.createContext(null),nd=S.createContext(null),wr=S.createContext({outlet:null,matches:[],isDataRoute:!1}),jx=S.createContext(null);function ej(t,e){let{relative:n}=e===void 0?{}:e;ro()||Se(!1);let{basename:r,navigator:i}=S.useContext(Wi),{hash:s,pathname:o,search:a}=id(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Gr([r,o])),i.createHref({pathname:l,search:a,hash:s})}function ro(){return S.useContext(nd)!=null}function Ki(){return ro()||Se(!1),S.useContext(nd).location}function Vx(t){S.useContext(Wi).static||S.useLayoutEffect(t)}function rd(){let{isDataRoute:t}=S.useContext(wr);return t?pj():tj()}function tj(){ro()||Se(!1);let t=S.useContext(td),{basename:e,navigator:n}=S.useContext(Wi),{matches:r}=S.useContext(wr),{pathname:i}=Ki(),s=JSON.stringify(Tg(r).map(l=>l.pathnameBase)),o=S.useRef(!1);return Vx(()=>{o.current=!0}),S.useCallback(function(l,u){if(u===void 0&&(u={}),!o.current)return;if(typeof l=="number"){n.go(l);return}let c=xg(l,JSON.parse(s),i,u.relative==="path");t==null&&e!=="/"&&(c.pathname=c.pathname==="/"?e:Gr([e,c.pathname])),(u.replace?n.replace:n.push)(c,u.state,u)},[e,n,s,i,t])}function nj(){let{matches:t}=S.useContext(wr),e=t[t.length-1];return e?e.params:{}}function id(t,e){let{relative:n}=e===void 0?{}:e,{matches:r}=S.useContext(wr),{pathname:i}=Ki(),s=JSON.stringify(Tg(r).map(o=>o.pathnameBase));return S.useMemo(()=>xg(t,JSON.parse(s),i,n==="path"),[t,s,i,n])}function rj(t,e){return ij(t,e)}function ij(t,e,n){ro()||Se(!1);let{navigator:r}=S.useContext(Wi),{matches:i}=S.useContext(wr),s=i[i.length-1],o=s?s.params:{};s&&s.pathname;let a=s?s.pathnameBase:"/";s&&s.route;let l=Ki(),u;if(e){var c;let v=typeof e=="string"?no(e):e;a==="/"||(c=v.pathname)!=null&&c.startsWith(a)||Se(!1),u=v}else u=l;let d=u.pathname||"/",f=a==="/"?d:d.slice(a.length)||"/",y=DL(t,{pathname:f}),g=uj(y&&y.map(v=>Object.assign({},v,{params:Object.assign({},o,v.params),pathname:Gr([a,r.encodeLocation?r.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?a:Gr([a,r.encodeLocation?r.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),i,n);return e&&g?S.createElement(nd.Provider,{value:{location:rc({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Or.Pop}},g):g}function sj(){let t=fj(),e=YL(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},e),n?S.createElement("pre",{style:i},n):null,s)}const oj=S.createElement(sj,null);class aj extends S.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?S.createElement(wr.Provider,{value:this.props.routeContext},S.createElement(jx.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function lj(t){let{routeContext:e,match:n,children:r}=t,i=S.useContext(td);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),S.createElement(wr.Provider,{value:e},r)}function uj(t,e,n){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),t==null){var i;if((i=n)!=null&&i.errors)t=n.matches;else return null}let s=t,o=(r=n)==null?void 0:r.errors;if(o!=null){let a=s.findIndex(l=>l.route.id&&(o==null?void 0:o[l.route.id]));a>=0||Se(!1),s=s.slice(0,Math.min(s.length,a+1))}return s.reduceRight((a,l,u)=>{let c=l.route.id?o==null?void 0:o[l.route.id]:null,d=null;n&&(d=l.route.errorElement||oj);let f=e.concat(s.slice(0,u+1)),y=()=>{let g;return c?g=d:l.route.Component?g=S.createElement(l.route.Component,null):l.route.element?g=l.route.element:g=a,S.createElement(lj,{match:l,routeContext:{outlet:a,matches:f,isDataRoute:n!=null},children:g})};return n&&(l.route.ErrorBoundary||l.route.errorElement||u===0)?S.createElement(aj,{location:n.location,revalidation:n.revalidation,component:d,error:c,children:y(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):y()},null)}var Mx=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Mx||{}),ic=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(ic||{});function cj(t){let e=S.useContext(td);return e||Se(!1),e}function dj(t){let e=S.useContext(Lx);return e||Se(!1),e}function hj(t){let e=S.useContext(wr);return e||Se(!1),e}function Fx(t){let e=hj(),n=e.matches[e.matches.length-1];return n.route.id||Se(!1),n.route.id}function fj(){var t;let e=S.useContext(jx),n=dj(ic.UseRouteError),r=Fx(ic.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function pj(){let{router:t}=cj(Mx.UseNavigateStable),e=Fx(ic.UseNavigateStable),n=S.useRef(!1);return Vx(()=>{n.current=!0}),S.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,rc({fromRouteId:e},s)))},[t,e])}function mj(t){let{to:e,replace:n,state:r,relative:i}=t;ro()||Se(!1);let{matches:s}=S.useContext(wr),{pathname:o}=Ki(),a=rd(),l=xg(e,Tg(s).map(c=>c.pathnameBase),o,i==="path"),u=JSON.stringify(l);return S.useEffect(()=>a(JSON.parse(u),{replace:n,state:r,relative:i}),[a,u,i,n,r]),null}function Xt(t){Se(!1)}function gj(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Or.Pop,navigator:s,static:o=!1}=t;ro()&&Se(!1);let a=e.replace(/^\/*/,"/"),l=S.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof r=="string"&&(r=no(r));let{pathname:u="/",search:c="",hash:d="",state:f=null,key:y="default"}=r,g=S.useMemo(()=>{let v=Aa(u,a);return v==null?null:{location:{pathname:v,search:c,hash:d,state:f,key:y},navigationType:i}},[a,u,c,d,f,y,i]);return g==null?null:S.createElement(Wi.Provider,{value:l},S.createElement(nd.Provider,{children:n,value:g}))}function Ux(t){let{children:e,location:n}=t;return rj(Ep(e),n)}new Promise(()=>{});function Ep(t,e){e===void 0&&(e=[]);let n=[];return S.Children.forEach(t,(r,i)=>{if(!S.isValidElement(r))return;let s=[...e,i];if(r.type===S.Fragment){n.push.apply(n,Ep(r.props.children,s));return}r.type!==Xt&&Se(!1),!r.props.index||!r.props.children||Se(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Ep(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.20.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function sc(){return sc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sc.apply(this,arguments)}function $x(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function yj(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function vj(t,e){return t.button===0&&(!e||e==="_self")&&!yj(t)}const _j=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],wj=["aria-current","caseSensitive","className","end","style","to","unstable_viewTransition","children"],Ej=S.createContext({isTransitioning:!1}),Tj="startTransition",r0=ef[Tj];function xj(t){let{basename:e,children:n,future:r,window:i}=t,s=S.useRef();s.current==null&&(s.current=kL({window:i,v5Compat:!0}));let o=s.current,[a,l]=S.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},c=S.useCallback(d=>{u&&r0?r0(()=>l(d)):l(d)},[l,u]);return S.useLayoutEffect(()=>o.listen(c),[o,c]),S.createElement(gj,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o})}const Ij=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Sj=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Rn=S.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:c,unstable_viewTransition:d}=e,f=$x(e,_j),{basename:y}=S.useContext(Wi),g,v=!1;if(typeof u=="string"&&Sj.test(u)&&(g=u,Ij))try{let _=new URL(window.location.href),T=u.startsWith("//")?new URL(_.protocol+u):new URL(u),I=Aa(T.pathname,y);T.origin===_.origin&&I!=null?u=I+T.search+T.hash:v=!0}catch{}let w=ej(u,{relative:i}),m=Cj(u,{replace:o,state:a,target:l,preventScrollReset:c,relative:i,unstable_viewTransition:d});function p(_){r&&r(_),_.defaultPrevented||m(_)}return S.createElement("a",sc({},f,{href:g||w,onClick:v||s?r:p,ref:n,target:l}))}),Jn=S.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:o=!1,style:a,to:l,unstable_viewTransition:u,children:c}=e,d=$x(e,wj),f=id(l,{relative:d.relative}),y=Ki(),g=S.useContext(Lx),{navigator:v}=S.useContext(Wi),w=g!=null&&Rj(f)&&u===!0,m=v.encodeLocation?v.encodeLocation(f).pathname:f.pathname,p=y.pathname,_=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;i||(p=p.toLowerCase(),_=_?_.toLowerCase():null,m=m.toLowerCase());const T=m!=="/"&&m.endsWith("/")?m.length-1:m.length;let I=p===m||!o&&p.startsWith(m)&&p.charAt(T)==="/",N=_!=null&&(_===m||!o&&_.startsWith(m)&&_.charAt(m.length)==="/"),O={isActive:I,isPending:N,isTransitioning:w},M=I?r:void 0,ee;typeof s=="function"?ee=s(O):ee=[s,I?"active":null,N?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let B=typeof a=="function"?a(O):a;return S.createElement(Rn,sc({},d,{"aria-current":M,className:ee,ref:n,style:B,to:l,unstable_viewTransition:u}),typeof c=="function"?c(O):c)});var Tp;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Tp||(Tp={}));var i0;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(i0||(i0={}));function Aj(t){let e=S.useContext(td);return e||Se(!1),e}function Cj(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a}=e===void 0?{}:e,l=rd(),u=Ki(),c=id(t,{relative:o});return S.useCallback(d=>{if(vj(d,n)){d.preventDefault();let f=r!==void 0?r:nc(u)===nc(c);l(t,{replace:f,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a})}},[u,l,c,r,i,n,t,s,o,a])}function Rj(t,e){e===void 0&&(e={});let n=S.useContext(Ej);n==null&&Se(!1);let{basename:r}=Aj(Tp.useViewTransitionState),i=id(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=Aa(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=Aa(n.nextLocation.pathname,r)||n.nextLocation.pathname;return wp(i.pathname,o)!=null||wp(i.pathname,s)!=null}var Pj=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},L,Ig=Ig||{},G=Pj||self;function sd(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function tl(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function kj(t){return Object.prototype.hasOwnProperty.call(t,Vh)&&t[Vh]||(t[Vh]=++Nj)}var Vh="closure_uid_"+(1e9*Math.random()>>>0),Nj=0;function bj(t,e,n){return t.call.apply(t.bind,arguments)}function Dj(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function ht(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?ht=bj:ht=Dj,ht.apply(null,arguments)}function Fl(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Qe(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function ai(){this.s=this.s,this.o=this.o}var Oj=0;ai.prototype.s=!1;ai.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),Oj!=0)&&kj(this)};ai.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Bx=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Sg(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function s0(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(sd(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function ft(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}ft.prototype.h=function(){this.defaultPrevented=!0};var Lj=function(){if(!G.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const n=()=>{};G.addEventListener("test",n,e),G.removeEventListener("test",n,e)}catch{}return t}();function Ca(t){return/^[\s\xa0]*$/.test(t)}function od(){var t=G.navigator;return t&&(t=t.userAgent)?t:""}function kn(t){return od().indexOf(t)!=-1}function Ag(t){return Ag[" "](t),t}Ag[" "]=function(){};function jj(t,e){var n=RV;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var Vj=kn("Opera"),Bs=kn("Trident")||kn("MSIE"),zx=kn("Edge"),xp=zx||Bs,Hx=kn("Gecko")&&!(od().toLowerCase().indexOf("webkit")!=-1&&!kn("Edge"))&&!(kn("Trident")||kn("MSIE"))&&!kn("Edge"),Mj=od().toLowerCase().indexOf("webkit")!=-1&&!kn("Edge");function qx(){var t=G.document;return t?t.documentMode:void 0}var Ip;e:{var Mh="",Fh=function(){var t=od();if(Hx)return/rv:([^\);]+)(\)|;)/.exec(t);if(zx)return/Edge\/([\d\.]+)/.exec(t);if(Bs)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(Mj)return/WebKit\/(\S+)/.exec(t);if(Vj)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Fh&&(Mh=Fh?Fh[1]:""),Bs){var Uh=qx();if(Uh!=null&&Uh>parseFloat(Mh)){Ip=String(Uh);break e}}Ip=Mh}var Sp;if(G.document&&Bs){var o0=qx();Sp=o0||parseInt(Ip,10)||void 0}else Sp=void 0;var Fj=Sp;function Ra(t,e){if(ft.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(Hx){e:{try{Ag(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:Uj[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Ra.$.h.call(this)}}Qe(Ra,ft);var Uj={2:"touch",3:"pen",4:"mouse"};Ra.prototype.h=function(){Ra.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var nl="closure_listenable_"+(1e6*Math.random()|0),$j=0;function Bj(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++$j,this.fa=this.ia=!1}function ad(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Cg(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function zj(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function Wx(t){const e={};for(const n in t)e[n]=t[n];return e}const a0="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Kx(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<a0.length;s++)n=a0[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function ld(t){this.src=t,this.g={},this.h=0}ld.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=Cp(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new Bj(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function Ap(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=Bx(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(ad(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Cp(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var Rg="closure_lm_"+(1e6*Math.random()|0),$h={};function Gx(t,e,n,r,i){if(r&&r.once)return Jx(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)Gx(t,e[s],n,r,i);return null}return n=Ng(n),t&&t[nl]?t.O(e,n,tl(r)?!!r.capture:!!r,i):Qx(t,e,n,!1,r,i)}function Qx(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=tl(i)?!!i.capture:!!i,a=kg(t);if(a||(t[Rg]=a=new ld(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=Hj(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Lj||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Yx(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function Hj(){function t(n){return e.call(t.src,t.listener,n)}const e=qj;return t}function Jx(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)Jx(t,e[s],n,r,i);return null}return n=Ng(n),t&&t[nl]?t.P(e,n,tl(r)?!!r.capture:!!r,i):Qx(t,e,n,!0,r,i)}function Xx(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)Xx(t,e[s],n,r,i);else r=tl(r)?!!r.capture:!!r,n=Ng(n),t&&t[nl]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=Cp(s,n,r,i),-1<n&&(ad(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=kg(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Cp(e,n,r,i)),(n=-1<t?e[t]:null)&&Pg(n))}function Pg(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[nl])Ap(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Yx(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=kg(e))?(Ap(n,t),n.h==0&&(n.src=null,e[Rg]=null)):ad(t)}}}function Yx(t){return t in $h?$h[t]:$h[t]="on"+t}function qj(t,e){if(t.fa)t=!0;else{e=new Ra(e,this);var n=t.listener,r=t.la||t.src;t.ia&&Pg(t),t=n.call(r,e)}return t}function kg(t){return t=t[Rg],t instanceof ld?t:null}var Bh="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ng(t){return typeof t=="function"?t:(t[Bh]||(t[Bh]=function(e){return t.handleEvent(e)}),t[Bh])}function Ge(){ai.call(this),this.i=new ld(this),this.S=this,this.J=null}Qe(Ge,ai);Ge.prototype[nl]=!0;Ge.prototype.removeEventListener=function(t,e,n,r){Xx(this,t,e,n,r)};function rt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new ft(e,t);else if(e instanceof ft)e.target=e.target||t;else{var i=e;e=new ft(r,t),Kx(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Ul(o,r,!0,e)&&i}if(o=e.g=t,i=Ul(o,r,!0,e)&&i,i=Ul(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=Ul(o,r,!1,e)&&i}Ge.prototype.N=function(){if(Ge.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)ad(n[r]);delete t.g[e],t.h--}}this.J=null};Ge.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};Ge.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Ul(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&Ap(t.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var bg=G.JSON.stringify;class Wj{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function Kj(){var t=Dg;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class Gj{constructor(){this.h=this.g=null}add(e,n){const r=Zx.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var Zx=new Wj(()=>new Qj,t=>t.reset());class Qj{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function Jj(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function Xj(t){G.setTimeout(()=>{throw t},0)}let Pa,ka=!1,Dg=new Gj,eI=()=>{const t=G.Promise.resolve(void 0);Pa=()=>{t.then(Yj)}};var Yj=()=>{for(var t;t=Kj();){try{t.h.call(t.g)}catch(n){Xj(n)}var e=Zx;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}ka=!1};function ud(t,e){Ge.call(this),this.h=t||1,this.g=e||G,this.j=ht(this.qb,this),this.l=Date.now()}Qe(ud,Ge);L=ud.prototype;L.ga=!1;L.T=null;L.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),rt(this,"tick"),this.ga&&(Og(this),this.start()))}};L.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Og(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}L.N=function(){ud.$.N.call(this),Og(this),delete this.g};function Lg(t,e,n){if(typeof t=="function")n&&(t=ht(t,n));else if(t&&typeof t.handleEvent=="function")t=ht(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:G.setTimeout(t,e||0)}function tI(t){t.g=Lg(()=>{t.g=null,t.i&&(t.i=!1,tI(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class Zj extends ai{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:tI(this)}N(){super.N(),this.g&&(G.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Na(t){ai.call(this),this.h=t,this.g={}}Qe(Na,ai);var l0=[];function nI(t,e,n,r){Array.isArray(n)||(n&&(l0[0]=n.toString()),n=l0);for(var i=0;i<n.length;i++){var s=Gx(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function rI(t){Cg(t.g,function(e,n){this.g.hasOwnProperty(n)&&Pg(e)},t),t.g={}}Na.prototype.N=function(){Na.$.N.call(this),rI(this)};Na.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function cd(){this.g=!0}cd.prototype.Ea=function(){this.g=!1};function eV(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var d=c.split("_");o=2<=d.length&&d[1]=="type"?o+(c+"="+u+"&"):o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function tV(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function vs(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+rV(t,n)+(r?" "+r:"")})}function nV(t,e){t.info(function(){return"TIMEOUT: "+e})}cd.prototype.info=function(){};function rV(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return bg(n)}catch{return e}}var Gi={},u0=null;function dd(){return u0=u0||new Ge}Gi.Ta="serverreachability";function iI(t){ft.call(this,Gi.Ta,t)}Qe(iI,ft);function ba(t){const e=dd();rt(e,new iI(e))}Gi.STAT_EVENT="statevent";function sI(t,e){ft.call(this,Gi.STAT_EVENT,t),this.stat=e}Qe(sI,ft);function Et(t){const e=dd();rt(e,new sI(e,t))}Gi.Ua="timingevent";function oI(t,e){ft.call(this,Gi.Ua,t),this.size=e}Qe(oI,ft);function rl(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return G.setTimeout(function(){t()},e)}var hd={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},aI={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function jg(){}jg.prototype.h=null;function c0(t){return t.h||(t.h=t.i())}function lI(){}var il={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Vg(){ft.call(this,"d")}Qe(Vg,ft);function Mg(){ft.call(this,"c")}Qe(Mg,ft);var Rp;function fd(){}Qe(fd,jg);fd.prototype.g=function(){return new XMLHttpRequest};fd.prototype.i=function(){return{}};Rp=new fd;function sl(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Na(this),this.P=iV,t=xp?125:void 0,this.V=new ud(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new uI}function uI(){this.i=null,this.g="",this.h=!1}var iV=45e3,cI={},Pp={};L=sl.prototype;L.setTimeout=function(t){this.P=t};function kp(t,e,n){t.L=1,t.A=md(mr(e)),t.u=n,t.S=!0,dI(t,null)}function dI(t,e){t.G=Date.now(),ol(t),t.B=mr(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),_I(n.i,"t",r),t.o=0,n=t.l.J,t.h=new uI,t.g=UI(t.l,n?e:null,!t.u),0<t.O&&(t.M=new Zj(ht(t.Pa,t,t.g),t.O)),nI(t.U,t.g,"readystatechange",t.nb),e=t.I?Wx(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),ba(),eV(t.j,t.v,t.B,t.m,t.W,t.u)}L.nb=function(t){t=t.target;const e=this.M;e&&Dn(t)==3?e.l():this.Pa(t)};L.Pa=function(t){try{if(t==this.g)e:{const c=Dn(this.g);var e=this.g.Ia();const d=this.g.da();if(!(3>c)&&(c!=3||xp||this.g&&(this.h.h||this.g.ja()||p0(this.g)))){this.J||c!=4||e==7||(e==8||0>=d?ba(3):ba(2)),pd(this);var n=this.g.da();this.ca=n;t:if(hI(this)){var r=p0(this.g);t="";var i=r.length,s=Dn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){wi(this),qo(this);var o="";break t}this.h.i=new G.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.length=0,this.h.g+=t,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,tV(this.j,this.v,this.B,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ca(a)){var u=a;break t}}u=null}if(n=u)vs(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Np(this,n);else{this.i=!1,this.s=3,Et(12),wi(this),qo(this);break e}}this.S?(fI(this,c,o),xp&&this.i&&c==3&&(nI(this.U,this.V,"tick",this.mb),this.V.start())):(vs(this.j,this.m,o,null),Np(this,o)),c==4&&wi(this),this.i&&!this.J&&(c==4?jI(this.l,this):(this.i=!1,ol(this)))}else SV(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.s=3,Et(12)):(this.s=0,Et(13)),wi(this),qo(this)}}}catch{}finally{}};function hI(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function fI(t,e,n){let r=!0,i;for(;!t.J&&t.o<n.length;)if(i=sV(t,n),i==Pp){e==4&&(t.s=4,Et(14),r=!1),vs(t.j,t.m,null,"[Incomplete Response]");break}else if(i==cI){t.s=4,Et(15),vs(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else vs(t.j,t.m,i,null),Np(t,i);hI(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,Et(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Hg(e),e.M=!0,Et(11))):(vs(t.j,t.m,n,"[Invalid Chunked Response]"),wi(t),qo(t))}L.mb=function(){if(this.g){var t=Dn(this.g),e=this.g.ja();this.o<e.length&&(pd(this),fI(this,t,e),this.i&&t!=4&&ol(this))}};function sV(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?Pp:(n=Number(e.substring(n,r)),isNaN(n)?cI:(r+=1,r+n>e.length?Pp:(e=e.slice(r,r+n),t.o=r+n,e)))}L.cancel=function(){this.J=!0,wi(this)};function ol(t){t.Y=Date.now()+t.P,pI(t,t.P)}function pI(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=rl(ht(t.lb,t),e)}function pd(t){t.C&&(G.clearTimeout(t.C),t.C=null)}L.lb=function(){this.C=null;const t=Date.now();0<=t-this.Y?(nV(this.j,this.B),this.L!=2&&(ba(),Et(17)),wi(this),this.s=2,qo(this)):pI(this,this.Y-t)};function qo(t){t.l.H==0||t.J||jI(t.l,t)}function wi(t){pd(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,Og(t.V),rI(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Np(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||bp(n.i,t))){if(!t.K&&bp(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)lc(n),_d(n);else break e;zg(n),Et(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=rl(ht(n.ib,n),6e3));if(1>=TI(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Ei(n,11)}else if((t.K||n.g==t)&&lc(n),!Ca(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];const c=u[3];c!=null&&(n.ra=c,n.l.info("VER="+n.ra));const d=u[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));const f=u[5];f!=null&&typeof f=="number"&&0<f&&(r=1.5*f,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const y=t.g;if(y){const g=y.g?y.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(g){var s=r.i;s.g||g.indexOf("spdy")==-1&&g.indexOf("quic")==-1&&g.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(Fg(s,s.h),s.h=null))}if(r.F){const v=y.g?y.g.getResponseHeader("X-HTTP-Session-Id"):null;v&&(r.Da=v,ye(r.I,r.F,v))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=FI(r,r.J?r.pa:null,r.Y),o.K){xI(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.C&&(pd(a),ol(a)),r.g=o}else OI(r);0<n.j.length&&wd(n)}else u[0]!="stop"&&u[0]!="close"||Ei(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?Ei(n,7):Bg(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}ba(4)}catch{}}function oV(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(sd(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function aV(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(sd(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function mI(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(sd(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=aV(t),r=oV(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var gI=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function lV(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Ci(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Ci){this.h=t.h,oc(this,t.j),this.s=t.s,this.g=t.g,ac(this,t.m),this.l=t.l;var e=t.i,n=new Da;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),d0(this,n),this.o=t.o}else t&&(e=String(t).match(gI))?(this.h=!1,oc(this,e[1]||"",!0),this.s=Po(e[2]||""),this.g=Po(e[3]||"",!0),ac(this,e[4]),this.l=Po(e[5]||"",!0),d0(this,e[6]||"",!0),this.o=Po(e[7]||"")):(this.h=!1,this.i=new Da(null,this.h))}Ci.prototype.toString=function(){var t=[],e=this.j;e&&t.push(ko(e,h0,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(ko(e,h0,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(ko(n,n.charAt(0)=="/"?dV:cV,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",ko(n,fV)),t.join("")};function mr(t){return new Ci(t)}function oc(t,e,n){t.j=n?Po(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function ac(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function d0(t,e,n){e instanceof Da?(t.i=e,pV(t.i,t.h)):(n||(e=ko(e,hV)),t.i=new Da(e,t.h))}function ye(t,e,n){t.i.set(e,n)}function md(t){return ye(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Po(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function ko(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,uV),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function uV(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var h0=/[#\/\?@]/g,cV=/[#\?:]/g,dV=/[#\?]/g,hV=/[#\?@]/g,fV=/#/g;function Da(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function li(t){t.g||(t.g=new Map,t.h=0,t.i&&lV(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}L=Da.prototype;L.add=function(t,e){li(this),this.i=null,t=io(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function yI(t,e){li(t),e=io(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function vI(t,e){return li(t),e=io(t,e),t.g.has(e)}L.forEach=function(t,e){li(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};L.ta=function(){li(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};L.Z=function(t){li(this);let e=[];if(typeof t=="string")vI(this,t)&&(e=e.concat(this.g.get(io(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};L.set=function(t,e){return li(this),this.i=null,t=io(this,t),vI(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};L.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function _I(t,e,n){yI(t,e),0<n.length&&(t.i=null,t.g.set(io(t,e),Sg(n)),t.h+=n.length)}L.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function io(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function pV(t,e){e&&!t.j&&(li(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(yI(this,r),_I(this,i,n))},t)),t.j=e}var mV=class{constructor(t,e){this.g=t,this.map=e}};function wI(t){this.l=t||gV,G.PerformanceNavigationTiming?(t=G.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(G.g&&G.g.Ka&&G.g.Ka()&&G.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var gV=10;function EI(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function TI(t){return t.h?1:t.g?t.g.size:0}function bp(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Fg(t,e){t.g?t.g.add(e):t.h=e}function xI(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}wI.prototype.cancel=function(){if(this.i=II(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function II(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return Sg(t.i)}var yV=class{stringify(t){return G.JSON.stringify(t,void 0)}parse(t){return G.JSON.parse(t,void 0)}};function vV(){this.g=new yV}function _V(t,e,n){const r=n||"";try{mI(t,function(i,s){let o=i;tl(i)&&(o=bg(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function wV(t,e){const n=new cd;if(G.Image){const r=new Image;r.onload=Fl($l,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Fl($l,n,r,"TestLoadImage: error",!1,e),r.onabort=Fl($l,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Fl($l,n,r,"TestLoadImage: timeout",!1,e),G.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function $l(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function gd(t){this.l=t.ec||null,this.j=t.ob||!1}Qe(gd,jg);gd.prototype.g=function(){return new yd(this.l,this.j)};gd.prototype.i=function(t){return function(){return t}}({});function yd(t,e){Ge.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Ug,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Qe(yd,Ge);var Ug=0;L=yd.prototype;L.open=function(t,e){if(this.readyState!=Ug)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Oa(this)};L.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||G).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};L.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,al(this)),this.readyState=Ug};L.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Oa(this)),this.g&&(this.readyState=3,Oa(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof G.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;SI(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function SI(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}L.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?al(this):Oa(this),this.readyState==3&&SI(this)}};L.Za=function(t){this.g&&(this.response=this.responseText=t,al(this))};L.Ya=function(t){this.g&&(this.response=t,al(this))};L.ka=function(){this.g&&al(this)};function al(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Oa(t)}L.setRequestHeader=function(t,e){this.v.append(t,e)};L.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};L.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Oa(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(yd.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var EV=G.JSON.parse;function ke(t){Ge.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=AI,this.L=this.M=!1}Qe(ke,Ge);var AI="",TV=/^https?$/i,xV=["POST","PUT"];L=ke.prototype;L.Oa=function(t){this.M=t};L.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Rp.g(),this.C=this.u?c0(this.u):c0(Rp),this.g.onreadystatechange=ht(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){f0(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=G.FormData&&t instanceof G.FormData,!(0<=Bx(xV,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{PI(this),0<this.B&&((this.L=IV(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ht(this.ua,this)):this.A=Lg(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){f0(this,s)}};function IV(t){return Bs&&typeof t.timeout=="number"&&t.ontimeout!==void 0}L.ua=function(){typeof Ig<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,rt(this,"timeout"),this.abort(8))};function f0(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,CI(t),vd(t)}function CI(t){t.F||(t.F=!0,rt(t,"complete"),rt(t,"error"))}L.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,rt(this,"complete"),rt(this,"abort"),vd(this))};L.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),vd(this,!0)),ke.$.N.call(this)};L.La=function(){this.s||(this.G||this.v||this.l?RI(this):this.kb())};L.kb=function(){RI(this)};function RI(t){if(t.h&&typeof Ig<"u"&&(!t.C[1]||Dn(t)!=4||t.da()!=2)){if(t.v&&Dn(t)==4)Lg(t.La,0,t);else if(rt(t,"readystatechange"),Dn(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(gI)[1]||null;!i&&G.self&&G.self.location&&(i=G.self.location.protocol.slice(0,-1)),r=!TV.test(i?i.toLowerCase():"")}n=r}if(n)rt(t,"complete"),rt(t,"success");else{t.m=6;try{var s=2<Dn(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",CI(t)}}finally{vd(t)}}}}function vd(t,e){if(t.g){PI(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||rt(t,"ready");try{n.onreadystatechange=r}catch{}}}function PI(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(G.clearTimeout(t.A),t.A=null)}L.isActive=function(){return!!this.g};function Dn(t){return t.g?t.g.readyState:0}L.da=function(){try{return 2<Dn(this)?this.g.status:-1}catch{return-1}};L.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};L.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),EV(e)}};function p0(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case AI:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function SV(t){const e={};t=(t.g&&2<=Dn(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(Ca(t[r]))continue;var n=Jj(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}zj(e,function(r){return r.join(", ")})}L.Ia=function(){return this.m};L.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function kI(t){let e="";return Cg(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function $g(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=kI(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):ye(t,e,n))}function wo(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function NI(t){this.Ga=0,this.j=[],this.l=new cd,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=wo("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=wo("baseRetryDelayMs",5e3,t),this.hb=wo("retryDelaySeedMs",1e4,t),this.eb=wo("forwardChannelMaxRetries",2,t),this.xa=wo("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new wI(t&&t.concurrentRequestLimit),this.Ja=new vV,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}L=NI.prototype;L.ra=8;L.H=1;function Bg(t){if(bI(t),t.H==3){var e=t.W++,n=mr(t.I);if(ye(n,"SID",t.K),ye(n,"RID",e),ye(n,"TYPE","terminate"),ll(t,n),e=new sl(t,t.l,e),e.L=2,e.A=md(mr(n)),n=!1,G.navigator&&G.navigator.sendBeacon)try{n=G.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&G.Image&&(new Image().src=e.A,n=!0),n||(e.g=UI(e.l,null),e.g.ha(e.A)),e.G=Date.now(),ol(e)}MI(t)}function _d(t){t.g&&(Hg(t),t.g.cancel(),t.g=null)}function bI(t){_d(t),t.u&&(G.clearTimeout(t.u),t.u=null),lc(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&G.clearTimeout(t.m),t.m=null)}function wd(t){if(!EI(t.i)&&!t.m){t.m=!0;var e=t.Na;Pa||eI(),ka||(Pa(),ka=!0),Dg.add(e,t),t.C=0}}function AV(t,e){return TI(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=rl(ht(t.Na,t,e),VI(t,t.C)),t.C++,!0)}L.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new sl(this,this.l,t);let s=this.s;if(this.U&&(s?(s=Wx(s),Kx(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=DI(this,i,e),n=mr(this.I),ye(n,"RID",t),ye(n,"CVER",22),this.F&&ye(n,"X-HTTP-Session-Id",this.F),ll(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(kI(s)))+"&"+e:this.o&&$g(n,this.o,s)),Fg(this.i,i),this.bb&&ye(n,"TYPE","init"),this.P?(ye(n,"$req",e),ye(n,"SID","null"),i.aa=!0,kp(i,n,null)):kp(i,n,e),this.H=2}}else this.H==3&&(t?m0(this,t):this.j.length==0||EI(this.i)||m0(this))};function m0(t,e){var n;e?n=e.m:n=t.W++;const r=mr(t.I);ye(r,"SID",t.K),ye(r,"RID",n),ye(r,"AID",t.V),ll(t,r),t.o&&t.s&&$g(r,t.o,t.s),n=new sl(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=DI(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Fg(t.i,n),kp(n,r,e)}function ll(t,e){t.na&&Cg(t.na,function(n,r){ye(e,r,n)}),t.h&&mI({},function(n,r){ye(e,r,n)})}function DI(t,e,n){n=Math.min(t.j.length,n);var r=t.h?ht(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let u=i[l].g;const c=i[l].map;if(u-=s,0>u)s=Math.max(0,i[l].g-100),a=!1;else try{_V(c,o,"req"+u+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function OI(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Pa||eI(),ka||(Pa(),ka=!0),Dg.add(e,t),t.A=0}}function zg(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=rl(ht(t.Ma,t),VI(t,t.A)),t.A++,!0)}L.Ma=function(){if(this.u=null,LI(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=rl(ht(this.jb,this),t)}};L.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Et(10),_d(this),LI(this))};function Hg(t){t.B!=null&&(G.clearTimeout(t.B),t.B=null)}function LI(t){t.g=new sl(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=mr(t.wa);ye(e,"RID","rpc"),ye(e,"SID",t.K),ye(e,"AID",t.V),ye(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&ye(e,"TO",t.qa),ye(e,"TYPE","xmlhttp"),ll(t,e),t.o&&t.s&&$g(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=md(mr(e)),n.u=null,n.S=!0,dI(n,t)}L.ib=function(){this.v!=null&&(this.v=null,_d(this),zg(this),Et(19))};function lc(t){t.v!=null&&(G.clearTimeout(t.v),t.v=null)}function jI(t,e){var n=null;if(t.g==e){lc(t),Hg(t),t.g=null;var r=2}else if(bp(t.i,e))n=e.F,xI(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;r=dd(),rt(r,new oI(r,n)),wd(t)}else OI(t);else if(i=e.s,i==3||i==0&&0<e.ca||!(r==1&&AV(t,e)||r==2&&zg(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Ei(t,5);break;case 4:Ei(t,10);break;case 3:Ei(t,6);break;default:Ei(t,2)}}}function VI(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Ei(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=ht(t.pb,t);n||(n=new Ci("//www.google.com/images/cleardot.gif"),G.location&&G.location.protocol=="http"||oc(n,"https"),md(n)),wV(n.toString(),r)}else Et(2);t.H=0,t.h&&t.h.za(e),MI(t),bI(t)}L.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Et(2)):(this.l.info("Failed to ping google.com"),Et(1))};function MI(t){if(t.H=0,t.ma=[],t.h){const e=II(t.i);(e.length!=0||t.j.length!=0)&&(s0(t.ma,e),s0(t.ma,t.j),t.i.i.length=0,Sg(t.j),t.j.length=0),t.h.ya()}}function FI(t,e,n){var r=n instanceof Ci?mr(n):new Ci(n);if(r.g!="")e&&(r.g=e+"."+r.g),ac(r,r.m);else{var i=G.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Ci(null);r&&oc(s,r),e&&(s.g=e),i&&ac(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&ye(r,n,e),ye(r,"VER",t.ra),ll(t,r),r}function UI(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new ke(new gd({ob:n})):new ke(t.va),e.Oa(t.J),e}L.isActive=function(){return!!this.h&&this.h.isActive(this)};function $I(){}L=$I.prototype;L.Ba=function(){};L.Aa=function(){};L.za=function(){};L.ya=function(){};L.isActive=function(){return!0};L.Va=function(){};function uc(){if(Bs&&!(10<=Number(Fj)))throw Error("Environmental error: no available transport.")}uc.prototype.g=function(t,e){return new Gt(t,e)};function Gt(t,e){Ge.call(this),this.g=new NI(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Ca(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ca(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new so(this)}Qe(Gt,Ge);Gt.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Et(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=FI(t,null,t.Y),wd(t)};Gt.prototype.close=function(){Bg(this.g)};Gt.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=bg(t),t=n);e.j.push(new mV(e.fb++,t)),e.H==3&&wd(e)};Gt.prototype.N=function(){this.g.h=null,delete this.j,Bg(this.g),delete this.g,Gt.$.N.call(this)};function BI(t){Vg.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Qe(BI,Vg);function zI(){Mg.call(this),this.status=1}Qe(zI,Mg);function so(t){this.g=t}Qe(so,$I);so.prototype.Ba=function(){rt(this.g,"a")};so.prototype.Aa=function(t){rt(this.g,new BI(t))};so.prototype.za=function(t){rt(this.g,new zI)};so.prototype.ya=function(){rt(this.g,"b")};function CV(){this.blockSize=-1}function Tn(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Qe(Tn,CV);Tn.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function zh(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}Tn.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)zh(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){zh(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){zh(this,r),i=0;break}}this.h=i,this.i+=e};Tn.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function de(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var RV={};function qg(t){return-128<=t&&128>t?jj(t,function(e){return new de([e|0],0>e?-1:0)}):new de([t|0],0>t?-1:0)}function On(t){if(isNaN(t)||!isFinite(t))return Rs;if(0>t)return et(On(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=Dp;return new de(e,0)}function HI(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return et(HI(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=On(Math.pow(e,8)),r=Rs,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=On(Math.pow(e,s)),r=r.R(s).add(On(o))):(r=r.R(n),r=r.add(On(o)))}return r}var Dp=4294967296,Rs=qg(0),Op=qg(1),g0=qg(16777216);L=de.prototype;L.ea=function(){if(tn(this))return-et(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:Dp+r)*e,e*=Dp}return t};L.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(rr(this))return"0";if(tn(this))return"-"+et(this).toString(t);for(var e=On(Math.pow(t,6)),n=this,r="";;){var i=dc(n,e).g;n=cc(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,rr(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};L.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function rr(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function tn(t){return t.h==-1}L.X=function(t){return t=cc(this,t),tn(t)?-1:rr(t)?0:1};function et(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new de(n,~t.h).add(Op)}L.abs=function(){return tn(this)?et(this):this};L.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new de(n,n[n.length-1]&-2147483648?-1:0)};function cc(t,e){return t.add(et(e))}L.R=function(t){if(rr(this)||rr(t))return Rs;if(tn(this))return tn(t)?et(this).R(et(t)):et(et(this).R(t));if(tn(t))return et(this.R(et(t)));if(0>this.X(g0)&&0>t.X(g0))return On(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(i)>>>16,l=t.D(i)&65535;n[2*r+2*i]+=o*l,Bl(n,2*r+2*i),n[2*r+2*i+1]+=s*l,Bl(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,Bl(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,Bl(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new de(n,0)};function Bl(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Eo(t,e){this.g=t,this.h=e}function dc(t,e){if(rr(e))throw Error("division by zero");if(rr(t))return new Eo(Rs,Rs);if(tn(t))return e=dc(et(t),e),new Eo(et(e.g),et(e.h));if(tn(e))return e=dc(t,et(e)),new Eo(et(e.g),e.h);if(30<t.g.length){if(tn(t)||tn(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Op,r=e;0>=r.X(t);)n=y0(n),r=y0(r);var i=es(n,1),s=es(r,1);for(r=es(r,2),n=es(n,2);!rr(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=es(r,1),n=es(n,1)}return e=cc(t,i.R(e)),new Eo(i,e)}for(i=Rs;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=On(n),o=s.R(e);tn(o)||0<o.X(t);)n-=r,s=On(n),o=s.R(e);rr(s)&&(s=Op),i=i.add(s),t=cc(t,o)}return new Eo(i,t)}L.gb=function(t){return dc(this,t).h};L.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new de(n,this.h&t.h)};L.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new de(n,this.h|t.h)};L.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new de(n,this.h^t.h)};function y0(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new de(n,t.h)}function es(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new de(i,t.h)}uc.prototype.createWebChannel=uc.prototype.g;Gt.prototype.send=Gt.prototype.u;Gt.prototype.open=Gt.prototype.m;Gt.prototype.close=Gt.prototype.close;hd.NO_ERROR=0;hd.TIMEOUT=8;hd.HTTP_ERROR=6;aI.COMPLETE="complete";lI.EventType=il;il.OPEN="a";il.CLOSE="b";il.ERROR="c";il.MESSAGE="d";Ge.prototype.listen=Ge.prototype.O;ke.prototype.listenOnce=ke.prototype.P;ke.prototype.getLastError=ke.prototype.Sa;ke.prototype.getLastErrorCode=ke.prototype.Ia;ke.prototype.getStatus=ke.prototype.da;ke.prototype.getResponseJson=ke.prototype.Wa;ke.prototype.getResponseText=ke.prototype.ja;ke.prototype.send=ke.prototype.ha;ke.prototype.setWithCredentials=ke.prototype.Oa;Tn.prototype.digest=Tn.prototype.l;Tn.prototype.reset=Tn.prototype.reset;Tn.prototype.update=Tn.prototype.j;de.prototype.add=de.prototype.add;de.prototype.multiply=de.prototype.R;de.prototype.modulo=de.prototype.gb;de.prototype.compare=de.prototype.X;de.prototype.toNumber=de.prototype.ea;de.prototype.toString=de.prototype.toString;de.prototype.getBits=de.prototype.D;de.fromNumber=On;de.fromString=HI;var PV=function(){return new uc},kV=function(){return dd()},Hh=hd,NV=aI,bV=Gi,v0={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},zl=lI,DV=ke,OV=Tn,Ps=de;const _0="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Rt.UNAUTHENTICATED=new Rt(null),Rt.GOOGLE_CREDENTIALS=new Rt("google-credentials-uid"),Rt.FIRST_PARTY=new Rt("first-party-uid"),Rt.MOCK_USER=new Rt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oo="10.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mi=new Ga("@firebase/firestore");function To(){return Mi.logLevel}function U(t,...e){if(Mi.logLevel<=te.DEBUG){const n=e.map(Wg);Mi.debug(`Firestore (${oo}): ${t}`,...n)}}function gr(t,...e){if(Mi.logLevel<=te.ERROR){const n=e.map(Wg);Mi.error(`Firestore (${oo}): ${t}`,...n)}}function La(t,...e){if(Mi.logLevel<=te.WARN){const n=e.map(Wg);Mi.warn(`Firestore (${oo}): ${t}`,...n)}}function Wg(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K(t="Unexpected state"){const e=`FIRESTORE (${oo}) INTERNAL ASSERTION FAILED: `+t;throw gr(e),new Error(e)}function me(t,e){t||K()}function Y(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class z extends un{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LV{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class jV{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Rt.UNAUTHENTICATED))}shutdown(){}}class VV{constructor(e){this.t=e,this.currentUser=Rt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Qr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Qr,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{U("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(U("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Qr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(U("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(me(typeof r.accessToken=="string"),new LV(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return me(e===null||typeof e=="string"),new Rt(e)}}class MV{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Rt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class FV{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new MV(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Rt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class UV{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class $V{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&U("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,U("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{U("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):U("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(me(typeof n.token=="string"),this.R=n.token,new UV(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BV(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qI{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=BV(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function ue(t,e){return t<e?-1:t>e?1:0}function zs(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ue{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new z(R.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new z(R.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new z(R.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new z(R.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ue.fromMillis(Date.now())}static fromDate(e){return Ue.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Ue(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ue(this.nanoseconds,e.nanoseconds):ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Q(e)}static min(){return new Q(new Ue(0,0))}static max(){return new Q(new Ue(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(e,n,r){n===void 0?n=0:n>e.length&&K(),r===void 0?r=e.length-n:r>e.length-n&&K(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ja.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ja?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Te extends ja{construct(e,n,r){return new Te(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new z(R.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Te(n)}static emptyPath(){return new Te([])}}const zV=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class tt extends ja{construct(e,n,r){return new tt(e,n,r)}static isValidIdentifier(e){return zV.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),tt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new tt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new z(R.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new z(R.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new z(R.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new z(R.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new tt(n)}static emptyPath(){return new tt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H{constructor(e){this.path=e}static fromPath(e){return new H(Te.fromString(e))}static fromName(e){return new H(Te.fromString(e).popFirst(5))}static empty(){return new H(Te.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Te.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Te.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new H(new Te(e.slice()))}}function HV(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Q.fromTimestamp(r===1e9?new Ue(n+1,0):new Ue(n,r));return new ti(i,H.empty(),e)}function qV(t){return new ti(t.readTime,t.key,-1)}class ti{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ti(Q.min(),H.empty(),-1)}static max(){return new ti(Q.max(),H.empty(),-1)}}function WV(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=H.comparator(t.documentKey,e.documentKey),n!==0?n:ue(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class GV{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ul(t){if(t.code!==R.FAILED_PRECONDITION||t.message!==KV)throw t;U("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&K(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new P((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof P?n:P.resolve(n)}catch(n){return P.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):P.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):P.reject(n)}static resolve(e){return new P((n,r)=>{n(e)})}static reject(e){return new P((n,r)=>{r(e)})}static waitFor(e){return new P((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=P.resolve(!1);for(const r of e)n=n.next(i=>i?P.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new P((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(c=>{o[u]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(e,n){return new P((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function cl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kg{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.se(r),this.oe=r=>n.writeSequenceNumber(r))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}Kg._e=-1;function Ed(t){return t==null}function hc(t){return t===0&&1/t==-1/0}function QV(t){return typeof t=="number"&&Number.isInteger(t)&&!hc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w0(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Qi(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function WI(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{constructor(e,n){this.comparator=e,this.root=n||Ze.EMPTY}insert(e,n){return new Ce(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ze.BLACK,null,null))}remove(e){return new Ce(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ze.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Hl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Hl(this.root,e,this.comparator,!1)}getReverseIterator(){return new Hl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Hl(this.root,e,this.comparator,!0)}}class Hl{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ze{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Ze.RED,this.left=i??Ze.EMPTY,this.right=s??Ze.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Ze(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ze.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Ze.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ze.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ze.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw K();const e=this.left.check();if(e!==this.right.check())throw K();return e+(this.isRed()?0:1)}}Ze.EMPTY=null,Ze.RED=!0,Ze.BLACK=!1;Ze.EMPTY=new class{constructor(){this.size=0}get key(){throw K()}get value(){throw K()}get color(){throw K()}get left(){throw K()}get right(){throw K()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Ze(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(e){this.comparator=e,this.data=new Ce(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new E0(this.data.getIterator())}getIteratorFrom(e){return new E0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof it)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new it(this.comparator);return n.data=e,n}}class E0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e){this.fields=e,e.sort(tt.comparator)}static empty(){return new Bt([])}unionWith(e){let n=new it(tt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Bt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return zs(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new KI("Invalid base64 string: "+s):s}}(e);return new gt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new gt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}gt.EMPTY_BYTE_STRING=new gt("");const JV=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ni(t){if(me(!!t),typeof t=="string"){let e=0;const n=JV.exec(t);if(me(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Oe(t.seconds),nanos:Oe(t.nanos)}}function Oe(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Fi(t){return typeof t=="string"?gt.fromBase64String(t):gt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gg(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Qg(t){const e=t.mapValue.fields.__previous_value__;return Gg(e)?Qg(e):e}function Va(t){const e=ni(t.mapValue.fields.__local_write_time__.timestampValue);return new Ue(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XV{constructor(e,n,r,i,s,o,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class Ma{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Ma("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Ma&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ql={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ui(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Gg(t)?4:YV(t)?9007199254740991:10:K()}function zn(t,e){if(t===e)return!0;const n=Ui(t);if(n!==Ui(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Va(t).isEqual(Va(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=ni(i.timestampValue),a=ni(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Fi(i.bytesValue).isEqual(Fi(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Oe(i.geoPointValue.latitude)===Oe(s.geoPointValue.latitude)&&Oe(i.geoPointValue.longitude)===Oe(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Oe(i.integerValue)===Oe(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Oe(i.doubleValue),a=Oe(s.doubleValue);return o===a?hc(o)===hc(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return zs(t.arrayValue.values||[],e.arrayValue.values||[],zn);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(w0(o)!==w0(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!zn(o[l],a[l])))return!1;return!0}(t,e);default:return K()}}function Fa(t,e){return(t.values||[]).find(n=>zn(n,e))!==void 0}function Hs(t,e){if(t===e)return 0;const n=Ui(t),r=Ui(e);if(n!==r)return ue(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ue(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Oe(s.integerValue||s.doubleValue),l=Oe(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return T0(t.timestampValue,e.timestampValue);case 4:return T0(Va(t),Va(e));case 5:return ue(t.stringValue,e.stringValue);case 6:return function(s,o){const a=Fi(s),l=Fi(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=ue(a[u],l[u]);if(c!==0)return c}return ue(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=ue(Oe(s.latitude),Oe(o.latitude));return a!==0?a:ue(Oe(s.longitude),Oe(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const a=s.values||[],l=o.values||[];for(let u=0;u<a.length&&u<l.length;++u){const c=Hs(a[u],l[u]);if(c)return c}return ue(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===ql.mapValue&&o===ql.mapValue)return 0;if(s===ql.mapValue)return 1;if(o===ql.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let d=0;d<l.length&&d<c.length;++d){const f=ue(l[d],c[d]);if(f!==0)return f;const y=Hs(a[l[d]],u[c[d]]);if(y!==0)return y}return ue(l.length,c.length)}(t.mapValue,e.mapValue);default:throw K()}}function T0(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ue(t,e);const n=ni(t),r=ni(e),i=ue(n.seconds,r.seconds);return i!==0?i:ue(n.nanos,r.nanos)}function qs(t){return Lp(t)}function Lp(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ni(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Fi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return H.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Lp(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Lp(n.fields[o])}`;return i+"}"}(t.mapValue):K()}function jp(t){return!!t&&"integerValue"in t}function Jg(t){return!!t&&"arrayValue"in t}function x0(t){return!!t&&"nullValue"in t}function I0(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function fu(t){return!!t&&"mapValue"in t}function Wo(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Qi(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Wo(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Wo(t.arrayValue.values[n]);return e}return Object.assign({},t)}function YV(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e){this.value=e}static empty(){return new kt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!fu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Wo(n)}setAll(e){let n=tt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Wo(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());fu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return zn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];fu(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Qi(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new kt(Wo(this.value))}}function GI(t){const e=[];return Qi(t.fields,(n,r)=>{const i=new tt([n]);if(fu(r)){const s=GI(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Bt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new dt(e,0,Q.min(),Q.min(),Q.min(),kt.empty(),0)}static newFoundDocument(e,n,r,i){return new dt(e,1,n,Q.min(),r,i,0)}static newNoDocument(e,n){return new dt(e,2,n,Q.min(),Q.min(),kt.empty(),0)}static newUnknownDocument(e,n){return new dt(e,3,n,Q.min(),Q.min(),kt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Q.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=kt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=kt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Q.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof dt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new dt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(e,n){this.position=e,this.inclusive=n}}function S0(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=H.comparator(H.fromName(o.referenceValue),n.key):r=Hs(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function A0(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!zn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(e,n="asc"){this.field=e,this.dir=n}}function ZV(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let QI=class{};class Me extends QI{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new tM(e,n,r):n==="array-contains"?new iM(e,r):n==="in"?new sM(e,r):n==="not-in"?new oM(e,r):n==="array-contains-any"?new aM(e,r):new Me(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new nM(e,r):new rM(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Hs(n,this.value)):n!==null&&Ui(this.value)===Ui(n)&&this.matchesComparison(Hs(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return K()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Hn extends QI{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new Hn(e,n)}matches(e){return JI(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function JI(t){return t.op==="and"}function XI(t){return eM(t)&&JI(t)}function eM(t){for(const e of t.filters)if(e instanceof Hn)return!1;return!0}function Vp(t){if(t instanceof Me)return t.field.canonicalString()+t.op.toString()+qs(t.value);if(XI(t))return t.filters.map(e=>Vp(e)).join(",");{const e=t.filters.map(n=>Vp(n)).join(",");return`${t.op}(${e})`}}function YI(t,e){return t instanceof Me?function(r,i){return i instanceof Me&&r.op===i.op&&r.field.isEqual(i.field)&&zn(r.value,i.value)}(t,e):t instanceof Hn?function(r,i){return i instanceof Hn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&YI(o,i.filters[a]),!0):!1}(t,e):void K()}function ZI(t){return t instanceof Me?function(n){return`${n.field.canonicalString()} ${n.op} ${qs(n.value)}`}(t):t instanceof Hn?function(n){return n.op.toString()+" {"+n.getFilters().map(ZI).join(" ,")+"}"}(t):"Filter"}class tM extends Me{constructor(e,n,r){super(e,n,r),this.key=H.fromName(r.referenceValue)}matches(e){const n=H.comparator(e.key,this.key);return this.matchesComparison(n)}}class nM extends Me{constructor(e,n){super(e,"in",n),this.keys=eS("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class rM extends Me{constructor(e,n){super(e,"not-in",n),this.keys=eS("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function eS(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>H.fromName(r.referenceValue))}class iM extends Me{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Jg(n)&&Fa(n.arrayValue,this.value)}}class sM extends Me{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Fa(this.value.arrayValue,n)}}class oM extends Me{constructor(e,n){super(e,"not-in",n)}matches(e){if(Fa(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Fa(this.value.arrayValue,n)}}class aM extends Me{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Jg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Fa(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lM{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ce=null}}function C0(t,e=null,n=[],r=[],i=null,s=null,o=null){return new lM(t,e,n,r,i,s,o)}function Xg(t){const e=Y(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Vp(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Ed(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>qs(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>qs(r)).join(",")),e.ce=n}return e.ce}function Yg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!ZV(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!YI(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!A0(t.startAt,e.startAt)&&A0(t.endAt,e.endAt)}function Mp(t){return H.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function uM(t,e,n,r,i,s,o,a){return new Td(t,e,n,r,i,s,o,a)}function xd(t){return new Td(t)}function R0(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function cM(t){return t.collectionGroup!==null}function Ko(t){const e=Y(t);if(e.le===null){e.le=[];const n=new Set;for(const s of e.explicitOrderBy)e.le.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new it(tt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.le.push(new pc(s,r))}),n.has(tt.keyField().canonicalString())||e.le.push(new pc(tt.keyField(),r))}return e.le}function Un(t){const e=Y(t);return e.he||(e.he=dM(e,Ko(t))),e.he}function dM(t,e){if(t.limitType==="F")return C0(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new pc(i.field,s)});const n=t.endAt?new fc(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new fc(t.startAt.position,t.startAt.inclusive):null;return C0(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Fp(t,e,n){return new Td(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Id(t,e){return Yg(Un(t),Un(e))&&t.limitType===e.limitType}function tS(t){return`${Xg(Un(t))}|lt:${t.limitType}`}function ns(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>ZI(i)).join(", ")}]`),Ed(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>qs(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>qs(i)).join(",")),`Target(${r})`}(Un(t))}; limitType=${t.limitType})`}function Sd(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):H.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Ko(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const u=S0(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,Ko(r),i)||r.endAt&&!function(o,a,l){const u=S0(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,Ko(r),i))}(t,e)}function hM(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function nS(t){return(e,n)=>{let r=!1;for(const i of Ko(t)){const s=fM(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function fM(t,e,n){const r=t.field.isKeyField()?H.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?Hs(l,u):K()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return K()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Qi(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return WI(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pM=new Ce(H.comparator);function yr(){return pM}const rS=new Ce(H.comparator);function No(...t){let e=rS;for(const n of t)e=e.insert(n.key,n);return e}function iS(t){let e=rS;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ti(){return Go()}function sS(){return Go()}function Go(){return new ao(t=>t.toString(),(t,e)=>t.isEqual(e))}const mM=new Ce(H.comparator),gM=new it(H.comparator);function ne(...t){let e=gM;for(const n of t)e=e.add(n);return e}const yM=new it(ue);function vM(){return yM}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oS(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:hc(e)?"-0":e}}function aS(t){return{integerValue:""+t}}function _M(t,e){return QV(e)?aS(e):oS(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad{constructor(){this._=void 0}}function wM(t,e,n){return t instanceof mc?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Gg(s)&&(s=Qg(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Ws?uS(t,e):t instanceof Ua?cS(t,e):function(i,s){const o=lS(i,s),a=P0(o)+P0(i.Ie);return jp(o)&&jp(i.Ie)?aS(a):oS(i.serializer,a)}(t,e)}function EM(t,e,n){return t instanceof Ws?uS(t,e):t instanceof Ua?cS(t,e):n}function lS(t,e){return t instanceof gc?function(r){return jp(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class mc extends Ad{}class Ws extends Ad{constructor(e){super(),this.elements=e}}function uS(t,e){const n=dS(e);for(const r of t.elements)n.some(i=>zn(i,r))||n.push(r);return{arrayValue:{values:n}}}class Ua extends Ad{constructor(e){super(),this.elements=e}}function cS(t,e){let n=dS(e);for(const r of t.elements)n=n.filter(i=>!zn(i,r));return{arrayValue:{values:n}}}class gc extends Ad{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function P0(t){return Oe(t.integerValue||t.doubleValue)}function dS(t){return Jg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TM{constructor(e,n){this.field=e,this.transform=n}}function xM(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Ws&&i instanceof Ws||r instanceof Ua&&i instanceof Ua?zs(r.elements,i.elements,zn):r instanceof gc&&i instanceof gc?zn(r.Ie,i.Ie):r instanceof mc&&i instanceof mc}(t.transform,e.transform)}class IM{constructor(e,n){this.version=e,this.transformResults=n}}class $n{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new $n}static exists(e){return new $n(void 0,e)}static updateTime(e){return new $n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function pu(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Cd{}function hS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new pS(t.key,$n.none()):new dl(t.key,t.data,$n.none());{const n=t.data,r=kt.empty();let i=new it(tt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new ui(t.key,r,new Bt(i.toArray()),$n.none())}}function SM(t,e,n){t instanceof dl?function(i,s,o){const a=i.value.clone(),l=N0(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof ui?function(i,s,o){if(!pu(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=N0(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(fS(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Qo(t,e,n,r){return t instanceof dl?function(s,o,a,l){if(!pu(s.precondition,o))return a;const u=s.value.clone(),c=b0(s.fieldTransforms,l,o);return u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof ui?function(s,o,a,l){if(!pu(s.precondition,o))return a;const u=b0(s.fieldTransforms,l,o),c=o.data;return c.setAll(fS(s)),c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(s,o,a){return pu(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function AM(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=lS(r.transform,i||null);s!=null&&(n===null&&(n=kt.empty()),n.set(r.field,s))}return n||null}function k0(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&zs(r,i,(s,o)=>xM(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class dl extends Cd{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ui extends Cd{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function fS(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function N0(t,e,n){const r=new Map;me(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,EM(o,a,n[i]))}return r}function b0(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,wM(s,o,e))}return r}class pS extends Cd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class CM extends Cd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RM{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&SM(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Qo(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Qo(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=sS();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=hS(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(Q.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ne())}isEqual(e){return this.batchId===e.batchId&&zs(this.mutations,e.mutations,(n,r)=>k0(n,r))&&zs(this.baseMutations,e.baseMutations,(n,r)=>k0(n,r))}}class Zg{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){me(e.mutations.length===r.length);let i=function(){return mM}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Zg(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PM{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kM{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var De,oe;function NM(t){switch(t){default:return K();case R.CANCELLED:case R.UNKNOWN:case R.DEADLINE_EXCEEDED:case R.RESOURCE_EXHAUSTED:case R.INTERNAL:case R.UNAVAILABLE:case R.UNAUTHENTICATED:return!1;case R.INVALID_ARGUMENT:case R.NOT_FOUND:case R.ALREADY_EXISTS:case R.PERMISSION_DENIED:case R.FAILED_PRECONDITION:case R.ABORTED:case R.OUT_OF_RANGE:case R.UNIMPLEMENTED:case R.DATA_LOSS:return!0}}function mS(t){if(t===void 0)return gr("GRPC error has no .code"),R.UNKNOWN;switch(t){case De.OK:return R.OK;case De.CANCELLED:return R.CANCELLED;case De.UNKNOWN:return R.UNKNOWN;case De.DEADLINE_EXCEEDED:return R.DEADLINE_EXCEEDED;case De.RESOURCE_EXHAUSTED:return R.RESOURCE_EXHAUSTED;case De.INTERNAL:return R.INTERNAL;case De.UNAVAILABLE:return R.UNAVAILABLE;case De.UNAUTHENTICATED:return R.UNAUTHENTICATED;case De.INVALID_ARGUMENT:return R.INVALID_ARGUMENT;case De.NOT_FOUND:return R.NOT_FOUND;case De.ALREADY_EXISTS:return R.ALREADY_EXISTS;case De.PERMISSION_DENIED:return R.PERMISSION_DENIED;case De.FAILED_PRECONDITION:return R.FAILED_PRECONDITION;case De.ABORTED:return R.ABORTED;case De.OUT_OF_RANGE:return R.OUT_OF_RANGE;case De.UNIMPLEMENTED:return R.UNIMPLEMENTED;case De.DATA_LOSS:return R.DATA_LOSS;default:return K()}}(oe=De||(De={}))[oe.OK=0]="OK",oe[oe.CANCELLED=1]="CANCELLED",oe[oe.UNKNOWN=2]="UNKNOWN",oe[oe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",oe[oe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",oe[oe.NOT_FOUND=5]="NOT_FOUND",oe[oe.ALREADY_EXISTS=6]="ALREADY_EXISTS",oe[oe.PERMISSION_DENIED=7]="PERMISSION_DENIED",oe[oe.UNAUTHENTICATED=16]="UNAUTHENTICATED",oe[oe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",oe[oe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",oe[oe.ABORTED=10]="ABORTED",oe[oe.OUT_OF_RANGE=11]="OUT_OF_RANGE",oe[oe.UNIMPLEMENTED=12]="UNIMPLEMENTED",oe[oe.INTERNAL=13]="INTERNAL",oe[oe.UNAVAILABLE=14]="UNAVAILABLE",oe[oe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bM(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DM=new Ps([4294967295,4294967295],0);function D0(t){const e=bM().encode(t),n=new OV;return n.update(e),new Uint8Array(n.digest())}function O0(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Ps([n,r],0),new Ps([i,s],0)]}class ey{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new bo(`Invalid padding: ${n}`);if(r<0)throw new bo(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new bo(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new bo(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=Ps.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(Ps.fromNumber(r)));return i.compare(DM)===1&&(i=new Ps([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=D0(e),[r,i]=O0(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);if(!this.Ae(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new ey(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Te===0)return;const n=D0(e),[r,i]=O0(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);this.Re(o)}}Re(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class bo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rd{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,hl.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Rd(Q.min(),i,new Ce(ue),yr(),ne())}}class hl{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new hl(r,n,ne(),ne(),ne())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}}class gS{constructor(e,n){this.targetId=e,this.fe=n}}class yS{constructor(e,n,r=gt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class L0{constructor(){this.ge=0,this.pe=V0(),this.ye=gt.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=ne(),n=ne(),r=ne();return this.pe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:K()}}),new hl(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=V0()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,me(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class OM{constructor(e){this.Le=e,this.ke=new Map,this.qe=yr(),this.Qe=j0(),this.Ke=new Ce(ue)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:K()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){const n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){const s=i.target;if(Mp(s))if(r===0){const o=new H(s.path);this.We(n,o,dt.newNoDocument(o,Q.min()))}else me(r===1);else{const o=this.Ze(n);if(o!==r){const a=this.Xe(e),l=a?this.et(a,e,o):1;if(l!==0){this.He(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,u)}}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Fi(r).toUint8Array()}catch(l){if(l instanceof KI)return La("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new ey(o,i,s)}catch(l){return La(l instanceof bo?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Te===0?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.We(n,s,null),i++)}),i}it(e){const n=new Map;this.ke.forEach((s,o)=>{const a=this.Ye(o);if(a){if(s.current&&Mp(a.target)){const l=new H(a.target.path);this.qe.get(l)!==null||this.st(o,l)||this.We(o,l,dt.newNoDocument(l,e))}s.De&&(n.set(o,s.ve()),s.Fe())}});let r=ne();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Ye(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(e));const i=new Rd(e,n,this.Ke,this.qe,r);return this.qe=yr(),this.Qe=j0(),this.Ke=new Ce(ue),i}Ue(e,n){if(!this.je(e))return;const r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new L0,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new it(ue),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||U("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new L0),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function j0(){return new Ce(H.comparator)}function V0(){return new Ce(H.comparator)}const LM=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),jM=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),VM=(()=>({and:"AND",or:"OR"}))();class MM{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Up(t,e){return t.useProto3Json||Ed(e)?e:{value:e}}function yc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function vS(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function FM(t,e){return yc(t,e.toTimestamp())}function Bn(t){return me(!!t),Q.fromTimestamp(function(n){const r=ni(n);return new Ue(r.seconds,r.nanos)}(t))}function ty(t,e){return function(r){return new Te(["projects",r.projectId,"databases",r.database])}(t).child("documents").child(e).canonicalString()}function _S(t){const e=Te.fromString(t);return me(xS(e)),e}function $p(t,e){return ty(t.databaseId,e.path)}function qh(t,e){const n=_S(e);if(n.get(1)!==t.databaseId.projectId)throw new z(R.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new z(R.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new H(wS(n))}function Bp(t,e){return ty(t.databaseId,e)}function UM(t){const e=_S(t);return e.length===4?Te.emptyPath():wS(e)}function zp(t){return new Te(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function wS(t){return me(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function M0(t,e,n){return{name:$p(t,e),fields:n.value.mapValue.fields}}function $M(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:K()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,c){return u.useProto3Json?(me(c===void 0||typeof c=="string"),gt.fromBase64String(c||"")):(me(c===void 0||c instanceof Uint8Array),gt.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=u.code===void 0?R.UNKNOWN:mS(u.code);return new z(c,u.message||"")}(o);n=new yS(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=qh(t,r.document.name),s=Bn(r.document.updateTime),o=r.document.createTime?Bn(r.document.createTime):Q.min(),a=new kt({mapValue:{fields:r.document.fields}}),l=dt.newFoundDocument(i,s,o,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new mu(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=qh(t,r.document),s=r.readTime?Bn(r.readTime):Q.min(),o=dt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new mu([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=qh(t,r.document),s=r.removedTargetIds||[];n=new mu([],s,i,null)}else{if(!("filter"in e))return K();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new kM(i,s),a=r.targetId;n=new gS(a,o)}}return n}function BM(t,e){let n;if(e instanceof dl)n={update:M0(t,e.key,e.value)};else if(e instanceof pS)n={delete:$p(t,e.key)};else if(e instanceof ui)n={update:M0(t,e.key,e.data),updateMask:XM(e.fieldMask)};else{if(!(e instanceof CM))return K();n={verify:$p(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof mc)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Ws)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ua)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof gc)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw K()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:FM(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:K()}(t,e.precondition)),n}function zM(t,e){return t&&t.length>0?(me(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Bn(i.updateTime):Bn(s);return o.isEqual(Q.min())&&(o=Bn(s)),new IM(o,i.transformResults||[])}(n,e))):[]}function HM(t,e){return{documents:[Bp(t,e.path)]}}function qM(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=Bp(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Bp(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length!==0)return TS(Hn.create(l,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(l){if(l.length!==0)return l.map(u=>function(d){return{field:rs(d.field),direction:GM(d.dir)}}(u))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=Up(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function WM(t){let e=UM(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){me(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];n.where&&(s=function(d){const f=ES(d);return f instanceof Hn&&XI(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(f=>function(g){return new pc(is(g.field),function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(d){let f;return f=typeof d=="object"?d.value:d,Ed(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(d){const f=!!d.before,y=d.values||[];return new fc(y,f)}(n.startAt));let u=null;return n.endAt&&(u=function(d){const f=!d.before,y=d.values||[];return new fc(y,f)}(n.endAt)),uM(e,i,o,s,a,"F",l,u)}function KM(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return K()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function ES(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=is(n.unaryFilter.field);return Me.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=is(n.unaryFilter.field);return Me.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=is(n.unaryFilter.field);return Me.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=is(n.unaryFilter.field);return Me.create(o,"!=",{nullValue:"NULL_VALUE"});default:return K()}}(t):t.fieldFilter!==void 0?function(n){return Me.create(is(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return K()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Hn.create(n.compositeFilter.filters.map(r=>ES(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return K()}}(n.compositeFilter.op))}(t):K()}function GM(t){return LM[t]}function QM(t){return jM[t]}function JM(t){return VM[t]}function rs(t){return{fieldPath:t.canonicalString()}}function is(t){return tt.fromServerFormat(t.fieldPath)}function TS(t){return t instanceof Me?function(n){if(n.op==="=="){if(I0(n.value))return{unaryFilter:{field:rs(n.field),op:"IS_NAN"}};if(x0(n.value))return{unaryFilter:{field:rs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(I0(n.value))return{unaryFilter:{field:rs(n.field),op:"IS_NOT_NAN"}};if(x0(n.value))return{unaryFilter:{field:rs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:rs(n.field),op:QM(n.op),value:n.value}}}(t):t instanceof Hn?function(n){const r=n.getFilters().map(i=>TS(i));return r.length===1?r[0]:{compositeFilter:{op:JM(n.op),filters:r}}}(t):K()}function XM(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function xS(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr{constructor(e,n,r,i,s=Q.min(),o=Q.min(),a=gt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Lr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Lr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Lr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Lr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YM{constructor(e){this.ut=e}}function ZM(t){const e=WM({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Fp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e5{constructor(){this.on=new t5}addToCollectionParentIndex(e,n){return this.on.add(n),P.resolve()}getCollectionParents(e,n){return P.resolve(this.on.getEntries(n))}addFieldIndex(e,n){return P.resolve()}deleteFieldIndex(e,n){return P.resolve()}deleteAllFieldIndexes(e){return P.resolve()}createTargetIndexes(e,n){return P.resolve()}getDocumentsMatchingTarget(e,n){return P.resolve(null)}getIndexType(e,n){return P.resolve(0)}getFieldIndexes(e,n){return P.resolve([])}getNextCollectionGroupToUpdate(e){return P.resolve(null)}getMinOffset(e,n){return P.resolve(ti.min())}getMinOffsetFromCollectionGroup(e,n){return P.resolve(ti.min())}updateCollectionGroup(e,n,r){return P.resolve()}updateIndexEntries(e,n){return P.resolve()}}class t5{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new it(Te.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new it(Te.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new Ks(0)}static Nn(){return new Ks(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n5{constructor(){this.changes=new ao(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,dt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?P.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r5{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i5{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Qo(r.mutation,i,Bt.empty(),Ue.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ne()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ne()){const i=Ti();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=No();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Ti();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ne()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=yr();const o=Go(),a=function(){return Go()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof ui)?s=s.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),Qo(c.mutation,u,c.mutation.getFieldMask(),Ue.now())):o.set(u.key,Bt.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var d;return a.set(u,new r5(c,(d=o.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Go();let i=new Ce((o,a)=>o-a),s=ne();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||Bt.empty();c=a.applyToLocalView(u,c),r.set(l,c);const d=(i.get(a.batchId)||ne()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,d=sS();c.forEach(f=>{if(!s.has(f)){const y=hS(n.get(f),r.get(f));y!==null&&d.set(f,y),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,d))}return P.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return H.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):cM(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):P.resolve(Ti());let a=-1,l=s;return o.next(u=>P.forEach(u,(c,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(c)?P.resolve():this.remoteDocumentCache.getEntry(e,c).next(f=>{l=l.insert(c,f)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,ne())).next(c=>({batchId:a,changes:iS(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new H(n)).next(r=>{let i=No();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=No();return this.indexManager.getCollectionParents(e,s).next(a=>P.forEach(a,l=>{const u=function(d,f){return new Td(f,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(c=>{c.forEach((d,f)=>{o=o.insert(d,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,u)=>{const c=u.getKey();o.get(c)===null&&(o=o.insert(c,dt.newInvalidDocument(c)))});let a=No();return o.forEach((l,u)=>{const c=s.get(l);c!==void 0&&Qo(c.mutation,u,Bt.empty(),Ue.now()),Sd(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s5{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,n){return P.resolve(this.ur.get(n))}saveBundleMetadata(e,n){return this.ur.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Bn(i.createTime)}}(n)),P.resolve()}getNamedQuery(e,n){return P.resolve(this.cr.get(n))}saveNamedQuery(e,n){return this.cr.set(n.name,function(i){return{name:i.name,query:ZM(i.bundledQuery),readTime:Bn(i.readTime)}}(n)),P.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o5{constructor(){this.overlays=new Ce(H.comparator),this.lr=new Map}getOverlay(e,n){return P.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ti();return P.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.lt(e,n,s)}),P.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.lr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.lr.delete(r)),P.resolve()}getOverlaysForCollection(e,n,r){const i=Ti(),s=n.length+1,o=new H(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return P.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Ce((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=s.get(u.largestBatchId);c===null&&(c=Ti(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=Ti(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return P.resolve(a)}lt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.lr.get(i.largestBatchId).delete(r.key);this.lr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new PM(n,r));let s=this.lr.get(n);s===void 0&&(s=ne(),this.lr.set(n,s)),this.lr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ny{constructor(){this.hr=new it(He.Pr),this.Ir=new it(He.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,n){const r=new He(e,n);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.dr(new He(e,n))}Ar(e,n){e.forEach(r=>this.removeReference(r,n))}Rr(e){const n=new H(new Te([])),r=new He(n,e),i=new He(n,e+1),s=[];return this.Ir.forEachInRange([r,i],o=>{this.dr(o),s.push(o.key)}),s}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const n=new H(new Te([])),r=new He(n,e),i=new He(n,e+1);let s=ne();return this.Ir.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new He(e,0),r=this.hr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class He{constructor(e,n){this.key=e,this.gr=n}static Pr(e,n){return H.comparator(e.key,n.key)||ue(e.gr,n.gr)}static Tr(e,n){return ue(e.gr,n.gr)||H.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a5{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new it(He.Pr)}checkEmpty(e){return P.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new RM(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.yr=this.yr.add(new He(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return P.resolve(o)}lookupMutationBatch(e,n){return P.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Sr(r),s=i<0?0:i;return P.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return P.resolve(this.mutationQueue.length===0?-1:this.pr-1)}getAllMutationBatches(e){return P.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new He(n,0),i=new He(n,Number.POSITIVE_INFINITY),s=[];return this.yr.forEachInRange([r,i],o=>{const a=this.wr(o.gr);s.push(a)}),P.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new it(ue);return n.forEach(i=>{const s=new He(i,0),o=new He(i,Number.POSITIVE_INFINITY);this.yr.forEachInRange([s,o],a=>{r=r.add(a.gr)})}),P.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;H.isDocumentKey(s)||(s=s.child(""));const o=new He(new H(s),0);let a=new it(ue);return this.yr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.gr)),!0)},o),P.resolve(this.br(a))}br(e){const n=[];return e.forEach(r=>{const i=this.wr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){me(this.Dr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.yr;return P.forEach(n.mutations,i=>{const s=new He(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.yr=r})}Fn(e){}containsKey(e,n){const r=new He(n,0),i=this.yr.firstAfterOrEqual(r);return P.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,P.resolve()}Dr(e,n){return this.Sr(e)}Sr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}wr(e){const n=this.Sr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l5{constructor(e){this.Cr=e,this.docs=function(){return new Ce(H.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Cr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return P.resolve(r?r.document.mutableCopy():dt.newInvalidDocument(n))}getEntries(e,n){let r=yr();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():dt.newInvalidDocument(i))}),P.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=yr();const o=n.path,a=new H(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||WV(qV(c),r)<=0||(i.has(c.key)||Sd(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return P.resolve(s)}getAllFromCollectionGroup(e,n,r,i){K()}vr(e,n){return P.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new u5(this)}getSize(e){return P.resolve(this.size)}}class u5 extends n5{constructor(e){super(),this._r=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this._r.addEntry(e,i)):this._r.removeEntry(r)}),P.waitFor(n)}getFromCache(e,n){return this._r.getEntry(e,n)}getAllFromCache(e,n){return this._r.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c5{constructor(e){this.persistence=e,this.Fr=new ao(n=>Xg(n),Yg),this.lastRemoteSnapshotVersion=Q.min(),this.highestTargetId=0,this.Mr=0,this.Or=new ny,this.targetCount=0,this.Nr=Ks.On()}forEachTarget(e,n){return this.Fr.forEach((r,i)=>n(i)),P.resolve()}getLastRemoteSnapshotVersion(e){return P.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return P.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),P.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Mr&&(this.Mr=n),P.resolve()}kn(e){this.Fr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Nr=new Ks(n),this.highestTargetId=n),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,n){return this.kn(n),this.targetCount+=1,P.resolve()}updateTargetData(e,n){return this.kn(n),P.resolve()}removeTargetData(e,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,P.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Fr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Fr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),P.waitFor(s).next(()=>i)}getTargetCount(e){return P.resolve(this.targetCount)}getTargetData(e,n){const r=this.Fr.get(n)||null;return P.resolve(r)}addMatchingKeys(e,n,r){return this.Or.Er(n,r),P.resolve()}removeMatchingKeys(e,n,r){this.Or.Ar(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),P.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Or.Rr(n),P.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Or.mr(n);return P.resolve(r)}containsKey(e,n){return P.resolve(this.Or.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d5{constructor(e,n){this.Br={},this.overlays={},this.Lr=new Kg(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new c5(this),this.indexManager=new e5,this.remoteDocumentCache=function(i){return new l5(i)}(r=>this.referenceDelegate.Qr(r)),this.serializer=new YM(n),this.Kr=new s5(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new o5,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new a5(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,n,r){U("MemoryPersistence","Starting transaction:",e);const i=new h5(this.Lr.next());return this.referenceDelegate.$r(),r(i).next(s=>this.referenceDelegate.Ur(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Wr(e,n){return P.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class h5 extends GV{constructor(e){super(),this.currentSequenceNumber=e}}class ry{constructor(e){this.persistence=e,this.Gr=new ny,this.zr=null}static jr(e){return new ry(e)}get Hr(){if(this.zr)return this.zr;throw K()}addReference(e,n,r){return this.Gr.addReference(r,n),this.Hr.delete(r.toString()),P.resolve()}removeReference(e,n,r){return this.Gr.removeReference(r,n),this.Hr.add(r.toString()),P.resolve()}markPotentiallyOrphaned(e,n){return this.Hr.add(n.toString()),P.resolve()}removeTarget(e,n){this.Gr.Rr(n.targetId).forEach(i=>this.Hr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Hr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}$r(){this.zr=new Set}Ur(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return P.forEach(this.Hr,r=>{const i=H.fromPath(r);return this.Jr(e,i).next(s=>{s||n.removeEntry(i,Q.min())})}).next(()=>(this.zr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Jr(e,n).next(r=>{r?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(e){return 0}Jr(e,n){return P.or([()=>P.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Wr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iy{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ki=r,this.qi=i}static Qi(e,n){let r=ne(),i=ne();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new iy(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f5{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p5{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,n){this.Gi=e,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.zi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ji(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new f5;return this.Hi(e,n,o).next(a=>{if(s.result=a,this.$i)return this.Ji(e,n,o,a.size)})}).next(()=>s.result)}Ji(e,n,r,i){return r.documentReadCount<this.Ui?(To()<=te.DEBUG&&U("QueryEngine","SDK will not create cache indexes for query:",ns(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),P.resolve()):(To()<=te.DEBUG&&U("QueryEngine","Query:",ns(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Wi*i?(To()<=te.DEBUG&&U("QueryEngine","The SDK decides to create cache indexes for query:",ns(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Un(n))):P.resolve())}zi(e,n){if(R0(n))return P.resolve(null);let r=Un(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Fp(n,null,"F"),r=Un(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=ne(...s);return this.Gi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Yi(n,a);return this.Zi(n,u,o,l.readTime)?this.zi(e,Fp(n,null,"F")):this.Xi(e,u,n,l)}))})))}ji(e,n,r,i){return R0(n)||i.isEqual(Q.min())?P.resolve(null):this.Gi.getDocuments(e,r).next(s=>{const o=this.Yi(n,s);return this.Zi(n,o,r,i)?P.resolve(null):(To()<=te.DEBUG&&U("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ns(n)),this.Xi(e,o,n,HV(i,-1)).next(a=>a))})}Yi(e,n){let r=new it(nS(e));return n.forEach((i,s)=>{Sd(e,s)&&(r=r.add(s))}),r}Zi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Hi(e,n,r){return To()<=te.DEBUG&&U("QueryEngine","Using full collection scan to execute query:",ns(n)),this.Gi.getDocumentsMatchingQuery(e,n,ti.min(),r)}Xi(e,n,r,i){return this.Gi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m5{constructor(e,n,r,i){this.persistence=e,this.es=n,this.serializer=i,this.ts=new Ce(ue),this.ns=new ao(s=>Xg(s),Yg),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(r)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new i5(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ts))}}function g5(t,e,n,r){return new m5(t,e,n,r)}async function IS(t,e){const n=Y(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.os(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=ne();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({_s:u,removedBatchIds:o,addedBatchIds:a}))})})}function y5(t,e){const n=Y(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.ss.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const d=u.batch,f=d.keys();let y=P.resolve();return f.forEach(g=>{y=y.next(()=>c.getEntry(l,g)).next(v=>{const w=u.docVersions.get(g);me(w!==null),v.version.compareTo(w)<0&&(d.applyToRemoteDocument(v,u),v.isValidDocument()&&(v.setReadTime(u.commitVersion),c.addEntry(v)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=ne();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function SS(t){const e=Y(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.qr.getLastRemoteSnapshotVersion(n))}function v5(t,e){const n=Y(t),r=e.snapshotVersion;let i=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.ss.newChangeBuffer({trackRemovals:!0});i=n.ts;const a=[];e.targetChanges.forEach((c,d)=>{const f=i.get(d);if(!f)return;a.push(n.qr.removeMatchingKeys(s,c.removedDocuments,d).next(()=>n.qr.addMatchingKeys(s,c.addedDocuments,d)));let y=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?y=y.withResumeToken(gt.EMPTY_BYTE_STRING,Q.min()).withLastLimboFreeSnapshotVersion(Q.min()):c.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(c.resumeToken,r)),i=i.insert(d,y),function(v,w,m){return v.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=3e8?!0:m.addedDocuments.size+m.modifiedDocuments.size+m.removedDocuments.size>0}(f,y,c)&&a.push(n.qr.updateTargetData(s,y))});let l=yr(),u=ne();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(_5(s,o,e.documentUpdates).next(c=>{l=c.us,u=c.cs})),!r.isEqual(Q.min())){const c=n.qr.getLastRemoteSnapshotVersion(s).next(d=>n.qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return P.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.ts=i,s))}function _5(t,e,n){let r=ne(),i=ne();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=yr();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(Q.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):U("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{us:o,cs:i}})}function w5(t,e){const n=Y(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function E5(t,e){const n=Y(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.qr.getTargetData(r,e).next(s=>s?(i=s,P.resolve(i)):n.qr.allocateTargetId(r).next(o=>(i=new Lr(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ts=n.ts.insert(r.targetId,r),n.ns.set(e,r.targetId)),r})}async function Hp(t,e,n){const r=Y(t),i=r.ts.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!cl(o))throw o;U("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ts=r.ts.remove(e),r.ns.delete(i.target)}function F0(t,e,n){const r=Y(t);let i=Q.min(),s=ne();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,c){const d=Y(l),f=d.ns.get(c);return f!==void 0?P.resolve(d.ts.get(f)):d.qr.getTargetData(u,c)}(r,o,Un(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.es.getDocumentsMatchingQuery(o,e,n?i:Q.min(),n?s:ne())).next(a=>(T5(r,hM(e),a),{documents:a,ls:s})))}function T5(t,e,n){let r=t.rs.get(e)||Q.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.rs.set(e,r)}class U0{constructor(){this.activeTargetIds=vM()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class x5{constructor(){this.eo=new U0,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,n,r){this.no[e]=n}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new U0,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I5{ro(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){U("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){U("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wl=null;function Wh(){return Wl===null?Wl=function(){return 268435456+Math.round(2147483648*Math.random())}():Wl++,"0x"+Wl.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S5={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A5{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ut="WebChannelConnection";class C5 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.mo=r+"://"+n.host,this.fo=`projects/${i}/databases/${s}`,this.po=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get yo(){return!1}wo(n,r,i,s,o){const a=Wh(),l=this.So(n,r);U("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(u,s,o),this.Do(n,l,u,i).then(c=>(U("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw La("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",l,"request:",i),c})}Co(n,r,i,s,o,a){return this.wo(n,r,i,s,o)}bo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+oo}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}So(n,r){const i=S5[n];return`${this.mo}/v1/${r}:${i}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,n,r,i){const s=Wh();return new Promise((o,a)=>{const l=new DV;l.setWithCredentials(!0),l.listenOnce(NV.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Hh.NO_ERROR:const c=l.getResponseJson();U(ut,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(c)),o(c);break;case Hh.TIMEOUT:U(ut,`RPC '${e}' ${s} timed out`),a(new z(R.DEADLINE_EXCEEDED,"Request time out"));break;case Hh.HTTP_ERROR:const d=l.getStatus();if(U(ut,`RPC '${e}' ${s} failed with status:`,d,"response text:",l.getResponseText()),d>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const y=f==null?void 0:f.error;if(y&&y.status&&y.message){const g=function(w){const m=w.toLowerCase().replace(/_/g,"-");return Object.values(R).indexOf(m)>=0?m:R.UNKNOWN}(y.status);a(new z(g,y.message))}else a(new z(R.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new z(R.UNAVAILABLE,"Connection failed."));break;default:K()}}finally{U(ut,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);U(ut,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}vo(e,n,r){const i=Wh(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=PV(),a=kV(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.bo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=s.join("");U(ut,`Creating RPC '${e}' stream ${i}: ${c}`,l);const d=o.createWebChannel(c,l);let f=!1,y=!1;const g=new A5({co:w=>{y?U(ut,`Not sending because RPC '${e}' stream ${i} is closed:`,w):(f||(U(ut,`Opening RPC '${e}' stream ${i} transport.`),d.open(),f=!0),U(ut,`RPC '${e}' stream ${i} sending:`,w),d.send(w))},lo:()=>d.close()}),v=(w,m,p)=>{w.listen(m,_=>{try{p(_)}catch(T){setTimeout(()=>{throw T},0)}})};return v(d,zl.EventType.OPEN,()=>{y||U(ut,`RPC '${e}' stream ${i} transport opened.`)}),v(d,zl.EventType.CLOSE,()=>{y||(y=!0,U(ut,`RPC '${e}' stream ${i} transport closed`),g.Ro())}),v(d,zl.EventType.ERROR,w=>{y||(y=!0,La(ut,`RPC '${e}' stream ${i} transport errored:`,w),g.Ro(new z(R.UNAVAILABLE,"The operation could not be completed")))}),v(d,zl.EventType.MESSAGE,w=>{var m;if(!y){const p=w.data[0];me(!!p);const _=p,T=_.error||((m=_[0])===null||m===void 0?void 0:m.error);if(T){U(ut,`RPC '${e}' stream ${i} received error:`,T);const I=T.status;let N=function(ee){const B=De[ee];if(B!==void 0)return mS(B)}(I),O=T.message;N===void 0&&(N=R.INTERNAL,O="Unknown error status: "+I+" with message "+T.message),y=!0,g.Ro(new z(N,O)),d.close()}else U(ut,`RPC '${e}' stream ${i} received:`,p),g.Vo(p)}}),v(a,bV.STAT_EVENT,w=>{w.stat===v0.PROXY?U(ut,`RPC '${e}' stream ${i} detected buffering proxy`):w.stat===v0.NOPROXY&&U(ut,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{g.Ao()},0),g}}function Kh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pd(t){return new MM(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{constructor(e,n,r=1e3,i=1.5,s=6e4){this.si=e,this.timerId=n,this.Fo=r,this.Mo=i,this.xo=s,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const n=Math.floor(this.Oo+this.qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,n-r);i>0&&U("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Oo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){this.No!==null&&(this.No.skipDelay(),this.No=null)}cancel(){this.No!==null&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS{constructor(e,n,r,i,s,o,a,l){this.si=e,this.Ko=r,this.$o=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new AS(e,n)}jo(){return this.state===1||this.state===5||this.Ho()}Ho(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Jo()}async stop(){this.jo()&&await this.close(0)}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&this.Wo===null&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}async Xo(){if(this.Ho())return this.close(0)}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}async close(e,n){this.t_(),this.n_(),this.zo.cancel(),this.Uo++,e!==4?this.zo.reset():n&&n.code===R.RESOURCE_EXHAUSTED?(gr(n.toString()),gr("Using maximum backoff delay to prevent overloading the backend."),this.zo.Lo()):n&&n.code===R.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.r_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Io(n)}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Uo===n&&this.s_(r,i)},r=>{e(()=>{const i=new z(R.UNKNOWN,"Fetching auth token failed: "+r.message);return this.o_(i)})})}s_(e,n){const r=this.i_(this.Uo);this.stream=this.__(e,n),this.stream.ho(()=>{r(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(i=>{r(()=>this.o_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Jo(){this.state=5,this.zo.ko(async()=>{this.state=0,this.start()})}o_(e){return U("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return n=>{this.si.enqueueAndForget(()=>this.Uo===e?n():(U("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class R5 extends CS{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}__(e,n){return this.connection.vo("Listen",e,n)}onMessage(e){this.zo.reset();const n=$M(this.serializer,e),r=function(s){if(!("targetChange"in s))return Q.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Q.min():o.readTime?Bn(o.readTime):Q.min()}(e);return this.listener.a_(n,r)}u_(e){const n={};n.database=zp(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=Mp(l)?{documents:HM(s,l)}:{query:qM(s,l)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=vS(s,o.resumeToken);const u=Up(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(Q.min())>0){a.readTime=yc(s,o.snapshotVersion.toTimestamp());const u=Up(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=KM(this.serializer,e);r&&(n.labels=r),this.e_(n)}c_(e){const n={};n.database=zp(this.serializer),n.removeTarget=e,this.e_(n)}}class P5 extends CS{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,n){return this.connection.vo("Write",e,n)}onMessage(e){if(me(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const n=zM(e.writeResults,e.commitTime),r=Bn(e.commitTime);return this.listener.I_(r,n)}return me(!e.writeResults||e.writeResults.length===0),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=zp(this.serializer),this.e_(e)}P_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>BM(this.serializer,r))};this.e_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k5 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.d_=!1}A_(){if(this.d_)throw new z(R.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,n,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.wo(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===R.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new z(R.UNKNOWN,i.toString())})}Co(e,n,r,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(e,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===R.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new z(R.UNKNOWN,s.toString())})}terminate(){this.d_=!0}}class N5{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){this.V_===0&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){this.state==="Online"?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,e==="Online"&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(gr(n),this.f_=!1):U("OnlineStateTracker",n)}S_(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b5{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=s,this.F_.ro(o=>{r.enqueueAndForget(async()=>{Ji(this)&&(U("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=Y(l);u.C_.add(4),await fl(u),u.M_.set("Unknown"),u.C_.delete(4),await kd(u)}(this))})}),this.M_=new N5(r,i)}}async function kd(t){if(Ji(t))for(const e of t.v_)await e(!0)}async function fl(t){for(const e of t.v_)await e(!1)}function RS(t,e){const n=Y(t);n.D_.has(e.targetId)||(n.D_.set(e.targetId,e),ay(n)?oy(n):lo(n).Ho()&&sy(n,e))}function PS(t,e){const n=Y(t),r=lo(n);n.D_.delete(e),r.Ho()&&kS(n,e),n.D_.size===0&&(r.Ho()?r.Zo():Ji(n)&&n.M_.set("Unknown"))}function sy(t,e){if(t.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Q.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}lo(t).u_(e)}function kS(t,e){t.x_.Oe(e),lo(t).c_(e)}function oy(t){t.x_=new OM({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.D_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),lo(t).start(),t.M_.g_()}function ay(t){return Ji(t)&&!lo(t).jo()&&t.D_.size>0}function Ji(t){return Y(t).C_.size===0}function NS(t){t.x_=void 0}async function D5(t){t.D_.forEach((e,n)=>{sy(t,e)})}async function O5(t,e){NS(t),ay(t)?(t.M_.w_(e),oy(t)):t.M_.set("Unknown")}async function L5(t,e,n){if(t.M_.set("Online"),e instanceof yS&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.D_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.D_.delete(a),i.x_.removeTarget(a))}(t,e)}catch(r){U("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await vc(t,r)}else if(e instanceof mu?t.x_.$e(e):e instanceof gS?t.x_.Je(e):t.x_.Ge(e),!n.isEqual(Q.min()))try{const r=await SS(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.x_.it(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=s.D_.get(u);c&&s.D_.set(u,c.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const c=s.D_.get(l);if(!c)return;s.D_.set(l,c.withResumeToken(gt.EMPTY_BYTE_STRING,c.snapshotVersion)),kS(s,l);const d=new Lr(c.target,l,u,c.sequenceNumber);sy(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){U("RemoteStore","Failed to raise snapshot:",r),await vc(t,r)}}async function vc(t,e,n){if(!cl(e))throw e;t.C_.add(1),await fl(t),t.M_.set("Offline"),n||(n=()=>SS(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{U("RemoteStore","Retrying IndexedDB access"),await n(),t.C_.delete(1),await kd(t)})}function bS(t,e){return e().catch(n=>vc(t,n,e))}async function Nd(t){const e=Y(t),n=ri(e);let r=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;j5(e);)try{const i=await w5(e.localStore,r);if(i===null){e.b_.length===0&&n.Zo();break}r=i.batchId,V5(e,i)}catch(i){await vc(e,i)}DS(e)&&OS(e)}function j5(t){return Ji(t)&&t.b_.length<10}function V5(t,e){t.b_.push(e);const n=ri(t);n.Ho()&&n.h_&&n.P_(e.mutations)}function DS(t){return Ji(t)&&!ri(t).jo()&&t.b_.length>0}function OS(t){ri(t).start()}async function M5(t){ri(t).E_()}async function F5(t){const e=ri(t);for(const n of t.b_)e.P_(n.mutations)}async function U5(t,e,n){const r=t.b_.shift(),i=Zg.from(r,e,n);await bS(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Nd(t)}async function $5(t,e){e&&ri(t).h_&&await async function(r,i){if(function(o){return NM(o)&&o!==R.ABORTED}(i.code)){const s=r.b_.shift();ri(r).Yo(),await bS(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Nd(r)}}(t,e),DS(t)&&OS(t)}async function B0(t,e){const n=Y(t);n.asyncQueue.verifyOperationInProgress(),U("RemoteStore","RemoteStore received new credentials");const r=Ji(n);n.C_.add(3),await fl(n),r&&n.M_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.C_.delete(3),await kd(n)}async function B5(t,e){const n=Y(t);e?(n.C_.delete(2),await kd(n)):e||(n.C_.add(2),await fl(n),n.M_.set("Unknown"))}function lo(t){return t.O_||(t.O_=function(n,r,i){const s=Y(n);return s.A_(),new R5(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{ho:D5.bind(null,t),Io:O5.bind(null,t),a_:L5.bind(null,t)}),t.v_.push(async e=>{e?(t.O_.Yo(),ay(t)?oy(t):t.M_.set("Unknown")):(await t.O_.stop(),NS(t))})),t.O_}function ri(t){return t.N_||(t.N_=function(n,r,i){const s=Y(n);return s.A_(),new P5(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{ho:M5.bind(null,t),Io:$5.bind(null,t),T_:F5.bind(null,t),I_:U5.bind(null,t)}),t.v_.push(async e=>{e?(t.N_.Yo(),await Nd(t)):(await t.N_.stop(),t.b_.length>0&&(U("RemoteStore",`Stopping write stream with ${t.b_.length} pending writes`),t.b_=[]))})),t.N_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ly{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Qr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new ly(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new z(R.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function uy(t,e){if(gr("AsyncQueue",`${e}: ${t}`),cl(t))return new z(R.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(e){this.comparator=e?(n,r)=>e(n,r)||H.comparator(n.key,r.key):(n,r)=>H.comparator(n.key,r.key),this.keyedMap=No(),this.sortedSet=new Ce(this.comparator)}static emptySet(e){return new ks(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ks)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new ks;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z0{constructor(){this.B_=new Ce(H.comparator)}track(e){const n=e.doc.key,r=this.B_.get(n);r?e.type!==0&&r.type===3?this.B_=this.B_.insert(n,e):e.type===3&&r.type!==1?this.B_=this.B_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.B_=this.B_.remove(n):e.type===1&&r.type===2?this.B_=this.B_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):K():this.B_=this.B_.insert(n,e)}L_(){const e=[];return this.B_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Gs{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Gs(e,n,ks.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Id(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z5{constructor(){this.k_=void 0,this.listeners=[]}}class H5{constructor(){this.queries=new ao(e=>tS(e),Id),this.onlineState="Unknown",this.q_=new Set}}async function LS(t,e){const n=Y(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new z5),i)try{s.k_=await n.onListen(r)}catch(o){const a=uy(o,`Initialization of query '${ns(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.Q_(n.onlineState),s.k_&&e.K_(s.k_)&&cy(n)}async function jS(t,e){const n=Y(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function q5(t,e){const n=Y(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.K_(i)&&(r=!0);o.k_=i}}r&&cy(n)}function W5(t,e,n){const r=Y(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function cy(t){t.q_.forEach(e=>{e.next()})}class VS{constructor(e,n,r){this.query=e,this.U_=n,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=r||{}}K_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Gs(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.W_?this.z_(e)&&(this.U_.next(e),n=!0):this.j_(e,this.onlineState)&&(this.H_(e),n=!0),this.G_=e,n}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let n=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),n=!0),n}j_(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.J_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}z_(e){if(e.docChanges.length>0)return!0;const n=this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}H_(e){e=Gs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{constructor(e){this.key=e}}class FS{constructor(e){this.key=e}}class K5{constructor(e,n){this.query=e,this.ia=n,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=ne(),this.mutatedKeys=ne(),this._a=nS(e),this.aa=new ks(this._a)}get ua(){return this.ia}ca(e,n){const r=n?n.la:new z0,i=n?n.aa:this.aa;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,d)=>{const f=i.get(c),y=Sd(this.query,d)?d:null,g=!!f&&this.mutatedKeys.has(f.key),v=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let w=!1;f&&y?f.data.isEqual(y.data)?g!==v&&(r.track({type:3,doc:y}),w=!0):this.ha(f,y)||(r.track({type:2,doc:y}),w=!0,(l&&this._a(y,l)>0||u&&this._a(y,u)<0)&&(a=!0)):!f&&y?(r.track({type:0,doc:y}),w=!0):f&&!y&&(r.track({type:1,doc:f}),w=!0,(l||u)&&(a=!0)),w&&(y?(o=o.add(y),s=v?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{aa:o,la:r,Zi:a,mutatedKeys:s}}ha(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const o=e.la.L_();o.sort((c,d)=>function(y,g){const v=w=>{switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return K()}};return v(y)-v(g)}(c.type,d.type)||this._a(c.doc,d.doc)),this.Pa(r),i=i!=null&&i;const a=n&&!i?this.Ia():[],l=this.oa.size===0&&this.current&&!i?1:0,u=l!==this.sa;return this.sa=l,o.length!==0||u?{snapshot:new Gs(this.query,e.aa,s,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ta:a}:{Ta:a}}Q_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({aa:this.aa,la:new z0,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(n=>this.ia=this.ia.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ia=this.ia.delete(n)),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=ne(),this.aa.forEach(r=>{this.Ea(r.key)&&(this.oa=this.oa.add(r.key))});const n=[];return e.forEach(r=>{this.oa.has(r)||n.push(new FS(r))}),this.oa.forEach(r=>{e.has(r)||n.push(new MS(r))}),n}da(e){this.ia=e.ls,this.oa=ne();const n=this.ca(e.documents);return this.applyChanges(n,!0)}Aa(){return Gs.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,this.sa===0,this.hasCachedResults)}}class G5{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Q5{constructor(e){this.key=e,this.Ra=!1}}class J5{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Va={},this.ma=new ao(a=>tS(a),Id),this.fa=new Map,this.ga=new Set,this.pa=new Ce(H.comparator),this.ya=new Map,this.wa=new ny,this.Sa={},this.ba=new Map,this.Da=Ks.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return this.Ca===!0}}async function X5(t,e){const n=a3(t);let r,i;const s=n.ma.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Aa();else{const o=await E5(n.localStore,Un(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await Y5(n,e,r,a==="current",o.resumeToken),n.isPrimaryClient&&RS(n.remoteStore,o)}return i}async function Y5(t,e,n,r,i){t.va=(d,f,y)=>async function(v,w,m,p){let _=w.view.ca(m);_.Zi&&(_=await F0(v.localStore,w.query,!1).then(({documents:O})=>w.view.ca(O,_)));const T=p&&p.targetChanges.get(w.targetId),I=p&&p.targetMismatches.get(w.targetId)!=null,N=w.view.applyChanges(_,v.isPrimaryClient,T,I);return q0(v,w.targetId,N.Ta),N.snapshot}(t,d,f,y);const s=await F0(t.localStore,e,!0),o=new K5(e,s.ls),a=o.ca(s.documents),l=hl.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);q0(t,n,u.Ta);const c=new G5(e,n,o);return t.ma.set(e,c),t.fa.has(n)?t.fa.get(n).push(e):t.fa.set(n,[e]),u.snapshot}async function Z5(t,e){const n=Y(t),r=n.ma.get(e),i=n.fa.get(r.targetId);if(i.length>1)return n.fa.set(r.targetId,i.filter(s=>!Id(s,e))),void n.ma.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Hp(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),PS(n.remoteStore,r.targetId),qp(n,r.targetId)}).catch(ul)):(qp(n,r.targetId),await Hp(n.localStore,r.targetId,!0))}async function e3(t,e,n){const r=l3(t);try{const i=await function(o,a){const l=Y(o),u=Ue.now(),c=a.reduce((y,g)=>y.add(g.key),ne());let d,f;return l.persistence.runTransaction("Locally write mutations","readwrite",y=>{let g=yr(),v=ne();return l.ss.getEntries(y,c).next(w=>{g=w,g.forEach((m,p)=>{p.isValidDocument()||(v=v.add(m))})}).next(()=>l.localDocuments.getOverlayedDocuments(y,g)).next(w=>{d=w;const m=[];for(const p of a){const _=AM(p,d.get(p.key).overlayedDocument);_!=null&&m.push(new ui(p.key,_,GI(_.value.mapValue),$n.exists(!0)))}return l.mutationQueue.addMutationBatch(y,u,m,a)}).next(w=>{f=w;const m=w.applyToLocalDocumentSet(d,v);return l.documentOverlayCache.saveOverlays(y,w.batchId,m)})}).then(()=>({batchId:f.batchId,changes:iS(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let u=o.Sa[o.currentUser.toKey()];u||(u=new Ce(ue)),u=u.insert(a,l),o.Sa[o.currentUser.toKey()]=u}(r,i.batchId,n),await pl(r,i.changes),await Nd(r.remoteStore)}catch(i){const s=uy(i,"Failed to persist write");n.reject(s)}}async function US(t,e){const n=Y(t);try{const r=await v5(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.ya.get(s);o&&(me(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Ra=!0:i.modifiedDocuments.size>0?me(o.Ra):i.removedDocuments.size>0&&(me(o.Ra),o.Ra=!1))}),await pl(n,r,e)}catch(r){await ul(r)}}function H0(t,e,n){const r=Y(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ma.forEach((s,o)=>{const a=o.view.Q_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=Y(o);l.onlineState=a;let u=!1;l.queries.forEach((c,d)=>{for(const f of d.listeners)f.Q_(a)&&(u=!0)}),u&&cy(l)}(r.eventManager,e),i.length&&r.Va.a_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function t3(t,e,n){const r=Y(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.ya.get(e),s=i&&i.key;if(s){let o=new Ce(H.comparator);o=o.insert(s,dt.newNoDocument(s,Q.min()));const a=ne().add(s),l=new Rd(Q.min(),new Map,new Ce(ue),o,a);await US(r,l),r.pa=r.pa.remove(s),r.ya.delete(e),dy(r)}else await Hp(r.localStore,e,!1).then(()=>qp(r,e,n)).catch(ul)}async function n3(t,e){const n=Y(t),r=e.batch.batchId;try{const i=await y5(n.localStore,e);BS(n,r,null),$S(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await pl(n,i)}catch(i){await ul(i)}}async function r3(t,e,n){const r=Y(t);try{const i=await function(o,a){const l=Y(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(d=>(me(d!==null),c=d.keys(),l.mutationQueue.removeMutationBatch(u,d))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);BS(r,e,n),$S(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await pl(r,i)}catch(i){await ul(i)}}function $S(t,e){(t.ba.get(e)||[]).forEach(n=>{n.resolve()}),t.ba.delete(e)}function BS(t,e,n){const r=Y(t);let i=r.Sa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Sa[r.currentUser.toKey()]=i}}function qp(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.fa.get(e))t.ma.delete(r),n&&t.Va.Fa(r,n);t.fa.delete(e),t.isPrimaryClient&&t.wa.Rr(e).forEach(r=>{t.wa.containsKey(r)||zS(t,r)})}function zS(t,e){t.ga.delete(e.path.canonicalString());const n=t.pa.get(e);n!==null&&(PS(t.remoteStore,n),t.pa=t.pa.remove(e),t.ya.delete(n),dy(t))}function q0(t,e,n){for(const r of n)r instanceof MS?(t.wa.addReference(r.key,e),i3(t,r)):r instanceof FS?(U("SyncEngine","Document no longer in limbo: "+r.key),t.wa.removeReference(r.key,e),t.wa.containsKey(r.key)||zS(t,r.key)):K()}function i3(t,e){const n=e.key,r=n.path.canonicalString();t.pa.get(n)||t.ga.has(r)||(U("SyncEngine","New document in limbo: "+n),t.ga.add(r),dy(t))}function dy(t){for(;t.ga.size>0&&t.pa.size<t.maxConcurrentLimboResolutions;){const e=t.ga.values().next().value;t.ga.delete(e);const n=new H(Te.fromString(e)),r=t.Da.next();t.ya.set(r,new Q5(n)),t.pa=t.pa.insert(n,r),RS(t.remoteStore,new Lr(Un(xd(n.path)),r,"TargetPurposeLimboResolution",Kg._e))}}async function pl(t,e,n){const r=Y(t),i=[],s=[],o=[];r.ma.isEmpty()||(r.ma.forEach((a,l)=>{o.push(r.va(l,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const c=iy.Qi(l.targetId,u);s.push(c)}}))}),await Promise.all(o),r.Va.a_(i),await async function(l,u){const c=Y(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>P.forEach(u,f=>P.forEach(f.ki,y=>c.persistence.referenceDelegate.addReference(d,f.targetId,y)).next(()=>P.forEach(f.qi,y=>c.persistence.referenceDelegate.removeReference(d,f.targetId,y)))))}catch(d){if(!cl(d))throw d;U("LocalStore","Failed to update sequence numbers: "+d)}for(const d of u){const f=d.targetId;if(!d.fromCache){const y=c.ts.get(f),g=y.snapshotVersion,v=y.withLastLimboFreeSnapshotVersion(g);c.ts=c.ts.insert(f,v)}}}(r.localStore,s))}async function s3(t,e){const n=Y(t);if(!n.currentUser.isEqual(e)){U("SyncEngine","User change. New user:",e.toKey());const r=await IS(n.localStore,e);n.currentUser=e,function(s,o){s.ba.forEach(a=>{a.forEach(l=>{l.reject(new z(R.CANCELLED,o))})}),s.ba.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await pl(n,r._s)}}function o3(t,e){const n=Y(t),r=n.ya.get(e);if(r&&r.Ra)return ne().add(r.key);{let i=ne();const s=n.fa.get(e);if(!s)return i;for(const o of s){const a=n.ma.get(o);i=i.unionWith(a.view.ua)}return i}}function a3(t){const e=Y(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=US.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=o3.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=t3.bind(null,e),e.Va.a_=q5.bind(null,e.eventManager),e.Va.Fa=W5.bind(null,e.eventManager),e}function l3(t){const e=Y(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=n3.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=r3.bind(null,e),e}class W0{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Pd(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return g5(this.persistence,new p5,e.initialUser,this.serializer)}createPersistence(e){return new d5(ry.jr,this.serializer)}createSharedClientState(e){return new x5}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class u3{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>H0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=s3.bind(null,this.syncEngine),await B5(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new H5}()}createDatastore(e){const n=Pd(e.databaseInfo.databaseId),r=function(s){return new C5(s)}(e.databaseInfo);return function(s,o,a,l){return new k5(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new b5(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>H0(this.syncEngine,n,0),function(){return $0.D()?new $0:new I5}())}createSyncEngine(e,n){return function(i,s,o,a,l,u,c){const d=new J5(i,s,o,a,l,u);return c&&(d.Ca=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(n){const r=Y(n);U("RemoteStore","RemoteStore shutting down."),r.C_.add(5),await fl(r),r.F_.shutdown(),r.M_.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):gr("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c3{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Rt.UNAUTHENTICATED,this.clientId=qI.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{U("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(U("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new z(R.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Qr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=uy(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Gh(t,e){t.asyncQueue.verifyOperationInProgress(),U("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await IS(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function K0(t,e){t.asyncQueue.verifyOperationInProgress();const n=await h3(t);U("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>B0(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>B0(e.remoteStore,s)),t._onlineComponents=e}function d3(t){return t.name==="FirebaseError"?t.code===R.FAILED_PRECONDITION||t.code===R.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function h3(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){U("FirestoreClient","Using user provided OfflineComponentProvider");try{await Gh(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!d3(n))throw n;La("Error using user provided cache. Falling back to memory cache: "+n),await Gh(t,new W0)}}else U("FirestoreClient","Using default OfflineComponentProvider"),await Gh(t,new W0);return t._offlineComponents}async function qS(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(U("FirestoreClient","Using user provided OnlineComponentProvider"),await K0(t,t._uninitializedComponentsProvider._online)):(U("FirestoreClient","Using default OnlineComponentProvider"),await K0(t,new u3))),t._onlineComponents}function f3(t){return qS(t).then(e=>e.syncEngine)}async function Wp(t){const e=await qS(t),n=e.eventManager;return n.onListen=X5.bind(null,e.syncEngine),n.onUnlisten=Z5.bind(null,e.syncEngine),n}function p3(t,e,n={}){const r=new Qr;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const c=new HS({next:f=>{o.enqueueAndForget(()=>jS(s,d));const y=f.docs.has(a);!y&&f.fromCache?u.reject(new z(R.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&f.fromCache&&l&&l.source==="server"?u.reject(new z(R.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(f)},error:f=>u.reject(f)}),d=new VS(xd(a.path),c,{includeMetadataChanges:!0,J_:!0});return LS(s,d)}(await Wp(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WS(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KS(t,e,n){if(!n)throw new z(R.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function m3(t,e,n,r){if(e===!0&&r===!0)throw new z(R.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Q0(t){if(!H.isDocumentKey(t))throw new z(R.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function J0(t){if(H.isDocumentKey(t))throw new z(R.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function hy(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":K()}function or(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new z(R.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=hy(t);throw new z(R.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X0{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new z(R.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new z(R.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}m3("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=WS((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new z(R.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new z(R.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new z(R.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class fy{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new X0({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new z(R.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new z(R.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new X0(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new jV;switch(r.type){case"firstParty":return new FV(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new z(R.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=G0.get(n);r&&(U("ComponentProvider","Removing Datastore"),G0.delete(n),r.terminate())}(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new bd(this.firestore,e,this._query)}}class xt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Jr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new xt(this.firestore,e,this._key)}}class Jr extends bd{constructor(e,n,r){super(e,n,xd(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new xt(this.firestore,null,new H(e))}withConverter(e){return new Jr(this.firestore,e,this._path)}}function g3(t,e,...n){if(t=Ke(t),KS("collection","path",e),t instanceof fy){const r=Te.fromString(e,...n);return J0(r),new Jr(t,null,r)}{if(!(t instanceof xt||t instanceof Jr))throw new z(R.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Te.fromString(e,...n));return J0(r),new Jr(t.firestore,null,r)}}function Er(t,e,...n){if(t=Ke(t),arguments.length===1&&(e=qI.newId()),KS("doc","path",e),t instanceof fy){const r=Te.fromString(e,...n);return Q0(r),new xt(t,null,new H(r))}{if(!(t instanceof xt||t instanceof Jr))throw new z(R.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Te.fromString(e,...n));return Q0(r),new xt(t.firestore,t instanceof Jr?t.converter:null,new H(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y3{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new AS(this,"async_queue_retry"),this.iu=()=>{const n=Kh();n&&U("AsyncQueue","Visibility state changed to "+n.visibilityState),this.zo.Qo()};const e=Kh();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const n=Kh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});const n=new Qr;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}async _u(){if(this.Ya.length!==0){try{await this.Ya[0](),this.Ya.shift(),this.zo.reset()}catch(e){if(!cl(e))throw e;U("AsyncQueue","Operation failed with retryable error: "+e)}this.Ya.length>0&&this.zo.ko(()=>this._u())}}ou(e){const n=this.Ja.then(()=>(this.tu=!0,e().catch(r=>{this.eu=r,this.tu=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw gr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.tu=!1,r))));return this.Ja=n,n}enqueueAfterDelay(e,n,r){this.su(),this.ru.indexOf(e)>-1&&(n=0);const i=ly.createAndSchedule(this,e,n,r,s=>this.au(s));return this.Xa.push(i),i}su(){this.eu&&K()}verifyOperationInProgress(){}async uu(){let e;do e=this.Ja,await e;while(e!==this.Ja)}cu(e){for(const n of this.Xa)if(n.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Xa)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){const n=this.Xa.indexOf(e);this.Xa.splice(n,1)}}function Y0(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class Qs extends fy{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new y3}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||GS(this),this._firestoreClient.terminate()}}function py(t){return t._firestoreClient||GS(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function GS(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,u,c){return new XV(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,WS(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new c3(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Js(gt.fromBase64String(e))}catch(n){throw new z(R.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Js(gt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new z(R.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Od{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class my{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new z(R.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new z(R.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ue(this._lat,e._lat)||ue(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v3=/^__.*__$/;class _3{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ui(e,this.data,this.fieldMask,n,this.fieldTransforms):new dl(e,this.data,n,this.fieldTransforms)}}class QS{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ui(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function JS(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw K()}}class Ld{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Pu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new Ld(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Tu({path:r,du:!1});return i.Au(e),i}Ru(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Tu({path:r,du:!1});return i.Pu(),i}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return _c(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(e.length===0)throw this.mu("Document fields must not be empty");if(JS(this.Iu)&&v3.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class w3{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Pd(e)}pu(e,n,r,i=!1){return new Ld({Iu:e,methodName:n,gu:r,path:tt.emptyPath(),du:!1,fu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function XS(t){const e=t._freezeSettings(),n=Pd(t._databaseId);return new w3(t._databaseId,!!e.ignoreUndefinedProperties,n)}function E3(t,e,n,r,i,s={}){const o=t.pu(s.merge||s.mergeFields?2:0,e,n,i);gy("Data must be an object, but it was:",o,r);const a=YS(r,o);let l,u;if(s.merge)l=new Bt(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const d of s.mergeFields){const f=Kp(e,d,n);if(!o.contains(f))throw new z(R.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);eA(c,f)||c.push(f)}l=new Bt(c),u=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=o.fieldTransforms;return new _3(new kt(a),l,u)}class jd extends Od{_toFieldTransform(e){if(e.Iu!==2)throw e.Iu===1?e.mu(`${this._methodName}() can only appear at the top level of your update data`):e.mu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof jd}}function T3(t,e,n){return new Ld({Iu:3,gu:e.settings.gu,methodName:t._methodName,du:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class x3 extends Od{constructor(e,n){super(e),this.yu=n}_toFieldTransform(e){const n=T3(this,e,!0),r=this.yu.map(s=>ml(s,n)),i=new Ws(r);return new TM(e.path,i)}isEqual(e){return this===e}}function I3(t,e,n,r){const i=t.pu(1,e,n);gy("Data must be an object, but it was:",i,r);const s=[],o=kt.empty();Qi(r,(l,u)=>{const c=yy(e,l,n);u=Ke(u);const d=i.Ru(c);if(u instanceof jd)s.push(c);else{const f=ml(u,d);f!=null&&(s.push(c),o.set(c,f))}});const a=new Bt(s);return new QS(o,a,i.fieldTransforms)}function S3(t,e,n,r,i,s){const o=t.pu(1,e,n),a=[Kp(e,r,n)],l=[i];if(s.length%2!=0)throw new z(R.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<s.length;f+=2)a.push(Kp(e,s[f])),l.push(s[f+1]);const u=[],c=kt.empty();for(let f=a.length-1;f>=0;--f)if(!eA(u,a[f])){const y=a[f];let g=l[f];g=Ke(g);const v=o.Ru(y);if(g instanceof jd)u.push(y);else{const w=ml(g,v);w!=null&&(u.push(y),c.set(y,w))}}const d=new Bt(u);return new QS(c,d,o.fieldTransforms)}function ml(t,e){if(ZS(t=Ke(t)))return gy("Unsupported field value:",e,t),YS(t,e);if(t instanceof Od)return function(r,i){if(!JS(i.Iu))throw i.mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.mu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.du&&e.Iu!==4)throw e.mu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=ml(a,i.Vu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Ke(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return _M(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Ue.fromDate(r);return{timestampValue:yc(i.serializer,s)}}if(r instanceof Ue){const s=new Ue(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:yc(i.serializer,s)}}if(r instanceof my)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Js)return{bytesValue:vS(i.serializer,r._byteString)};if(r instanceof xt){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:ty(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.mu(`Unsupported field value: ${hy(r)}`)}(t,e)}function YS(t,e){const n={};return WI(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Qi(t,(r,i)=>{const s=ml(i,e.Eu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function ZS(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ue||t instanceof my||t instanceof Js||t instanceof xt||t instanceof Od)}function gy(t,e,n){if(!ZS(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=hy(n);throw r==="an object"?e.mu(t+" a custom object"):e.mu(t+" "+r)}}function Kp(t,e,n){if((e=Ke(e))instanceof Dd)return e._internalPath;if(typeof e=="string")return yy(t,e);throw _c("Field path arguments must be of type string or ",t,!1,void 0,n)}const A3=new RegExp("[~\\*/\\[\\]]");function yy(t,e,n){if(e.search(A3)>=0)throw _c(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Dd(...e.split("."))._internalPath}catch{throw _c(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function _c(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new z(R.INVALID_ARGUMENT,a+t+l)}function eA(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tA{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new xt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new C3(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(nA("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class C3 extends tA{data(){return super.data()}}function nA(t,e){return typeof e=="string"?yy(t,e):e instanceof Dd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R3(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new z(R.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class P3{convertValue(e,n="none"){switch(Ui(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Oe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Fi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw K()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Qi(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new my(Oe(e.latitude),Oe(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Qg(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Va(e));default:return null}}convertTimestamp(e){const n=ni(e);return new Ue(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Te.fromString(e);me(xS(r));const i=new Ma(r.get(1),r.get(3)),s=new H(r.popFirst(5));return i.isEqual(n)||gr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k3(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class rA extends tA{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new gu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(nA("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class gu extends rA{data(e={}){return super.data(e)}}class N3{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Do(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new gu(this._firestore,this._userDataWriter,r.key,r,new Do(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new z(R.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new gu(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Do(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new gu(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Do(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),c=o.indexOf(a.doc.key)),{type:b3(a.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function b3(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return K()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gl(t){t=or(t,xt);const e=or(t.firestore,Qs);return p3(py(e),t._key).then(n=>oA(e,t,n))}class iA extends P3{constructor(e){super(),this.firestore=e}convertBytes(e){return new Js(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new xt(this.firestore,null,n)}}function D3(t,e,n){t=or(t,xt);const r=or(t.firestore,Qs),i=k3(t.converter,e,n);return sA(r,[E3(XS(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,$n.none())])}function Jo(t,e,n,...r){t=or(t,xt);const i=or(t.firestore,Qs),s=XS(i);let o;return o=typeof(e=Ke(e))=="string"||e instanceof Dd?S3(s,"updateDoc",t._key,e,n,r):I3(s,"updateDoc",t._key,e),sA(i,[o.toMutation(t._key,$n.exists(!0))])}function vy(t,...e){var n,r,i;t=Ke(t);let s={includeMetadataChanges:!1},o=0;typeof e[o]!="object"||Y0(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(Y0(e[o])){const d=e[o];e[o]=(n=d.next)===null||n===void 0?void 0:n.bind(d),e[o+1]=(r=d.error)===null||r===void 0?void 0:r.bind(d),e[o+2]=(i=d.complete)===null||i===void 0?void 0:i.bind(d)}let l,u,c;if(t instanceof xt)u=or(t.firestore,Qs),c=xd(t._key.path),l={next:d=>{e[o]&&e[o](oA(u,t,d))},error:e[o+1],complete:e[o+2]};else{const d=or(t,bd);u=or(d.firestore,Qs),c=d._query;const f=new iA(u);l={next:y=>{e[o]&&e[o](new N3(u,f,d,y))},error:e[o+1],complete:e[o+2]},R3(t._query)}return function(f,y,g,v){const w=new HS(v),m=new VS(y,w,g);return f.asyncQueue.enqueueAndForget(async()=>LS(await Wp(f),m)),()=>{w.Na(),f.asyncQueue.enqueueAndForget(async()=>jS(await Wp(f),m))}}(py(u),c,a,l)}function sA(t,e){return function(r,i){const s=new Qr;return r.asyncQueue.enqueueAndForget(async()=>e3(await f3(r),i,s)),s.promise}(py(t),e)}function oA(t,e,n){const r=n.docs.get(e._key),i=new iA(t);return new rA(t,i,e._key,r,new Do(n.hasPendingWrites,n.fromCache),e.converter)}function Z0(...t){return new x3("arrayUnion",t)}(function(e,n=!0){(function(i){oo=i})(qi),En(new ln("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Qs(new VV(r.getProvider("auth-internal")),new $V(r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new z(R.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ma(u.options.projectId,c)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Lt(_0,"4.4.0",e),Lt(_0,"4.4.0","esm2017")})();const _y=async(t,e)=>{try{const n=Er(_r,"carrito",t),r=await gl(n);if(Array.isArray(e)){const i=r.data().products;if(i.length>0){const s=[...i,e],o=[];for(const a of s){const l=o.find(u=>u.id===a.id);l?l.cantidad+a.cantidad:o.push(a)}o&&await Jo(n,{products:o})}else r.exists()&&e&&await Jo(n,{products:Z0(...e)})}else r.exists()&&e&&await Jo(n,{products:Z0(...e)})}catch(n){console.log("Error al agregar producto al carrito",n.message)}},O3=async t=>{try{const e=Er(_r,"users",t);return(await gl(e)).data()}catch(e){console.log(e.message)}},ci=S.createContext(),L3=({children:t})=>{const[e,n]=S.useState(null),[r,i]=S.useState(!0),[s,o]=S.useState(!1),[a,l]=S.useState(null),[u,c]=S.useState([]),[d,f]=S.useState([]),[y,g]=S.useState(null);return S.useEffect(()=>{bN(UO,async v=>{if(v){n(v);const w=await O3(v==null?void 0:v.uid);w?(l(w),o(!0),await _y(v==null?void 0:v.uid,JSON.parse(window.localStorage.getItem("products"))),localStorage.removeItem("products"),c([])):o(!1)}i(!1)})},[]),h.jsx(ci.Provider,{value:{currentUser:e,isRegistered:s,loading:r,setLoading:i,user:a,productsLocalStorage:u,setProductsLocalStorage:c,products:d,setProducts:f,totalPay:y,setTotalPay:g},children:t})},wy=async(t,e)=>{try{const n=Er(_r,"carrito",t),r=await gl(n);if(r.exists()){const s=r.data().products,o=s.findIndex(a=>a.id===e);o!==-1?(s[o].cantidad+=1,await Jo(n,{products:s})):console.log("El producto no existe en el carrito")}else console.log("El carrito no existe para este usuario")}catch(n){console.log("Error al aumentar la cantidad del producto:",n.message)}},j3=()=>{const t=Vt(),{id:e}=nj(),{product:n}=dr(w=>w.product),[r,i]=S.useState(1),{currentUser:s,productsLocalStorage:o,setProductsLocalStorage:a}=S.useContext(ci),{name:l,price:u,image:c,stock:d}=n;S.useEffect(()=>{t(yp(e))},[e]);const f=()=>{if(d>0)if(s){const w=o.find(m=>m.id==e);w?(w.cantidad+=r,a([...o])):_y(s.uid,{name:l,price:u,image:c[0],stock:d,cantidad:r,id:e}),wy(s.uid,e)}else{const w=JSON.parse(localStorage.getItem("products"))||[];console.log(w);const m=w.find(p=>p.id==e);if(m){if(m.cantidad>=d)return;m.cantidad+=r,localStorage.setItem("products",JSON.stringify(w)),a(w)}else w.push({name:l,price:u,image:c,cantidad:r,id:e,stock:d}),localStorage.setItem("products",JSON.stringify(w)),a(w)}},y=()=>{i(r+1)},g=()=>{i(r-1)},v=n.Reviews;return h.jsxs("main",{className:"w-auto h-full flex flex-col items-center mt-10 mx-8 gap-16",children:[h.jsxs("section",{className:"flex flex-row items-center gap-2 h-full",children:[h.jsx("figure",{className:"flex-1 h-full flex items-center w-auto justify-center gap-10",children:h.jsx("img",{className:"h-full",src:n.image})}),h.jsxs("dl",{className:"flex-1 flex flex-col p-7 w-auto h-auto bg-primaryLight/30 rounded-xl",children:[h.jsxs("section",{className:"flex flex-col w-full items-start ",children:[h.jsx("dt",{className:"font-bebas text-2xl",children:n.name}),h.jsxs("dd",{className:"font-montserrat mb-3",children:[" ","⭐ ⭐ ⭐ ⭐ ⭐ ",v," opiniones"]}),h.jsxs("span",{className:"font-montserrat font-medium text-primary text-2xl",children:["$",n.price]})]}),h.jsxs("section",{className:"flex items-center h-12 gap-2.5 mt-1",children:[h.jsxs("figure",{className:"flex px-3 py-2 items-center gap-2 font-bebas rounded-full border-solid border-2 border-black text-black",children:[h.jsx("button",{className:"transition hover:scale-150 hover:text-primary px-2",onClick:g,children:"-"}),r,h.jsx("button",{className:"transition hover:scale-150 hover:text-primary px-2",onClick:y,children:"+"})]}),h.jsx("button",{className:"addButton",onClick:f,children:"AGREGAR"})]}),h.jsxs("section",{className:"flex flex-col py-2.5 gap-2.5 font-montserrat",children:[h.jsx("dd",{children:n.description}),h.jsxs("div",{children:[h.jsx("dt",{className:"font-bold text-xl",children:"Detalles"}),h.jsxs("ul",{className:"list-disc",children:[h.jsxs("li",{className:"ml-5",children:[h.jsx("span",{className:"font-bold",children:"Size: "}),n.size]}),h.jsxs("li",{className:"ml-5",children:[h.jsx("span",{className:"font-bold",children:"Dosis: "}),n.dose]}),h.jsxs("li",{className:"ml-5",children:[h.jsx("span",{className:"font-bold",children:"Stock: "}),n.stock]})]})]})]})]})]}),h.jsxs("section",{className:"flex flex-col h-48 w-full gap-8",children:[h.jsxs("div",{className:"flex items-center justify-center w-full px-10",children:[h.jsxs("blockquote",{className:"flex w-1/3 h-full gap-5 items-center px-4",children:[h.jsx("figure",{className:"w-[82px] h-[82px] rounded-full bg-primaryLight"}),h.jsxs("dl",{className:"flex flex-col  w-full",children:[h.jsxs("dt",{className:"font-bebas flex flex-col text-lg",children:["User 1",h.jsx("span",{className:"text-sm",children:"⭐ ⭐ ⭐ ⭐ ⭐"})]}),h.jsx("dd",{className:"font-montserrat",children:"Muy buen producto, llevo dos días usandolo y ya parezco Hulk"})]})]}),h.jsxs("blockquote",{className:"flex w-1/3 h-full gap-5 items-center px-4",children:[h.jsx("figure",{className:"w-[82px] h-[82px] rounded-full bg-primaryLight"}),h.jsxs("dl",{className:"flex flex-col w-full",children:[h.jsxs("dt",{className:"font-bebas flex flex-col text-lg",children:["User 1",h.jsx("span",{className:"text-sm",children:"⭐ ⭐ ⭐ ⭐ ⭐"})]}),h.jsx("dd",{className:"font-montserrat ",children:"Muy buen producto, llevo dos días usandolo y ya parezco Hulk"})]})]}),h.jsxs("blockquote",{className:"flex w-1/3 h-full gap-5 items-center px-4",children:[h.jsx("figure",{className:"w-[82px] h-[82px] rounded-full bg-primaryLight"}),h.jsxs("dl",{className:"flex flex-col  w-full",children:[h.jsxs("dt",{className:"font-bebas flex flex-col text-lg",children:["User 1",h.jsx("span",{className:"text-sm",children:"⭐ ⭐ ⭐ ⭐ ⭐"})]}),h.jsx("dd",{className:"font-montserrat",children:"Muy buen producto, llevo dos días usandolo y ya parezco Hulk"})]})]})]}),h.jsx("button",{className:"p-2 font-bebas text-xl text-primaryDark hover:text-tertiary transition",children:"Ver más"})]}),h.jsx("section",{})]})},V3="_container_s3phc_3",M3="_Image_s3phc_47",F3="_texto_s3phc_65",U3="_addButton_s3phc_83",$3={container:V3,Image:M3,texto:F3,addButton:U3};function Gp({id:t,name:e,price:n,image:r,stock:i}){const{currentUser:s,productsLocalStorage:o,setProductsLocalStorage:a}=S.useContext(ci),l=()=>{if(i>0)if(s){const u=o.find(c=>c.id==t);u?(u.cantidad+=1,a([...o])):_y(s.uid,{name:e,price:n,image:r[0],stock:i,cantidad:1,id:t}),wy(s.uid,t)}else{const u=JSON.parse(localStorage.getItem("products"))||[];console.log(u);const c=u.find(d=>d.id==t);if(c){if(c.cantidad>=i)return;c.cantidad+=1,localStorage.setItem("products",JSON.stringify(u)),a(u)}else u.push({name:e,price:n,image:r,cantidad:1,id:t,stock:i}),localStorage.setItem("products",JSON.stringify(u)),a(u)}};return h.jsx("section",{className:"flex flex-col justify-center items-center w-56 py-5 my-3 shadow-md rounded-xl transition hover:scale-110 bg-white",children:h.jsx("div",{className:"flex flex-col justify-center items-center",children:h.jsxs("div",{className:"flex flex-col items-center font-bebas text-center gap-1",children:[h.jsx(Rn,{to:`/detail/${t}`,children:h.jsx("img",{src:r,alt:"IMG",className:$3.Image})}),h.jsx("h3",{children:e}),h.jsxs("p",{className:"text-black text-lg",children:["$",n]}),h.jsx("div",{className:"h-10",children:h.jsx("button",{className:"addButton",onClick:l,children:"AGREGAR"})})]})})})}const B3=()=>{const{copyProducts:t,loading:e,filters:n}=dr(o=>o.product),r=t.slice(2,7),i=Vt(),s=o=>{console.log(o.target.value),i(vp({...n,category:o.target.value}))};return h.jsx("div",{children:e?h.jsx("p",{children:"Cargando..."}):h.jsxs(h.Fragment,{children:[h.jsx("div",{className:" bg-[url('/images/Rectangle.jpg')] bg-center bg-no-repeat bg-cover",children:h.jsxs("section",{className:"header flex w-full h-[420px] justify-evenly bg-black/60",children:[h.jsx("section",{className:"textHeader flex items-center text-white font-montserrat text-4xl font-extralight	",children:h.jsxs("span",{children:["Vuelvete imparable con el ",h.jsx("br",{})," Nuevo combo"," ",h.jsx("strong",{children:"Beast"})]})}),h.jsx("section",{className:"offerCard flex justify-center items-center",children:h.jsx(Gp,{...t[0]})})]})}),h.jsx("div",{className:"categories flex justify-center bg-primaryLight py-5",children:h.jsxs("section",{className:"buttonsCategories flex gap-12",children:[h.jsx(Rn,{to:"/productsPage",children:h.jsx("button",{className:"categoriesButton",value:"Proteína",onClick:s,children:"PROTEINA"})}),h.jsx(Rn,{to:"/productsPage",children:h.jsx("button",{className:"categoriesButton",value:"Creatina",onClick:s,children:"CREATINA"})}),h.jsx(Rn,{to:"/productsPage",children:h.jsx("button",{className:"categoriesButton",value:"Energía",onClick:s,children:"ENERGIA"})}),h.jsx(Rn,{to:"/productsPage",children:h.jsx("button",{className:"categoriesButton",value:"Control de peso",onClick:s,children:"CONTROL DE PESO"})})]})}),h.jsx("div",{className:"destacadosTitle font-bebas text-center text-[40px] pt-8",children:h.jsx("span",{children:"DESTACADOS"})}),h.jsx("div",{className:"destacadosCards flex justify-evenly",children:r.map(o=>h.jsx(Gp,{...o},o.id))}),h.jsxs("div",{className:"photosContainer flex justify-evenly h-[600px] my-[60px]",children:[h.jsxs("section",{className:"photoDiv1 flex flex-col items-center justify-between w-[45%] bg-[url('/images/menconcapucha.jpg')] bg-no-repeat bg-cover",children:[h.jsx("section",{className:"descriptionText bg-primaryLight w-[90%] rounded-[20px] font-bebas text-2xl py-2.5 px-5 mt-3.5 text-center ",children:h.jsx("p",{children:"Los productos Mass Gain están compuestos principalmente por carbohidratos. Su función principal es contribuir en la ganancia de masa muscular y en el aumento de peso."})}),h.jsx("section",{className:"productSection flex justify-center items-end h-1/2",children:h.jsxs("div",{className:"productDescription bg-white flex items-center w-[70%] h-1/2 rounded-[20px] mb-[8%] relative",children:[h.jsx(Rn,{to:`/detail/${t[20].id}`,children:h.jsx("img",{src:t[20].image,alt:"",className:"images-inphoto"})}),h.jsx("p",{className:"parrafoProducto font-montserrat text-xs font-semibold m-[5%]",children:"ZMA es un complemento nutricional formulado para aumentar la masa muscular con una potente mezcla de Zinc, Magnesio y Vitamina B6El Zinc soporta la función celular, el Magnesio mejora la fuerza y resistencia y la Vitamina B6 ayuda a un mejor descanso"}),h.jsx(Rn,{to:`/detail/${t[20].id}`,children:h.jsx("button",{className:"addButton absolute top-[90%] left-[40%] ",children:"Ver detalles"})})]})})]}),h.jsxs("section",{className:"photoDiv1 flex flex-col items-center justify-between w-[45%] bg-[url('/images/mujersogas.jpg')] bg-no-repeat bg-cover bg-center",children:[h.jsx("section",{className:"descriptionText bg-primaryLight w-[90%] rounded-[20px] font-bebas text-2xl py-2.5 px-5 mt-3.5 text-center ",children:h.jsx("p",{children:"Las creatinas aportan energía y vitalidad, fomentando no solo el rendimiento deportivo, sino que también el rendimiento mental."})}),h.jsx("section",{className:"productSection flex justify-center items-end h-1/2",children:h.jsxs("div",{className:"productDescription bg-white flex items-center w-[70%] h-1/2 rounded-[20px] mb-[8%] relative",children:[h.jsx(Rn,{to:`/detail/${t[9].id}`,className:"h-full w-full flex justify-center items-center",children:h.jsx("img",{src:t[9].image,alt:""})}),h.jsx("p",{className:"parrafoProducto font-montserrat text-xs font-semibold m-[5%]",children:"Nuestra Creatina Micronizada es un excelente suplemento pre entrenamiento ya que colabora en la formación de los componentes energéticos, mejor la potencia muscular y retrasa la fatiga muscular, preparando al cuerpo para un mejor rendimiento físico"}),h.jsx(Rn,{to:`/detail/${t[9].id}`,children:h.jsx("button",{className:"addButton absolute top-[90%] left-[40%] ",children:"Ver detalles"})})]})})]})]}),h.jsx("div",{className:"font-bebas text-center text-[40px] pt-8",children:h.jsxs("span",{children:["¿POR QUE"," ",h.jsx("span",{className:"text-primary",children:"VITALFIT?"})]})}),h.jsxs("div",{className:"characteristicsViatlFit flex flex-wrap justify-center gap-[80px] mt-[30px] mb-[90px]",children:[h.jsxs("div",{className:"characteristic flex w-[350px] flex-col items-center text-center",children:[h.jsx("img",{src:"images/confianza.jpg",alt:""}),h.jsx("h6",{className:"font-bebas text-2xl text-primary",children:"CONFIANZA"}),h.jsx("p",{children:"Comprometidos con tu bienestar, aseguramos productos consistentes y de alta calidad"})]}),h.jsxs("div",{className:"characteristic flex w-[350px] flex-col items-center text-center",children:[h.jsx("img",{src:"images/transparencia.jpg",alt:""}),h.jsx("h6",{className:"font-bebas text-2xl text-primary",children:"TRANSPARENCIA"}),h.jsx("p",{children:"Información clara sobre nuestras vitaminas y suplementos. Creemos en construir una relación honesta, y tomes decisiones informadas sobre tu bienestar."})]}),h.jsxs("div",{className:"characteristic flex w-[350px] flex-col items-center text-center",children:[h.jsx("img",{src:"images/respeto.jpg",alt:""}),h.jsx("h6",{className:"font-bebas text-2xl text-primary",children:"RESPETO"}),h.jsx("p",{children:"Tu bienestar es nuestra prioridad, y nos esforzamos por ganarnos tu confianza con cada elección que hagas con nosotros."})]}),h.jsxs("div",{className:"characteristic flex w-[350px] flex-col items-center text-center",children:[h.jsx("img",{src:"images/orientacion.jpg",alt:""}),h.jsx("h6",{className:"font-bebas text-2xl text-primary",children:"ORIENTACION"}),h.jsx("p",{children:"Seguimos estándares rigurosos. Nuestras directrices garantizan la calidad y eficacia de cada vitamina y suplemento proteico que ofrecemos."})]}),h.jsxs("div",{className:"characteristic flex w-[350px] flex-col items-center text-center",children:[h.jsx("img",{src:"images/empatia.jpg",alt:""}),h.jsx("h6",{className:"font-bebas text-2xl text-primary",children:"EMPATIA"}),h.jsx("p",{children:"Comprendemos tus necesidades y aspiraciones de bienestar, y trabajamos para ser parte de tu jornada hacia una vida más saludable y plena."})]}),h.jsxs("div",{className:"characteristic flex w-[350px] flex-col items-center text-center",children:[h.jsx("img",{src:"images/cercania.jpg",alt:""}),h.jsx("h6",{className:"font-bebas text-2xl text-primary",children:"CERCANIA"}),h.jsxs("p",{children:[" ","Estamos cerca de ti en tu búsqueda de bienestar, ofreciendo vitaminas y suplementos de calidad, queriendo hacer parte de proceso saludable."," "]})]})]}),h.jsxs("div",{className:"flex justify-center gap-10 my-10",children:[h.jsx("div",{className:"vasoFoto 2-[40%]",children:h.jsx("img",{src:"images/vaso.jpg",alt:""})}),h.jsxs("div",{className:"noestasSeguroContainer flex w-[30%] bg-primaryLight font-bebas text-[42px] p-2.5 flex-col justify-around",children:[h.jsxs("div",{className:"w-[40%]",children:[h.jsx("p",{children:"¿No estas seguro de qué es mejor para ti?"}),h.jsx("p",{className:"font-montserrat text-xl",children:"No te preocupes!"})]}),h.jsx("button",{className:"w-full categoriesButton",children:"SEPARA UNA ASESORIA"})]})]}),h.jsxs("div",{className:"bg-tertiary flex",children:[h.jsx("div",{className:"w-3/5 flex items-center justify-center",children:h.jsx("img",{src:"images/suplementos.jpg",alt:"",className:"w-4/6 m-3"})}),h.jsxs("div",{className:"flex flex-col justify-center items-start w-1/4 gap-5 ",children:[h.jsx("div",{className:"w-2/4",children:h.jsxs("p",{className:"font-['Bebas_Neue'] text-3xl",children:["SUSCRIBITE A ",h.jsx("br",{})," NUESTRO NEWSLETTER"]})}),h.jsxs("div",{className:"flex items-center h-8  w-1/3",children:[h.jsx("input",{type:"text",placeholder:"Ingresa tu E-mail",className:"border-black h-full text-center    rounded-l-lg font-['Montserrat']"}),h.jsx("button",{className:"bg-primary text-white   rounded-r-lg font-['Bebas_neue'] text-lg px-5 h-full transition hover:scale-110 duration-300",children:"ENVIAR"})]})]})]})]})})},z3="_Container_326zu_3",H3="_cardsContainer_326zu_25",q3="_controls_326zu_47",W3="_search_326zu_65",K3="_searchInput_326zu_87",G3="_searchButton_326zu_107",Q3="_filter_326zu_137",J3="_line_326zu_157",X3="_title_326zu_169",Y3="_Columna_326zu_183",Z3="_Input_326zu_195",eF="_Checks_326zu_209",tF="_Check_326zu_209",nF="_CheckboxLabel_326zu_227",rF="_paginado_326zu_243",iF="_buttonPag_326zu_263",sF="_filtro_326zu_289",oF="_pag_326zu_243",aF="_Orden_326zu_325",lF={Container:z3,cardsContainer:H3,controls:q3,search:W3,searchInput:K3,searchButton:G3,filter:Q3,line:J3,title:X3,Columna:Y3,Input:Z3,Checks:eF,Check:tF,CheckboxLabel:nF,paginado:rF,buttonPag:iF,filtro:sF,pag:oF,Orden:aF},uF=()=>{const t=Vt(),{filters:e,categories:n,products:r}=dr(v=>v.product),[i,s]=S.useState({minPrice:"",maxPrice:""}),[o,a]=S.useState(""),l=v=>{console.log(v.target.value),t(vp({...e,category:v.target.value})),r.length||alert("No hay productos coincidentes con la búsqueda")},u=v=>{const w=v.target.name,m=v.target.value;s({...i,[w]:m})},c=v=>{t(Oh()),t(Lh()),t(vp({...e,minPrice:i.minPrice,maxPrice:i.maxPrice})),r.length||alert("No hay productos coincidentes con la búsqueda")},d=v=>{a(v.target.value)},f=()=>{const v=document.getElementById("orders"),w=document.getElementById("categories");v.selectedIndex=0,w.selectedIndex=0,s({minPrice:"",maxPrice:""}),t(Oh()),t(Lh()),t(RL(o)),r.length||alert("No hay productos coincidentes con la búsqueda")},y=v=>{const w=v.target.value;let m={};w.includes("price")?m=w==="priceA"?{sortByPrice:"ASC",sortByName:""}:{sortByPrice:"DESC",sortByName:""}:m=w==="nameA"?{sortByName:"ASC",sortByPrice:""}:{sortByName:"DESC",sortByPrice:""},t(CL(m))},g=()=>{const v=document.getElementById("orders"),w=document.getElementById("categories");v.selectedIndex=0,w.selectedIndex=0,a(""),s({minPrice:"",maxPrice:""}),t(Oh()),t(AL()),t(Lh())};return h.jsxs("div",{className:"mt-2 font-bebas",children:[h.jsxs("div",{className:"h-40 flex flex-col items-center w-full bg-primaryLight rounded-xl p-5",children:[h.jsx("h3",{className:"text-2xl mb-2",children:"Buscar por nombre"}),h.jsx("input",{className:"mb-2 rounded border-none w-80 placeholder:text-center",type:"search",placeholder:"Ingrese el nombre de un producto",value:o,onChange:d}),h.jsx("button",{onClick:f,className:" bg-teal-400 text-xl text-white w-32 p-1 rounded-xl mx-auto mt-2",children:"Buscar"})]}),h.jsxs("div",{className:"mt-4 flex flex-col justify-start w-full bg-primaryLight rounded-xl p-5",children:[h.jsxs("div",{className:"flex justify-baseline items-center",children:[h.jsx("h3",{className:"text-xl",children:"Categorías"}),h.jsxs("select",{id:"categories",onChange:l,className:" appearance-none focus:ring-0 border-none rounded-xl w-44 ml-10 focus:outline-none  hover:bg-slate-100 cursor-pointer",value:e.category?e.category:"",children:[h.jsx("option",{value:"",className:"appearance-none hover:bg-teal-500 focus:bg-teal-500",children:"Todas las categorias"}),n.map((v,w)=>h.jsx("option",{value:v.name,children:v.name},w))]})]}),h.jsx("h3",{className:"text-xl  my-2",children:"Rango de Precios"}),h.jsxs("div",{className:"flex items-center justify-center",children:[h.jsx("input",{type:"text",placeholder:"Min",name:"minPrice",value:i.minPrice,onChange:u,className:"w-24 border-none mx-2 rounded-xl focus:ring-0"}),h.jsx("span",{children:" - "}),h.jsx("input",{type:"text",placeholder:"Max",name:"maxPrice",value:i.maxPrice,onChange:u,className:"w-24 border-none mx-2 rounded-xl focus:ring-0"}),h.jsx("button",{onClick:c,children:h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"w-6 h-6",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m5.25 4.5 7.5 7.5-7.5 7.5m6-15 7.5 7.5-7.5 7.5"})})})]}),h.jsxs("div",{className:"flex justify-baseline items-center mt-3",children:[h.jsx("h3",{className:"text-xl",children:"Ordenar por"}),h.jsxs("select",{id:"orders",onChange:y,className:" appearance-none border-none rounded-xl w-44 ml-7 focus:ring-0 cursor-pointer hover:bg-slate-100",children:[h.jsx("option",{value:"",children:"Más relevantes"}),h.jsx("option",{value:"priceD",children:"Mayor precio"}),h.jsx("option",{value:"priceA",children:"Menor precio"}),h.jsx("option",{value:"nameA",children:"A - Z"}),h.jsx("option",{value:"nameD",children:"Z - A"})]})]}),h.jsx("button",{onClick:g,className:"bg-teal-400 text-white text-xl w-32 p-1 rounded-xl mx-auto mt-3",children:"Reset"})]})]})};function cF(){const t=Vt(),{products:e,currentPage:n,totalPages:r,filters:i,sorts:s,shoppingCart:o}=dr(c=>c.product);S.useEffect(()=>{t(Nx())},[t,i,s]);const a=(n-1)*8,l=()=>{n>1&&t(Y_(n-1))},u=()=>{n<r&&t(Y_(n+1))};return h.jsxs("div",{className:"flex h-full p-2 w-[ '97vw' ]",children:[h.jsx(uF,{}),h.jsxs("main",{className:"flex flex-1 flex-col justify-center gap-20 h-full ",children:[h.jsx("section",{className:lF.cardsContainer,children:e.slice(a,a+8).map(({id:c,name:d,price:f,image:y,stock:g})=>h.jsx(Gp,{id:c,name:d,price:f,image:y,stock:g},c))}),h.jsxs("section",{className:"flex items-center justify-center gap-2 mr-5 mb-5",children:[h.jsx("button",{onClick:l,className:"font-bebas p-2 hover:text-primary",children:"prev"}),h.jsx("span",{className:"font-bebas text-primary text-xl mb-1",children:n}),h.jsx("button",{onClick:u,className:"font-bebas p-2 hover:text-primary",children:"next"})]})]})]})}const aA=({className:t})=>h.jsxs("svg",{className:t,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[h.jsx("path",{d:"M14.5 9.50002L9.5 14.5M9.49998 9.5L14.5 14.5",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),h.jsx("path",{d:"M7 3.33782C8.47087 2.48697 10.1786 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12C2 10.1786 2.48697 8.47087 3.33782 7",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"})]}),dF=({className:t})=>h.jsx("svg",{className:t,viewBox:"0 0 42 43",xmlns:"http://www.w3.org/2000/svg",children:h.jsx("path",{d:"M34.0621 12.3337C33.2573 11.1611 32.1802 10.2047 30.9247 9.54796C29.6692 8.89118 28.2735 8.5539 26.8591 8.56553C25.7613 8.54431 24.6716 8.75785 23.6617 9.19206C22.6518 9.62628 21.7447 10.2713 21.0001 11.0847C20.2546 10.2724 19.3473 9.62807 18.3376 9.19393C17.3279 8.7598 16.2386 8.54565 15.1411 8.56553C13.7266 8.5539 12.3309 8.89118 11.0754 9.54796C9.81992 10.2047 8.74284 11.1611 7.93805 12.3337C7.1174 13.6482 6.65091 15.1558 6.58462 16.7075C6.51833 18.2593 6.85453 19.8017 7.56005 21.1825C8.63065 23.6058 10.1164 25.8201 11.9491 27.7238C14.0244 29.9184 16.2949 31.9167 18.7321 33.6936C19.3916 34.1756 20.1854 34.4351 21.0001 34.4351C21.8147 34.4351 22.6085 34.1756 23.2681 33.6936C25.7058 31.9175 27.9764 29.9191 30.0511 27.7238C31.8838 25.8201 33.3694 23.6058 34.4401 21.1825C35.1456 19.8017 35.4818 18.2593 35.4155 16.7075C35.3492 15.1558 34.8827 13.6482 34.0621 12.3337ZM32.6761 20.4415C31.6812 22.6496 30.3173 24.6689 28.6441 26.4113C26.6499 28.5109 24.4709 30.424 22.1341 32.127C21.8069 32.3744 21.409 32.5081 21.0001 32.5081C20.5911 32.5081 20.1932 32.3744 19.8661 32.127C17.5297 30.4233 15.3509 28.5103 13.3561 26.4113C11.6745 24.6757 10.3096 22.6549 9.32405 20.4415C8.75211 19.3483 8.47083 18.1243 8.50764 16.8889C8.54444 15.6535 8.89806 14.4488 9.53405 13.3921C10.1659 12.4887 11.0068 11.7543 11.9839 11.2526C12.9609 10.751 14.0447 10.4971 15.1411 10.5131C16.0331 10.4829 16.9202 10.6579 17.7353 11.0246C18.5503 11.3914 19.2718 11.9404 19.8451 12.63C20.1616 12.9354 20.5829 13.1059 21.0211 13.1059C21.4592 13.1059 21.8805 12.9354 22.1971 12.63C22.7659 11.9461 23.4806 11.4006 24.2878 11.034C25.0951 10.6674 25.974 10.4894 26.8591 10.5131C27.9555 10.4971 29.0392 10.751 30.0162 11.2526C30.9933 11.7543 31.8342 12.4887 32.4661 13.3921C33.102 14.4488 33.4557 15.6535 33.4925 16.8889C33.5293 18.1243 33.248 19.3483 32.6761 20.4415Z",fill:"current"})}),Vd=({className:t})=>h.jsx(Jn,{to:"home",children:h.jsxs("svg",{className:t,viewBox:"0 0 290 578",xmlns:"http://www.w3.org/2000/svg",children:[h.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M116.763 22.5315C76.1601 29.4039 42.3028 53.1207 23.763 72.8144L9 58.6371C29.8444 36.4954 67.4896 10.0098 113.396 2.23973C159.964 -5.64222 214.014 5.94546 266 58.4514L251.595 73C204.171 25.1011 156.705 15.7711 116.763 22.5315Z",fill:"#D74545"}),h.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M158.237 556.086C198.84 549.402 232.697 526.335 251.237 507.181L266 520.969C245.156 542.505 207.51 568.264 161.604 575.822C115.036 583.488 60.9863 572.217 9 521.15L23.4046 507C70.8293 553.587 118.295 562.661 158.237 556.086Z",fill:"#D74545"}),h.jsx("path",{d:"M236.073 95.1334H255.702V202.2H288V220.045H236.073V95.1334Z",fill:"#D74545"}),h.jsx("path",{d:"M179.618 95.1334H206.207L226.549 220.045H206.921L203.352 195.241V195.598H181.046L177.477 220.045H159.276L179.618 95.1334ZM201.032 178.645L192.288 116.904H191.931L183.366 178.645H201.032Z",fill:"#D74545"}),h.jsx("path",{d:"M122.987 112.978H102.466V95.1334H163.137V112.978H142.616V220.045H122.987V112.978Z",fill:"#D74545"}),h.jsx("path",{d:"M73.3116 95.1334H92.9405V220.045H73.3116V95.1334Z",fill:"#D74545"}),h.jsx("path",{d:"M0 95.1334H19.8074L32.6554 192.029H33.0123L45.8603 95.1334H63.8832L44.968 220.045H18.9151L0 95.1334Z",fill:"#D74545"}),h.jsx("path",{d:"M211.507 267.706H172.41V233.709H288V267.706H248.903V471.688H211.507V267.706Z",fill:"#475157"}),h.jsx("path",{d:"M116.865 233.709H154.261V471.688H116.865V233.709Z",fill:"#475157"}),h.jsx("path",{d:"M0 233.709H98.9313V267.706H37.3967V334H85.6725V367.997H37.3967V471.688H0V233.709Z",fill:"#475157"})]})}),hF=({className:t})=>h.jsxs("svg",{className:t,viewBox:"0 0 76 151",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[h.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M30.886 5.88627C20.3124 7.68164 11.4953 13.8776 6.66729 19.0224L2.82275 15.3187C8.25098 9.53425 18.0544 2.61501 30.0092 0.58512C42.1362 -1.474 56.2118 1.55323 69.7498 15.2702L65.9987 19.0709C53.6485 6.55756 41.2875 4.12013 30.886 5.88627Z",fill:"white"}),h.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M41.6867 145.275C52.2604 143.529 61.0774 137.503 65.9055 132.499L69.75 136.101C64.3218 141.727 54.5183 148.457 42.5635 150.431C30.4365 152.434 16.361 149.489 2.82291 136.148L6.5741 132.452C18.9243 144.622 31.2853 146.993 41.6867 145.275Z",fill:"white"}),h.jsx("path",{d:"M61.9561 24.8533H67.0677V52.824H75.4788V57.4858H61.9561V24.8533Z",fill:"white"}),h.jsx("path",{d:"M47.2546 24.8533H54.1786L59.4762 57.4858H54.3645L53.4351 51.0059V51.0991H47.6264L46.697 57.4858H41.957L47.2546 24.8533ZM52.831 46.6704L50.554 30.5407H50.461L48.2305 46.6704H52.831Z",fill:"white"}),h.jsx("path",{d:"M32.5071 29.5151H27.1631V24.8533H42.9629V29.5151H37.6188V57.4858H32.5071V29.5151Z",fill:"white"}),h.jsx("path",{d:"M19.5708 24.8533H24.6825V57.4858H19.5708V24.8533Z",fill:"white"}),h.jsx("path",{d:"M0.479004 24.8533H5.63717L8.98301 50.1668H9.07595L12.4218 24.8533H17.1152L12.1894 57.4858H5.40482L0.479004 24.8533Z",fill:"white"}),h.jsx("path",{d:"M55.5588 69.9372H45.3774V61.0557H75.479V69.9372H65.2976V123.227H55.5588V69.9372Z",fill:"#D9D9D9"}),h.jsx("path",{d:"M30.9126 61.0557H40.6513V123.227H30.9126V61.0557Z",fill:"#D9D9D9"}),h.jsx("path",{d:"M0.479004 61.0557H26.2424V69.9372H10.2177V87.2563H22.7895V96.1379H10.2177V123.227H0.479004V61.0557Z",fill:"#D9D9D9"})]}),fF=({className:t})=>h.jsxs("svg",{className:t,viewBox:"0 0 42 43",xmlns:"http://www.w3.org/2000/svg",children:[h.jsx("path",{d:"M17.5 39C19.433 39 21 37.433 21 35.5C21 33.567 19.433 32 17.5 32C15.567 32 14 33.567 14 35.5C14 37.433 15.567 39 17.5 39Z",fill:"current"}),h.jsx("path",{d:"M28 39C29.933 39 31.5 37.433 31.5 35.5C31.5 33.567 29.933 32 28 32C26.067 32 24.5 33.567 24.5 35.5C24.5 37.433 26.067 39 28 39Z",fill:"current"}),h.jsx("path",{d:"M37.8 14.15C37.1 13.275 36.05 12.75 35 12.75H15.05L14 6.8C13.65 5.225 12.25 4 10.5 4H7C5.075 4 3.5 5.575 3.5 7.5C3.5 9.425 5.075 11 7 11H7.525L10.5 25.7C10.85 27.45 12.25 28.5 14 28.5H31.5C33.075 28.5 34.3 27.45 34.825 26.05L38.325 17.3C38.675 16.25 38.5 15.2 37.8 14.15Z",fill:"current"})]}),pF=({className:t})=>h.jsxs("svg",{className:t,viewBox:"0 0 42 43",xmlns:"http://www.w3.org/2000/svg",children:[h.jsx("path",{d:"M29.75 16.25C29.75 13.8333 28.77 11.6458 27.188 10.0638C25.6043 8.48 23.4167 7.5 21 7.5C18.5833 7.5 16.3957 8.48 14.812 10.0638C13.23 11.6458 12.25 13.8333 12.25 16.25C12.25 18.6667 13.23 20.8542 14.812 22.4362C16.3957 24.02 18.5833 25 21 25C23.4167 25 25.6043 24.02 27.188 22.4362C28.77 20.8542 29.75 18.6667 29.75 16.25Z",fill:"current"}),h.jsx("path",{d:"M10.5 33.75C10.5 35.5 14.4375 37.25 21 37.25C27.1565 37.25 31.5 35.5 31.5 33.75C31.5 30.25 27.3805 26.75 21 26.75C14.4375 26.75 10.5 30.25 10.5 33.75Z",fill:"current"})]}),mF=t=>{let e={},n=/^[0-9]+$/,r=/^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9-.]+$/,i=/^(?=.*[A-Z])(?=.*\d).+/;return t.nombre||(e.nombre="El nombre debe ser requerido"),n.test(t.dni)||(e.dni="El DNI debe contener sólo numeros"),r.test(t.correo)||(e.correo="El email es invalido"),i.test(t.contraseña)||(e.contraseña="Debe tener al menos un número y una letra en mayúscula"),t.confirmarContraseña!==t.contraseña&&(e.confirmarContraseña="La contraseña no coincide con la anterior"),e},gF=()=>{const[t,e]=S.useState({nombre:"",dni:"",correo:"",contraseña:"",confirmarContraseña:""}),[n,r]=S.useState({});Vt();const i=s=>{const{name:o,value:a}=s.target;e({...t,[o]:a}),r(mF({...t,[o]:a}))};return h.jsxs("div",{className:"relative",children:[h.jsx(Vd,{className:"w-[34px] h-[69px] absolute top-10 left-10"}),h.jsx("div",{className:"flex items-center justify-center",children:h.jsx("img",{className:"w-full h-full object-cover",src:"src/icons/image-loginPage.jpeg"})}),h.jsx("span",{style:{fontFamily:"NuevaFuente, montserrat",color:"#D9D9D9"},className:"absolute top-10 right-14 text-3xl",children:"Soy"}),h.jsx("span",{style:{fontFamily:"NuevaFuente, bebas neue",color:"#D74545 "},className:"absolute top-20 right-11 text-4xl",children:"ADMIN"}),h.jsx("div",{className:"w-100% flex items-center justify-center",children:h.jsxs("div",{className:"absolute top-40 z-20 justify-center",style:{background:"rgba(71, 81, 87, 0.8)",padding:"15px",borderRadius:"25px",boxShadow:"0 4px 6px rgba(10, 10, 10, 0.7)",width:"400px"},children:[h.jsx("h1",{style:{fontFamily:"NuevaFuente, bebas neue",color:" #D9D9D9",fontSize:"1.4rem",marginBottom:"8px"},className:"text-lg font-bold text-64x43",children:"CREAR CUENTA"}),h.jsx("label",{style:{fontFamily:"NuevaFuente, bebas neue",color:" #D9D9D9",fontSize:"1.4rem"},children:"NOMBRE"}),h.jsx("br",{}),h.jsx("input",{className:"w-full h-9",style:{borderRadius:"10px",marginBottom:"10px"},name:"nombre",type:"text",placeholder:" Nombre...",value:t.nombre,onChange:i}),n.nombre&&h.jsx("p",{className:"text-red-400",children:n.nombre}),h.jsx("br",{}),h.jsx("label",{style:{fontFamily:"NuevaFuente, bebas neue",color:" #D9D9D9",fontSize:"1.5rem"},children:"DNI"}),h.jsx("br",{}),h.jsx("input",{className:"w-full h-9",style:{borderRadius:"10px",marginBottom:"10px"},name:"dni",type:"text",placeholder:" DNI...",value:t.dni,onChange:i}),n.dni&&h.jsx("p",{className:"text-red-400",children:n.dni}),h.jsx("br",{}),h.jsx("label",{style:{fontFamily:"NuevaFuente, bebas neue",color:" #D9D9D9",fontSize:"1.5rem"},children:"CORREO"}),h.jsx("input",{className:"w-full h-9",style:{borderRadius:"10px",marginBottom:"10px"},name:"correo",type:"text",placeholder:" Email...",value:t.correo,onChange:i}),n.correo&&h.jsx("p",{className:"text-red-400",children:n.correo}),h.jsx("label",{style:{fontFamily:"NuevaFuente, bebas neue",color:" #D9D9D9",fontSize:"1.5rem",marginTop:"10px"},children:"CONTRASEÑA"}),h.jsx("input",{className:"w-full h-9",style:{borderRadius:"10px",marginBottom:"10px"},name:"contraseña",type:"password",placeholder:" Contraseña...",value:t.contraseña,onChange:i}),n.contraseña&&h.jsx("p",{className:"text-red-400",children:n.contraseña}),h.jsx("label",{style:{fontFamily:"NuevaFuente, bebas neue",color:" #D9D9D9",fontSize:"1.5rem"},children:"CONFIRMAR CONTRASEÑA"}),h.jsx("input",{className:"w-full h-9",style:{borderRadius:"10px",marginBottom:"10px"},name:"confirmarContraseña",type:"password",placeholder:" Confirmar contraseña...",value:t.confirmarContraseña,onChange:i}),n.confirmarContraseña&&h.jsx("p",{className:"text-red-400",children:n.confirmarContraseña}),h.jsx("button",{style:{fontFamily:"NuevaFuente, bebas neue",color:" #D9D9D9",fontSize:"1.2rem",background:"#D74545",padding:"6px",paddingLeft:"25px",paddingRight:"25px",borderRadius:"15px",marginBottom:"15px",marginTop:"12px",marginLeft:"145px"},children:"CREAR"}),h.jsx("br",{}),h.jsx("span",{style:{fontFamily:"NuevaFuente, montserrat",color:" #D9D9D9",fontSize:"0.9rem",marginLeft:"80px"},children:"Ya tienes cuenta?"}),h.jsx(Jn,{to:"/loginUser",children:h.jsx("span",{style:{fontFamily:"NuevaFuente, montserrat",color:" #2FD6BD  ",marginLeft:"5px",fontSize:"0.9rem"},children:"Inicia sesión."})})]})})]})},yF=t=>{let e={},n=/^(?=.*[A-Z])(?=.*\d).+/;return t.usuario||(e.usuario="El usuario debe ser requerido"),n.test(t.contraseña)||(e.contraseña="Debe tener al menos un número y una letra en mayúscula"),e},vF=()=>{const[t,e]=S.useState({}),[n,r]=S.useState({usuario:"",contraseña:""});Vt();const i=s=>{const{name:o,value:a}=s.target;r({...n,[o]:a}),e(yF({...n,[o]:a}))};return h.jsxs("div",{className:"relative",children:[h.jsx(Vd,{className:"w-[34px] h-[69px] absolute top-10 left-10"}),h.jsx("div",{className:"flex items-center justify-center h-screen overflow-hidden",children:h.jsx("img",{className:"w-full h-full object-cover",src:"src/icons/image-loginPage.jpeg"})}),h.jsx("span",{style:{fontFamily:"NuevaFuente, montserrat",color:"#D9D9D9"},className:"absolute top-10 right-14 text-3xl",children:"Soy"}),h.jsx("span",{style:{fontFamily:"NuevaFuente, bebas neue",color:"#D74545 "},className:"absolute top-20 right-10 text-4xl",children:"USUARIO"}),h.jsx("div",{className:"w-100% flex items-center justify-center",children:h.jsxs("div",{className:"absolute top-1/4 z-20",style:{background:"rgba(71, 81, 87, 0.8)",padding:"15px",borderRadius:"25px",boxShadow:"0 4px 6px rgba(10, 10, 10, 0.7)",width:"400px"},children:[h.jsx("h1",{style:{fontFamily:"NuevaFuente, bebas neue",color:" #D9D9D9",fontSize:"1.5rem",marginBottom:"20px"},className:"text-lg font-bold text-64x43",children:"LOGIN"}),h.jsx("label",{style:{fontFamily:"NuevaFuente, bebas neue",color:" #D9D9D9",fontSize:"1.5rem"},children:"USUARIO"}),h.jsx("br",{}),h.jsx("input",{className:"w-full h-9",style:{borderRadius:"10px",marginBottom:"25px"},name:"usuario",type:"text",placeholder:" Usuario...",value:n.usuario,onChange:i}),t.usuario&&h.jsx("p",{className:"text-red-400",children:t.usuario}),h.jsx("br",{}),h.jsx("label",{style:{fontFamily:"NuevaFuente, bebas neue",color:" #D9D9D9",fontSize:"1.5rem"},children:"CONTRASEÑA"}),h.jsx("br",{}),h.jsx("input",{className:"w-full h-9",style:{borderRadius:"10px",marginBottom:"25px"},name:"contraseña",type:"password",placeholder:" Contraseña...",value:n.contraseña,onChange:i}),t.contraseña&&h.jsx("p",{className:"text-red-400",children:t.contraseña}),h.jsx("br",{}),h.jsx("button",{style:{fontFamily:"NuevaFuente, bebas neue",color:" #D9D9D9",fontSize:"1.2rem",background:"#D74545",padding:"6px",paddingLeft:"25px",paddingRight:"25px",borderRadius:"15px",marginBottom:"10px",marginLeft:"145px"},children:"ENTRAR"}),h.jsx("br",{})]})})]})},_F=(t={},e={})=>{const[n,r]=S.useState(t),[i,s]=S.useState({});S.useEffect(()=>{u()},[n]);const o=S.useMemo(()=>{for(const c of Object.keys(i))if(i[c]!==null)return!1;return!0},[i]),a=({target:c})=>{const{name:d,value:f}=c;r({...n,[d]:f})},l=()=>{r(t)},u=()=>{const c={};for(const d of Object.keys(e)){const[f,y]=e[d];c[`${d}Valid`]=f(n[d])?null:y}s(c)};return{...n,formState:n,onInputChange:a,onResetForm:l,...i,isFormValid:o}},wF={email:[t=>t.includes("@"),"El correo no es valido"],password:[t=>/[A-Z]/.test(t)&&/\d/.test(t),"La contraseña debe tener una mayúscula y al menos un número"]},EF=()=>{const[t,e]=S.useState(!1),{email:n,password:r,emailValid:i,passwordValid:s,isFormValid:o,onInputChange:a}=_F({email:"",password:""},wF),l=u=>{u.preventDefault(),e(!0)};return h.jsxs("form",{className:"relative",onSubmit:l,children:[h.jsx(Vd,{className:"w-[34px] h-[69px] absolute top-10 left-10"}),h.jsx("div",{className:"flex items-center justify-center h-screen overflow-hidden",children:h.jsx("img",{className:"w-full h-full object-cover",src:"src/icons/image-loginPage.jpeg"})}),h.jsx("span",{style:{fontFamily:"NuevaFuente, montserrat",color:"#D9D9D9"},className:"absolute top-10 right-14 text-3xl",children:"Soy"}),h.jsx("span",{style:{fontFamily:"NuevaFuente, bebas neue",color:"#D74545 "},className:"absolute top-20 right-11 text-4xl",children:"ADMIN"}),h.jsx("div",{className:"w-100% flex items-center justify-center",children:h.jsxs("div",{className:"absolute top-1/4 z-20",style:{background:"rgba(71, 81, 87, 0.8)",padding:"15px",borderRadius:"25px",boxShadow:"0 4px 6px rgba(10, 10, 10, 0.7)",width:"400px"},children:[h.jsx("h1",{style:{fontFamily:"NuevaFuente, bebas neue",color:" #D9D9D9",fontSize:"1.5rem",marginBottom:"25px"},className:"text-lg font-bold text-64x43",children:"LOGIN"}),h.jsx("label",{style:{fontFamily:"NuevaFuente, bebas neue",color:" #D9D9D9",fontSize:"1.5rem"},children:"CORREO"}),h.jsx("br",{}),h.jsx("input",{className:"w-full h-9",style:{borderRadius:"10px",marginBottom:"10px"},name:"email",type:"text",placeholder:" Correo...",value:n,onChange:a}),!i&&!t?"":n&&h.jsx("span",{className:"text-red-400",children:i}),h.jsx("br",{}),h.jsx("label",{style:{fontFamily:"NuevaFuente, bebas neue",color:" #D9D9D9",fontSize:"1.5rem",marginTop:"10px"},children:"CONTRASEÑA"}),h.jsx("br",{}),h.jsx("input",{className:"w-full h-9",style:{borderRadius:"10px",marginBottom:"10px"},name:"password",type:"password",placeholder:" Contraseña...",value:r,onChange:a}),!s&&!t?"":n&&h.jsx("span",{className:"text-red-400",children:s}),h.jsx("br",{}),h.jsx("button",{type:"submit",style:{fontFamily:"NuevaFuente, bebas neue",color:" #D9D9D9",fontSize:"1.2rem",background:"#D74545",padding:"6px",paddingLeft:"25px",paddingRight:"25px",borderRadius:"15px",marginBottom:"10px",marginTop:"12px",marginLeft:"145px"},children:"ENTRAR"}),h.jsx("br",{}),h.jsx("span",{style:{fontFamily:"NuevaFuente, montserrat",color:" #D9D9D9",fontSize:"0.9rem",marginLeft:"80px"},children:"No tienes cuenta?"}),h.jsx(Jn,{to:"/signUpPage",children:h.jsx("span",{style:{fontFamily:"NuevaFuente, montserrat",color:" #2FD6BD  ",marginLeft:"5px",fontSize:"0.9rem"},children:"Registrate."})})]})})]})},TF=({id:t,name:e,price:n,image:r,count:i})=>{const s=Vt(),o=l=>{s(IL(l))},a=l=>{s(xL(l))};return h.jsxs("div",{className:"h-36 gap-4 bg-white rounded-lg flex justify-between items-center p-4",children:[h.jsx("img",{className:"w-[40%] rounded-lg h-full object-cover",src:r,alt:e}),h.jsxs("div",{className:"flex flex-col w-[60%] h-full",children:[h.jsx("h3",{children:e}),h.jsxs("h2",{className:"font-bold text-lg",children:["$",n]}),h.jsxs("p",{className:"bg-gray-200/70 px-2 rounded-lg w-11 flex flex-row justify-center items-center",children:["x ",i]}),h.jsxs("div",{className:"font-montserrat flex flex-row gap-4 pt-1",children:[h.jsx("button",{onClick:()=>a(t),className:"px-2 rounded-lg border border-tertiary flex justify-center items-center h-7 text-tertiary hover:bg-tertiary hover:text-white",children:"add"}),h.jsx("button",{onClick:()=>o(t),className:"px-2 rounded-lg border border-primary flex justify-center items-center h-7 text-primary hover:bg-primary hover:text-white",children:"remove"})]})]})]},t)},xF="/assets/footerImage-406c546e.png",IF=()=>h.jsxs("footer",{className:"flex w-full h-[340px] py-10 px-20 gap-20 relative",children:[h.jsx("img",{className:"w-full absolute -z-50 top-0 left-0",src:xF,alt:""}),h.jsx("figure",{children:h.jsx(hF,{className:"w-[75px] h-[151px]"})}),h.jsxs("section",{className:"h-full",children:[h.jsx("h1",{className:"text-2xl font-bebas text-white",children:"Sitio Web"}),h.jsxs("ul",{className:"text-white mt-2",children:[h.jsx("li",{className:"hover:text-primary",children:"Productos"}),h.jsx("li",{className:"hover:text-primary",children:"Asesorías"}),h.jsx("li",{className:"hover:text-primary",children:"Ofertas"}),h.jsx("li",{className:"hover:text-primary",children:"Preguntas frecuentes"}),h.jsx("li",{className:"hover:text-primary",children:"Blog"}),h.jsx("li",{className:"hover:text-primary",children:"Contacto"})]})]}),h.jsxs("section",{className:"h-full text-white ",children:[h.jsx("h1",{className:"text-2xl font-bebas",children:"Social Media"}),h.jsxs("ul",{className:"text-white mt-2",children:[h.jsx("li",{className:"hover:text-primary",children:"Facebook"}),h.jsx("li",{className:"hover:text-primary",children:"Instagram"}),h.jsx("li",{className:"hover:text-primary",children:"Youtube"}),h.jsx("li",{className:"hover:text-primary",children:"TikTok"})]})]})]}),SF=({setShowCart:t})=>{const{currentUser:e,productsLocalStorage:n,setProductsLocalStorage:r}=S.useContext(ci),[i,s]=S.useState(0);S.useEffect(()=>{if(!e){const u=JSON.parse(window.localStorage.getItem("products"));r(u);return}const a=Er(_r,"carrito",e.uid),l=vy(a,u=>{if(u.exists()){const f=(u.data().products||[]).reduce((y,g)=>y+g.cantidad,0);s(f)}else s(0)});return()=>l()},[e]);const o=n?n.reduce((a,l)=>a+l.cantidad,0):0;return h.jsx("div",{children:h.jsxs("button",{onClick:()=>{t(!0)},className:"relative",children:[h.jsx(fF,{className:"w-10 transition fill-primaryDark hover:scale-125 hover:fill-primary"}),h.jsx("span",{className:"absolute flex justify-center items-center w-5 h-5 text-xs top-0 right-[-4px] font-montserrat text-white bg-primary/90 rounded-full",children:i||o||0})]})})},AF=async(t,e)=>{try{const n=Er(_r,"carrito",t),r=await gl(n);if(r.exists()){const s=r.data().products,o=s.findIndex(a=>a.id===e);o!==-1&&s[o].cantidad>0&&(s[o].cantidad-=1,s[o].cantidad===0&&s.splice(o,1),await Jo(n,{products:s}),console.log("Cantidad disminuida con éxito"))}}catch(n){console.log("El producto no existe en el carrito:",n.message)}},ew=({name:t,price:e,image:n,id:r,amount:i})=>{const{currentUser:s,setProductsLocalStorage:o}=S.useContext(ci),[a,l]=S.useState(0),u=Vt();S.useEffect(()=>{if(!s){const w=JSON.parse(window.localStorage.getItem("products")||[]).find(m=>m.id===r);l(w&&w.cantidad||0);return}const y=Er(_r,"carrito",s==null?void 0:s.uid),g=vy(y,v=>{if(v.exists()){const p=(v.data().products||[]).find(_=>_.id===r);l(p&&p.cantidad||0)}else l(0)});return()=>g()},[s==null?void 0:s.uid,r,i]);const c=async y=>{const v=u(yp(r)).stock;if(i>=v)return;const w=JSON.parse(window.localStorage.getItem("products"))||[],m=w.find(p=>p.id===y);m&&(m.cantidad=(m.cantidad||0)+1,l(m.cantidad)),window.localStorage.setItem("products",JSON.stringify(w)),o(w)},d=y=>{var w;const g=JSON.parse(window.localStorage.getItem("products"))||[],v=g.findIndex(m=>m.id===y);v!==-1&&(g[v].cantidad=(g[v].cantidad||0)-1,g[v].cantidad<=0&&g.splice(v,1),window.localStorage.setItem("products",JSON.stringify(g)),l(((w=g[v])==null?void 0:w.cantidad)||0),o(g))},f=()=>{const g=u(yp(r)).stock;i>=g||wy(s==null?void 0:s.uid,r)};return h.jsx("div",{children:h.jsx("li",{className:"flex border-b-slate-600 mb-2",children:h.jsxs("div",{className:"flex",children:[h.jsx("figure",{children:h.jsx("img",{src:n,alt:"foto de producto",width:130})}),h.jsxs("div",{children:[h.jsxs("div",{className:"font-bebas",children:[h.jsx("h2",{className:"text-2xl mt-3",children:t}),h.jsxs("span",{className:"text-lg",children:["Precio: $",e]})]}),h.jsxs("div",{children:[h.jsxs("span",{className:"font-bebas mr-6",children:[" ","Cant: ",i]}),s?h.jsx("button",{onClick:()=>AF(s==null?void 0:s.uid,r),className:"mr-3 text-3xl text-primary font-bold",children:"-"}):h.jsx("button",{className:"mr-3 text-3xl text-primary font-bold",onClick:()=>d(r),children:"-"}),s?h.jsx("button",{onClick:f,className:"mr-3",children:"+"}):h.jsx("button",{className:"mr-3 text-2xl text-teal-600 font-bold",onClick:()=>c(r),children:"+"})]})]})]})})})},CF=async t=>{try{const e=Er(_r,"carrito",t),n=await gl(e);return n.exists()?n.data().products:[]}catch{}},RF=({setShowCart:t,setShowOrder:e})=>{const{currentUser:n,setProducts:r,products:i,productsLocalStorage:s}=S.useContext(ci);rd(),Vt();const o=async()=>n?await CF(n.uid):[];S.useEffect(()=>{o().then(c=>{r(c)})},[]),S.useEffect(()=>{if(!n)return;const c=Er(_r,"carrito",n.uid),d=vy(c,f=>{const g=f.data().products||[],v=g.length&&g.filter(w=>w.cantidad>0);r(v)});return()=>{d()}},[]);let a=null,l=null;n?(a=h.jsx("ul",{children:i==null?void 0:i.map(({price:c,name:d,image:f,cantidad:y,stock:g,id:v})=>h.jsx(ew,{id:v,name:d,price:c,image:f,amount:y,stock:g},v))}),l=i.length?i.reduce((c,d)=>c+d.price*d.cantidad,0).toFixed(2):0):(a=h.jsx("ul",{children:s==null?void 0:s.map(({id:c,name:d,price:f,image:y,cantidad:g,stock:v})=>h.jsx(ew,{id:c,name:d,price:f,image:y,amount:g,stock:v},c))}),l=s?s.reduce((c,d)=>c+d.price*d.cantidad,0).toFixed(2):0);const u=()=>{t(!1),e(!0)};return h.jsx("div",{children:h.jsxs("aside",{className:"sideMenuLayout",children:[h.jsx("button",{onClick:()=>t(!1),className:"fixed right-6",children:h.jsx(aA,{className:"mb-1 text-red-700/90 w-8 transition hover:scale-125 hover:text-red-600"})}),i!=null&&i.length?h.jsx("article",{className:"mb-10",children:a}):s!=null&&s.length?h.jsx("article",{className:"mb-10",children:a}):h.jsx("section",{className:"m-auto font-bebas text-3xl",children:h.jsx("span",{children:"Carrito vacío"})}),h.jsxs("section",{className:"flex justify-between items-center bg-white fixed bottom-0 h-12 w-72",children:[h.jsx("div",{className:"fixed right-7 bottom-2 font-bebas text-2xl",children:l>0&&h.jsx("button",{onClick:u,className:" bg-primary p-1 px-3 rounded-2xl text-white",children:"Comprar"})}),h.jsxs("div",{className:"relative left-3 font-bebas text-2xl",children:[h.jsx("span",{children:"Total: "}),h.jsxs("span",{children:["$ ",l]})]})]})]})})};var Ey={};Object.defineProperty(Ey,"__esModule",{value:!0});var lA=Ey.loadMercadoPago=void 0;const uA="https://sdk.mercadopago.com/js/v2",PF=/^https:\/\/sdk\.mercadopago\.com\/js\/v2\/?(\?.*)?$/,tw="MercadoPago has already been initialized in your window, please remove the duplicate import",kF="MercadoPago.js not available",NF="Failed to load MercadoPago.js",bF=()=>{for(var t=document.querySelectorAll(`script[src^="${uA}"`),e=0;e<t.length;e++){var n=t[e];if(PF.test(n.src))return n}return null},DF=()=>{const t=document.createElement("script");t.src=uA;const e=document.head||document.body;if(!e)throw new Error("Expected document.body or document.head not to be null. MercadoPago requires a <body> or a <head> element, please add on your project.");return e.appendChild(t),t};let Kl=null;const OF=()=>(Kl!==null||(Kl=new Promise((t,e)=>{if(typeof window>"u"){t(null);return}if(window.MercadoPago){console.warn(tw),t(window.MercadoPago);return}try{let n=bF();n?console.warn(tw):n||(n=DF()),n.addEventListener("load",()=>{window.MercadoPago?t(window.MercadoPago):e(new Error(kF))}),n.addEventListener("error",()=>{e(new Error(NF))})}catch(n){e(n);return}})),Kl);lA=Ey.loadMercadoPago=OF;var LF=globalThis&&globalThis.__awaiter||function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};class Nn{static getInstance(){return LF(this,void 0,void 0,function*(){if(this.publicKey)return this.loadedInstanceMercadoPago||(yield lA(),this.loadedInstanceMercadoPago=!0),this.instanceMercadoPago||(this.instanceMercadoPago=new window.MercadoPago(this.publicKey,this.options)),this.instanceMercadoPago;console.error("Expected the PUBLIC_KEY to render the MercadoPago SDK React")})}}Nn.publicKey=null;Nn.options={};Nn.instanceMercadoPago=void 0;Nn.loadedInstanceMercadoPago=!1;function jF(t,e){return Object.keys(t).length===Object.keys(e).length&&Object.keys(t).every(r=>Object.prototype.hasOwnProperty.call(e,r)&&t[r]===e[r])}const cA=(t,e)=>{const n=Object.assign(Object.assign({},e),{frontEndStack:"react"}),r=!jF(Nn.options,n);(t!==Nn.publicKey||r)&&(Nn.publicKey=t,Nn.options=n,Nn.instanceMercadoPago=void 0)},VF=200;var MF=globalThis&&globalThis.__awaiter||function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const FF=()=>MF(void 0,void 0,void 0,function*(){}),UF=()=>{},$F=t=>{console.error(t)};var BF=globalThis&&globalThis.__awaiter||function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const zF=({settings:t,name:e,divId:n,controller:r})=>BF(void 0,void 0,void 0,function*(){const i=yield Nn.getInstance(),s=i==null?void 0:i.bricks();window[r]=yield s==null?void 0:s.create(e,n,t)}),dA=({onReady:t=UF,onError:e=$F,onSubmit:n=FF,customization:r,initialization:i,locale:s})=>(S.useEffect(()=>{let o;const a={settings:{initialization:i,customization:r,locale:s,callbacks:{onReady:t,onSubmit:n,onError:e}},name:"wallet",divId:"walletBrick_container",controller:"walletBrickController"};return o=setTimeout(()=>{zF(a)},VF),()=>{var l;clearTimeout(o),(l=window.walletBrickController)===null||l===void 0||l.unmount()}},[r,i,t,e,n]),_t.createElement("div",{id:"walletBrick_container"}));globalThis&&globalThis.__awaiter;globalThis&&globalThis.__awaiter;globalThis&&globalThis.__awaiter;globalThis&&globalThis.__awaiter;globalThis&&globalThis.__awaiter;globalThis&&globalThis.__awaiter;globalThis&&globalThis.__awaiter;const HF=({setShowOrder:t})=>{cA("TEST-96d6884d-30e9-4fe8-a75f-16fdc52d9ddb");const e=rd(),{currentUser:n,products:r,productsLocalStorage:i,setTotalPay:s,totalPay:o}=S.useContext(ci),[a,l]=S.useState(null),u=4500;let c,d,f=!1;const y=async()=>{try{const p=await Ia.post("http://localhost:3001/create_preference",{title:"VitalFit",quantity:1,unit_price:o}),{id:_}=p.data;return _}catch(p){console.log(p)}};r.length?(c=h.jsx("ul",{children:r==null?void 0:r.map(({name:p,price:_,cantidad:T})=>h.jsxs("div",{className:"font-bebas text-2xl mb-3",children:[h.jsxs("p",{className:"text-primary",children:[p," ",h.jsxs("span",{className:"text-black ml-5 font-montserrat font-medium text-xl",children:[" ","x",T]})]}),h.jsxs("p",{children:["total:"," ",h.jsxs("span",{className:"text-teal-600",children:[" $",_*T,".00"]})]})]}))}),d=r==null?void 0:r.reduce((p,_)=>p+_.price*_.cantidad,0).toFixed(2)):(c=h.jsx("ul",{children:i==null?void 0:i.map(({name:p,price:_,cantidad:T})=>h.jsxs("div",{className:"font-bebas text-2xl mb-3",children:[h.jsxs("p",{className:"text-primary",children:[p," ",h.jsxs("span",{className:"text-black ml-5 font-montserrat font-medium text-xl",children:[" ","x",T]})]}),h.jsxs("p",{children:["total:"," ",h.jsxs("span",{className:"text-teal-600",children:[" $",_*T,".00"]})]})]}))}),d=i==null?void 0:i.reduce((p,_)=>p+_.price*_.cantidad,0).toFixed(2)),d>5e4&&(f=!0);const g=(d-d*10/100).toFixed(2),v=(d-g).toFixed(2),w=(Number(d)+u).toFixed(2);d<5e4?s(w):d>15e4?s(g):s(d);const m=async()=>{if(n||e("/loginUser"),n.dataCompleted){const p=await y();p&&l(p);return}e("/preCheckout")};return h.jsx("div",{children:h.jsxs("aside",{className:"sideMenuLayout",children:[h.jsx("section",{children:r!=null&&r.length?h.jsx("article",{className:"mb-10",children:c}):i!=null&&i.length?h.jsx("article",{className:"mb-10",children:c}):h.jsx("section",{className:"m-auto font-bebas text-3xl",children:h.jsx("span",{children:"Carrito vacío"})})}),h.jsxs("div",{className:"mb-10",children:[h.jsxs("p",{className:"flex justify-between  font-medium mb-2",children:["Envío"," ",f?h.jsx("span",{className:"text-green-500",children:"Gratis"}):h.jsx("span",{className:"text-primary",children:u})]}),d>15e4?h.jsxs("p",{className:"flex justify-between  font-medium mb-5",children:["Descuento 10%"," ",h.jsxs("span",{className:"text-green-500",children:["-",v]})]}):null]}),n&&n.calle&&n.altura&&h.jsxs("div",{children:[h.jsx("span",{children:`La dirección de envío registrada es ${n.calle} ${n.altura}`}),h.jsx("a",{href:"/preCheckout",children:h.jsx("p",{children:" Cambiar la dirección"})})]}),h.jsxs("section",{className:"flex justify-between items-center bg-white fixed bottom-0 h-14 w-72",children:[h.jsxs("div",{className:"font-bebas text-2xl mb-2",children:[h.jsxs("p",{className:"text-base mt-2",children:["Sub-total: ",d]}),h.jsx("span",{children:"Total: "}),h.jsxs("span",{children:["$ ",o]})]}),h.jsxs("div",{className:"fixed right-7 bottom-2 font-bebas text-2xl",children:[d>0&&h.jsx("button",{onClick:m,className:" bg-primary p-1 px-3 rounded-2xl text-white",children:"Pagar"}),a&&h.jsx(dA,{initialization:{preferenceId:a}})]})]})]})})},qF=()=>{Vt();const[t,e]=S.useState(!1),[n,r]=S.useState(!1),{orderWindow:i}=dr(a=>a.orders),{shopListOpen:s,shoppingCart:o}=dr(a=>a.product);return h.jsxs(h.Fragment,{children:[s?h.jsx(KF,{}):"",i?h.jsx(QF,{}):"",h.jsxs("nav",{className:"flex w-full bg-primaryLight h-24 items-center py-5 px-10 justify-between",children:[h.jsx(Vd,{className:"w-[34px] h-[69px] mr-[128px]"}),h.jsxs("section",{className:"font-bebas flex gap-2 text-2xl",children:[h.jsx(Jn,{to:"home",className:({isActive:a})=>`hover:text-tertiary ${a?"text-primary underline decoration-primary underline-offset-4":"text-black"}`,children:"Home"}),h.jsx(Jn,{to:"productsPage",className:({isActive:a})=>`hover:text-tertiary ${a?"text-primary underline decoration-primary underline-offset-4":"text-black"}`,children:"Productos"}),h.jsx(Jn,{to:"training",className:({isActive:a})=>`hover:text-tertiary ${a?"text-primary underline decoration-primary underline-offset-4":"text-black"}`,children:"Training"}),h.jsx(Jn,{to:"blog",className:({isActive:a})=>`hover:text-tertiary ${a?"text-primary underline decoration-primary underline-offset-4":"text-black"}`,children:"Blog"}),h.jsx(Jn,{to:"asesorias",className:({isActive:a})=>`hover:text-tertiary ${a?"text-primary underline decoration-primary underline-offset-4":"text-black"}`,children:"Asesorias"})]}),h.jsxs("section",{className:"flex gap-2 w-[160px]",children:[h.jsx(Jn,{to:"/loginPage",children:h.jsx(pF,{className:"w-10 transition fill-primaryDark hover:scale-125 hover:fill-primary"})}),h.jsx(dF,{className:"w-10 transition fill-primaryDark hover:scale-125 hover:fill-primary"}),h.jsx(SF,{setShowCart:e}),t&&h.jsx(RF,{setShowCart:e,setShowOrder:r}),n&&h.jsx(HF,{setShowOrder:r})]})]})]})},WF=()=>{const t=Vt(),{shoppingCart:e}=dr(i=>i.product),n=e.reduce((i,s)=>i+s.count*s.price,0),r=i=>{t(WO(n)),t(HO(i)),t(SL()),t(lx(!1))};return h.jsxs("div",{className:"z-50 h-16 w-full flex justify-between items-center rounded-lg bg-white px-6",children:[h.jsx("button",{className:"font-semibold flex text-xl bg-green-500 text-white rounded-lg py-1 px-4 gap-6 justify-center items-center transition hover:scale-110 hover:shadow-md hover:shadow-green-500/70",onClick:()=>r(e),children:h.jsx("h1",{className:"font-montserrat font-bold text-2xl flex justify-center items-center",children:"Pay"})}),h.jsxs("div",{className:"flex gap-2 items-center",children:[h.jsx("h1",{className:"font-light text-2xl",children:"Total:"}),h.jsxs("span",{className:"font-bold text-2xl bg-gray-400/40 rounded-lg py-1 px-3",children:["$",n]})]})]})},KF=()=>{const t=Vt(),{shoppingCart:e,TotalPriceAmt:n}=dr(i=>i.product),r=i=>{t(lx(i))};return h.jsx("main",{className:"fixed z-50 h-screen w-full bg-primaryDark/75 overscroll-y-none",children:h.jsxs("aside",{className:"sideMenuLayout ",children:[h.jsxs("section",{className:"flex justify-between items-center",children:[h.jsx("h2",{className:"font-bebas text-2xl",children:"My Order"}),h.jsx("button",{onClick:()=>r(!1),children:h.jsx(aA,{className:"mb-1 text-red-700/90 w-8 transition hover:scale-125 hover:text-red-600"})})]}),h.jsx("section",{className:"flex flex-col gap-4",children:e.length>0?e.map(i=>h.jsx(TF,{id:i.id,title:i.name,price:i.price,description:i.description,image:i.image,count:i.count},i.id)):h.jsx("h2",{className:"font-montserrat font-medium",children:"Carrito vacio"})}),h.jsx("section",{className:"fixed bottom-1 right-0  w-[400px]",children:e.length>0?h.jsx(WF,{}):""})]})})},GF=({id:t,name:e,price:n,count:r})=>h.jsxs("main",{className:"w-full flex gap-2 justify-between",children:[h.jsx("p",{className:"text-lg",children:e}),r>1?h.jsxs("span",{className:"text-lg",children:["x",r]}):"",h.jsxs("p",{className:"text-lg font-semibold",children:["$",n*r]})]}),QF=()=>{cA("TEST-96d6884d-30e9-4fe8-a75f-16fdc52d9ddb");const t=Vt(),{currentOrder:e,totalPriceOrder:n,orders:r}=dr(g=>g.orders),[i,s]=S.useState(null),o=r.length+1;console.log(n);const a=async()=>{try{const g=await Ia.post("http://localhost:3001/create_preference",{title:"VitalFit",quantity:1,unit_price:y}),{id:v}=g.data;return v}catch(g){console.log(g)}},l=async()=>{const g=await a();g&&s(g),u(o,d,e,y)},u=(g,v,w,m)=>{t(qO(g,v,w,m))},c=new Date,d={month:c.getMonth(),day:c.getDate(),year:c.getFullYear()},f=(n-n*90/100).toFixed(2),y=n-f;return h.jsxs("aside",{className:"sideMenuLayout font-montserrat",children:[h.jsx("section",{className:"flex justify-between items-center ",children:h.jsx("h2",{className:"font-bebas font-medium text-xl",children:"Summary"})}),h.jsxs("section",{className:"flex flex-col gap-2 bg-white p-4 rounded-lg flex-1",children:[e.map(g=>h.jsx(GF,{id:g.id,name:g.name,price:g.price,count:g.count,total:g.totalPriceAmt},g.id)),h.jsxs("p",{className:"flex justify-between",children:["Delivery ",h.jsx("span",{className:"text-green-500 font-medium",children:"Free"})]}),h.jsxs("p",{className:"flex justify-between",children:["Discount",h.jsxs("span",{className:"font-regular",children:["$",f]})]})]}),h.jsxs("div",{className:"bg-white h-16 flex justify-between items-center p-4 rounded-lg",children:[h.jsx("p",{className:"font-bold text-xl",children:"Total:"}),h.jsxs("span",{className:"text-xl font-semibold",children:["$",y]})]}),h.jsx("button",{className:"bg-green-500 rounded-lg w-full py-3 text-white font-bold text-lg",onClick:()=>l(),children:"Confirm"}),i&&h.jsx(dA,{initialization:{preferenceId:i}})]})};var yl=t=>t.type==="checkbox",_s=t=>t instanceof Date,wt=t=>t==null;const hA=t=>typeof t=="object";var $e=t=>!wt(t)&&!Array.isArray(t)&&hA(t)&&!_s(t),JF=t=>$e(t)&&t.target?yl(t.target)?t.target.checked:t.target.value:t,XF=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,YF=(t,e)=>t.has(XF(e)),ZF=t=>{const e=t.constructor&&t.constructor.prototype;return $e(e)&&e.hasOwnProperty("isPrototypeOf")},Ty=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Kn(t){let e;const n=Array.isArray(t);if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(Ty&&(t instanceof Blob||t instanceof FileList))&&(n||$e(t)))if(e=n?[]:{},!n&&!ZF(t))e=t;else for(const r in t)t.hasOwnProperty(r)&&(e[r]=Kn(t[r]));else return t;return e}var vl=t=>Array.isArray(t)?t.filter(Boolean):[],Ne=t=>t===void 0,$=(t,e,n)=>{if(!e||!$e(t))return n;const r=vl(e.split(/[,[\].]+?/)).reduce((i,s)=>wt(i)?i:i[s],t);return Ne(r)||r===t?Ne(t[e])?n:t[e]:r},Xn=t=>typeof t=="boolean";const nw={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},gn={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Wn={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};_t.createContext(null);var e9=(t,e,n,r=!0)=>{const i={defaultValues:e._defaultValues};for(const s in t)Object.defineProperty(i,s,{get:()=>{const o=s;return e._proxyFormState[o]!==gn.all&&(e._proxyFormState[o]=!r||gn.all),n&&(n[o]=!0),t[o]}});return i},Yt=t=>$e(t)&&!Object.keys(t).length,t9=(t,e,n,r)=>{n(t);const{name:i,...s}=t;return Yt(s)||Object.keys(s).length>=Object.keys(e).length||Object.keys(s).find(o=>e[o]===(!r||gn.all))},Qh=t=>Array.isArray(t)?t:[t];function n9(t){const e=_t.useRef(t);e.current=t,_t.useEffect(()=>{const n=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{n&&n.unsubscribe()}},[t.disabled])}var Ln=t=>typeof t=="string",r9=(t,e,n,r,i)=>Ln(t)?(r&&e.watch.add(t),$(n,t,i)):Array.isArray(t)?t.map(s=>(r&&e.watch.add(s),$(n,s))):(r&&(e.watchAll=!0),n),xy=t=>/^\w*$/.test(t),fA=t=>vl(t.replace(/["|']|\]/g,"").split(/\.|\[/)),we=(t,e,n)=>{let r=-1;const i=xy(e)?[e]:fA(e),s=i.length,o=s-1;for(;++r<s;){const a=i[r];let l=n;if(r!==o){const u=t[a];l=$e(u)||Array.isArray(u)?u:isNaN(+i[r+1])?{}:[]}t[a]=l,t=t[a]}return t},i9=(t,e,n,r,i)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:i||!0}}:{},rw=t=>({isOnSubmit:!t||t===gn.onSubmit,isOnBlur:t===gn.onBlur,isOnChange:t===gn.onChange,isOnAll:t===gn.all,isOnTouch:t===gn.onTouched}),iw=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const Xo=(t,e,n,r)=>{for(const i of n||Object.keys(t)){const s=$(t,i);if(s){const{_f:o,...a}=s;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],i)&&!r)break;if(o.ref&&e(o.ref,o.name)&&!r)break;Xo(a,e)}else $e(a)&&Xo(a,e)}}};var s9=(t,e,n)=>{const r=vl($(t,n));return we(r,"root",e[n]),we(t,n,r),t},Iy=t=>t.type==="file",jr=t=>typeof t=="function",wc=t=>{if(!Ty)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},yu=t=>Ln(t),Sy=t=>t.type==="radio",Ec=t=>t instanceof RegExp;const sw={value:!1,isValid:!1},ow={value:!0,isValid:!0};var pA=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Ne(t[0].attributes.value)?Ne(t[0].value)||t[0].value===""?ow:{value:t[0].value,isValid:!0}:ow:sw}return sw};const aw={isValid:!1,value:null};var mA=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,aw):aw;function lw(t,e,n="validate"){if(yu(t)||Array.isArray(t)&&t.every(yu)||Xn(t)&&!t)return{type:n,message:yu(t)?t:"",ref:e}}var ts=t=>$e(t)&&!Ec(t)?t:{value:t,message:""},uw=async(t,e,n,r,i)=>{const{ref:s,refs:o,required:a,maxLength:l,minLength:u,min:c,max:d,pattern:f,validate:y,name:g,valueAsNumber:v,mount:w,disabled:m}=t._f,p=$(e,g);if(!w||m)return{};const _=o?o[0]:s,T=Z=>{r&&_.reportValidity&&(_.setCustomValidity(Xn(Z)?"":Z||""),_.reportValidity())},I={},N=Sy(s),O=yl(s),M=N||O,ee=(v||Iy(s))&&Ne(s.value)&&Ne(p)||wc(s)&&s.value===""||p===""||Array.isArray(p)&&!p.length,B=i9.bind(null,g,n,I),ot=(Z,ie,he,Be=Wn.maxLength,At=Wn.minLength)=>{const yt=Z?ie:he;I[g]={type:Z?Be:At,message:yt,ref:s,...B(Z?Be:At,yt)}};if(i?!Array.isArray(p)||!p.length:a&&(!M&&(ee||wt(p))||Xn(p)&&!p||O&&!pA(o).isValid||N&&!mA(o).isValid)){const{value:Z,message:ie}=yu(a)?{value:!!a,message:a}:ts(a);if(Z&&(I[g]={type:Wn.required,message:ie,ref:_,...B(Wn.required,ie)},!n))return T(ie),I}if(!ee&&(!wt(c)||!wt(d))){let Z,ie;const he=ts(d),Be=ts(c);if(!wt(p)&&!isNaN(p)){const At=s.valueAsNumber||p&&+p;wt(he.value)||(Z=At>he.value),wt(Be.value)||(ie=At<Be.value)}else{const At=s.valueAsDate||new Date(p),yt=X=>new Date(new Date().toDateString()+" "+X),j=s.type=="time",W=s.type=="week";Ln(he.value)&&p&&(Z=j?yt(p)>yt(he.value):W?p>he.value:At>new Date(he.value)),Ln(Be.value)&&p&&(ie=j?yt(p)<yt(Be.value):W?p<Be.value:At<new Date(Be.value))}if((Z||ie)&&(ot(!!Z,he.message,Be.message,Wn.max,Wn.min),!n))return T(I[g].message),I}if((l||u)&&!ee&&(Ln(p)||i&&Array.isArray(p))){const Z=ts(l),ie=ts(u),he=!wt(Z.value)&&p.length>+Z.value,Be=!wt(ie.value)&&p.length<+ie.value;if((he||Be)&&(ot(he,Z.message,ie.message),!n))return T(I[g].message),I}if(f&&!ee&&Ln(p)){const{value:Z,message:ie}=ts(f);if(Ec(Z)&&!p.match(Z)&&(I[g]={type:Wn.pattern,message:ie,ref:s,...B(Wn.pattern,ie)},!n))return T(ie),I}if(y){if(jr(y)){const Z=await y(p,e),ie=lw(Z,_);if(ie&&(I[g]={...ie,...B(Wn.validate,ie.message)},!n))return T(ie.message),I}else if($e(y)){let Z={};for(const ie in y){if(!Yt(Z)&&!n)break;const he=lw(await y[ie](p,e),_,ie);he&&(Z={...he,...B(ie,he.message)},T(he.message),n&&(I[g]=Z))}if(!Yt(Z)&&(I[g]={ref:_,...Z},!n))return I}}return T(!0),I};function o9(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=Ne(t)?r++:t[e[r++]];return t}function a9(t){for(const e in t)if(t.hasOwnProperty(e)&&!Ne(t[e]))return!1;return!0}function Je(t,e){const n=Array.isArray(e)?e:xy(e)?[e]:fA(e),r=n.length===1?t:o9(t,n),i=n.length-1,s=n[i];return r&&delete r[s],i!==0&&($e(r)&&Yt(r)||Array.isArray(r)&&a9(r))&&Je(t,n.slice(0,-1)),t}var Jh=()=>{let t=[];return{get observers(){return t},next:i=>{for(const s of t)s.next&&s.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(s=>s!==i)}}),unsubscribe:()=>{t=[]}}},Tc=t=>wt(t)||!hA(t);function xi(t,e){if(Tc(t)||Tc(e))return t===e;if(_s(t)&&_s(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const i of n){const s=t[i];if(!r.includes(i))return!1;if(i!=="ref"){const o=e[i];if(_s(s)&&_s(o)||$e(s)&&$e(o)||Array.isArray(s)&&Array.isArray(o)?!xi(s,o):s!==o)return!1}}return!0}var gA=t=>t.type==="select-multiple",l9=t=>Sy(t)||yl(t),Xh=t=>wc(t)&&t.isConnected,yA=t=>{for(const e in t)if(jr(t[e]))return!0;return!1};function xc(t,e={}){const n=Array.isArray(t);if($e(t)||n)for(const r in t)Array.isArray(t[r])||$e(t[r])&&!yA(t[r])?(e[r]=Array.isArray(t[r])?[]:{},xc(t[r],e[r])):wt(t[r])||(e[r]=!0);return e}function vA(t,e,n){const r=Array.isArray(t);if($e(t)||r)for(const i in t)Array.isArray(t[i])||$e(t[i])&&!yA(t[i])?Ne(e)||Tc(n[i])?n[i]=Array.isArray(t[i])?xc(t[i],[]):{...xc(t[i])}:vA(t[i],wt(e)?{}:e[i],n[i]):n[i]=!xi(t[i],e[i]);return n}var Yh=(t,e)=>vA(t,e,xc(e)),_A=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>Ne(t)?t:e?t===""?NaN:t&&+t:n&&Ln(t)?new Date(t):r?r(t):t;function Zh(t){const e=t.ref;if(!(t.refs?t.refs.every(n=>n.disabled):e.disabled))return Iy(e)?e.files:Sy(e)?mA(t.refs).value:gA(e)?[...e.selectedOptions].map(({value:n})=>n):yl(e)?pA(t.refs).value:_A(Ne(e.value)?t.ref.value:e.value,t)}var u9=(t,e,n,r)=>{const i={};for(const s of t){const o=$(e,s);o&&we(i,s,o._f)}return{criteriaMode:n,names:[...t],fields:i,shouldUseNativeValidation:r}},xo=t=>Ne(t)?t:Ec(t)?t.source:$e(t)?Ec(t.value)?t.value.source:t.value:t,c9=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function cw(t,e,n){const r=$(t,n);if(r||xy(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const s=i.join("."),o=$(e,s),a=$(t,s);if(o&&!Array.isArray(o)&&n!==s)return{name:n};if(a&&a.type)return{name:s,error:a};i.pop()}return{name:n}}var d9=(t,e,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(e||t):(n?r.isOnBlur:i.isOnBlur)?!t:(n?r.isOnChange:i.isOnChange)?t:!0,h9=(t,e)=>!vl($(t,e)).length&&Je(t,e);const f9={mode:gn.onSubmit,reValidateMode:gn.onChange,shouldFocusError:!0};function p9(t={},e){let n={...f9,...t},r={submitCount:0,isDirty:!1,isLoading:jr(n.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},errors:n.errors||{},disabled:!1},i={},s=$e(n.defaultValues)||$e(n.values)?Kn(n.defaultValues||n.values)||{}:{},o=n.shouldUnregister?{}:Kn(s),a={action:!1,mount:!1,watch:!1},l={mount:new Set,unMount:new Set,array:new Set,watch:new Set},u,c=0;const d={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},f={values:Jh(),array:Jh(),state:Jh()},y=t.resetOptions&&t.resetOptions.keepDirtyValues,g=rw(n.mode),v=rw(n.reValidateMode),w=n.criteriaMode===gn.all,m=E=>x=>{clearTimeout(c),c=setTimeout(E,x)},p=async E=>{if(d.isValid||E){const x=n.resolver?Yt((await B()).errors):await Z(i,!0);x!==r.isValid&&f.state.next({isValid:x})}},_=E=>d.isValidating&&f.state.next({isValidating:E}),T=(E,x=[],A,F,D=!0,b=!0)=>{if(F&&A){if(a.action=!0,b&&Array.isArray($(i,E))){const q=A($(i,E),F.argA,F.argB);D&&we(i,E,q)}if(b&&Array.isArray($(r.errors,E))){const q=A($(r.errors,E),F.argA,F.argB);D&&we(r.errors,E,q),h9(r.errors,E)}if(d.touchedFields&&b&&Array.isArray($(r.touchedFields,E))){const q=A($(r.touchedFields,E),F.argA,F.argB);D&&we(r.touchedFields,E,q)}d.dirtyFields&&(r.dirtyFields=Yh(s,o)),f.state.next({name:E,isDirty:he(E,x),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else we(o,E,x)},I=(E,x)=>{we(r.errors,E,x),f.state.next({errors:r.errors})},N=E=>{r.errors=E,f.state.next({errors:r.errors,isValid:!1})},O=(E,x,A,F)=>{const D=$(i,E);if(D){const b=$(o,E,Ne(A)?$(s,E):A);Ne(b)||F&&F.defaultChecked||x?we(o,E,x?b:Zh(D._f)):yt(E,b),a.mount&&p()}},M=(E,x,A,F,D)=>{let b=!1,q=!1;const fe={name:E},ze=!!($(i,E)&&$(i,E)._f.disabled);if(!A||F){d.isDirty&&(q=r.isDirty,r.isDirty=fe.isDirty=he(),b=q!==fe.isDirty);const Sn=ze||xi($(s,E),x);q=!!(!ze&&$(r.dirtyFields,E)),Sn||ze?Je(r.dirtyFields,E):we(r.dirtyFields,E,!0),fe.dirtyFields=r.dirtyFields,b=b||d.dirtyFields&&q!==!Sn}if(A){const Sn=$(r.touchedFields,E);Sn||(we(r.touchedFields,E,A),fe.touchedFields=r.touchedFields,b=b||d.touchedFields&&Sn!==A)}return b&&D&&f.state.next(fe),b?fe:{}},ee=(E,x,A,F)=>{const D=$(r.errors,E),b=d.isValid&&Xn(x)&&r.isValid!==x;if(t.delayError&&A?(u=m(()=>I(E,A)),u(t.delayError)):(clearTimeout(c),u=null,A?we(r.errors,E,A):Je(r.errors,E)),(A?!xi(D,A):D)||!Yt(F)||b){const q={...F,...b&&Xn(x)?{isValid:x}:{},errors:r.errors,name:E};r={...r,...q},f.state.next(q)}_(!1)},B=async E=>n.resolver(o,n.context,u9(E||l.mount,i,n.criteriaMode,n.shouldUseNativeValidation)),ot=async E=>{const{errors:x}=await B(E);if(E)for(const A of E){const F=$(x,A);F?we(r.errors,A,F):Je(r.errors,A)}else r.errors=x;return x},Z=async(E,x,A={valid:!0})=>{for(const F in E){const D=E[F];if(D){const{_f:b,...q}=D;if(b){const fe=l.array.has(b.name),ze=await uw(D,o,w,n.shouldUseNativeValidation&&!x,fe);if(ze[b.name]&&(A.valid=!1,x))break;!x&&($(ze,b.name)?fe?s9(r.errors,ze,b.name):we(r.errors,b.name,ze[b.name]):Je(r.errors,b.name))}q&&await Z(q,x,A)}}return A.valid},ie=()=>{for(const E of l.unMount){const x=$(i,E);x&&(x._f.refs?x._f.refs.every(A=>!Xh(A)):!Xh(x._f.ref))&&Md(E)}l.unMount=new Set},he=(E,x)=>(E&&x&&we(o,E,x),!xi(di(),s)),Be=(E,x,A)=>r9(E,l,{...a.mount?o:Ne(x)?s:Ln(E)?{[E]:x}:x},A,x),At=E=>vl($(a.mount?o:s,E,t.shouldUnregister?$(s,E,[]):[])),yt=(E,x,A={})=>{const F=$(i,E);let D=x;if(F){const b=F._f;b&&(!b.disabled&&we(o,E,_A(x,b)),D=wc(b.ref)&&wt(x)?"":x,gA(b.ref)?[...b.ref.options].forEach(q=>q.selected=D.includes(q.value)):b.refs?yl(b.ref)?b.refs.length>1?b.refs.forEach(q=>(!q.defaultChecked||!q.disabled)&&(q.checked=Array.isArray(D)?!!D.find(fe=>fe===q.value):D===q.value)):b.refs[0]&&(b.refs[0].checked=!!D):b.refs.forEach(q=>q.checked=q.value===D):Iy(b.ref)?b.ref.value="":(b.ref.value=D,b.ref.type||f.values.next({name:E,values:{...o}})))}(A.shouldDirty||A.shouldTouch)&&M(E,D,A.shouldTouch,A.shouldDirty,!0),A.shouldValidate&&Re(E)},j=(E,x,A)=>{for(const F in x){const D=x[F],b=`${E}.${F}`,q=$(i,b);(l.array.has(E)||!Tc(D)||q&&!q._f)&&!_s(D)?j(b,D,A):yt(b,D,A)}},W=(E,x,A={})=>{const F=$(i,E),D=l.array.has(E),b=Kn(x);we(o,E,b),D?(f.array.next({name:E,values:{...o}}),(d.isDirty||d.dirtyFields)&&A.shouldDirty&&f.state.next({name:E,dirtyFields:Yh(s,o),isDirty:he(E,b)})):F&&!F._f&&!wt(b)?j(E,b,A):yt(E,b,A),iw(E,l)&&f.state.next({...r}),f.values.next({name:E,values:{...o}}),!a.mount&&e()},X=async E=>{const x=E.target;let A=x.name,F=!0;const D=$(i,A),b=()=>x.type?Zh(D._f):JF(E),q=fe=>{F=Number.isNaN(fe)||fe===$(o,A,fe)};if(D){let fe,ze;const Sn=b(),Yi=E.type===nw.BLUR||E.type===nw.FOCUS_OUT,TA=!c9(D._f)&&!n.resolver&&!$(r.errors,A)&&!D._f.deps||d9(Yi,$(r.touchedFields,A),r.isSubmitted,v,g),Ud=iw(A,l,Yi);we(o,A,Sn),Yi?(D._f.onBlur&&D._f.onBlur(E),u&&u(0)):D._f.onChange&&D._f.onChange(E);const $d=M(A,Sn,Yi,!1),xA=!Yt($d)||Ud;if(!Yi&&f.values.next({name:A,type:E.type,values:{...o}}),TA)return d.isValid&&p(),xA&&f.state.next({name:A,...Ud?{}:$d});if(!Yi&&Ud&&f.state.next({...r}),_(!0),n.resolver){const{errors:Ny}=await B([A]);if(q(Sn),F){const IA=cw(r.errors,i,A),by=cw(Ny,i,IA.name||A);fe=by.error,A=by.name,ze=Yt(Ny)}}else fe=(await uw(D,o,w,n.shouldUseNativeValidation))[A],q(Sn),F&&(fe?ze=!1:d.isValid&&(ze=await Z(i,!0)));F&&(D._f.deps&&Re(D._f.deps),ee(A,ze,fe,$d))}},_e=(E,x)=>{if($(r.errors,x)&&E.focus)return E.focus(),1},Re=async(E,x={})=>{let A,F;const D=Qh(E);if(_(!0),n.resolver){const b=await ot(Ne(E)?E:D);A=Yt(b),F=E?!D.some(q=>$(b,q)):A}else E?(F=(await Promise.all(D.map(async b=>{const q=$(i,b);return await Z(q&&q._f?{[b]:q}:q)}))).every(Boolean),!(!F&&!r.isValid)&&p()):F=A=await Z(i);return f.state.next({...!Ln(E)||d.isValid&&A!==r.isValid?{}:{name:E},...n.resolver||!E?{isValid:A}:{},errors:r.errors,isValidating:!1}),x.shouldFocus&&!F&&Xo(i,_e,E?D:l.mount),F},di=E=>{const x={...s,...a.mount?o:{}};return Ne(E)?x:Ln(E)?$(x,E):E.map(A=>$(x,A))},xn=(E,x)=>({invalid:!!$((x||r).errors,E),isDirty:!!$((x||r).dirtyFields,E),isTouched:!!$((x||r).touchedFields,E),error:$((x||r).errors,E)}),uo=E=>{E&&Qh(E).forEach(x=>Je(r.errors,x)),f.state.next({errors:E?r.errors:{}})},In=(E,x,A)=>{const F=($(i,E,{_f:{}})._f||{}).ref;we(r.errors,E,{...x,ref:F}),f.state.next({name:E,errors:r.errors,isValid:!1}),A&&A.shouldFocus&&F&&F.focus&&F.focus()},Xi=(E,x)=>jr(E)?f.values.subscribe({next:A=>E(Be(void 0,x),A)}):Be(E,x,!0),Md=(E,x={})=>{for(const A of E?Qh(E):l.mount)l.mount.delete(A),l.array.delete(A),x.keepValue||(Je(i,A),Je(o,A)),!x.keepError&&Je(r.errors,A),!x.keepDirty&&Je(r.dirtyFields,A),!x.keepTouched&&Je(r.touchedFields,A),!n.shouldUnregister&&!x.keepDefaultValue&&Je(s,A);f.values.next({values:{...o}}),f.state.next({...r,...x.keepDirty?{isDirty:he()}:{}}),!x.keepIsValid&&p()},Ay=({disabled:E,name:x,field:A,fields:F,value:D})=>{if(Xn(E)){const b=E?void 0:Ne(D)?Zh(A?A._f:$(F,x)._f):D;we(o,x,b),M(x,b,!1,!1,!0)}},Fd=(E,x={})=>{let A=$(i,E);const F=Xn(x.disabled);return we(i,E,{...A||{},_f:{...A&&A._f?A._f:{ref:{name:E}},name:E,mount:!0,...x}}),l.mount.add(E),A?Ay({field:A,disabled:x.disabled,name:E,value:x.value}):O(E,!0,x.value),{...F?{disabled:x.disabled}:{},...n.progressive?{required:!!x.required,min:xo(x.min),max:xo(x.max),minLength:xo(x.minLength),maxLength:xo(x.maxLength),pattern:xo(x.pattern)}:{},name:E,onChange:X,onBlur:X,ref:D=>{if(D){Fd(E,x),A=$(i,E);const b=Ne(D.value)&&D.querySelectorAll&&D.querySelectorAll("input,select,textarea")[0]||D,q=l9(b),fe=A._f.refs||[];if(q?fe.find(ze=>ze===b):b===A._f.ref)return;we(i,E,{_f:{...A._f,...q?{refs:[...fe.filter(Xh),b,...Array.isArray($(s,E))?[{}]:[]],ref:{type:b.type,name:E}}:{ref:b}}}),O(E,!1,void 0,b)}else A=$(i,E,{}),A._f&&(A._f.mount=!1),(n.shouldUnregister||x.shouldUnregister)&&!(YF(l.array,E)&&a.action)&&l.unMount.add(E)}}},Cy=()=>n.shouldFocusError&&Xo(i,_e,l.mount),wA=E=>{Xn(E)&&(f.state.next({disabled:E}),Xo(i,(x,A)=>{let F=E;const D=$(i,A);D&&Xn(D._f.disabled)&&(F||(F=D._f.disabled)),x.disabled=F},0,!1))},Ry=(E,x)=>async A=>{A&&(A.preventDefault&&A.preventDefault(),A.persist&&A.persist());let F=Kn(o);if(f.state.next({isSubmitting:!0}),n.resolver){const{errors:D,values:b}=await B();r.errors=D,F=b}else await Z(i);Je(r.errors,"root"),Yt(r.errors)?(f.state.next({errors:{}}),await E(F,A)):(x&&await x({...r.errors},A),Cy(),setTimeout(Cy)),f.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Yt(r.errors),submitCount:r.submitCount+1,errors:r.errors})},EA=(E,x={})=>{$(i,E)&&(Ne(x.defaultValue)?W(E,$(s,E)):(W(E,x.defaultValue),we(s,E,x.defaultValue)),x.keepTouched||Je(r.touchedFields,E),x.keepDirty||(Je(r.dirtyFields,E),r.isDirty=x.defaultValue?he(E,$(s,E)):he()),x.keepError||(Je(r.errors,E),d.isValid&&p()),f.state.next({...r}))},Py=(E,x={})=>{const A=E?Kn(E):s,F=Kn(A),D=E&&!Yt(E)?F:s;if(x.keepDefaultValues||(s=A),!x.keepValues){if(x.keepDirtyValues||y)for(const b of l.mount)$(r.dirtyFields,b)?we(D,b,$(o,b)):W(b,$(D,b));else{if(Ty&&Ne(E))for(const b of l.mount){const q=$(i,b);if(q&&q._f){const fe=Array.isArray(q._f.refs)?q._f.refs[0]:q._f.ref;if(wc(fe)){const ze=fe.closest("form");if(ze){ze.reset();break}}}}i={}}o=t.shouldUnregister?x.keepDefaultValues?Kn(s):{}:Kn(D),f.array.next({values:{...D}}),f.values.next({values:{...D}})}l={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},!a.mount&&e(),a.mount=!d.isValid||!!x.keepIsValid,a.watch=!!t.shouldUnregister,f.state.next({submitCount:x.keepSubmitCount?r.submitCount:0,isDirty:x.keepDirty?r.isDirty:!!(x.keepDefaultValues&&!xi(E,s)),isSubmitted:x.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:x.keepDirtyValues?r.dirtyFields:x.keepDefaultValues&&E?Yh(s,E):{},touchedFields:x.keepTouched?r.touchedFields:{},errors:x.keepErrors?r.errors:{},isSubmitSuccessful:x.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},ky=(E,x)=>Py(jr(E)?E(o):E,x);return{control:{register:Fd,unregister:Md,getFieldState:xn,handleSubmit:Ry,setError:In,_executeSchema:B,_getWatch:Be,_getDirty:he,_updateValid:p,_removeUnmounted:ie,_updateFieldArray:T,_updateDisabledField:Ay,_getFieldArray:At,_reset:Py,_resetDefaultValues:()=>jr(n.defaultValues)&&n.defaultValues().then(E=>{ky(E,n.resetOptions),f.state.next({isLoading:!1})}),_updateFormState:E=>{r={...r,...E}},_disableForm:wA,_subjects:f,_proxyFormState:d,_setErrors:N,get _fields(){return i},get _formValues(){return o},get _state(){return a},set _state(E){a=E},get _defaultValues(){return s},get _names(){return l},set _names(E){l=E},get _formState(){return r},set _formState(E){r=E},get _options(){return n},set _options(E){n={...n,...E}}},trigger:Re,register:Fd,handleSubmit:Ry,watch:Xi,setValue:W,getValues:di,reset:ky,resetField:EA,clearErrors:uo,unregister:Md,setError:In,setFocus:(E,x={})=>{const A=$(i,E),F=A&&A._f;if(F){const D=F.refs?F.refs[0]:F.ref;D.focus&&(D.focus(),x.shouldSelect&&D.select())}},getFieldState:xn}}function m9(t={}){const e=_t.useRef(),n=_t.useRef(),[r,i]=_t.useState({isDirty:!1,isValidating:!1,isLoading:jr(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},errors:t.errors||{},disabled:!1,defaultValues:jr(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...p9(t,()=>i(o=>({...o}))),formState:r});const s=e.current.control;return s._options=t,n9({subject:s._subjects.state,next:o=>{t9(o,s._proxyFormState,s._updateFormState,!0)&&i({...s._formState})}}),_t.useEffect(()=>s._disableForm(t.disabled),[s,t.disabled]),_t.useEffect(()=>{if(s._proxyFormState.isDirty){const o=s._getDirty();o!==r.isDirty&&s._subjects.state.next({isDirty:o})}},[s,r.isDirty]),_t.useEffect(()=>{t.values&&!xi(t.values,n.current)?(s._reset(t.values,s._options.resetOptions),n.current=t.values,i(o=>({...o}))):s._resetDefaultValues()},[t.values,s]),_t.useEffect(()=>{t.errors&&s._setErrors(t.errors)},[t.errors,s]),_t.useEffect(()=>{s._state.mount||(s._updateValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),e.current.formState=e9(r,s),e.current}const g9=async t=>{try{const e=g3(_r,"users"),n=Er(e,t.id);await D3(n,t)}catch{}},y9=()=>{var d,f,y,g,v,w,m,p,_,T;const[t,e]=S.useState([]),[n,r]=S.useState([]),{register:i,handleSubmit:s,formState:{errors:o}}=m9(),{currentUser:a}=S.useContext(ci);S.useEffect(()=>{async function I(){const{data:N}=await Ia("https://apis.datos.gob.ar/georef/api/provincias");e(N.provincias)}I()},[]);const l=async I=>{u(I.target.value)},u=async I=>{const{data:N}=await Ia(`https://apis.datos.gob.ar/georef/api/municipios?provincia=${I}&max=500`);r(N.municipios)},c=async I=>{if(I){const N={...a};N.dataCompleted=!0,await g9(N)}};return h.jsxs("form",{className:"flex-row my-2 mx-auto w-[50vw] font-bebas text-xl",children:[h.jsxs("p",{children:["Los campos con ",h.jsx("span",{className:"text-primary",children:"*"})," son obligatorios"]}),h.jsxs("div",{className:"max-w-fit mx-auto",children:[h.jsxs("div",{className:"m-2",children:[h.jsxs("label",{htmlFor:"nombre",className:"m-5",children:[h.jsx("span",{className:"text-primary text-2xl mr-1",children:"*"}),"Nombre:"]}),h.jsx("input",{id:"name",...i("name",{required:{value:!0,message:"El campo es obligatorio"},pattern:{value:/^[A-Za-z\s]+$/,message:"Ingresa un nombre valido"}}),type:"text",className:`p-1.5 w-72  border-x-transparent  border-t-transparent border-b-2 focus:ring-0 focus:border-transparent focus:border-b-red-500${o.name?"bg-red-200":""} border-zinc-600`,placeholder:"nombre"}),h.jsx("p",{className:" text-red-500 font-medium",children:(d=o.name)==null?void 0:d.message})]}),h.jsxs("div",{className:"m-2",children:[h.jsxs("label",{htmlFor:"apellido",className:"m-5",children:[h.jsx("span",{className:"text-primary text-2xl mr-1",children:"*"}),"Apellido:"]}),h.jsx("input",{id:"apellido",...i("apellido",{required:{value:!0,message:"El campo es obligatorio"},pattern:{value:/^[A-Za-z\s]+$/,message:"Ingresa un apellido valido"}}),type:"text",className:`p-1.5 w-72  border-x-transparent  border-t-transparent border-b-2 focus:ring-0 focus:border-transparent focus:border-b-red-500${o.apellido?"bg-red-200":""} border-zinc-600`,placeholder:"apellido"}),h.jsx("p",{className:" text-red-500 font-medium",children:(f=o.apellido)==null?void 0:f.message})]}),h.jsxs("div",{className:"m-2",children:[h.jsxs("label",{htmlFor:"documento",className:"m-5",children:[h.jsx("span",{className:"text-primary text-2xl mr-1",children:"*"}),"DNI:"]}),h.jsx("input",{id:"documento",...i("documento",{required:{value:!0,message:"El campo es obligatorio"},pattern:{value:/^[A-Za-z0-9-]+$/i,message:"Documento invalido"}}),type:"text",className:`p-1.5 w-72 border-x-transparent  border-t-transparent border-b-2 focus:ring-0 focus:border-transparent focus:border-b-red-500${o.documento?"bg-red-200":""} border-zinc-600`,placeholder:"numero de documento"}),h.jsx("p",{className:" text-red-500 font-medium",children:(y=o.documento)==null?void 0:y.message})]}),h.jsxs("div",{className:"m-2",children:[h.jsxs("label",{htmlFor:"teléfono",className:"m-5",children:[h.jsx("span",{className:"text-primary text-2xl mr-1",children:"*"}),"Teléfono:"]}),h.jsx("input",{id:"telefono",...i("telefono",{required:{value:!0,message:"El campo es obligatorio"},pattern:{value:/^\+\d{1,3}\s?\d{4,}$/,message:"Numero de telfono invalido"}}),type:"text",className:`p-1.5 w-72  border-x-transparent  border-t-transparent border-b-2 focus:ring-0 focus:border-transparent focus:border-b-red-500${o.telefono?"bg-red-200":""} border-zinc-600`,placeholder:"+573245271273"}),h.jsx("p",{className:" text-red-500 font-medium",children:(g=o.telefono)==null?void 0:g.message})]}),h.jsxs("div",{className:"m-2",children:[h.jsxs("label",{htmlFor:"provincias",className:"m-5",children:[h.jsx("span",{className:"text-primary text-2xl mr-1",children:"*"}),"Provincia:"]}),h.jsxs("select",{id:"provincia",...i("provincia",{required:{value:!0,message:"El campo es obligatorio"}}),onChange:l,className:"border-x-transparent border-t-transparent border-b-2 w-72 focus:ring-0 focus:border-transparent focus:border-b-red-500",children:[h.jsx("option",{value:"Elige una provincia",children:"Elige una provincia"}),t.length&&t.map((I,N)=>h.jsx("option",{value:I.id,children:I.nombre},N))]}),h.jsx("p",{className:" text-red-500 font-medium",children:(v=o.provincia)==null?void 0:v.message})]}),h.jsxs("div",{className:"m-2",children:[h.jsxs("label",{htmlFor:"municipios",className:"m-5",children:[h.jsx("span",{className:"text-primary text-2xl mr-1",children:"*"}),"Municipio:"]}),h.jsxs("select",{id:"municipio",...i("municipio",{required:{value:!0,message:"El campo es obligatorio"}}),className:"border-x-transparent border-t-transparent border-b-2 w-72 focus:ring-0 focus:border-transparent focus:border-b-red-500",children:[h.jsx("option",{value:"Elige un municipio",children:"Elige un municipio"}),n.length&&n.map((I,N)=>h.jsx("option",{value:I.id,children:I.nombre},N))]}),h.jsx("p",{className:" text-red-500 font-medium",children:(w=o.municipio)==null?void 0:w.message})]}),h.jsxs("div",{className:"m-2",children:[h.jsxs("label",{htmlFor:"ciudad",className:"m-5",children:[h.jsx("span",{className:"text-primary text-2xl mr-1",children:"*"}),"Ciudad:"]}),h.jsx("input",{id:"ciudad",...i("ciudad",{required:{value:!0,message:"El campo es obligatorio"},pattern:{value:/^[A-Za-z0-9\s\-,#.]+$/,message:"Direccion invalida"}}),type:"text",className:`p-1.5 w-72  border-x-transparent  border-t-transparent border-b-2 focus:ring-0 focus:border-transparent focus:border-b-red-500${o.ciudad?"bg-red-200":""} border-zinc-600`,placeholder:"Ingrese una ciudad"}),h.jsx("p",{className:" text-red-500 font-medium",children:(m=o.ciudad)==null?void 0:m.message})]}),h.jsxs("div",{className:"m-2",children:[h.jsxs("label",{htmlFor:"calle",className:"m-5",children:[h.jsx("span",{className:"text-primary text-2xl mr-1",children:"*"}),"Calle:"]}),h.jsx("input",{...i("calle",{required:{value:!0,message:"El campo es obligatorio"},pattern:{value:/^[A-Za-z0-9\s\-,#.]+$/,message:"Direccion invalida"}}),type:"text",className:`p-1.5 w-72  border-x-transparent  border-t-transparent border-b-2 focus:ring-0 focus:border-transparent focus:border-b-red-500${o.calle?"bg-red-200":""} border-zinc-600`,placeholder:"nombre de calle"}),h.jsx("p",{className:" text-red-500 font-medium",children:(p=o.calle)==null?void 0:p.message})]}),h.jsxs("div",{className:"m-2",children:[h.jsxs("label",{htmlFor:"Altura",className:"m-5",children:[h.jsx("span",{className:"text-primary text-2xl mr-1",children:"*"}),"Altura:"]}),h.jsx("input",{id:"altura",...i("altura",{required:{value:!0,message:"El campo es obligatorio"},pattern:{value:/^[A-Za-z0-9\s\-,#.]+$/,message:"Direccion invalida"}}),type:"text",className:`p-1.5 w-72  border-x-transparent  border-t-transparent border-b-2 focus:ring-0 focus:border-transparent focus:border-b-red-500${o.altura?"bg-red-200":""} border-zinc-600`,placeholder:"altura de calle"}),h.jsx("p",{className:" text-red-500 font-medium",children:(_=o.altura)==null?void 0:_.message})]}),h.jsxs("div",{className:"m-2",children:[h.jsx("label",{htmlFor:"piso/departamento",className:"m-5",children:"Piso / Dpto :"}),h.jsx("input",{id:"pisoDpto",...i("pisoDpto",{required:{value:!0,message:"El campo es obligatorio"},pattern:{value:/^[A-Za-z0-9\s\-,#.]+$/,message:"Direccion invalida"}}),type:"text",className:`p-1.5 w-72  border-x-transparent  border-t-transparent border-b-2 focus:ring-0 focus:border-transparent focus:border-b-red-500${o.pisoDpto?"bg-red-200":""} border-zinc-600`,placeholder:"nº de piso / departamento"}),h.jsx("p",{className:" text-red-500 font-medium",children:(T=o.pisoDpto)==null?void 0:T.message})]})]}),h.jsx("div",{className:"max-w-fit mx-auto",children:h.jsx("button",{className:" text-white bg-primary p-2 px-5 rounded-xl",onClick:s(c),children:"finalizar"})})]})},v9=()=>{const e=Ki().pathname,n=e!=="/loginPage"&&e!=="/signUpPage"&&e!=="/loginUser";return h.jsxs(h.Fragment,{children:[n&&h.jsx(qF,{}),h.jsxs(Ux,{children:[h.jsx(Xt,{path:"home",element:h.jsx(B3,{})}),h.jsx(Xt,{path:"/productspage",element:h.jsx(cF,{})}),h.jsx(Xt,{path:"/preCheckout",element:h.jsx(y9,{})}),h.jsx(Xt,{path:"/detail/:id",element:h.jsx(j3,{})}),h.jsx(Xt,{path:"/loginUser",element:h.jsx(vF,{})}),h.jsx(Xt,{path:"/signUpPage",element:h.jsx(gF,{})}),h.jsx(Xt,{path:"/loginPage",element:h.jsx(EF,{})}),h.jsx(Xt,{path:"/*",element:h.jsx(mj,{to:"/home"})})]}),n&&h.jsx(IF,{})]})},_9=()=>{const t=Vt();return S.useEffect(()=>{t(Nx()),t(TL())},[]),h.jsxs(Ux,{children:[h.jsx(Xt,{path:"/*",element:h.jsx(v9,{})}),h.jsx(Xt,{path:"/auth",element:"cambiar por el login comp"}),h.jsx(Xt,{path:"/admin",element:"cambiar por el login comp"})]})},w9=()=>h.jsx(yP,{store:PL,children:h.jsx(L3,{children:h.jsx(_9,{})})});tf.createRoot(document.getElementById("root")).render(h.jsx(_t.StrictMode,{children:h.jsx(xj,{children:h.jsx(w9,{})})}));
