function $R(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var di=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function qx(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Wx={exports:{}},yf={},Kx={exports:{}},me={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uu=Symbol.for("react.element"),UR=Symbol.for("react.portal"),BR=Symbol.for("react.fragment"),zR=Symbol.for("react.strict_mode"),HR=Symbol.for("react.profiler"),qR=Symbol.for("react.provider"),WR=Symbol.for("react.context"),KR=Symbol.for("react.forward_ref"),GR=Symbol.for("react.suspense"),QR=Symbol.for("react.memo"),YR=Symbol.for("react.lazy"),n_=Symbol.iterator;function JR(t){return t===null||typeof t!="object"?null:(t=n_&&t[n_]||t["@@iterator"],typeof t=="function"?t:null)}var Gx={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Qx=Object.assign,Yx={};function la(t,e,n){this.props=t,this.context=e,this.refs=Yx,this.updater=n||Gx}la.prototype.isReactComponent={};la.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};la.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Jx(){}Jx.prototype=la.prototype;function fy(t,e,n){this.props=t,this.context=e,this.refs=Yx,this.updater=n||Gx}var hy=fy.prototype=new Jx;hy.constructor=fy;Qx(hy,la.prototype);hy.isPureReactComponent=!0;var r_=Array.isArray,Xx=Object.prototype.hasOwnProperty,py={current:null},Zx={key:!0,ref:!0,__self:!0,__source:!0};function eT(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)Xx.call(e,r)&&!Zx.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:uu,type:t,key:s,ref:o,props:i,_owner:py.current}}function XR(t,e){return{$$typeof:uu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function my(t){return typeof t=="object"&&t!==null&&t.$$typeof===uu}function ZR(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var i_=/\/+/g;function ep(t,e){return typeof t=="object"&&t!==null&&t.key!=null?ZR(""+t.key):e.toString(36)}function Rc(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case uu:case UR:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+ep(o,0):r,r_(i)?(n="",t!=null&&(n=t.replace(i_,"$&/")+"/"),Rc(i,e,n,"",function(u){return u})):i!=null&&(my(i)&&(i=XR(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(i_,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",r_(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+ep(s,a);o+=Rc(s,e,n,l,i)}else if(l=JR(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+ep(s,a++),o+=Rc(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Zu(t,e,n){if(t==null)return t;var r=[],i=0;return Rc(t,r,"","",function(s){return e.call(n,s,i++)}),r}function eN(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Xt={current:null},Nc={transition:null},tN={ReactCurrentDispatcher:Xt,ReactCurrentBatchConfig:Nc,ReactCurrentOwner:py};me.Children={map:Zu,forEach:function(t,e,n){Zu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Zu(t,function(){e++}),e},toArray:function(t){return Zu(t,function(e){return e})||[]},only:function(t){if(!my(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};me.Component=la;me.Fragment=BR;me.Profiler=HR;me.PureComponent=fy;me.StrictMode=zR;me.Suspense=GR;me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tN;me.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Qx({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=py.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Xx.call(e,l)&&!Zx.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:uu,type:t.type,key:i,ref:s,props:r,_owner:o}};me.createContext=function(t){return t={$$typeof:WR,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:qR,_context:t},t.Consumer=t};me.createElement=eT;me.createFactory=function(t){var e=eT.bind(null,t);return e.type=t,e};me.createRef=function(){return{current:null}};me.forwardRef=function(t){return{$$typeof:KR,render:t}};me.isValidElement=my;me.lazy=function(t){return{$$typeof:YR,_payload:{_status:-1,_result:t},_init:eN}};me.memo=function(t,e){return{$$typeof:QR,type:t,compare:e===void 0?null:e}};me.startTransition=function(t){var e=Nc.transition;Nc.transition={};try{t()}finally{Nc.transition=e}};me.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};me.useCallback=function(t,e){return Xt.current.useCallback(t,e)};me.useContext=function(t){return Xt.current.useContext(t)};me.useDebugValue=function(){};me.useDeferredValue=function(t){return Xt.current.useDeferredValue(t)};me.useEffect=function(t,e){return Xt.current.useEffect(t,e)};me.useId=function(){return Xt.current.useId()};me.useImperativeHandle=function(t,e,n){return Xt.current.useImperativeHandle(t,e,n)};me.useInsertionEffect=function(t,e){return Xt.current.useInsertionEffect(t,e)};me.useLayoutEffect=function(t,e){return Xt.current.useLayoutEffect(t,e)};me.useMemo=function(t,e){return Xt.current.useMemo(t,e)};me.useReducer=function(t,e,n){return Xt.current.useReducer(t,e,n)};me.useRef=function(t){return Xt.current.useRef(t)};me.useState=function(t){return Xt.current.useState(t)};me.useSyncExternalStore=function(t,e,n){return Xt.current.useSyncExternalStore(t,e,n)};me.useTransition=function(){return Xt.current.useTransition()};me.version="18.2.0";Kx.exports=me;var S=Kx.exports;const he=qx(S),El=$R({__proto__:null,default:he},[S]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nN=S,rN=Symbol.for("react.element"),iN=Symbol.for("react.fragment"),sN=Object.prototype.hasOwnProperty,oN=nN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,aN={key:!0,ref:!0,__self:!0,__source:!0};function tT(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)sN.call(e,r)&&!aN.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:rN,type:t,key:s,ref:o,props:i,_owner:oN.current}}yf.Fragment=iN;yf.jsx=tT;yf.jsxs=tT;Wx.exports=yf;var f=Wx.exports,gm={},nT={exports:{}},Tn={},rT={exports:{}},iT={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(q,re){var $=q.length;q.push(re);e:for(;0<$;){var Ie=$-1>>>1,xe=q[Ie];if(0<i(xe,re))q[Ie]=re,q[$]=xe,$=Ie;else break e}}function n(q){return q.length===0?null:q[0]}function r(q){if(q.length===0)return null;var re=q[0],$=q.pop();if($!==re){q[0]=$;e:for(var Ie=0,xe=q.length,Sn=xe>>>1;Ie<Sn;){var Je=2*(Ie+1)-1,N=q[Je],Cn=Je+1,Bn=q[Cn];if(0>i(N,$))Cn<xe&&0>i(Bn,N)?(q[Ie]=Bn,q[Cn]=$,Ie=Cn):(q[Ie]=N,q[Je]=$,Ie=Je);else if(Cn<xe&&0>i(Bn,$))q[Ie]=Bn,q[Cn]=$,Ie=Cn;else break e}}return re}function i(q,re){var $=q.sortIndex-re.sortIndex;return $!==0?$:q.id-re.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,h=null,m=3,w=!1,E=!1,x=!1,I=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(q){for(var re=n(u);re!==null;){if(re.callback===null)r(u);else if(re.startTime<=q)r(u),re.sortIndex=re.expirationTime,e(l,re);else break;re=n(u)}}function A(q){if(x=!1,T(q),!E)if(n(l)!==null)E=!0,ft(P);else{var re=n(u);re!==null&&$e(A,re.startTime-q)}}function P(q,re){E=!1,x&&(x=!1,_(B),B=-1),w=!0;var $=m;try{for(T(re),h=n(l);h!==null&&(!(h.expirationTime>re)||q&&!ce());){var Ie=h.callback;if(typeof Ie=="function"){h.callback=null,m=h.priorityLevel;var xe=Ie(h.expirationTime<=re);re=t.unstable_now(),typeof xe=="function"?h.callback=xe:h===n(l)&&r(l),T(re)}else r(l);h=n(l)}if(h!==null)var Sn=!0;else{var Je=n(u);Je!==null&&$e(A,Je.startTime-re),Sn=!1}return Sn}finally{h=null,m=$,w=!1}}var j=!1,M=null,B=-1,ee=5,G=-1;function ce(){return!(t.unstable_now()-G<ee)}function Z(){if(M!==null){var q=t.unstable_now();G=q;var re=!0;try{re=M(!0,q)}finally{re?de():(j=!1,M=null)}}else j=!1}var de;if(typeof v=="function")de=function(){v(Z)};else if(typeof MessageChannel<"u"){var we=new MessageChannel,Fe=we.port2;we.port1.onmessage=Z,de=function(){Fe.postMessage(null)}}else de=function(){I(Z,0)};function ft(q){M=q,j||(j=!0,de())}function $e(q,re){B=I(function(){q(t.unstable_now())},re)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(q){q.callback=null},t.unstable_continueExecution=function(){E||w||(E=!0,ft(P))},t.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ee=0<q?Math.floor(1e3/q):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(q){switch(m){case 1:case 2:case 3:var re=3;break;default:re=m}var $=m;m=re;try{return q()}finally{m=$}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(q,re){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var $=m;m=q;try{return re()}finally{m=$}},t.unstable_scheduleCallback=function(q,re,$){var Ie=t.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?Ie+$:Ie):$=Ie,q){case 1:var xe=-1;break;case 2:xe=250;break;case 5:xe=1073741823;break;case 4:xe=1e4;break;default:xe=5e3}return xe=$+xe,q={id:d++,callback:re,priorityLevel:q,startTime:$,expirationTime:xe,sortIndex:-1},$>Ie?(q.sortIndex=$,e(u,q),n(l)===null&&q===n(u)&&(x?(_(B),B=-1):x=!0,$e(A,$-Ie))):(q.sortIndex=xe,e(l,q),E||w||(E=!0,ft(P))),q},t.unstable_shouldYield=ce,t.unstable_wrapCallback=function(q){var re=m;return function(){var $=m;m=re;try{return q.apply(this,arguments)}finally{m=$}}}})(iT);rT.exports=iT;var lN=rT.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sT=S,wn=lN;function F(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var oT=new Set,xl={};function qs(t,e){Bo(t,e),Bo(t+"Capture",e)}function Bo(t,e){for(xl[t]=e,t=0;t<e.length;t++)oT.add(e[t])}var qr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ym=Object.prototype.hasOwnProperty,uN=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,s_={},o_={};function cN(t){return ym.call(o_,t)?!0:ym.call(s_,t)?!1:uN.test(t)?o_[t]=!0:(s_[t]=!0,!1)}function dN(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function fN(t,e,n,r){if(e===null||typeof e>"u"||dN(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Zt(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Rt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Rt[t]=new Zt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Rt[e]=new Zt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Rt[t]=new Zt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Rt[t]=new Zt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Rt[t]=new Zt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Rt[t]=new Zt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Rt[t]=new Zt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Rt[t]=new Zt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Rt[t]=new Zt(t,5,!1,t.toLowerCase(),null,!1,!1)});var gy=/[\-:]([a-z])/g;function yy(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(gy,yy);Rt[e]=new Zt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(gy,yy);Rt[e]=new Zt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(gy,yy);Rt[e]=new Zt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Rt[t]=new Zt(t,1,!1,t.toLowerCase(),null,!1,!1)});Rt.xlinkHref=new Zt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Rt[t]=new Zt(t,1,!1,t.toLowerCase(),null,!0,!0)});function vy(t,e,n,r){var i=Rt.hasOwnProperty(e)?Rt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(fN(e,n,i,r)&&(n=null),r||i===null?cN(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ti=sT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ec=Symbol.for("react.element"),yo=Symbol.for("react.portal"),vo=Symbol.for("react.fragment"),wy=Symbol.for("react.strict_mode"),vm=Symbol.for("react.profiler"),aT=Symbol.for("react.provider"),lT=Symbol.for("react.context"),_y=Symbol.for("react.forward_ref"),wm=Symbol.for("react.suspense"),_m=Symbol.for("react.suspense_list"),Ey=Symbol.for("react.memo"),yi=Symbol.for("react.lazy"),uT=Symbol.for("react.offscreen"),a_=Symbol.iterator;function Na(t){return t===null||typeof t!="object"?null:(t=a_&&t[a_]||t["@@iterator"],typeof t=="function"?t:null)}var He=Object.assign,tp;function Wa(t){if(tp===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);tp=e&&e[1]||""}return`
`+tp+t}var np=!1;function rp(t,e){if(!t||np)return"";np=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{np=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Wa(t):""}function hN(t){switch(t.tag){case 5:return Wa(t.type);case 16:return Wa("Lazy");case 13:return Wa("Suspense");case 19:return Wa("SuspenseList");case 0:case 2:case 15:return t=rp(t.type,!1),t;case 11:return t=rp(t.type.render,!1),t;case 1:return t=rp(t.type,!0),t;default:return""}}function Em(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case vo:return"Fragment";case yo:return"Portal";case vm:return"Profiler";case wy:return"StrictMode";case wm:return"Suspense";case _m:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case lT:return(t.displayName||"Context")+".Consumer";case aT:return(t._context.displayName||"Context")+".Provider";case _y:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Ey:return e=t.displayName||null,e!==null?e:Em(t.type)||"Memo";case yi:e=t._payload,t=t._init;try{return Em(t(e))}catch{}}return null}function pN(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Em(e);case 8:return e===wy?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Wi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function cT(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function mN(t){var e=cT(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function tc(t){t._valueTracker||(t._valueTracker=mN(t))}function dT(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=cT(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function rd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function xm(t,e){var n=e.checked;return He({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function l_(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Wi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function fT(t,e){e=e.checked,e!=null&&vy(t,"checked",e,!1)}function Tm(t,e){fT(t,e);var n=Wi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Im(t,e.type,n):e.hasOwnProperty("defaultValue")&&Im(t,e.type,Wi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function u_(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Im(t,e,n){(e!=="number"||rd(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ka=Array.isArray;function Ro(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Wi(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function bm(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(F(91));return He({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function c_(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(F(92));if(Ka(n)){if(1<n.length)throw Error(F(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Wi(n)}}function hT(t,e){var n=Wi(e.value),r=Wi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function d_(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function pT(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Sm(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?pT(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var nc,mT=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(nc=nc||document.createElement("div"),nc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=nc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Tl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var il={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},gN=["Webkit","ms","Moz","O"];Object.keys(il).forEach(function(t){gN.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),il[e]=il[t]})});function gT(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||il.hasOwnProperty(t)&&il[t]?(""+e).trim():e+"px"}function yT(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=gT(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var yN=He({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Cm(t,e){if(e){if(yN[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(F(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(F(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(F(61))}if(e.style!=null&&typeof e.style!="object")throw Error(F(62))}}function Am(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Pm=null;function xy(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var km=null,No=null,Do=null;function f_(t){if(t=fu(t)){if(typeof km!="function")throw Error(F(280));var e=t.stateNode;e&&(e=xf(e),km(t.stateNode,t.type,e))}}function vT(t){No?Do?Do.push(t):Do=[t]:No=t}function wT(){if(No){var t=No,e=Do;if(Do=No=null,f_(t),e)for(t=0;t<e.length;t++)f_(e[t])}}function _T(t,e){return t(e)}function ET(){}var ip=!1;function xT(t,e,n){if(ip)return t(e,n);ip=!0;try{return _T(t,e,n)}finally{ip=!1,(No!==null||Do!==null)&&(ET(),wT())}}function Il(t,e){var n=t.stateNode;if(n===null)return null;var r=xf(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(F(231,e,typeof n));return n}var Rm=!1;if(qr)try{var Da={};Object.defineProperty(Da,"passive",{get:function(){Rm=!0}}),window.addEventListener("test",Da,Da),window.removeEventListener("test",Da,Da)}catch{Rm=!1}function vN(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var sl=!1,id=null,sd=!1,Nm=null,wN={onError:function(t){sl=!0,id=t}};function _N(t,e,n,r,i,s,o,a,l){sl=!1,id=null,vN.apply(wN,arguments)}function EN(t,e,n,r,i,s,o,a,l){if(_N.apply(this,arguments),sl){if(sl){var u=id;sl=!1,id=null}else throw Error(F(198));sd||(sd=!0,Nm=u)}}function Ws(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function TT(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function h_(t){if(Ws(t)!==t)throw Error(F(188))}function xN(t){var e=t.alternate;if(!e){if(e=Ws(t),e===null)throw Error(F(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return h_(i),t;if(s===r)return h_(i),e;s=s.sibling}throw Error(F(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(F(189))}}if(n.alternate!==r)throw Error(F(190))}if(n.tag!==3)throw Error(F(188));return n.stateNode.current===n?t:e}function IT(t){return t=xN(t),t!==null?bT(t):null}function bT(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=bT(t);if(e!==null)return e;t=t.sibling}return null}var ST=wn.unstable_scheduleCallback,p_=wn.unstable_cancelCallback,TN=wn.unstable_shouldYield,IN=wn.unstable_requestPaint,tt=wn.unstable_now,bN=wn.unstable_getCurrentPriorityLevel,Ty=wn.unstable_ImmediatePriority,CT=wn.unstable_UserBlockingPriority,od=wn.unstable_NormalPriority,SN=wn.unstable_LowPriority,AT=wn.unstable_IdlePriority,vf=null,vr=null;function CN(t){if(vr&&typeof vr.onCommitFiberRoot=="function")try{vr.onCommitFiberRoot(vf,t,void 0,(t.current.flags&128)===128)}catch{}}var Xn=Math.clz32?Math.clz32:kN,AN=Math.log,PN=Math.LN2;function kN(t){return t>>>=0,t===0?32:31-(AN(t)/PN|0)|0}var rc=64,ic=4194304;function Ga(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ad(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Ga(a):(s&=o,s!==0&&(r=Ga(s)))}else o=n&~i,o!==0?r=Ga(o):s!==0&&(r=Ga(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Xn(e),i=1<<n,r|=t[n],e&=~i;return r}function RN(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function NN(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Xn(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=RN(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Dm(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function PT(){var t=rc;return rc<<=1,!(rc&4194240)&&(rc=64),t}function sp(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function cu(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Xn(e),t[e]=n}function DN(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Xn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Iy(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Xn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Ce=0;function kT(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var RT,by,NT,DT,OT,Om=!1,sc=[],Ri=null,Ni=null,Di=null,bl=new Map,Sl=new Map,wi=[],ON="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function m_(t,e){switch(t){case"focusin":case"focusout":Ri=null;break;case"dragenter":case"dragleave":Ni=null;break;case"mouseover":case"mouseout":Di=null;break;case"pointerover":case"pointerout":bl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Sl.delete(e.pointerId)}}function Oa(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=fu(e),e!==null&&by(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function LN(t,e,n,r,i){switch(e){case"focusin":return Ri=Oa(Ri,t,e,n,r,i),!0;case"dragenter":return Ni=Oa(Ni,t,e,n,r,i),!0;case"mouseover":return Di=Oa(Di,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return bl.set(s,Oa(bl.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Sl.set(s,Oa(Sl.get(s)||null,t,e,n,r,i)),!0}return!1}function LT(t){var e=gs(t.target);if(e!==null){var n=Ws(e);if(n!==null){if(e=n.tag,e===13){if(e=TT(n),e!==null){t.blockedOn=e,OT(t.priority,function(){NT(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Dc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Lm(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Pm=r,n.target.dispatchEvent(r),Pm=null}else return e=fu(n),e!==null&&by(e),t.blockedOn=n,!1;e.shift()}return!0}function g_(t,e,n){Dc(t)&&n.delete(e)}function jN(){Om=!1,Ri!==null&&Dc(Ri)&&(Ri=null),Ni!==null&&Dc(Ni)&&(Ni=null),Di!==null&&Dc(Di)&&(Di=null),bl.forEach(g_),Sl.forEach(g_)}function La(t,e){t.blockedOn===e&&(t.blockedOn=null,Om||(Om=!0,wn.unstable_scheduleCallback(wn.unstable_NormalPriority,jN)))}function Cl(t){function e(i){return La(i,t)}if(0<sc.length){La(sc[0],t);for(var n=1;n<sc.length;n++){var r=sc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ri!==null&&La(Ri,t),Ni!==null&&La(Ni,t),Di!==null&&La(Di,t),bl.forEach(e),Sl.forEach(e),n=0;n<wi.length;n++)r=wi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<wi.length&&(n=wi[0],n.blockedOn===null);)LT(n),n.blockedOn===null&&wi.shift()}var Oo=ti.ReactCurrentBatchConfig,ld=!0;function MN(t,e,n,r){var i=Ce,s=Oo.transition;Oo.transition=null;try{Ce=1,Sy(t,e,n,r)}finally{Ce=i,Oo.transition=s}}function VN(t,e,n,r){var i=Ce,s=Oo.transition;Oo.transition=null;try{Ce=4,Sy(t,e,n,r)}finally{Ce=i,Oo.transition=s}}function Sy(t,e,n,r){if(ld){var i=Lm(t,e,n,r);if(i===null)mp(t,e,r,ud,n),m_(t,r);else if(LN(i,t,e,n,r))r.stopPropagation();else if(m_(t,r),e&4&&-1<ON.indexOf(t)){for(;i!==null;){var s=fu(i);if(s!==null&&RT(s),s=Lm(t,e,n,r),s===null&&mp(t,e,r,ud,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else mp(t,e,r,null,n)}}var ud=null;function Lm(t,e,n,r){if(ud=null,t=xy(r),t=gs(t),t!==null)if(e=Ws(t),e===null)t=null;else if(n=e.tag,n===13){if(t=TT(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ud=t,null}function jT(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(bN()){case Ty:return 1;case CT:return 4;case od:case SN:return 16;case AT:return 536870912;default:return 16}default:return 16}}var Ii=null,Cy=null,Oc=null;function MT(){if(Oc)return Oc;var t,e=Cy,n=e.length,r,i="value"in Ii?Ii.value:Ii.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Oc=i.slice(t,1<r?1-r:void 0)}function Lc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function oc(){return!0}function y_(){return!1}function In(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?oc:y_,this.isPropagationStopped=y_,this}return He(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=oc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=oc)},persist:function(){},isPersistent:oc}),e}var ua={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ay=In(ua),du=He({},ua,{view:0,detail:0}),FN=In(du),op,ap,ja,wf=He({},du,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Py,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ja&&(ja&&t.type==="mousemove"?(op=t.screenX-ja.screenX,ap=t.screenY-ja.screenY):ap=op=0,ja=t),op)},movementY:function(t){return"movementY"in t?t.movementY:ap}}),v_=In(wf),$N=He({},wf,{dataTransfer:0}),UN=In($N),BN=He({},du,{relatedTarget:0}),lp=In(BN),zN=He({},ua,{animationName:0,elapsedTime:0,pseudoElement:0}),HN=In(zN),qN=He({},ua,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),WN=In(qN),KN=He({},ua,{data:0}),w_=In(KN),GN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},QN={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},YN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function JN(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=YN[t])?!!e[t]:!1}function Py(){return JN}var XN=He({},du,{key:function(t){if(t.key){var e=GN[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Lc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?QN[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Py,charCode:function(t){return t.type==="keypress"?Lc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Lc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ZN=In(XN),eD=He({},wf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),__=In(eD),tD=He({},du,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Py}),nD=In(tD),rD=He({},ua,{propertyName:0,elapsedTime:0,pseudoElement:0}),iD=In(rD),sD=He({},wf,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),oD=In(sD),aD=[9,13,27,32],ky=qr&&"CompositionEvent"in window,ol=null;qr&&"documentMode"in document&&(ol=document.documentMode);var lD=qr&&"TextEvent"in window&&!ol,VT=qr&&(!ky||ol&&8<ol&&11>=ol),E_=String.fromCharCode(32),x_=!1;function FT(t,e){switch(t){case"keyup":return aD.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $T(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var wo=!1;function uD(t,e){switch(t){case"compositionend":return $T(e);case"keypress":return e.which!==32?null:(x_=!0,E_);case"textInput":return t=e.data,t===E_&&x_?null:t;default:return null}}function cD(t,e){if(wo)return t==="compositionend"||!ky&&FT(t,e)?(t=MT(),Oc=Cy=Ii=null,wo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return VT&&e.locale!=="ko"?null:e.data;default:return null}}var dD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function T_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!dD[t.type]:e==="textarea"}function UT(t,e,n,r){vT(r),e=cd(e,"onChange"),0<e.length&&(n=new Ay("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var al=null,Al=null;function fD(t){XT(t,0)}function _f(t){var e=xo(t);if(dT(e))return t}function hD(t,e){if(t==="change")return e}var BT=!1;if(qr){var up;if(qr){var cp="oninput"in document;if(!cp){var I_=document.createElement("div");I_.setAttribute("oninput","return;"),cp=typeof I_.oninput=="function"}up=cp}else up=!1;BT=up&&(!document.documentMode||9<document.documentMode)}function b_(){al&&(al.detachEvent("onpropertychange",zT),Al=al=null)}function zT(t){if(t.propertyName==="value"&&_f(Al)){var e=[];UT(e,Al,t,xy(t)),xT(fD,e)}}function pD(t,e,n){t==="focusin"?(b_(),al=e,Al=n,al.attachEvent("onpropertychange",zT)):t==="focusout"&&b_()}function mD(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return _f(Al)}function gD(t,e){if(t==="click")return _f(e)}function yD(t,e){if(t==="input"||t==="change")return _f(e)}function vD(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var tr=typeof Object.is=="function"?Object.is:vD;function Pl(t,e){if(tr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!ym.call(e,i)||!tr(t[i],e[i]))return!1}return!0}function S_(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function C_(t,e){var n=S_(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=S_(n)}}function HT(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?HT(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function qT(){for(var t=window,e=rd();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=rd(t.document)}return e}function Ry(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function wD(t){var e=qT(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&HT(n.ownerDocument.documentElement,n)){if(r!==null&&Ry(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=C_(n,s);var o=C_(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var _D=qr&&"documentMode"in document&&11>=document.documentMode,_o=null,jm=null,ll=null,Mm=!1;function A_(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Mm||_o==null||_o!==rd(r)||(r=_o,"selectionStart"in r&&Ry(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ll&&Pl(ll,r)||(ll=r,r=cd(jm,"onSelect"),0<r.length&&(e=new Ay("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=_o)))}function ac(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Eo={animationend:ac("Animation","AnimationEnd"),animationiteration:ac("Animation","AnimationIteration"),animationstart:ac("Animation","AnimationStart"),transitionend:ac("Transition","TransitionEnd")},dp={},WT={};qr&&(WT=document.createElement("div").style,"AnimationEvent"in window||(delete Eo.animationend.animation,delete Eo.animationiteration.animation,delete Eo.animationstart.animation),"TransitionEvent"in window||delete Eo.transitionend.transition);function Ef(t){if(dp[t])return dp[t];if(!Eo[t])return t;var e=Eo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in WT)return dp[t]=e[n];return t}var KT=Ef("animationend"),GT=Ef("animationiteration"),QT=Ef("animationstart"),YT=Ef("transitionend"),JT=new Map,P_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Zi(t,e){JT.set(t,e),qs(e,[t])}for(var fp=0;fp<P_.length;fp++){var hp=P_[fp],ED=hp.toLowerCase(),xD=hp[0].toUpperCase()+hp.slice(1);Zi(ED,"on"+xD)}Zi(KT,"onAnimationEnd");Zi(GT,"onAnimationIteration");Zi(QT,"onAnimationStart");Zi("dblclick","onDoubleClick");Zi("focusin","onFocus");Zi("focusout","onBlur");Zi(YT,"onTransitionEnd");Bo("onMouseEnter",["mouseout","mouseover"]);Bo("onMouseLeave",["mouseout","mouseover"]);Bo("onPointerEnter",["pointerout","pointerover"]);Bo("onPointerLeave",["pointerout","pointerover"]);qs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));qs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));qs("onBeforeInput",["compositionend","keypress","textInput","paste"]);qs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));qs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));qs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),TD=new Set("cancel close invalid load scroll toggle".split(" ").concat(Qa));function k_(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,EN(r,e,void 0,t),t.currentTarget=null}function XT(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;k_(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;k_(i,a,u),s=l}}}if(sd)throw t=Nm,sd=!1,Nm=null,t}function De(t,e){var n=e[Bm];n===void 0&&(n=e[Bm]=new Set);var r=t+"__bubble";n.has(r)||(ZT(e,t,2,!1),n.add(r))}function pp(t,e,n){var r=0;e&&(r|=4),ZT(n,t,r,e)}var lc="_reactListening"+Math.random().toString(36).slice(2);function kl(t){if(!t[lc]){t[lc]=!0,oT.forEach(function(n){n!=="selectionchange"&&(TD.has(n)||pp(n,!1,t),pp(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[lc]||(e[lc]=!0,pp("selectionchange",!1,e))}}function ZT(t,e,n,r){switch(jT(e)){case 1:var i=MN;break;case 4:i=VN;break;default:i=Sy}n=i.bind(null,e,n,t),i=void 0,!Rm||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function mp(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=gs(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}xT(function(){var u=s,d=xy(n),h=[];e:{var m=JT.get(t);if(m!==void 0){var w=Ay,E=t;switch(t){case"keypress":if(Lc(n)===0)break e;case"keydown":case"keyup":w=ZN;break;case"focusin":E="focus",w=lp;break;case"focusout":E="blur",w=lp;break;case"beforeblur":case"afterblur":w=lp;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":w=v_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":w=UN;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":w=nD;break;case KT:case GT:case QT:w=HN;break;case YT:w=iD;break;case"scroll":w=FN;break;case"wheel":w=oD;break;case"copy":case"cut":case"paste":w=WN;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":w=__}var x=(e&4)!==0,I=!x&&t==="scroll",_=x?m!==null?m+"Capture":null:m;x=[];for(var v=u,T;v!==null;){T=v;var A=T.stateNode;if(T.tag===5&&A!==null&&(T=A,_!==null&&(A=Il(v,_),A!=null&&x.push(Rl(v,A,T)))),I)break;v=v.return}0<x.length&&(m=new w(m,E,null,n,d),h.push({event:m,listeners:x}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",w=t==="mouseout"||t==="pointerout",m&&n!==Pm&&(E=n.relatedTarget||n.fromElement)&&(gs(E)||E[Wr]))break e;if((w||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,w?(E=n.relatedTarget||n.toElement,w=u,E=E?gs(E):null,E!==null&&(I=Ws(E),E!==I||E.tag!==5&&E.tag!==6)&&(E=null)):(w=null,E=u),w!==E)){if(x=v_,A="onMouseLeave",_="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(x=__,A="onPointerLeave",_="onPointerEnter",v="pointer"),I=w==null?m:xo(w),T=E==null?m:xo(E),m=new x(A,v+"leave",w,n,d),m.target=I,m.relatedTarget=T,A=null,gs(d)===u&&(x=new x(_,v+"enter",E,n,d),x.target=T,x.relatedTarget=I,A=x),I=A,w&&E)t:{for(x=w,_=E,v=0,T=x;T;T=co(T))v++;for(T=0,A=_;A;A=co(A))T++;for(;0<v-T;)x=co(x),v--;for(;0<T-v;)_=co(_),T--;for(;v--;){if(x===_||_!==null&&x===_.alternate)break t;x=co(x),_=co(_)}x=null}else x=null;w!==null&&R_(h,m,w,x,!1),E!==null&&I!==null&&R_(h,I,E,x,!0)}}e:{if(m=u?xo(u):window,w=m.nodeName&&m.nodeName.toLowerCase(),w==="select"||w==="input"&&m.type==="file")var P=hD;else if(T_(m))if(BT)P=yD;else{P=mD;var j=pD}else(w=m.nodeName)&&w.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(P=gD);if(P&&(P=P(t,u))){UT(h,P,n,d);break e}j&&j(t,m,u),t==="focusout"&&(j=m._wrapperState)&&j.controlled&&m.type==="number"&&Im(m,"number",m.value)}switch(j=u?xo(u):window,t){case"focusin":(T_(j)||j.contentEditable==="true")&&(_o=j,jm=u,ll=null);break;case"focusout":ll=jm=_o=null;break;case"mousedown":Mm=!0;break;case"contextmenu":case"mouseup":case"dragend":Mm=!1,A_(h,n,d);break;case"selectionchange":if(_D)break;case"keydown":case"keyup":A_(h,n,d)}var M;if(ky)e:{switch(t){case"compositionstart":var B="onCompositionStart";break e;case"compositionend":B="onCompositionEnd";break e;case"compositionupdate":B="onCompositionUpdate";break e}B=void 0}else wo?FT(t,n)&&(B="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(B="onCompositionStart");B&&(VT&&n.locale!=="ko"&&(wo||B!=="onCompositionStart"?B==="onCompositionEnd"&&wo&&(M=MT()):(Ii=d,Cy="value"in Ii?Ii.value:Ii.textContent,wo=!0)),j=cd(u,B),0<j.length&&(B=new w_(B,t,null,n,d),h.push({event:B,listeners:j}),M?B.data=M:(M=$T(n),M!==null&&(B.data=M)))),(M=lD?uD(t,n):cD(t,n))&&(u=cd(u,"onBeforeInput"),0<u.length&&(d=new w_("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=M))}XT(h,e)})}function Rl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function cd(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Il(t,n),s!=null&&r.unshift(Rl(t,s,i)),s=Il(t,e),s!=null&&r.push(Rl(t,s,i))),t=t.return}return r}function co(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function R_(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Il(n,s),l!=null&&o.unshift(Rl(n,l,a))):i||(l=Il(n,s),l!=null&&o.push(Rl(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var ID=/\r\n?/g,bD=/\u0000|\uFFFD/g;function N_(t){return(typeof t=="string"?t:""+t).replace(ID,`
`).replace(bD,"")}function uc(t,e,n){if(e=N_(e),N_(t)!==e&&n)throw Error(F(425))}function dd(){}var Vm=null,Fm=null;function $m(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Um=typeof setTimeout=="function"?setTimeout:void 0,SD=typeof clearTimeout=="function"?clearTimeout:void 0,D_=typeof Promise=="function"?Promise:void 0,CD=typeof queueMicrotask=="function"?queueMicrotask:typeof D_<"u"?function(t){return D_.resolve(null).then(t).catch(AD)}:Um;function AD(t){setTimeout(function(){throw t})}function gp(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Cl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Cl(e)}function Oi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function O_(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ca=Math.random().toString(36).slice(2),dr="__reactFiber$"+ca,Nl="__reactProps$"+ca,Wr="__reactContainer$"+ca,Bm="__reactEvents$"+ca,PD="__reactListeners$"+ca,kD="__reactHandles$"+ca;function gs(t){var e=t[dr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Wr]||n[dr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=O_(t);t!==null;){if(n=t[dr])return n;t=O_(t)}return e}t=n,n=t.parentNode}return null}function fu(t){return t=t[dr]||t[Wr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function xo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(F(33))}function xf(t){return t[Nl]||null}var zm=[],To=-1;function es(t){return{current:t}}function je(t){0>To||(t.current=zm[To],zm[To]=null,To--)}function ke(t,e){To++,zm[To]=t.current,t.current=e}var Ki={},Ht=es(Ki),sn=es(!1),ks=Ki;function zo(t,e){var n=t.type.contextTypes;if(!n)return Ki;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function on(t){return t=t.childContextTypes,t!=null}function fd(){je(sn),je(Ht)}function L_(t,e,n){if(Ht.current!==Ki)throw Error(F(168));ke(Ht,e),ke(sn,n)}function e2(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(F(108,pN(t)||"Unknown",i));return He({},n,r)}function hd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ki,ks=Ht.current,ke(Ht,t),ke(sn,sn.current),!0}function j_(t,e,n){var r=t.stateNode;if(!r)throw Error(F(169));n?(t=e2(t,e,ks),r.__reactInternalMemoizedMergedChildContext=t,je(sn),je(Ht),ke(Ht,t)):je(sn),ke(sn,n)}var Or=null,Tf=!1,yp=!1;function t2(t){Or===null?Or=[t]:Or.push(t)}function RD(t){Tf=!0,t2(t)}function ts(){if(!yp&&Or!==null){yp=!0;var t=0,e=Ce;try{var n=Or;for(Ce=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Or=null,Tf=!1}catch(i){throw Or!==null&&(Or=Or.slice(t+1)),ST(Ty,ts),i}finally{Ce=e,yp=!1}}return null}var Io=[],bo=0,pd=null,md=0,kn=[],Rn=0,Rs=null,Mr=1,Vr="";function fs(t,e){Io[bo++]=md,Io[bo++]=pd,pd=t,md=e}function n2(t,e,n){kn[Rn++]=Mr,kn[Rn++]=Vr,kn[Rn++]=Rs,Rs=t;var r=Mr;t=Vr;var i=32-Xn(r)-1;r&=~(1<<i),n+=1;var s=32-Xn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Mr=1<<32-Xn(e)+i|n<<i|r,Vr=s+t}else Mr=1<<s|n<<i|r,Vr=t}function Ny(t){t.return!==null&&(fs(t,1),n2(t,1,0))}function Dy(t){for(;t===pd;)pd=Io[--bo],Io[bo]=null,md=Io[--bo],Io[bo]=null;for(;t===Rs;)Rs=kn[--Rn],kn[Rn]=null,Vr=kn[--Rn],kn[Rn]=null,Mr=kn[--Rn],kn[Rn]=null}var yn=null,hn=null,Ve=!1,Gn=null;function r2(t,e){var n=Dn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function M_(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,yn=t,hn=Oi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,yn=t,hn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Rs!==null?{id:Mr,overflow:Vr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Dn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,yn=t,hn=null,!0):!1;default:return!1}}function Hm(t){return(t.mode&1)!==0&&(t.flags&128)===0}function qm(t){if(Ve){var e=hn;if(e){var n=e;if(!M_(t,e)){if(Hm(t))throw Error(F(418));e=Oi(n.nextSibling);var r=yn;e&&M_(t,e)?r2(r,n):(t.flags=t.flags&-4097|2,Ve=!1,yn=t)}}else{if(Hm(t))throw Error(F(418));t.flags=t.flags&-4097|2,Ve=!1,yn=t}}}function V_(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;yn=t}function cc(t){if(t!==yn)return!1;if(!Ve)return V_(t),Ve=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!$m(t.type,t.memoizedProps)),e&&(e=hn)){if(Hm(t))throw i2(),Error(F(418));for(;e;)r2(t,e),e=Oi(e.nextSibling)}if(V_(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(F(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){hn=Oi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}hn=null}}else hn=yn?Oi(t.stateNode.nextSibling):null;return!0}function i2(){for(var t=hn;t;)t=Oi(t.nextSibling)}function Ho(){hn=yn=null,Ve=!1}function Oy(t){Gn===null?Gn=[t]:Gn.push(t)}var ND=ti.ReactCurrentBatchConfig;function qn(t,e){if(t&&t.defaultProps){e=He({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var gd=es(null),yd=null,So=null,Ly=null;function jy(){Ly=So=yd=null}function My(t){var e=gd.current;je(gd),t._currentValue=e}function Wm(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Lo(t,e){yd=t,Ly=So=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(rn=!0),t.firstContext=null)}function Fn(t){var e=t._currentValue;if(Ly!==t)if(t={context:t,memoizedValue:e,next:null},So===null){if(yd===null)throw Error(F(308));So=t,yd.dependencies={lanes:0,firstContext:t}}else So=So.next=t;return e}var ys=null;function Vy(t){ys===null?ys=[t]:ys.push(t)}function s2(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Vy(e)):(n.next=i.next,i.next=n),e.interleaved=n,Kr(t,r)}function Kr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var vi=!1;function Fy(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function o2(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Br(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Li(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ee&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Kr(t,n)}return i=r.interleaved,i===null?(e.next=e,Vy(r)):(e.next=i.next,i.next=e),r.interleaved=e,Kr(t,n)}function jc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Iy(t,n)}}function F_(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function vd(t,e,n,r){var i=t.updateQueue;vi=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,d=u=l=null,a=s;do{var m=a.lane,w=a.eventTime;if((r&m)===m){d!==null&&(d=d.next={eventTime:w,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var E=t,x=a;switch(m=e,w=n,x.tag){case 1:if(E=x.payload,typeof E=="function"){h=E.call(w,h,m);break e}h=E;break e;case 3:E.flags=E.flags&-65537|128;case 0:if(E=x.payload,m=typeof E=="function"?E.call(w,h,m):E,m==null)break e;h=He({},h,m);break e;case 2:vi=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,m=i.effects,m===null?i.effects=[a]:m.push(a))}else w={eventTime:w,lane:m,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=w,l=h):d=d.next=w,o|=m;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;m=a,a=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(1);if(d===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Ds|=o,t.lanes=o,t.memoizedState=h}}function $_(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(F(191,i));i.call(r)}}}var a2=new sT.Component().refs;function Km(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:He({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var If={isMounted:function(t){return(t=t._reactInternals)?Ws(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Jt(),i=Mi(t),s=Br(r,i);s.payload=e,n!=null&&(s.callback=n),e=Li(t,s,i),e!==null&&(Zn(e,t,i,r),jc(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Jt(),i=Mi(t),s=Br(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Li(t,s,i),e!==null&&(Zn(e,t,i,r),jc(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Jt(),r=Mi(t),i=Br(n,r);i.tag=2,e!=null&&(i.callback=e),e=Li(t,i,r),e!==null&&(Zn(e,t,r,n),jc(e,t,r))}};function U_(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Pl(n,r)||!Pl(i,s):!0}function l2(t,e,n){var r=!1,i=Ki,s=e.contextType;return typeof s=="object"&&s!==null?s=Fn(s):(i=on(e)?ks:Ht.current,r=e.contextTypes,s=(r=r!=null)?zo(t,i):Ki),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=If,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function B_(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&If.enqueueReplaceState(e,e.state,null)}function Gm(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=a2,Fy(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Fn(s):(s=on(e)?ks:Ht.current,i.context=zo(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Km(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&If.enqueueReplaceState(i,i.state,null),vd(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Ma(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(F(309));var r=n.stateNode}if(!r)throw Error(F(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===a2&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(F(284));if(!n._owner)throw Error(F(290,t))}return t}function dc(t,e){throw t=Object.prototype.toString.call(e),Error(F(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function z_(t){var e=t._init;return e(t._payload)}function u2(t){function e(_,v){if(t){var T=_.deletions;T===null?(_.deletions=[v],_.flags|=16):T.push(v)}}function n(_,v){if(!t)return null;for(;v!==null;)e(_,v),v=v.sibling;return null}function r(_,v){for(_=new Map;v!==null;)v.key!==null?_.set(v.key,v):_.set(v.index,v),v=v.sibling;return _}function i(_,v){return _=Vi(_,v),_.index=0,_.sibling=null,_}function s(_,v,T){return _.index=T,t?(T=_.alternate,T!==null?(T=T.index,T<v?(_.flags|=2,v):T):(_.flags|=2,v)):(_.flags|=1048576,v)}function o(_){return t&&_.alternate===null&&(_.flags|=2),_}function a(_,v,T,A){return v===null||v.tag!==6?(v=Ip(T,_.mode,A),v.return=_,v):(v=i(v,T),v.return=_,v)}function l(_,v,T,A){var P=T.type;return P===vo?d(_,v,T.props.children,A,T.key):v!==null&&(v.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===yi&&z_(P)===v.type)?(A=i(v,T.props),A.ref=Ma(_,v,T),A.return=_,A):(A=Bc(T.type,T.key,T.props,null,_.mode,A),A.ref=Ma(_,v,T),A.return=_,A)}function u(_,v,T,A){return v===null||v.tag!==4||v.stateNode.containerInfo!==T.containerInfo||v.stateNode.implementation!==T.implementation?(v=bp(T,_.mode,A),v.return=_,v):(v=i(v,T.children||[]),v.return=_,v)}function d(_,v,T,A,P){return v===null||v.tag!==7?(v=Ss(T,_.mode,A,P),v.return=_,v):(v=i(v,T),v.return=_,v)}function h(_,v,T){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Ip(""+v,_.mode,T),v.return=_,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case ec:return T=Bc(v.type,v.key,v.props,null,_.mode,T),T.ref=Ma(_,null,v),T.return=_,T;case yo:return v=bp(v,_.mode,T),v.return=_,v;case yi:var A=v._init;return h(_,A(v._payload),T)}if(Ka(v)||Na(v))return v=Ss(v,_.mode,T,null),v.return=_,v;dc(_,v)}return null}function m(_,v,T,A){var P=v!==null?v.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return P!==null?null:a(_,v,""+T,A);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case ec:return T.key===P?l(_,v,T,A):null;case yo:return T.key===P?u(_,v,T,A):null;case yi:return P=T._init,m(_,v,P(T._payload),A)}if(Ka(T)||Na(T))return P!==null?null:d(_,v,T,A,null);dc(_,T)}return null}function w(_,v,T,A,P){if(typeof A=="string"&&A!==""||typeof A=="number")return _=_.get(T)||null,a(v,_,""+A,P);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case ec:return _=_.get(A.key===null?T:A.key)||null,l(v,_,A,P);case yo:return _=_.get(A.key===null?T:A.key)||null,u(v,_,A,P);case yi:var j=A._init;return w(_,v,T,j(A._payload),P)}if(Ka(A)||Na(A))return _=_.get(T)||null,d(v,_,A,P,null);dc(v,A)}return null}function E(_,v,T,A){for(var P=null,j=null,M=v,B=v=0,ee=null;M!==null&&B<T.length;B++){M.index>B?(ee=M,M=null):ee=M.sibling;var G=m(_,M,T[B],A);if(G===null){M===null&&(M=ee);break}t&&M&&G.alternate===null&&e(_,M),v=s(G,v,B),j===null?P=G:j.sibling=G,j=G,M=ee}if(B===T.length)return n(_,M),Ve&&fs(_,B),P;if(M===null){for(;B<T.length;B++)M=h(_,T[B],A),M!==null&&(v=s(M,v,B),j===null?P=M:j.sibling=M,j=M);return Ve&&fs(_,B),P}for(M=r(_,M);B<T.length;B++)ee=w(M,_,B,T[B],A),ee!==null&&(t&&ee.alternate!==null&&M.delete(ee.key===null?B:ee.key),v=s(ee,v,B),j===null?P=ee:j.sibling=ee,j=ee);return t&&M.forEach(function(ce){return e(_,ce)}),Ve&&fs(_,B),P}function x(_,v,T,A){var P=Na(T);if(typeof P!="function")throw Error(F(150));if(T=P.call(T),T==null)throw Error(F(151));for(var j=P=null,M=v,B=v=0,ee=null,G=T.next();M!==null&&!G.done;B++,G=T.next()){M.index>B?(ee=M,M=null):ee=M.sibling;var ce=m(_,M,G.value,A);if(ce===null){M===null&&(M=ee);break}t&&M&&ce.alternate===null&&e(_,M),v=s(ce,v,B),j===null?P=ce:j.sibling=ce,j=ce,M=ee}if(G.done)return n(_,M),Ve&&fs(_,B),P;if(M===null){for(;!G.done;B++,G=T.next())G=h(_,G.value,A),G!==null&&(v=s(G,v,B),j===null?P=G:j.sibling=G,j=G);return Ve&&fs(_,B),P}for(M=r(_,M);!G.done;B++,G=T.next())G=w(M,_,B,G.value,A),G!==null&&(t&&G.alternate!==null&&M.delete(G.key===null?B:G.key),v=s(G,v,B),j===null?P=G:j.sibling=G,j=G);return t&&M.forEach(function(Z){return e(_,Z)}),Ve&&fs(_,B),P}function I(_,v,T,A){if(typeof T=="object"&&T!==null&&T.type===vo&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case ec:e:{for(var P=T.key,j=v;j!==null;){if(j.key===P){if(P=T.type,P===vo){if(j.tag===7){n(_,j.sibling),v=i(j,T.props.children),v.return=_,_=v;break e}}else if(j.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===yi&&z_(P)===j.type){n(_,j.sibling),v=i(j,T.props),v.ref=Ma(_,j,T),v.return=_,_=v;break e}n(_,j);break}else e(_,j);j=j.sibling}T.type===vo?(v=Ss(T.props.children,_.mode,A,T.key),v.return=_,_=v):(A=Bc(T.type,T.key,T.props,null,_.mode,A),A.ref=Ma(_,v,T),A.return=_,_=A)}return o(_);case yo:e:{for(j=T.key;v!==null;){if(v.key===j)if(v.tag===4&&v.stateNode.containerInfo===T.containerInfo&&v.stateNode.implementation===T.implementation){n(_,v.sibling),v=i(v,T.children||[]),v.return=_,_=v;break e}else{n(_,v);break}else e(_,v);v=v.sibling}v=bp(T,_.mode,A),v.return=_,_=v}return o(_);case yi:return j=T._init,I(_,v,j(T._payload),A)}if(Ka(T))return E(_,v,T,A);if(Na(T))return x(_,v,T,A);dc(_,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,v!==null&&v.tag===6?(n(_,v.sibling),v=i(v,T),v.return=_,_=v):(n(_,v),v=Ip(T,_.mode,A),v.return=_,_=v),o(_)):n(_,v)}return I}var qo=u2(!0),c2=u2(!1),hu={},wr=es(hu),Dl=es(hu),Ol=es(hu);function vs(t){if(t===hu)throw Error(F(174));return t}function $y(t,e){switch(ke(Ol,e),ke(Dl,t),ke(wr,hu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Sm(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Sm(e,t)}je(wr),ke(wr,e)}function Wo(){je(wr),je(Dl),je(Ol)}function d2(t){vs(Ol.current);var e=vs(wr.current),n=Sm(e,t.type);e!==n&&(ke(Dl,t),ke(wr,n))}function Uy(t){Dl.current===t&&(je(wr),je(Dl))}var Ue=es(0);function wd(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var vp=[];function By(){for(var t=0;t<vp.length;t++)vp[t]._workInProgressVersionPrimary=null;vp.length=0}var Mc=ti.ReactCurrentDispatcher,wp=ti.ReactCurrentBatchConfig,Ns=0,Be=null,at=null,gt=null,_d=!1,ul=!1,Ll=0,DD=0;function Lt(){throw Error(F(321))}function zy(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!tr(t[n],e[n]))return!1;return!0}function Hy(t,e,n,r,i,s){if(Ns=s,Be=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Mc.current=t===null||t.memoizedState===null?MD:VD,t=n(r,i),ul){s=0;do{if(ul=!1,Ll=0,25<=s)throw Error(F(301));s+=1,gt=at=null,e.updateQueue=null,Mc.current=FD,t=n(r,i)}while(ul)}if(Mc.current=Ed,e=at!==null&&at.next!==null,Ns=0,gt=at=Be=null,_d=!1,e)throw Error(F(300));return t}function qy(){var t=Ll!==0;return Ll=0,t}function cr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gt===null?Be.memoizedState=gt=t:gt=gt.next=t,gt}function $n(){if(at===null){var t=Be.alternate;t=t!==null?t.memoizedState:null}else t=at.next;var e=gt===null?Be.memoizedState:gt.next;if(e!==null)gt=e,at=t;else{if(t===null)throw Error(F(310));at=t,t={memoizedState:at.memoizedState,baseState:at.baseState,baseQueue:at.baseQueue,queue:at.queue,next:null},gt===null?Be.memoizedState=gt=t:gt=gt.next=t}return gt}function jl(t,e){return typeof e=="function"?e(t):e}function _p(t){var e=$n(),n=e.queue;if(n===null)throw Error(F(311));n.lastRenderedReducer=t;var r=at,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var d=u.lane;if((Ns&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,Be.lanes|=d,Ds|=d}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,tr(r,e.memoizedState)||(rn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Be.lanes|=s,Ds|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Ep(t){var e=$n(),n=e.queue;if(n===null)throw Error(F(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);tr(s,e.memoizedState)||(rn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function f2(){}function h2(t,e){var n=Be,r=$n(),i=e(),s=!tr(r.memoizedState,i);if(s&&(r.memoizedState=i,rn=!0),r=r.queue,Wy(g2.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||gt!==null&&gt.memoizedState.tag&1){if(n.flags|=2048,Ml(9,m2.bind(null,n,r,i,e),void 0,null),yt===null)throw Error(F(349));Ns&30||p2(n,e,i)}return i}function p2(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Be.updateQueue,e===null?(e={lastEffect:null,stores:null},Be.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function m2(t,e,n,r){e.value=n,e.getSnapshot=r,y2(e)&&v2(t)}function g2(t,e,n){return n(function(){y2(e)&&v2(t)})}function y2(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!tr(t,n)}catch{return!0}}function v2(t){var e=Kr(t,1);e!==null&&Zn(e,t,1,-1)}function H_(t){var e=cr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:jl,lastRenderedState:t},e.queue=t,t=t.dispatch=jD.bind(null,Be,t),[e.memoizedState,t]}function Ml(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Be.updateQueue,e===null?(e={lastEffect:null,stores:null},Be.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function w2(){return $n().memoizedState}function Vc(t,e,n,r){var i=cr();Be.flags|=t,i.memoizedState=Ml(1|e,n,void 0,r===void 0?null:r)}function bf(t,e,n,r){var i=$n();r=r===void 0?null:r;var s=void 0;if(at!==null){var o=at.memoizedState;if(s=o.destroy,r!==null&&zy(r,o.deps)){i.memoizedState=Ml(e,n,s,r);return}}Be.flags|=t,i.memoizedState=Ml(1|e,n,s,r)}function q_(t,e){return Vc(8390656,8,t,e)}function Wy(t,e){return bf(2048,8,t,e)}function _2(t,e){return bf(4,2,t,e)}function E2(t,e){return bf(4,4,t,e)}function x2(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function T2(t,e,n){return n=n!=null?n.concat([t]):null,bf(4,4,x2.bind(null,e,t),n)}function Ky(){}function I2(t,e){var n=$n();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&zy(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function b2(t,e){var n=$n();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&zy(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function S2(t,e,n){return Ns&21?(tr(n,e)||(n=PT(),Be.lanes|=n,Ds|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,rn=!0),t.memoizedState=n)}function OD(t,e){var n=Ce;Ce=n!==0&&4>n?n:4,t(!0);var r=wp.transition;wp.transition={};try{t(!1),e()}finally{Ce=n,wp.transition=r}}function C2(){return $n().memoizedState}function LD(t,e,n){var r=Mi(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},A2(t))P2(e,n);else if(n=s2(t,e,n,r),n!==null){var i=Jt();Zn(n,t,r,i),k2(n,e,r)}}function jD(t,e,n){var r=Mi(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(A2(t))P2(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,tr(a,o)){var l=e.interleaved;l===null?(i.next=i,Vy(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=s2(t,e,i,r),n!==null&&(i=Jt(),Zn(n,t,r,i),k2(n,e,r))}}function A2(t){var e=t.alternate;return t===Be||e!==null&&e===Be}function P2(t,e){ul=_d=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function k2(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Iy(t,n)}}var Ed={readContext:Fn,useCallback:Lt,useContext:Lt,useEffect:Lt,useImperativeHandle:Lt,useInsertionEffect:Lt,useLayoutEffect:Lt,useMemo:Lt,useReducer:Lt,useRef:Lt,useState:Lt,useDebugValue:Lt,useDeferredValue:Lt,useTransition:Lt,useMutableSource:Lt,useSyncExternalStore:Lt,useId:Lt,unstable_isNewReconciler:!1},MD={readContext:Fn,useCallback:function(t,e){return cr().memoizedState=[t,e===void 0?null:e],t},useContext:Fn,useEffect:q_,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Vc(4194308,4,x2.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Vc(4194308,4,t,e)},useInsertionEffect:function(t,e){return Vc(4,2,t,e)},useMemo:function(t,e){var n=cr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=cr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=LD.bind(null,Be,t),[r.memoizedState,t]},useRef:function(t){var e=cr();return t={current:t},e.memoizedState=t},useState:H_,useDebugValue:Ky,useDeferredValue:function(t){return cr().memoizedState=t},useTransition:function(){var t=H_(!1),e=t[0];return t=OD.bind(null,t[1]),cr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Be,i=cr();if(Ve){if(n===void 0)throw Error(F(407));n=n()}else{if(n=e(),yt===null)throw Error(F(349));Ns&30||p2(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,q_(g2.bind(null,r,s,t),[t]),r.flags|=2048,Ml(9,m2.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=cr(),e=yt.identifierPrefix;if(Ve){var n=Vr,r=Mr;n=(r&~(1<<32-Xn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ll++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=DD++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},VD={readContext:Fn,useCallback:I2,useContext:Fn,useEffect:Wy,useImperativeHandle:T2,useInsertionEffect:_2,useLayoutEffect:E2,useMemo:b2,useReducer:_p,useRef:w2,useState:function(){return _p(jl)},useDebugValue:Ky,useDeferredValue:function(t){var e=$n();return S2(e,at.memoizedState,t)},useTransition:function(){var t=_p(jl)[0],e=$n().memoizedState;return[t,e]},useMutableSource:f2,useSyncExternalStore:h2,useId:C2,unstable_isNewReconciler:!1},FD={readContext:Fn,useCallback:I2,useContext:Fn,useEffect:Wy,useImperativeHandle:T2,useInsertionEffect:_2,useLayoutEffect:E2,useMemo:b2,useReducer:Ep,useRef:w2,useState:function(){return Ep(jl)},useDebugValue:Ky,useDeferredValue:function(t){var e=$n();return at===null?e.memoizedState=t:S2(e,at.memoizedState,t)},useTransition:function(){var t=Ep(jl)[0],e=$n().memoizedState;return[t,e]},useMutableSource:f2,useSyncExternalStore:h2,useId:C2,unstable_isNewReconciler:!1};function Ko(t,e){try{var n="",r=e;do n+=hN(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function xp(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Qm(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var $D=typeof WeakMap=="function"?WeakMap:Map;function R2(t,e,n){n=Br(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Td||(Td=!0,sg=r),Qm(t,e)},n}function N2(t,e,n){n=Br(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Qm(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Qm(t,e),typeof r!="function"&&(ji===null?ji=new Set([this]):ji.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function W_(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new $D;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=eO.bind(null,t,e,n),e.then(t,t))}function K_(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function G_(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Br(-1,1),e.tag=2,Li(n,e,1))),n.lanes|=1),t)}var UD=ti.ReactCurrentOwner,rn=!1;function Gt(t,e,n,r){e.child=t===null?c2(e,null,n,r):qo(e,t.child,n,r)}function Q_(t,e,n,r,i){n=n.render;var s=e.ref;return Lo(e,i),r=Hy(t,e,n,r,s,i),n=qy(),t!==null&&!rn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Gr(t,e,i)):(Ve&&n&&Ny(e),e.flags|=1,Gt(t,e,r,i),e.child)}function Y_(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!tv(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,D2(t,e,s,r,i)):(t=Bc(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Pl,n(o,r)&&t.ref===e.ref)return Gr(t,e,i)}return e.flags|=1,t=Vi(s,r),t.ref=e.ref,t.return=e,e.child=t}function D2(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Pl(s,r)&&t.ref===e.ref)if(rn=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(rn=!0);else return e.lanes=t.lanes,Gr(t,e,i)}return Ym(t,e,n,r,i)}function O2(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ke(Ao,dn),dn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ke(Ao,dn),dn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,ke(Ao,dn),dn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,ke(Ao,dn),dn|=r;return Gt(t,e,i,n),e.child}function L2(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Ym(t,e,n,r,i){var s=on(n)?ks:Ht.current;return s=zo(e,s),Lo(e,i),n=Hy(t,e,n,r,s,i),r=qy(),t!==null&&!rn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Gr(t,e,i)):(Ve&&r&&Ny(e),e.flags|=1,Gt(t,e,n,i),e.child)}function J_(t,e,n,r,i){if(on(n)){var s=!0;hd(e)}else s=!1;if(Lo(e,i),e.stateNode===null)Fc(t,e),l2(e,n,r),Gm(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Fn(u):(u=on(n)?ks:Ht.current,u=zo(e,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&B_(e,o,r,u),vi=!1;var m=e.memoizedState;o.state=m,vd(e,r,o,i),l=e.memoizedState,a!==r||m!==l||sn.current||vi?(typeof d=="function"&&(Km(e,n,d,r),l=e.memoizedState),(a=vi||U_(e,n,a,r,m,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,o2(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:qn(e.type,a),o.props=u,h=e.pendingProps,m=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Fn(l):(l=on(n)?ks:Ht.current,l=zo(e,l));var w=n.getDerivedStateFromProps;(d=typeof w=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||m!==l)&&B_(e,o,r,l),vi=!1,m=e.memoizedState,o.state=m,vd(e,r,o,i);var E=e.memoizedState;a!==h||m!==E||sn.current||vi?(typeof w=="function"&&(Km(e,n,w,r),E=e.memoizedState),(u=vi||U_(e,n,u,r,m,E,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,E,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,E,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=E),o.props=r,o.state=E,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return Jm(t,e,n,r,s,i)}function Jm(t,e,n,r,i,s){L2(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&j_(e,n,!1),Gr(t,e,s);r=e.stateNode,UD.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=qo(e,t.child,null,s),e.child=qo(e,null,a,s)):Gt(t,e,a,s),e.memoizedState=r.state,i&&j_(e,n,!0),e.child}function j2(t){var e=t.stateNode;e.pendingContext?L_(t,e.pendingContext,e.pendingContext!==e.context):e.context&&L_(t,e.context,!1),$y(t,e.containerInfo)}function X_(t,e,n,r,i){return Ho(),Oy(i),e.flags|=256,Gt(t,e,n,r),e.child}var Xm={dehydrated:null,treeContext:null,retryLane:0};function Zm(t){return{baseLanes:t,cachePool:null,transitions:null}}function M2(t,e,n){var r=e.pendingProps,i=Ue.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ke(Ue,i&1),t===null)return qm(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Af(o,r,0,null),t=Ss(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Zm(n),e.memoizedState=Xm,t):Gy(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return BD(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Vi(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Vi(a,s):(s=Ss(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Zm(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Xm,r}return s=t.child,t=s.sibling,r=Vi(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Gy(t,e){return e=Af({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function fc(t,e,n,r){return r!==null&&Oy(r),qo(e,t.child,null,n),t=Gy(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function BD(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=xp(Error(F(422))),fc(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Af({mode:"visible",children:r.children},i,0,null),s=Ss(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&qo(e,t.child,null,o),e.child.memoizedState=Zm(o),e.memoizedState=Xm,s);if(!(e.mode&1))return fc(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(F(419)),r=xp(s,r,void 0),fc(t,e,o,r)}if(a=(o&t.childLanes)!==0,rn||a){if(r=yt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Kr(t,i),Zn(r,t,i,-1))}return ev(),r=xp(Error(F(421))),fc(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=tO.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,hn=Oi(i.nextSibling),yn=e,Ve=!0,Gn=null,t!==null&&(kn[Rn++]=Mr,kn[Rn++]=Vr,kn[Rn++]=Rs,Mr=t.id,Vr=t.overflow,Rs=e),e=Gy(e,r.children),e.flags|=4096,e)}function Z_(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Wm(t.return,e,n)}function Tp(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function V2(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Gt(t,e,r.children,n),r=Ue.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Z_(t,n,e);else if(t.tag===19)Z_(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ke(Ue,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&wd(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Tp(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&wd(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Tp(e,!0,n,null,s);break;case"together":Tp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Fc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Gr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ds|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(F(153));if(e.child!==null){for(t=e.child,n=Vi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Vi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function zD(t,e,n){switch(e.tag){case 3:j2(e),Ho();break;case 5:d2(e);break;case 1:on(e.type)&&hd(e);break;case 4:$y(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;ke(gd,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ke(Ue,Ue.current&1),e.flags|=128,null):n&e.child.childLanes?M2(t,e,n):(ke(Ue,Ue.current&1),t=Gr(t,e,n),t!==null?t.sibling:null);ke(Ue,Ue.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return V2(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ke(Ue,Ue.current),r)break;return null;case 22:case 23:return e.lanes=0,O2(t,e,n)}return Gr(t,e,n)}var F2,eg,$2,U2;F2=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};eg=function(){};$2=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,vs(wr.current);var s=null;switch(n){case"input":i=xm(t,i),r=xm(t,r),s=[];break;case"select":i=He({},i,{value:void 0}),r=He({},r,{value:void 0}),s=[];break;case"textarea":i=bm(t,i),r=bm(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=dd)}Cm(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(xl.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(xl.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&De("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};U2=function(t,e,n,r){n!==r&&(e.flags|=4)};function Va(t,e){if(!Ve)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function jt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function HD(t,e,n){var r=e.pendingProps;switch(Dy(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return jt(e),null;case 1:return on(e.type)&&fd(),jt(e),null;case 3:return r=e.stateNode,Wo(),je(sn),je(Ht),By(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(cc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Gn!==null&&(lg(Gn),Gn=null))),eg(t,e),jt(e),null;case 5:Uy(e);var i=vs(Ol.current);if(n=e.type,t!==null&&e.stateNode!=null)$2(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(F(166));return jt(e),null}if(t=vs(wr.current),cc(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[dr]=e,r[Nl]=s,t=(e.mode&1)!==0,n){case"dialog":De("cancel",r),De("close",r);break;case"iframe":case"object":case"embed":De("load",r);break;case"video":case"audio":for(i=0;i<Qa.length;i++)De(Qa[i],r);break;case"source":De("error",r);break;case"img":case"image":case"link":De("error",r),De("load",r);break;case"details":De("toggle",r);break;case"input":l_(r,s),De("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},De("invalid",r);break;case"textarea":c_(r,s),De("invalid",r)}Cm(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&uc(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&uc(r.textContent,a,t),i=["children",""+a]):xl.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&De("scroll",r)}switch(n){case"input":tc(r),u_(r,s,!0);break;case"textarea":tc(r),d_(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=dd)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=pT(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[dr]=e,t[Nl]=r,F2(t,e,!1,!1),e.stateNode=t;e:{switch(o=Am(n,r),n){case"dialog":De("cancel",t),De("close",t),i=r;break;case"iframe":case"object":case"embed":De("load",t),i=r;break;case"video":case"audio":for(i=0;i<Qa.length;i++)De(Qa[i],t);i=r;break;case"source":De("error",t),i=r;break;case"img":case"image":case"link":De("error",t),De("load",t),i=r;break;case"details":De("toggle",t),i=r;break;case"input":l_(t,r),i=xm(t,r),De("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=He({},r,{value:void 0}),De("invalid",t);break;case"textarea":c_(t,r),i=bm(t,r),De("invalid",t);break;default:i=r}Cm(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?yT(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&mT(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Tl(t,l):typeof l=="number"&&Tl(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(xl.hasOwnProperty(s)?l!=null&&s==="onScroll"&&De("scroll",t):l!=null&&vy(t,s,l,o))}switch(n){case"input":tc(t),u_(t,r,!1);break;case"textarea":tc(t),d_(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Wi(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Ro(t,!!r.multiple,s,!1):r.defaultValue!=null&&Ro(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=dd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return jt(e),null;case 6:if(t&&e.stateNode!=null)U2(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(F(166));if(n=vs(Ol.current),vs(wr.current),cc(e)){if(r=e.stateNode,n=e.memoizedProps,r[dr]=e,(s=r.nodeValue!==n)&&(t=yn,t!==null))switch(t.tag){case 3:uc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&uc(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[dr]=e,e.stateNode=r}return jt(e),null;case 13:if(je(Ue),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ve&&hn!==null&&e.mode&1&&!(e.flags&128))i2(),Ho(),e.flags|=98560,s=!1;else if(s=cc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(F(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(F(317));s[dr]=e}else Ho(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;jt(e),s=!1}else Gn!==null&&(lg(Gn),Gn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ue.current&1?ut===0&&(ut=3):ev())),e.updateQueue!==null&&(e.flags|=4),jt(e),null);case 4:return Wo(),eg(t,e),t===null&&kl(e.stateNode.containerInfo),jt(e),null;case 10:return My(e.type._context),jt(e),null;case 17:return on(e.type)&&fd(),jt(e),null;case 19:if(je(Ue),s=e.memoizedState,s===null)return jt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Va(s,!1);else{if(ut!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=wd(t),o!==null){for(e.flags|=128,Va(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ke(Ue,Ue.current&1|2),e.child}t=t.sibling}s.tail!==null&&tt()>Go&&(e.flags|=128,r=!0,Va(s,!1),e.lanes=4194304)}else{if(!r)if(t=wd(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Va(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Ve)return jt(e),null}else 2*tt()-s.renderingStartTime>Go&&n!==1073741824&&(e.flags|=128,r=!0,Va(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=tt(),e.sibling=null,n=Ue.current,ke(Ue,r?n&1|2:n&1),e):(jt(e),null);case 22:case 23:return Zy(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?dn&1073741824&&(jt(e),e.subtreeFlags&6&&(e.flags|=8192)):jt(e),null;case 24:return null;case 25:return null}throw Error(F(156,e.tag))}function qD(t,e){switch(Dy(e),e.tag){case 1:return on(e.type)&&fd(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Wo(),je(sn),je(Ht),By(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Uy(e),null;case 13:if(je(Ue),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(F(340));Ho()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return je(Ue),null;case 4:return Wo(),null;case 10:return My(e.type._context),null;case 22:case 23:return Zy(),null;case 24:return null;default:return null}}var hc=!1,Ft=!1,WD=typeof WeakSet=="function"?WeakSet:Set,Q=null;function Co(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ke(t,e,r)}else n.current=null}function tg(t,e,n){try{n()}catch(r){Ke(t,e,r)}}var e1=!1;function KD(t,e){if(Vm=ld,t=qT(),Ry(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,d=0,h=t,m=null;t:for(;;){for(var w;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(w=h.firstChild)!==null;)m=h,h=w;for(;;){if(h===t)break t;if(m===n&&++u===i&&(a=o),m===s&&++d===r&&(l=o),(w=h.nextSibling)!==null)break;h=m,m=h.parentNode}h=w}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Fm={focusedElem:t,selectionRange:n},ld=!1,Q=e;Q!==null;)if(e=Q,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Q=t;else for(;Q!==null;){e=Q;try{var E=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(E!==null){var x=E.memoizedProps,I=E.memoizedState,_=e.stateNode,v=_.getSnapshotBeforeUpdate(e.elementType===e.type?x:qn(e.type,x),I);_.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var T=e.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(F(163))}}catch(A){Ke(e,e.return,A)}if(t=e.sibling,t!==null){t.return=e.return,Q=t;break}Q=e.return}return E=e1,e1=!1,E}function cl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&tg(e,n,s)}i=i.next}while(i!==r)}}function Sf(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function ng(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function B2(t){var e=t.alternate;e!==null&&(t.alternate=null,B2(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[dr],delete e[Nl],delete e[Bm],delete e[PD],delete e[kD])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function z2(t){return t.tag===5||t.tag===3||t.tag===4}function t1(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||z2(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function rg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=dd));else if(r!==4&&(t=t.child,t!==null))for(rg(t,e,n),t=t.sibling;t!==null;)rg(t,e,n),t=t.sibling}function ig(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(ig(t,e,n),t=t.sibling;t!==null;)ig(t,e,n),t=t.sibling}var Tt=null,Kn=!1;function fi(t,e,n){for(n=n.child;n!==null;)H2(t,e,n),n=n.sibling}function H2(t,e,n){if(vr&&typeof vr.onCommitFiberUnmount=="function")try{vr.onCommitFiberUnmount(vf,n)}catch{}switch(n.tag){case 5:Ft||Co(n,e);case 6:var r=Tt,i=Kn;Tt=null,fi(t,e,n),Tt=r,Kn=i,Tt!==null&&(Kn?(t=Tt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Tt.removeChild(n.stateNode));break;case 18:Tt!==null&&(Kn?(t=Tt,n=n.stateNode,t.nodeType===8?gp(t.parentNode,n):t.nodeType===1&&gp(t,n),Cl(t)):gp(Tt,n.stateNode));break;case 4:r=Tt,i=Kn,Tt=n.stateNode.containerInfo,Kn=!0,fi(t,e,n),Tt=r,Kn=i;break;case 0:case 11:case 14:case 15:if(!Ft&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&tg(n,e,o),i=i.next}while(i!==r)}fi(t,e,n);break;case 1:if(!Ft&&(Co(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ke(n,e,a)}fi(t,e,n);break;case 21:fi(t,e,n);break;case 22:n.mode&1?(Ft=(r=Ft)||n.memoizedState!==null,fi(t,e,n),Ft=r):fi(t,e,n);break;default:fi(t,e,n)}}function n1(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new WD),e.forEach(function(r){var i=nO.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Hn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Tt=a.stateNode,Kn=!1;break e;case 3:Tt=a.stateNode.containerInfo,Kn=!0;break e;case 4:Tt=a.stateNode.containerInfo,Kn=!0;break e}a=a.return}if(Tt===null)throw Error(F(160));H2(s,o,i),Tt=null,Kn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Ke(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)q2(e,t),e=e.sibling}function q2(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Hn(e,t),ur(t),r&4){try{cl(3,t,t.return),Sf(3,t)}catch(x){Ke(t,t.return,x)}try{cl(5,t,t.return)}catch(x){Ke(t,t.return,x)}}break;case 1:Hn(e,t),ur(t),r&512&&n!==null&&Co(n,n.return);break;case 5:if(Hn(e,t),ur(t),r&512&&n!==null&&Co(n,n.return),t.flags&32){var i=t.stateNode;try{Tl(i,"")}catch(x){Ke(t,t.return,x)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&fT(i,s),Am(a,o);var u=Am(a,s);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?yT(i,h):d==="dangerouslySetInnerHTML"?mT(i,h):d==="children"?Tl(i,h):vy(i,d,h,u)}switch(a){case"input":Tm(i,s);break;case"textarea":hT(i,s);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var w=s.value;w!=null?Ro(i,!!s.multiple,w,!1):m!==!!s.multiple&&(s.defaultValue!=null?Ro(i,!!s.multiple,s.defaultValue,!0):Ro(i,!!s.multiple,s.multiple?[]:"",!1))}i[Nl]=s}catch(x){Ke(t,t.return,x)}}break;case 6:if(Hn(e,t),ur(t),r&4){if(t.stateNode===null)throw Error(F(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(x){Ke(t,t.return,x)}}break;case 3:if(Hn(e,t),ur(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Cl(e.containerInfo)}catch(x){Ke(t,t.return,x)}break;case 4:Hn(e,t),ur(t);break;case 13:Hn(e,t),ur(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Jy=tt())),r&4&&n1(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Ft=(u=Ft)||d,Hn(e,t),Ft=u):Hn(e,t),ur(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(Q=t,d=t.child;d!==null;){for(h=Q=d;Q!==null;){switch(m=Q,w=m.child,m.tag){case 0:case 11:case 14:case 15:cl(4,m,m.return);break;case 1:Co(m,m.return);var E=m.stateNode;if(typeof E.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,E.props=e.memoizedProps,E.state=e.memoizedState,E.componentWillUnmount()}catch(x){Ke(r,n,x)}}break;case 5:Co(m,m.return);break;case 22:if(m.memoizedState!==null){i1(h);continue}}w!==null?(w.return=m,Q=w):i1(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=gT("display",o))}catch(x){Ke(t,t.return,x)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(x){Ke(t,t.return,x)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Hn(e,t),ur(t),r&4&&n1(t);break;case 21:break;default:Hn(e,t),ur(t)}}function ur(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(z2(n)){var r=n;break e}n=n.return}throw Error(F(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Tl(i,""),r.flags&=-33);var s=t1(t);ig(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=t1(t);rg(t,a,o);break;default:throw Error(F(161))}}catch(l){Ke(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function GD(t,e,n){Q=t,W2(t)}function W2(t,e,n){for(var r=(t.mode&1)!==0;Q!==null;){var i=Q,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||hc;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Ft;a=hc;var u=Ft;if(hc=o,(Ft=l)&&!u)for(Q=i;Q!==null;)o=Q,l=o.child,o.tag===22&&o.memoizedState!==null?s1(i):l!==null?(l.return=o,Q=l):s1(i);for(;s!==null;)Q=s,W2(s),s=s.sibling;Q=i,hc=a,Ft=u}r1(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Q=s):r1(t)}}function r1(t){for(;Q!==null;){var e=Q;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ft||Sf(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ft)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:qn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&$_(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}$_(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Cl(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(F(163))}Ft||e.flags&512&&ng(e)}catch(m){Ke(e,e.return,m)}}if(e===t){Q=null;break}if(n=e.sibling,n!==null){n.return=e.return,Q=n;break}Q=e.return}}function i1(t){for(;Q!==null;){var e=Q;if(e===t){Q=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Q=n;break}Q=e.return}}function s1(t){for(;Q!==null;){var e=Q;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Sf(4,e)}catch(l){Ke(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Ke(e,i,l)}}var s=e.return;try{ng(e)}catch(l){Ke(e,s,l)}break;case 5:var o=e.return;try{ng(e)}catch(l){Ke(e,o,l)}}}catch(l){Ke(e,e.return,l)}if(e===t){Q=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Q=a;break}Q=e.return}}var QD=Math.ceil,xd=ti.ReactCurrentDispatcher,Qy=ti.ReactCurrentOwner,On=ti.ReactCurrentBatchConfig,Ee=0,yt=null,it=null,At=0,dn=0,Ao=es(0),ut=0,Vl=null,Ds=0,Cf=0,Yy=0,dl=null,tn=null,Jy=0,Go=1/0,Dr=null,Td=!1,sg=null,ji=null,pc=!1,bi=null,Id=0,fl=0,og=null,$c=-1,Uc=0;function Jt(){return Ee&6?tt():$c!==-1?$c:$c=tt()}function Mi(t){return t.mode&1?Ee&2&&At!==0?At&-At:ND.transition!==null?(Uc===0&&(Uc=PT()),Uc):(t=Ce,t!==0||(t=window.event,t=t===void 0?16:jT(t.type)),t):1}function Zn(t,e,n,r){if(50<fl)throw fl=0,og=null,Error(F(185));cu(t,n,r),(!(Ee&2)||t!==yt)&&(t===yt&&(!(Ee&2)&&(Cf|=n),ut===4&&_i(t,At)),an(t,r),n===1&&Ee===0&&!(e.mode&1)&&(Go=tt()+500,Tf&&ts()))}function an(t,e){var n=t.callbackNode;NN(t,e);var r=ad(t,t===yt?At:0);if(r===0)n!==null&&p_(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&p_(n),e===1)t.tag===0?RD(o1.bind(null,t)):t2(o1.bind(null,t)),CD(function(){!(Ee&6)&&ts()}),n=null;else{switch(kT(r)){case 1:n=Ty;break;case 4:n=CT;break;case 16:n=od;break;case 536870912:n=AT;break;default:n=od}n=eI(n,K2.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function K2(t,e){if($c=-1,Uc=0,Ee&6)throw Error(F(327));var n=t.callbackNode;if(jo()&&t.callbackNode!==n)return null;var r=ad(t,t===yt?At:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=bd(t,r);else{e=r;var i=Ee;Ee|=2;var s=Q2();(yt!==t||At!==e)&&(Dr=null,Go=tt()+500,bs(t,e));do try{XD();break}catch(a){G2(t,a)}while(1);jy(),xd.current=s,Ee=i,it!==null?e=0:(yt=null,At=0,e=ut)}if(e!==0){if(e===2&&(i=Dm(t),i!==0&&(r=i,e=ag(t,i))),e===1)throw n=Vl,bs(t,0),_i(t,r),an(t,tt()),n;if(e===6)_i(t,r);else{if(i=t.current.alternate,!(r&30)&&!YD(i)&&(e=bd(t,r),e===2&&(s=Dm(t),s!==0&&(r=s,e=ag(t,s))),e===1))throw n=Vl,bs(t,0),_i(t,r),an(t,tt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(F(345));case 2:hs(t,tn,Dr);break;case 3:if(_i(t,r),(r&130023424)===r&&(e=Jy+500-tt(),10<e)){if(ad(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Jt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Um(hs.bind(null,t,tn,Dr),e);break}hs(t,tn,Dr);break;case 4:if(_i(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Xn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=tt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*QD(r/1960))-r,10<r){t.timeoutHandle=Um(hs.bind(null,t,tn,Dr),r);break}hs(t,tn,Dr);break;case 5:hs(t,tn,Dr);break;default:throw Error(F(329))}}}return an(t,tt()),t.callbackNode===n?K2.bind(null,t):null}function ag(t,e){var n=dl;return t.current.memoizedState.isDehydrated&&(bs(t,e).flags|=256),t=bd(t,e),t!==2&&(e=tn,tn=n,e!==null&&lg(e)),t}function lg(t){tn===null?tn=t:tn.push.apply(tn,t)}function YD(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!tr(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function _i(t,e){for(e&=~Yy,e&=~Cf,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Xn(e),r=1<<n;t[n]=-1,e&=~r}}function o1(t){if(Ee&6)throw Error(F(327));jo();var e=ad(t,0);if(!(e&1))return an(t,tt()),null;var n=bd(t,e);if(t.tag!==0&&n===2){var r=Dm(t);r!==0&&(e=r,n=ag(t,r))}if(n===1)throw n=Vl,bs(t,0),_i(t,e),an(t,tt()),n;if(n===6)throw Error(F(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,hs(t,tn,Dr),an(t,tt()),null}function Xy(t,e){var n=Ee;Ee|=1;try{return t(e)}finally{Ee=n,Ee===0&&(Go=tt()+500,Tf&&ts())}}function Os(t){bi!==null&&bi.tag===0&&!(Ee&6)&&jo();var e=Ee;Ee|=1;var n=On.transition,r=Ce;try{if(On.transition=null,Ce=1,t)return t()}finally{Ce=r,On.transition=n,Ee=e,!(Ee&6)&&ts()}}function Zy(){dn=Ao.current,je(Ao)}function bs(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,SD(n)),it!==null)for(n=it.return;n!==null;){var r=n;switch(Dy(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&fd();break;case 3:Wo(),je(sn),je(Ht),By();break;case 5:Uy(r);break;case 4:Wo();break;case 13:je(Ue);break;case 19:je(Ue);break;case 10:My(r.type._context);break;case 22:case 23:Zy()}n=n.return}if(yt=t,it=t=Vi(t.current,null),At=dn=e,ut=0,Vl=null,Yy=Cf=Ds=0,tn=dl=null,ys!==null){for(e=0;e<ys.length;e++)if(n=ys[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}ys=null}return t}function G2(t,e){do{var n=it;try{if(jy(),Mc.current=Ed,_d){for(var r=Be.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}_d=!1}if(Ns=0,gt=at=Be=null,ul=!1,Ll=0,Qy.current=null,n===null||n.return===null){ut=1,Vl=e,it=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=At,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var w=K_(o);if(w!==null){w.flags&=-257,G_(w,o,a,s,e),w.mode&1&&W_(s,u,e),e=w,l=u;var E=e.updateQueue;if(E===null){var x=new Set;x.add(l),e.updateQueue=x}else E.add(l);break e}else{if(!(e&1)){W_(s,u,e),ev();break e}l=Error(F(426))}}else if(Ve&&a.mode&1){var I=K_(o);if(I!==null){!(I.flags&65536)&&(I.flags|=256),G_(I,o,a,s,e),Oy(Ko(l,a));break e}}s=l=Ko(l,a),ut!==4&&(ut=2),dl===null?dl=[s]:dl.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var _=R2(s,l,e);F_(s,_);break e;case 1:a=l;var v=s.type,T=s.stateNode;if(!(s.flags&128)&&(typeof v.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(ji===null||!ji.has(T)))){s.flags|=65536,e&=-e,s.lanes|=e;var A=N2(s,a,e);F_(s,A);break e}}s=s.return}while(s!==null)}J2(n)}catch(P){e=P,it===n&&n!==null&&(it=n=n.return);continue}break}while(1)}function Q2(){var t=xd.current;return xd.current=Ed,t===null?Ed:t}function ev(){(ut===0||ut===3||ut===2)&&(ut=4),yt===null||!(Ds&268435455)&&!(Cf&268435455)||_i(yt,At)}function bd(t,e){var n=Ee;Ee|=2;var r=Q2();(yt!==t||At!==e)&&(Dr=null,bs(t,e));do try{JD();break}catch(i){G2(t,i)}while(1);if(jy(),Ee=n,xd.current=r,it!==null)throw Error(F(261));return yt=null,At=0,ut}function JD(){for(;it!==null;)Y2(it)}function XD(){for(;it!==null&&!TN();)Y2(it)}function Y2(t){var e=Z2(t.alternate,t,dn);t.memoizedProps=t.pendingProps,e===null?J2(t):it=e,Qy.current=null}function J2(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=qD(n,e),n!==null){n.flags&=32767,it=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ut=6,it=null;return}}else if(n=HD(n,e,dn),n!==null){it=n;return}if(e=e.sibling,e!==null){it=e;return}it=e=t}while(e!==null);ut===0&&(ut=5)}function hs(t,e,n){var r=Ce,i=On.transition;try{On.transition=null,Ce=1,ZD(t,e,n,r)}finally{On.transition=i,Ce=r}return null}function ZD(t,e,n,r){do jo();while(bi!==null);if(Ee&6)throw Error(F(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(F(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(DN(t,s),t===yt&&(it=yt=null,At=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||pc||(pc=!0,eI(od,function(){return jo(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=On.transition,On.transition=null;var o=Ce;Ce=1;var a=Ee;Ee|=4,Qy.current=null,KD(t,n),q2(n,t),wD(Fm),ld=!!Vm,Fm=Vm=null,t.current=n,GD(n),IN(),Ee=a,Ce=o,On.transition=s}else t.current=n;if(pc&&(pc=!1,bi=t,Id=i),s=t.pendingLanes,s===0&&(ji=null),CN(n.stateNode),an(t,tt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Td)throw Td=!1,t=sg,sg=null,t;return Id&1&&t.tag!==0&&jo(),s=t.pendingLanes,s&1?t===og?fl++:(fl=0,og=t):fl=0,ts(),null}function jo(){if(bi!==null){var t=kT(Id),e=On.transition,n=Ce;try{if(On.transition=null,Ce=16>t?16:t,bi===null)var r=!1;else{if(t=bi,bi=null,Id=0,Ee&6)throw Error(F(331));var i=Ee;for(Ee|=4,Q=t.current;Q!==null;){var s=Q,o=s.child;if(Q.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(Q=u;Q!==null;){var d=Q;switch(d.tag){case 0:case 11:case 15:cl(8,d,s)}var h=d.child;if(h!==null)h.return=d,Q=h;else for(;Q!==null;){d=Q;var m=d.sibling,w=d.return;if(B2(d),d===u){Q=null;break}if(m!==null){m.return=w,Q=m;break}Q=w}}}var E=s.alternate;if(E!==null){var x=E.child;if(x!==null){E.child=null;do{var I=x.sibling;x.sibling=null,x=I}while(x!==null)}}Q=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Q=o;else e:for(;Q!==null;){if(s=Q,s.flags&2048)switch(s.tag){case 0:case 11:case 15:cl(9,s,s.return)}var _=s.sibling;if(_!==null){_.return=s.return,Q=_;break e}Q=s.return}}var v=t.current;for(Q=v;Q!==null;){o=Q;var T=o.child;if(o.subtreeFlags&2064&&T!==null)T.return=o,Q=T;else e:for(o=v;Q!==null;){if(a=Q,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Sf(9,a)}}catch(P){Ke(a,a.return,P)}if(a===o){Q=null;break e}var A=a.sibling;if(A!==null){A.return=a.return,Q=A;break e}Q=a.return}}if(Ee=i,ts(),vr&&typeof vr.onPostCommitFiberRoot=="function")try{vr.onPostCommitFiberRoot(vf,t)}catch{}r=!0}return r}finally{Ce=n,On.transition=e}}return!1}function a1(t,e,n){e=Ko(n,e),e=R2(t,e,1),t=Li(t,e,1),e=Jt(),t!==null&&(cu(t,1,e),an(t,e))}function Ke(t,e,n){if(t.tag===3)a1(t,t,n);else for(;e!==null;){if(e.tag===3){a1(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ji===null||!ji.has(r))){t=Ko(n,t),t=N2(e,t,1),e=Li(e,t,1),t=Jt(),e!==null&&(cu(e,1,t),an(e,t));break}}e=e.return}}function eO(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Jt(),t.pingedLanes|=t.suspendedLanes&n,yt===t&&(At&n)===n&&(ut===4||ut===3&&(At&130023424)===At&&500>tt()-Jy?bs(t,0):Yy|=n),an(t,e)}function X2(t,e){e===0&&(t.mode&1?(e=ic,ic<<=1,!(ic&130023424)&&(ic=4194304)):e=1);var n=Jt();t=Kr(t,e),t!==null&&(cu(t,e,n),an(t,n))}function tO(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),X2(t,n)}function nO(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(F(314))}r!==null&&r.delete(e),X2(t,n)}var Z2;Z2=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||sn.current)rn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return rn=!1,zD(t,e,n);rn=!!(t.flags&131072)}else rn=!1,Ve&&e.flags&1048576&&n2(e,md,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Fc(t,e),t=e.pendingProps;var i=zo(e,Ht.current);Lo(e,n),i=Hy(null,e,r,t,i,n);var s=qy();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,on(r)?(s=!0,hd(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Fy(e),i.updater=If,e.stateNode=i,i._reactInternals=e,Gm(e,r,t,n),e=Jm(null,e,r,!0,s,n)):(e.tag=0,Ve&&s&&Ny(e),Gt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Fc(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=iO(r),t=qn(r,t),i){case 0:e=Ym(null,e,r,t,n);break e;case 1:e=J_(null,e,r,t,n);break e;case 11:e=Q_(null,e,r,t,n);break e;case 14:e=Y_(null,e,r,qn(r.type,t),n);break e}throw Error(F(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:qn(r,i),Ym(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:qn(r,i),J_(t,e,r,i,n);case 3:e:{if(j2(e),t===null)throw Error(F(387));r=e.pendingProps,s=e.memoizedState,i=s.element,o2(t,e),vd(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Ko(Error(F(423)),e),e=X_(t,e,r,n,i);break e}else if(r!==i){i=Ko(Error(F(424)),e),e=X_(t,e,r,n,i);break e}else for(hn=Oi(e.stateNode.containerInfo.firstChild),yn=e,Ve=!0,Gn=null,n=c2(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ho(),r===i){e=Gr(t,e,n);break e}Gt(t,e,r,n)}e=e.child}return e;case 5:return d2(e),t===null&&qm(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,$m(r,i)?o=null:s!==null&&$m(r,s)&&(e.flags|=32),L2(t,e),Gt(t,e,o,n),e.child;case 6:return t===null&&qm(e),null;case 13:return M2(t,e,n);case 4:return $y(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=qo(e,null,r,n):Gt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:qn(r,i),Q_(t,e,r,i,n);case 7:return Gt(t,e,e.pendingProps,n),e.child;case 8:return Gt(t,e,e.pendingProps.children,n),e.child;case 12:return Gt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,ke(gd,r._currentValue),r._currentValue=o,s!==null)if(tr(s.value,o)){if(s.children===i.children&&!sn.current){e=Gr(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Br(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Wm(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(F(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Wm(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Gt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Lo(e,n),i=Fn(i),r=r(i),e.flags|=1,Gt(t,e,r,n),e.child;case 14:return r=e.type,i=qn(r,e.pendingProps),i=qn(r.type,i),Y_(t,e,r,i,n);case 15:return D2(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:qn(r,i),Fc(t,e),e.tag=1,on(r)?(t=!0,hd(e)):t=!1,Lo(e,n),l2(e,r,i),Gm(e,r,i,n),Jm(null,e,r,!0,t,n);case 19:return V2(t,e,n);case 22:return O2(t,e,n)}throw Error(F(156,e.tag))};function eI(t,e){return ST(t,e)}function rO(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dn(t,e,n,r){return new rO(t,e,n,r)}function tv(t){return t=t.prototype,!(!t||!t.isReactComponent)}function iO(t){if(typeof t=="function")return tv(t)?1:0;if(t!=null){if(t=t.$$typeof,t===_y)return 11;if(t===Ey)return 14}return 2}function Vi(t,e){var n=t.alternate;return n===null?(n=Dn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Bc(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")tv(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case vo:return Ss(n.children,i,s,e);case wy:o=8,i|=8;break;case vm:return t=Dn(12,n,e,i|2),t.elementType=vm,t.lanes=s,t;case wm:return t=Dn(13,n,e,i),t.elementType=wm,t.lanes=s,t;case _m:return t=Dn(19,n,e,i),t.elementType=_m,t.lanes=s,t;case uT:return Af(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case aT:o=10;break e;case lT:o=9;break e;case _y:o=11;break e;case Ey:o=14;break e;case yi:o=16,r=null;break e}throw Error(F(130,t==null?t:typeof t,""))}return e=Dn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Ss(t,e,n,r){return t=Dn(7,t,r,e),t.lanes=n,t}function Af(t,e,n,r){return t=Dn(22,t,r,e),t.elementType=uT,t.lanes=n,t.stateNode={isHidden:!1},t}function Ip(t,e,n){return t=Dn(6,t,null,e),t.lanes=n,t}function bp(t,e,n){return e=Dn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function sO(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=sp(0),this.expirationTimes=sp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=sp(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function nv(t,e,n,r,i,s,o,a,l){return t=new sO(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Dn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Fy(s),t}function oO(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:yo,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function tI(t){if(!t)return Ki;t=t._reactInternals;e:{if(Ws(t)!==t||t.tag!==1)throw Error(F(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(on(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(F(171))}if(t.tag===1){var n=t.type;if(on(n))return e2(t,n,e)}return e}function nI(t,e,n,r,i,s,o,a,l){return t=nv(n,r,!0,t,i,s,o,a,l),t.context=tI(null),n=t.current,r=Jt(),i=Mi(n),s=Br(r,i),s.callback=e??null,Li(n,s,i),t.current.lanes=i,cu(t,i,r),an(t,r),t}function Pf(t,e,n,r){var i=e.current,s=Jt(),o=Mi(i);return n=tI(n),e.context===null?e.context=n:e.pendingContext=n,e=Br(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Li(i,e,o),t!==null&&(Zn(t,i,o,s),jc(t,i,o)),o}function Sd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function l1(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function rv(t,e){l1(t,e),(t=t.alternate)&&l1(t,e)}function aO(){return null}var rI=typeof reportError=="function"?reportError:function(t){console.error(t)};function iv(t){this._internalRoot=t}kf.prototype.render=iv.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(F(409));Pf(t,e,null,null)};kf.prototype.unmount=iv.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Os(function(){Pf(null,t,null,null)}),e[Wr]=null}};function kf(t){this._internalRoot=t}kf.prototype.unstable_scheduleHydration=function(t){if(t){var e=DT();t={blockedOn:null,target:t,priority:e};for(var n=0;n<wi.length&&e!==0&&e<wi[n].priority;n++);wi.splice(n,0,t),n===0&&LT(t)}};function sv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Rf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function u1(){}function lO(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Sd(o);s.call(u)}}var o=nI(e,r,t,0,null,!1,!1,"",u1);return t._reactRootContainer=o,t[Wr]=o.current,kl(t.nodeType===8?t.parentNode:t),Os(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Sd(l);a.call(u)}}var l=nv(t,0,!1,null,null,!1,!1,"",u1);return t._reactRootContainer=l,t[Wr]=l.current,kl(t.nodeType===8?t.parentNode:t),Os(function(){Pf(e,l,n,r)}),l}function Nf(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Sd(o);a.call(l)}}Pf(e,o,t,i)}else o=lO(n,e,t,i,r);return Sd(o)}RT=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ga(e.pendingLanes);n!==0&&(Iy(e,n|1),an(e,tt()),!(Ee&6)&&(Go=tt()+500,ts()))}break;case 13:Os(function(){var r=Kr(t,1);if(r!==null){var i=Jt();Zn(r,t,1,i)}}),rv(t,1)}};by=function(t){if(t.tag===13){var e=Kr(t,134217728);if(e!==null){var n=Jt();Zn(e,t,134217728,n)}rv(t,134217728)}};NT=function(t){if(t.tag===13){var e=Mi(t),n=Kr(t,e);if(n!==null){var r=Jt();Zn(n,t,e,r)}rv(t,e)}};DT=function(){return Ce};OT=function(t,e){var n=Ce;try{return Ce=t,e()}finally{Ce=n}};km=function(t,e,n){switch(e){case"input":if(Tm(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=xf(r);if(!i)throw Error(F(90));dT(r),Tm(r,i)}}}break;case"textarea":hT(t,n);break;case"select":e=n.value,e!=null&&Ro(t,!!n.multiple,e,!1)}};_T=Xy;ET=Os;var uO={usingClientEntryPoint:!1,Events:[fu,xo,xf,vT,wT,Xy]},Fa={findFiberByHostInstance:gs,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},cO={bundleType:Fa.bundleType,version:Fa.version,rendererPackageName:Fa.rendererPackageName,rendererConfig:Fa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ti.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=IT(t),t===null?null:t.stateNode},findFiberByHostInstance:Fa.findFiberByHostInstance||aO,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var mc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mc.isDisabled&&mc.supportsFiber)try{vf=mc.inject(cO),vr=mc}catch{}}Tn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uO;Tn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!sv(e))throw Error(F(200));return oO(t,e,null,n)};Tn.createRoot=function(t,e){if(!sv(t))throw Error(F(299));var n=!1,r="",i=rI;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=nv(t,1,!1,null,null,n,!1,r,i),t[Wr]=e.current,kl(t.nodeType===8?t.parentNode:t),new iv(e)};Tn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(F(188)):(t=Object.keys(t).join(","),Error(F(268,t)));return t=IT(e),t=t===null?null:t.stateNode,t};Tn.flushSync=function(t){return Os(t)};Tn.hydrate=function(t,e,n){if(!Rf(e))throw Error(F(200));return Nf(null,t,e,!0,n)};Tn.hydrateRoot=function(t,e,n){if(!sv(t))throw Error(F(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=rI;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=nI(e,null,t,1,n??null,i,!1,s,o),t[Wr]=e.current,kl(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new kf(e)};Tn.render=function(t,e,n){if(!Rf(e))throw Error(F(200));return Nf(null,t,e,!1,n)};Tn.unmountComponentAtNode=function(t){if(!Rf(t))throw Error(F(40));return t._reactRootContainer?(Os(function(){Nf(null,null,t,!1,function(){t._reactRootContainer=null,t[Wr]=null})}),!0):!1};Tn.unstable_batchedUpdates=Xy;Tn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Rf(n))throw Error(F(200));if(t==null||t._reactInternals===void 0)throw Error(F(38));return Nf(t,e,n,!1,r)};Tn.version="18.2.0-next-9e3b772b8-20220608";function iI(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(iI)}catch(t){console.error(t)}}iI(),nT.exports=Tn;var dO=nT.exports,c1=dO;gm.createRoot=c1.createRoot,gm.hydrateRoot=c1.hydrateRoot;var sI={exports:{}},oI={};/**
 * @license React
 * use-sync-external-store-with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pu=S;function fO(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var hO=typeof Object.is=="function"?Object.is:fO,pO=pu.useSyncExternalStore,mO=pu.useRef,gO=pu.useEffect,yO=pu.useMemo,vO=pu.useDebugValue;oI.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=mO(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=yO(function(){function l(w){if(!u){if(u=!0,d=w,w=r(w),i!==void 0&&o.hasValue){var E=o.value;if(i(E,w))return h=E}return h=w}if(E=h,hO(d,w))return E;var x=r(w);return i!==void 0&&i(E,x)?E:(d=w,h=x)}var u=!1,d,h,m=n===void 0?null:n;return[function(){return l(e())},m===null?void 0:function(){return l(m())}]},[e,n,r,i]);var a=pO(t,s[0],s[1]);return gO(function(){o.hasValue=!0,o.value=a},[a]),vO(a),a};sI.exports=oI;var wO=sI.exports,pn="default"in El?he:El,d1=Symbol.for("react-redux-context"),f1=typeof globalThis<"u"?globalThis:{};function _O(){if(!pn.createContext)return{};const t=f1[d1]??(f1[d1]=new Map);let e=t.get(pn.createContext);return e||(e=pn.createContext(null),t.set(pn.createContext,e)),e}var Gi=_O(),EO=()=>{throw new Error("uSES not initialized!")};function ov(t=Gi){return function(){return pn.useContext(t)}}var aI=ov(),lI=EO,xO=t=>{lI=t},TO=(t,e)=>t===e;function IO(t=Gi){const e=t===Gi?aI:ov(t);return function(r,i={}){const{equalityFn:s=TO,devModeChecks:o={}}=typeof i=="function"?{equalityFn:i}:i,{store:a,subscription:l,getServerState:u,stabilityCheck:d,identityFunctionCheck:h}=e();pn.useRef(!0);const m=pn.useCallback({[r.name](E){return r(E)}}[r.name],[r,d,o.stabilityCheck]),w=lI(l.addNestedSub,a.getState,u||a.getState,m,s);return pn.useDebugValue(w),w}}var ns=IO();function bO(t){t()}function SO(){let t=null,e=null;return{clear(){t=null,e=null},notify(){bO(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){let n=[],r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0,i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var h1={notify(){},get:()=>[]};function CO(t,e){let n,r=h1,i=0,s=!1;function o(x){d();const I=r.subscribe(x);let _=!1;return()=>{_||(_=!0,I(),h())}}function a(){r.notify()}function l(){E.onStateChange&&E.onStateChange()}function u(){return s}function d(){i++,n||(n=e?e.addNestedSub(l):t.subscribe(l),r=SO())}function h(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=h1)}function m(){s||(s=!0,d())}function w(){s&&(s=!1,h())}const E={addNestedSub:o,notifyNestedSubs:a,handleChangeWrapper:l,isSubscribed:u,trySubscribe:m,tryUnsubscribe:w,getListeners:()=>r};return E}var AO=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",PO=AO?pn.useLayoutEffect:pn.useEffect;function kO({store:t,context:e,children:n,serverState:r,stabilityCheck:i="once",identityFunctionCheck:s="once"}){const o=pn.useMemo(()=>{const u=CO(t);return{store:t,subscription:u,getServerState:r?()=>r:void 0,stabilityCheck:i,identityFunctionCheck:s}},[t,r,i,s]),a=pn.useMemo(()=>t.getState(),[t]);PO(()=>{const{subscription:u}=o;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),a!==t.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[o,a]);const l=e||Gi;return pn.createElement(l.Provider,{value:o},n)}var RO=kO;function uI(t=Gi){const e=t===Gi?aI:ov(t);return function(){const{store:r}=e();return r}}var NO=uI();function DO(t=Gi){const e=t===Gi?NO:uI(t);return function(){return e().dispatch}}var bn=DO();xO(wO.useSyncExternalStoreWithSelector);function xt(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var OO=(()=>typeof Symbol=="function"&&Symbol.observable||"@@observable")(),p1=OO,Sp=()=>Math.random().toString(36).substring(7).split("").join("."),LO={INIT:`@@redux/INIT${Sp()}`,REPLACE:`@@redux/REPLACE${Sp()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Sp()}`},Cd=LO;function av(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function cI(t,e,n){if(typeof t!="function")throw new Error(xt(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(xt(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(xt(1));return n(cI)(t,e)}let r=t,i=e,s=new Map,o=s,a=0,l=!1;function u(){o===s&&(o=new Map,s.forEach((I,_)=>{o.set(_,I)}))}function d(){if(l)throw new Error(xt(3));return i}function h(I){if(typeof I!="function")throw new Error(xt(4));if(l)throw new Error(xt(5));let _=!0;u();const v=a++;return o.set(v,I),function(){if(_){if(l)throw new Error(xt(6));_=!1,u(),o.delete(v),s=null}}}function m(I){if(!av(I))throw new Error(xt(7));if(typeof I.type>"u")throw new Error(xt(8));if(typeof I.type!="string")throw new Error(xt(17));if(l)throw new Error(xt(9));try{l=!0,i=r(i,I)}finally{l=!1}return(s=o).forEach(v=>{v()}),I}function w(I){if(typeof I!="function")throw new Error(xt(10));r=I,m({type:Cd.REPLACE})}function E(){const I=h;return{subscribe(_){if(typeof _!="object"||_===null)throw new Error(xt(11));function v(){const A=_;A.next&&A.next(d())}return v(),{unsubscribe:I(v)}},[p1](){return this}}}return m({type:Cd.INIT}),{dispatch:m,subscribe:h,getState:d,replaceReducer:w,[p1]:E}}function jO(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:Cd.INIT})>"u")throw new Error(xt(12));if(typeof n(void 0,{type:Cd.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(xt(13))})}function MO(t){const e=Object.keys(t),n={};for(let s=0;s<e.length;s++){const o=e[s];typeof t[o]=="function"&&(n[o]=t[o])}const r=Object.keys(n);let i;try{jO(n)}catch(s){i=s}return function(o={},a){if(i)throw i;let l=!1;const u={};for(let d=0;d<r.length;d++){const h=r[d],m=n[h],w=o[h],E=m(w,a);if(typeof E>"u")throw a&&a.type,new Error(xt(14));u[h]=E,l=l||E!==w}return l=l||r.length!==Object.keys(o).length,l?u:o}}function Ad(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function VO(...t){return e=>(n,r)=>{const i=e(n,r);let s=()=>{throw new Error(xt(15))};const o={getState:i.getState,dispatch:(l,...u)=>s(l,...u)},a=t.map(l=>l(o));return s=Ad(...a)(i.dispatch),{...i,dispatch:s}}}function FO(t){return av(t)&&"type"in t&&typeof t.type=="string"}var dI=Symbol.for("immer-nothing"),m1=Symbol.for("immer-draftable"),_n=Symbol.for("immer-state");function Qn(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Qo=Object.getPrototypeOf;function Qi(t){return!!t&&!!t[_n]}function Qr(t){var e;return t?fI(t)||Array.isArray(t)||!!t[m1]||!!((e=t.constructor)!=null&&e[m1])||Of(t)||Lf(t):!1}var $O=Object.prototype.constructor.toString();function fI(t){if(!t||typeof t!="object")return!1;const e=Qo(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===$O}function Fl(t,e){Df(t)===0?Object.entries(t).forEach(([n,r])=>{e(n,r,t)}):t.forEach((n,r)=>e(r,n,t))}function Df(t){const e=t[_n];return e?e.type_:Array.isArray(t)?1:Of(t)?2:Lf(t)?3:0}function ug(t,e){return Df(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function hI(t,e,n){const r=Df(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function UO(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Of(t){return t instanceof Map}function Lf(t){return t instanceof Set}function ps(t){return t.copy_||t.base_}function cg(t,e){if(Of(t))return new Map(t);if(Lf(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);if(!e&&fI(t))return Qo(t)?{...t}:Object.assign(Object.create(null),t);const n=Object.getOwnPropertyDescriptors(t);delete n[_n];let r=Reflect.ownKeys(n);for(let i=0;i<r.length;i++){const s=r[i],o=n[s];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(n[s]={configurable:!0,writable:!0,enumerable:o.enumerable,value:t[s]})}return Object.create(Qo(t),n)}function lv(t,e=!1){return jf(t)||Qi(t)||!Qr(t)||(Df(t)>1&&(t.set=t.add=t.clear=t.delete=BO),Object.freeze(t),e&&Fl(t,(n,r)=>lv(r,!0))),t}function BO(){Qn(2)}function jf(t){return Object.isFrozen(t)}var zO={};function Ls(t){const e=zO[t];return e||Qn(0,t),e}var $l;function pI(){return $l}function HO(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function g1(t,e){e&&(Ls("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function dg(t){fg(t),t.drafts_.forEach(qO),t.drafts_=null}function fg(t){t===$l&&($l=t.parent_)}function y1(t){return $l=HO($l,t)}function qO(t){const e=t[_n];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function v1(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[_n].modified_&&(dg(e),Qn(4)),Qr(t)&&(t=Pd(e,t),e.parent_||kd(e,t)),e.patches_&&Ls("Patches").generateReplacementPatches_(n[_n].base_,t,e.patches_,e.inversePatches_)):t=Pd(e,n,[]),dg(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==dI?t:void 0}function Pd(t,e,n){if(jf(e))return e;const r=e[_n];if(!r)return Fl(e,(i,s)=>w1(t,r,e,i,s,n)),e;if(r.scope_!==t)return e;if(!r.modified_)return kd(t,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let s=i,o=!1;r.type_===3&&(s=new Set(i),i.clear(),o=!0),Fl(s,(a,l)=>w1(t,r,i,a,l,n,o)),kd(t,i,!1),n&&t.patches_&&Ls("Patches").generatePatches_(r,n,t.patches_,t.inversePatches_)}return r.copy_}function w1(t,e,n,r,i,s,o){if(Qi(i)){const a=s&&e&&e.type_!==3&&!ug(e.assigned_,r)?s.concat(r):void 0,l=Pd(t,i,a);if(hI(n,r,l),Qi(l))t.canAutoFreeze_=!1;else return}else o&&n.add(i);if(Qr(i)&&!jf(i)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;Pd(t,i),(!e||!e.scope_.parent_)&&kd(t,i)}}function kd(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&lv(e,n)}function WO(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:pI(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=uv;n&&(i=[r],s=Ul);const{revoke:o,proxy:a}=Proxy.revocable(i,s);return r.draft_=a,r.revoke_=o,a}var uv={get(t,e){if(e===_n)return t;const n=ps(t);if(!ug(n,e))return KO(t,n,e);const r=n[e];return t.finalized_||!Qr(r)?r:r===Cp(t.base_,e)?(Ap(t),t.copy_[e]=pg(r,t)):r},has(t,e){return e in ps(t)},ownKeys(t){return Reflect.ownKeys(ps(t))},set(t,e,n){const r=mI(ps(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=Cp(ps(t),e),s=i==null?void 0:i[_n];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(UO(n,i)&&(n!==void 0||ug(t.base_,e)))return!0;Ap(t),hg(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return Cp(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,Ap(t),hg(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=ps(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){Qn(11)},getPrototypeOf(t){return Qo(t.base_)},setPrototypeOf(){Qn(12)}},Ul={};Fl(uv,(t,e)=>{Ul[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Ul.deleteProperty=function(t,e){return Ul.set.call(this,t,e,void 0)};Ul.set=function(t,e,n){return uv.set.call(this,t[0],e,n,t[0])};function Cp(t,e){const n=t[_n];return(n?ps(n):t)[e]}function KO(t,e,n){var i;const r=mI(e,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function mI(t,e){if(!(e in t))return;let n=Qo(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Qo(n)}}function hg(t){t.modified_||(t.modified_=!0,t.parent_&&hg(t.parent_))}function Ap(t){t.copy_||(t.copy_=cg(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var GO=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const s=n;n=e;const o=this;return function(l=s,...u){return o.produce(l,d=>n.call(this,d,...u))}}typeof n!="function"&&Qn(6),r!==void 0&&typeof r!="function"&&Qn(7);let i;if(Qr(e)){const s=y1(this),o=pg(e,void 0);let a=!0;try{i=n(o),a=!1}finally{a?dg(s):fg(s)}return g1(s,r),v1(i,s)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===dI&&(i=void 0),this.autoFreeze_&&lv(i,!0),r){const s=[],o=[];Ls("Patches").generateReplacementPatches_(e,i,s,o),r(s,o)}return i}else Qn(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(o,...a)=>this.produceWithPatches(o,l=>e(l,...a));let r,i;return[this.produce(e,n,(o,a)=>{r=o,i=a}),r,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){Qr(t)||Qn(8),Qi(t)&&(t=gI(t));const e=y1(this),n=pg(t,void 0);return n[_n].isManual_=!0,fg(e),n}finishDraft(t,e){const n=t&&t[_n];(!n||!n.isManual_)&&Qn(9);const{scope_:r}=n;return g1(r,e),v1(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=Ls("Patches").applyPatches_;return Qi(t)?r(t,e):this.produce(t,i=>r(i,e))}};function pg(t,e){const n=Of(t)?Ls("MapSet").proxyMap_(t,e):Lf(t)?Ls("MapSet").proxySet_(t,e):WO(t,e);return(e?e.scope_:pI()).drafts_.push(n),n}function gI(t){return Qi(t)||Qn(10,t),yI(t)}function yI(t){if(!Qr(t)||jf(t))return t;const e=t[_n];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=cg(t,e.scope_.immer_.useStrictShallowCopy_)}else n=cg(t,!0);return Fl(n,(r,i)=>{hI(n,r,yI(i))}),e&&(e.finalized_=!1),n}var En=new GO,vI=En.produce;En.produceWithPatches.bind(En);En.setAutoFreeze.bind(En);En.setUseStrictShallowCopy.bind(En);En.applyPatches.bind(En);En.createDraft.bind(En);En.finishDraft.bind(En);function QO(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function YO(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var _1=t=>Array.isArray(t)?t:[t];function JO(t){const e=Array.isArray(t[0])?t[0]:t;return YO(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function XO(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var ZO=class{constructor(t){this.value=t}deref(){return this.value}},e5=typeof WeakRef<"u"?WeakRef:ZO,t5=0,E1=1;function gc(){return{s:t5,v:void 0,o:null,p:null}}function wI(t,e={}){let n=gc();const{resultEqualityCheck:r}=e;let i,s=0;function o(){let a=n;const{length:l}=arguments;for(let h=0,m=l;h<m;h++){const w=arguments[h];if(typeof w=="function"||typeof w=="object"&&w!==null){let E=a.o;E===null&&(a.o=E=new WeakMap);const x=E.get(w);x===void 0?(a=gc(),E.set(w,a)):a=x}else{let E=a.p;E===null&&(a.p=E=new Map);const x=E.get(w);x===void 0?(a=gc(),E.set(w,a)):a=x}}const u=a;let d;if(a.s===E1?d=a.v:(d=t.apply(null,arguments),s++),u.s=E1,r){const h=(i==null?void 0:i.deref())??i;h!=null&&r(h,d)&&(d=h,s!==0&&s--),i=typeof d=="object"&&d!==null||typeof d=="function"?new e5(d):d}return u.v=d,d}return o.clearCache=()=>{n=gc(),o.resetResultsCount()},o.resultsCount=()=>s,o.resetResultsCount=()=>{s=0},o}function n5(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t;return(...i)=>{let s=0,o=0,a,l={},u=i.pop();typeof u=="object"&&(l=u,u=i.pop()),QO(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const d={...n,...l},{memoize:h,memoizeOptions:m=[],argsMemoize:w=wI,argsMemoizeOptions:E=[],devModeChecks:x={}}=d,I=_1(m),_=_1(E),v=JO(i),T=h(function(){return s++,u.apply(null,arguments)},...I),A=w(function(){o++;const j=XO(v,arguments);return a=T.apply(null,j),a},..._);return Object.assign(A,{resultFunc:u,memoizedResultFunc:T,dependencies:v,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>a,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:h,argsMemoize:w})}}function _I(t){return({dispatch:n,getState:r})=>i=>s=>typeof s=="function"?s(n,r,t):i(s)}var r5=_I(),i5=_I,s5=(...t)=>{const e=n5(...t);return(...n)=>{const r=e(...n),i=(s,...o)=>r(Qi(s)?gI(s):s,...o);return Object.assign(i,r),i}};s5(wI);var o5=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Ad:Ad.apply(null,arguments)};function Bl(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(er(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>FO(r)&&r.type===t,n}var EI=class Ya extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Ya.prototype)}static get[Symbol.species](){return Ya}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Ya(...e[0].concat(this)):new Ya(...e.concat(this))}};function x1(t){return Qr(t)?vI(t,()=>{}):t}function T1(t,e,n){if(t.has(e)){let i=t.get(e);return n.update&&(i=n.update(i,e,t),t.set(e,i)),i}if(!n.insert)throw new Error(er(10));const r=n.insert(e,t);return t.set(e,r),r}function a5(t){return typeof t=="boolean"}var l5=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=e??{};let o=new EI;return n&&(a5(n)?o.push(r5):o.push(i5(n.extraArgument))),o},u5="RTK_autoBatch",xI=t=>e=>{setTimeout(e,t)},c5=typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:xI(10),d5=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,s=!1,o=!1;const a=new Set,l=t.type==="tick"?queueMicrotask:t.type==="raf"?c5:t.type==="callback"?t.queueNotification:xI(t.timeout),u=()=>{o=!1,s&&(s=!1,a.forEach(d=>d()))};return Object.assign({},r,{subscribe(d){const h=()=>i&&d(),m=r.subscribe(h);return a.add(d),()=>{m(),a.delete(d)}},dispatch(d){var h;try{return i=!((h=d==null?void 0:d.meta)!=null&&h[u5]),s=!i,s&&(o||(o=!0,l(u))),r.dispatch(d)}finally{i=!0}}})},f5=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new EI(t);return r&&i.push(d5(typeof r=="object"?r:void 0)),i},h5=!0;function p5(t){const e=l5(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:s=void 0,enhancers:o=void 0}=t||{};let a;if(typeof n=="function")a=n;else if(av(n))a=MO(n);else throw new Error(er(1));let l;typeof r=="function"?l=r(e):l=e();let u=Ad;i&&(u=o5({trace:!h5,...typeof i=="object"&&i}));const d=VO(...l),h=f5(d);let m=typeof o=="function"?o(h):h();const w=u(...m);return cI(a,s,w)}function TI(t){const e={},n=[];let r;const i={addCase(s,o){const a=typeof s=="string"?s:s.type;if(!a)throw new Error(er(28));if(a in e)throw new Error(er(29));return e[a]=o,i},addMatcher(s,o){return n.push({matcher:s,reducer:o}),i},addDefaultCase(s){return r=s,i}};return t(i),[e,n,r]}function m5(t){return typeof t=="function"}function g5(t,e){let[n,r,i]=TI(e),s;if(m5(t))s=()=>x1(t());else{const a=x1(t);s=()=>a}function o(a=s(),l){let u=[n[l.type],...r.filter(({matcher:d})=>d(l)).map(({reducer:d})=>d)];return u.filter(d=>!!d).length===0&&(u=[i]),u.reduce((d,h)=>{if(h)if(Qi(d)){const w=h(d,l);return w===void 0?d:w}else{if(Qr(d))return vI(d,m=>h(m,l));{const m=h(d,l);if(m===void 0){if(d===null)return d;throw new Error(er(9))}return m}}return d},a)}return o.getInitialState=s,o}var y5=Symbol.for("rtk-slice-createasyncthunk");function v5(t,e){return`${t}/${e}`}function w5({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[y5];return function(i){const{name:s,reducerPath:o=s}=i;if(!s)throw new Error(er(11));typeof process<"u";const a=(typeof i.reducers=="function"?i.reducers(E5()):i.reducers)||{},l=Object.keys(a),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(I,_){const v=typeof I=="string"?I:I.type;if(!v)throw new Error(er(12));if(v in u.sliceCaseReducersByType)throw new Error(er(13));return u.sliceCaseReducersByType[v]=_,d},addMatcher(I,_){return u.sliceMatchers.push({matcher:I,reducer:_}),d},exposeAction(I,_){return u.actionCreators[I]=_,d},exposeCaseReducer(I,_){return u.sliceCaseReducersByName[I]=_,d}};l.forEach(I=>{const _=a[I],v={reducerName:I,type:v5(s,I),createNotation:typeof i.reducers=="function"};T5(_)?b5(v,_,d,e):x5(v,_,d)});function h(){const[I={},_=[],v=void 0]=typeof i.extraReducers=="function"?TI(i.extraReducers):[i.extraReducers],T={...I,...u.sliceCaseReducersByType};return g5(i.initialState,A=>{for(let P in T)A.addCase(P,T[P]);for(let P of u.sliceMatchers)A.addMatcher(P.matcher,P.reducer);for(let P of _)A.addMatcher(P.matcher,P.reducer);v&&A.addDefaultCase(v)})}const m=I=>I,w=new WeakMap;let E;const x={name:s,reducerPath:o,reducer(I,_){return E||(E=h()),E(I,_)},actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState(){return E||(E=h()),E.getInitialState()},getSelectors(I=m){const _=T1(w,this,{insert:()=>new WeakMap});return T1(_,I,{insert:()=>{const v={};for(const[T,A]of Object.entries(i.selectors??{}))v[T]=_5(this,A,I,this!==x);return v}})},selectSlice(I){let _=I[this.reducerPath];return typeof _>"u"&&this!==x&&(_=this.getInitialState()),_},get selectors(){return this.getSelectors(this.selectSlice)},injectInto(I,{reducerPath:_,...v}={}){const T=_??this.reducerPath;return I.inject({reducerPath:T,reducer:this.reducer},v),{...this,reducerPath:T}}};return x}}function _5(t,e,n,r){function i(s,...o){let a=n.call(t,s);return typeof a>"u"&&r&&(a=t.getInitialState()),e(a,...o)}return i.unwrapped=e,i}var cv=w5();function E5(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function x5({type:t,reducerName:e,createNotation:n},r,i){let s,o;if("reducer"in r){if(n&&!I5(r))throw new Error(er(17));s=r.reducer,o=r.prepare}else s=r;i.addCase(t,s).exposeCaseReducer(e,s).exposeAction(e,o?Bl(t,o):Bl(t))}function T5(t){return t._reducerDefinitionType==="asyncThunk"}function I5(t){return t._reducerDefinitionType==="reducerWithPrepare"}function b5({type:t,reducerName:e},n,r,i){if(!i)throw new Error(er(18));const{payloadCreator:s,fulfilled:o,pending:a,rejected:l,settled:u,options:d}=n,h=i(t,s,d);r.exposeAction(e,h),o&&r.addCase(h.fulfilled,o),a&&r.addCase(h.pending,a),l&&r.addCase(h.rejected,l),u&&r.addMatcher(h.settled,u),r.exposeCaseReducer(e,{fulfilled:o||yc,pending:a||yc,rejected:l||yc,settled:u||yc})}function yc(){}var dv="listenerMiddleware";Bl(`${dv}/add`);Bl(`${dv}/removeAll`);Bl(`${dv}/remove`);function er(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}const II=cv({name:"auth",initialState:{status:"offline",user:{},errorMessage:null,resetPasswordMessage:null},reducers:{login:(t,e)=>{t.status="online",t.user=e.payload},logout:(t,e)=>{t.status="offline",t.user={},t.errorMessage=e.payload},checkingCredentials:(t,e)=>{t.status="checking"},checkingGoogleCredentials:(t,e)=>{t.status="checking"},resetPasswordEmail:(t,e)=>{t.resetPasswordMessage=e.payload}}}),{login:fv,logout:bI,checkingCredentials:SI,checkingGoogleCredentials:S5,resetPasswordEmail:IH}=II.actions;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CI=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},C5=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},AI={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,d=s>>2,h=(s&3)<<4|a>>4;let m=(a&15)<<2|u>>6,w=u&63;l||(w=64,o||(m=64)),r.push(n[d],n[h],n[m],n[w])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(CI(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):C5(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||h==null)throw new A5;const m=s<<2|a>>4;if(r.push(m),u!==64){const w=a<<4&240|u>>2;if(r.push(w),h!==64){const E=u<<6&192|h;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class A5 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const P5=function(t){const e=CI(t);return AI.encodeByteArray(e,!0)},Rd=function(t){return P5(t).replace(/\./g,"")},PI=function(t){try{return AI.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k5(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R5=()=>k5().__FIREBASE_DEFAULTS__,N5=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},D5=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&PI(t[1]);return e&&JSON.parse(e)},hv=()=>{try{return R5()||N5()||D5()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},kI=t=>{var e,n;return(n=(e=hv())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},O5=t=>{const e=kI(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},RI=()=>{var t;return(t=hv())===null||t===void 0?void 0:t.config},NI=t=>{var e;return(e=hv())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L5{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j5(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[Rd(JSON.stringify(n)),Rd(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function M5(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(qt())}function DI(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function V5(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function F5(){const t=qt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function OI(){try{return typeof indexedDB=="object"}catch{return!1}}function LI(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}function $5(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U5="FirebaseError";class sr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=U5,Object.setPrototypeOf(this,sr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ks.prototype.create)}}class Ks{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?B5(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new sr(i,a,r)}}function B5(t,e){return t.replace(z5,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const z5=/\{\$([^}]+)}/g;function H5(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function zl(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(I1(s)&&I1(o)){if(!zl(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function I1(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ja(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Xa(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function q5(t,e){const n=new W5(t,e);return n.subscribe.bind(n)}class W5{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");K5(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Pp),i.error===void 0&&(i.error=Pp),i.complete===void 0&&(i.complete=Pp);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function K5(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Pp(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G5=1e3,Q5=2,Y5=4*60*60*1e3,J5=.5;function b1(t,e=G5,n=Q5){const r=e*Math.pow(n,t),i=Math.round(J5*r*(Math.random()-.5)*2);return Math.min(Y5,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qe(t){return t&&t._delegate?t._delegate:t}class nr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ms="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X5{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new L5;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(e4(e))try{this.getOrInitializeService({instanceIdentifier:ms})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=ms){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ms){return this.instances.has(e)}getOptions(e=ms){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Z5(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ms){return this.component?this.component.multipleInstances?e:ms:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Z5(t){return t===ms?void 0:t}function e4(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t4{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new X5(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ge;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ge||(ge={}));const n4={debug:ge.DEBUG,verbose:ge.VERBOSE,info:ge.INFO,warn:ge.WARN,error:ge.ERROR,silent:ge.SILENT},r4=ge.INFO,i4={[ge.DEBUG]:"log",[ge.VERBOSE]:"log",[ge.INFO]:"info",[ge.WARN]:"warn",[ge.ERROR]:"error"},s4=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=i4[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Mf{constructor(e){this.name=e,this._logLevel=r4,this._logHandler=s4,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ge))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?n4[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ge.DEBUG,...e),this._logHandler(this,ge.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ge.VERBOSE,...e),this._logHandler(this,ge.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ge.INFO,...e),this._logHandler(this,ge.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ge.WARN,...e),this._logHandler(this,ge.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ge.ERROR,...e),this._logHandler(this,ge.ERROR,...e)}}const o4=(t,e)=>e.some(n=>t instanceof n);let S1,C1;function a4(){return S1||(S1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function l4(){return C1||(C1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const jI=new WeakMap,mg=new WeakMap,MI=new WeakMap,kp=new WeakMap,pv=new WeakMap;function u4(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Fi(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&jI.set(n,t)}).catch(()=>{}),pv.set(e,t),e}function c4(t){if(mg.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});mg.set(t,e)}let gg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return mg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||MI.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Fi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function d4(t){gg=t(gg)}function f4(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Rp(this),e,...n);return MI.set(r,e.sort?e.sort():[e]),Fi(r)}:l4().includes(t)?function(...e){return t.apply(Rp(this),e),Fi(jI.get(this))}:function(...e){return Fi(t.apply(Rp(this),e))}}function h4(t){return typeof t=="function"?f4(t):(t instanceof IDBTransaction&&c4(t),o4(t,a4())?new Proxy(t,gg):t)}function Fi(t){if(t instanceof IDBRequest)return u4(t);if(kp.has(t))return kp.get(t);const e=h4(t);return e!==t&&(kp.set(t,e),pv.set(e,t)),e}const Rp=t=>pv.get(t);function p4(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Fi(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Fi(o.result),l.oldVersion,l.newVersion,Fi(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const m4=["get","getKey","getAll","getAllKeys","count"],g4=["put","add","delete","clear"],Np=new Map;function A1(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Np.get(e))return Np.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=g4.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||m4.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return Np.set(e,s),s}d4(t=>({...t,get:(e,n,r)=>A1(e,n)||t.get(e,n,r),has:(e,n)=>!!A1(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y4{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(v4(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function v4(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const yg="@firebase/app",P1="0.9.25";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const js=new Mf("@firebase/app"),w4="@firebase/app-compat",_4="@firebase/analytics-compat",E4="@firebase/analytics",x4="@firebase/app-check-compat",T4="@firebase/app-check",I4="@firebase/auth",b4="@firebase/auth-compat",S4="@firebase/database",C4="@firebase/database-compat",A4="@firebase/functions",P4="@firebase/functions-compat",k4="@firebase/installations",R4="@firebase/installations-compat",N4="@firebase/messaging",D4="@firebase/messaging-compat",O4="@firebase/performance",L4="@firebase/performance-compat",j4="@firebase/remote-config",M4="@firebase/remote-config-compat",V4="@firebase/storage",F4="@firebase/storage-compat",$4="@firebase/firestore",U4="@firebase/firestore-compat",B4="firebase",z4="10.7.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vg="[DEFAULT]",H4={[yg]:"fire-core",[w4]:"fire-core-compat",[E4]:"fire-analytics",[_4]:"fire-analytics-compat",[T4]:"fire-app-check",[x4]:"fire-app-check-compat",[I4]:"fire-auth",[b4]:"fire-auth-compat",[S4]:"fire-rtdb",[C4]:"fire-rtdb-compat",[A4]:"fire-fn",[P4]:"fire-fn-compat",[k4]:"fire-iid",[R4]:"fire-iid-compat",[N4]:"fire-fcm",[D4]:"fire-fcm-compat",[O4]:"fire-perf",[L4]:"fire-perf-compat",[j4]:"fire-rc",[M4]:"fire-rc-compat",[V4]:"fire-gcs",[F4]:"fire-gcs-compat",[$4]:"fire-fst",[U4]:"fire-fst-compat","fire-js":"fire-js",[B4]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nd=new Map,wg=new Map;function q4(t,e){try{t.container.addComponent(e)}catch(n){js.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function br(t){const e=t.name;if(wg.has(e))return js.debug(`There were multiple attempts to register component ${e}.`),!1;wg.set(e,t);for(const n of Nd.values())q4(n,t);return!0}function Gs(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W4={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},$i=new Ks("app","Firebase",W4);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K4{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new nr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw $i.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const da=z4;function VI(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:vg,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw $i.create("bad-app-name",{appName:String(i)});if(n||(n=RI()),!n)throw $i.create("no-options");const s=Nd.get(i);if(s){if(zl(n,s.options)&&zl(r,s.config))return s;throw $i.create("duplicate-app",{appName:i})}const o=new t4(i);for(const l of wg.values())o.addComponent(l);const a=new K4(n,r,o);return Nd.set(i,a),a}function mv(t=vg){const e=Nd.get(t);if(!e&&t===vg&&RI())return VI();if(!e)throw $i.create("no-app",{appName:t});return e}function Ln(t,e,n){var r;let i=(r=H4[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),js.warn(a.join(" "));return}br(new nr(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G4="firebase-heartbeat-database",Q4=1,Hl="firebase-heartbeat-store";let Dp=null;function FI(){return Dp||(Dp=p4(G4,Q4,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Hl)}}}).catch(t=>{throw $i.create("idb-open",{originalErrorMessage:t.message})})),Dp}async function Y4(t){try{return await(await FI()).transaction(Hl).objectStore(Hl).get($I(t))}catch(e){if(e instanceof sr)js.warn(e.message);else{const n=$i.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});js.warn(n.message)}}}async function k1(t,e){try{const r=(await FI()).transaction(Hl,"readwrite");await r.objectStore(Hl).put(e,$I(t)),await r.done}catch(n){if(n instanceof sr)js.warn(n.message);else{const r=$i.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});js.warn(r.message)}}}function $I(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J4=1024,X4=30*24*60*60*1e3;class Z4{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new tL(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=R1();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=X4}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=R1(),{heartbeatsToSend:r,unsentEntries:i}=eL(this._heartbeatsCache.heartbeats),s=Rd(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function R1(){return new Date().toISOString().substring(0,10)}function eL(t,e=J4){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),N1(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),N1(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class tL{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return OI()?LI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Y4(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return k1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return k1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function N1(t){return Rd(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nL(t){br(new nr("platform-logger",e=>new y4(e),"PRIVATE")),br(new nr("heartbeat",e=>new Z4(e),"PRIVATE")),Ln(yg,P1,t),Ln(yg,P1,"esm2017"),Ln("fire-js","")}nL("");var rL=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},H,gv=gv||{},oe=rL||self;function Vf(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function gu(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function iL(t){return Object.prototype.hasOwnProperty.call(t,Op)&&t[Op]||(t[Op]=++sL)}var Op="closure_uid_"+(1e9*Math.random()>>>0),sL=0;function oL(t,e,n){return t.call.apply(t.bind,arguments)}function aL(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Ut(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Ut=oL:Ut=aL,Ut.apply(null,arguments)}function vc(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function wt(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function rs(){this.s=this.s,this.o=this.o}var lL=0;rs.prototype.s=!1;rs.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),lL!=0)&&iL(this)};rs.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const UI=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function yv(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function D1(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Vf(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function Bt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Bt.prototype.h=function(){this.defaultPrevented=!0};var uL=function(){if(!oe.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const n=()=>{};oe.addEventListener("test",n,e),oe.removeEventListener("test",n,e)}catch{}return t}();function ql(t){return/^[\s\xa0]*$/.test(t)}function Ff(){var t=oe.navigator;return t&&(t=t.userAgent)?t:""}function fr(t){return Ff().indexOf(t)!=-1}function vv(t){return vv[" "](t),t}vv[" "]=function(){};function cL(t,e){var n=nj;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var dL=fr("Opera"),Yo=fr("Trident")||fr("MSIE"),BI=fr("Edge"),_g=BI||Yo,zI=fr("Gecko")&&!(Ff().toLowerCase().indexOf("webkit")!=-1&&!fr("Edge"))&&!(fr("Trident")||fr("MSIE"))&&!fr("Edge"),fL=Ff().toLowerCase().indexOf("webkit")!=-1&&!fr("Edge");function HI(){var t=oe.document;return t?t.documentMode:void 0}var Eg;e:{var Lp="",jp=function(){var t=Ff();if(zI)return/rv:([^\);]+)(\)|;)/.exec(t);if(BI)return/Edge\/([\d\.]+)/.exec(t);if(Yo)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(fL)return/WebKit\/(\S+)/.exec(t);if(dL)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(jp&&(Lp=jp?jp[1]:""),Yo){var Mp=HI();if(Mp!=null&&Mp>parseFloat(Lp)){Eg=String(Mp);break e}}Eg=Lp}var xg;if(oe.document&&Yo){var O1=HI();xg=O1||parseInt(Eg,10)||void 0}else xg=void 0;var hL=xg;function Wl(t,e){if(Bt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(zI){e:{try{vv(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:pL[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Wl.$.h.call(this)}}wt(Wl,Bt);var pL={2:"touch",3:"pen",4:"mouse"};Wl.prototype.h=function(){Wl.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var yu="closure_listenable_"+(1e6*Math.random()|0),mL=0;function gL(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++mL,this.fa=this.ia=!1}function $f(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function wv(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function yL(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function qI(t){const e={};for(const n in t)e[n]=t[n];return e}const L1="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function WI(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<L1.length;s++)n=L1[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Uf(t){this.src=t,this.g={},this.h=0}Uf.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=Ig(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new gL(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function Tg(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=UI(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&($f(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Ig(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var _v="closure_lm_"+(1e6*Math.random()|0),Vp={};function KI(t,e,n,r,i){if(r&&r.once)return QI(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)KI(t,e[s],n,r,i);return null}return n=Tv(n),t&&t[yu]?t.O(e,n,gu(r)?!!r.capture:!!r,i):GI(t,e,n,!1,r,i)}function GI(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=gu(i)?!!i.capture:!!i,a=xv(t);if(a||(t[_v]=a=new Uf(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=vL(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)uL||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(JI(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function vL(){function t(n){return e.call(t.src,t.listener,n)}const e=wL;return t}function QI(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)QI(t,e[s],n,r,i);return null}return n=Tv(n),t&&t[yu]?t.P(e,n,gu(r)?!!r.capture:!!r,i):GI(t,e,n,!0,r,i)}function YI(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)YI(t,e[s],n,r,i);else r=gu(r)?!!r.capture:!!r,n=Tv(n),t&&t[yu]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=Ig(s,n,r,i),-1<n&&($f(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=xv(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Ig(e,n,r,i)),(n=-1<t?e[t]:null)&&Ev(n))}function Ev(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[yu])Tg(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(JI(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=xv(e))?(Tg(n,t),n.h==0&&(n.src=null,e[_v]=null)):$f(t)}}}function JI(t){return t in Vp?Vp[t]:Vp[t]="on"+t}function wL(t,e){if(t.fa)t=!0;else{e=new Wl(e,this);var n=t.listener,r=t.la||t.src;t.ia&&Ev(t),t=n.call(r,e)}return t}function xv(t){return t=t[_v],t instanceof Uf?t:null}var Fp="__closure_events_fn_"+(1e9*Math.random()>>>0);function Tv(t){return typeof t=="function"?t:(t[Fp]||(t[Fp]=function(e){return t.handleEvent(e)}),t[Fp])}function vt(){rs.call(this),this.i=new Uf(this),this.S=this,this.J=null}wt(vt,rs);vt.prototype[yu]=!0;vt.prototype.removeEventListener=function(t,e,n,r){YI(this,t,e,n,r)};function Pt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new Bt(e,t);else if(e instanceof Bt)e.target=e.target||t;else{var i=e;e=new Bt(r,t),WI(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=wc(o,r,!0,e)&&i}if(o=e.g=t,i=wc(o,r,!0,e)&&i,i=wc(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=wc(o,r,!1,e)&&i}vt.prototype.N=function(){if(vt.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)$f(n[r]);delete t.g[e],t.h--}}this.J=null};vt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};vt.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function wc(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&Tg(t.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var Iv=oe.JSON.stringify;class _L{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function EL(){var t=bv;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class xL{constructor(){this.h=this.g=null}add(e,n){const r=XI.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var XI=new _L(()=>new TL,t=>t.reset());class TL{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function IL(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function bL(t){oe.setTimeout(()=>{throw t},0)}let Kl,Gl=!1,bv=new xL,ZI=()=>{const t=oe.Promise.resolve(void 0);Kl=()=>{t.then(SL)}};var SL=()=>{for(var t;t=EL();){try{t.h.call(t.g)}catch(n){bL(n)}var e=XI;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Gl=!1};function Bf(t,e){vt.call(this),this.h=t||1,this.g=e||oe,this.j=Ut(this.qb,this),this.l=Date.now()}wt(Bf,vt);H=Bf.prototype;H.ga=!1;H.T=null;H.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Pt(this,"tick"),this.ga&&(Sv(this),this.start()))}};H.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Sv(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}H.N=function(){Bf.$.N.call(this),Sv(this),delete this.g};function Cv(t,e,n){if(typeof t=="function")n&&(t=Ut(t,n));else if(t&&typeof t.handleEvent=="function")t=Ut(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:oe.setTimeout(t,e||0)}function eb(t){t.g=Cv(()=>{t.g=null,t.i&&(t.i=!1,eb(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class CL extends rs{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:eb(this)}N(){super.N(),this.g&&(oe.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ql(t){rs.call(this),this.h=t,this.g={}}wt(Ql,rs);var j1=[];function tb(t,e,n,r){Array.isArray(n)||(n&&(j1[0]=n.toString()),n=j1);for(var i=0;i<n.length;i++){var s=KI(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function nb(t){wv(t.g,function(e,n){this.g.hasOwnProperty(n)&&Ev(e)},t),t.g={}}Ql.prototype.N=function(){Ql.$.N.call(this),nb(this)};Ql.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function zf(){this.g=!0}zf.prototype.Ea=function(){this.g=!1};function AL(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var d=u[0];u=u[1];var h=d.split("_");o=2<=h.length&&h[1]=="type"?o+(d+"="+u+"&"):o+(d+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function PL(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function Po(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+RL(t,n)+(r?" "+r:"")})}function kL(t,e){t.info(function(){return"TIMEOUT: "+e})}zf.prototype.info=function(){};function RL(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return Iv(n)}catch{return e}}var Qs={},M1=null;function Hf(){return M1=M1||new vt}Qs.Ta="serverreachability";function rb(t){Bt.call(this,Qs.Ta,t)}wt(rb,Bt);function Yl(t){const e=Hf();Pt(e,new rb(e))}Qs.STAT_EVENT="statevent";function ib(t,e){Bt.call(this,Qs.STAT_EVENT,t),this.stat=e}wt(ib,Bt);function Yt(t){const e=Hf();Pt(e,new ib(e,t))}Qs.Ua="timingevent";function sb(t,e){Bt.call(this,Qs.Ua,t),this.size=e}wt(sb,Bt);function vu(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return oe.setTimeout(function(){t()},e)}var qf={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},ob={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Av(){}Av.prototype.h=null;function V1(t){return t.h||(t.h=t.i())}function ab(){}var wu={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Pv(){Bt.call(this,"d")}wt(Pv,Bt);function kv(){Bt.call(this,"c")}wt(kv,Bt);var bg;function Wf(){}wt(Wf,Av);Wf.prototype.g=function(){return new XMLHttpRequest};Wf.prototype.i=function(){return{}};bg=new Wf;function _u(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Ql(this),this.P=NL,t=_g?125:void 0,this.V=new Bf(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new lb}function lb(){this.i=null,this.g="",this.h=!1}var NL=45e3,ub={},Sg={};H=_u.prototype;H.setTimeout=function(t){this.P=t};function Cg(t,e,n){t.L=1,t.A=Gf(Yr(e)),t.u=n,t.S=!0,cb(t,null)}function cb(t,e){t.G=Date.now(),Eu(t),t.B=Yr(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),vb(n.i,"t",r),t.o=0,n=t.l.J,t.h=new lb,t.g=Fb(t.l,n?e:null,!t.u),0<t.O&&(t.M=new CL(Ut(t.Pa,t,t.g),t.O)),tb(t.U,t.g,"readystatechange",t.nb),e=t.I?qI(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),Yl(),AL(t.j,t.v,t.B,t.m,t.W,t.u)}H.nb=function(t){t=t.target;const e=this.M;e&&pr(t)==3?e.l():this.Pa(t)};H.Pa=function(t){try{if(t==this.g)e:{const d=pr(this.g);var e=this.g.Ia();const h=this.g.da();if(!(3>d)&&(d!=3||_g||this.g&&(this.h.h||this.g.ja()||B1(this.g)))){this.J||d!=4||e==7||(e==8||0>=h?Yl(3):Yl(2)),Kf(this);var n=this.g.da();this.ca=n;t:if(db(this)){var r=B1(this.g);t="";var i=r.length,s=pr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ws(this),hl(this);var o="";break t}this.h.i=new oe.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.length=0,this.h.g+=t,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,PL(this.j,this.v,this.B,this.m,this.W,d,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ql(a)){var u=a;break t}}u=null}if(n=u)Po(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ag(this,n);else{this.i=!1,this.s=3,Yt(12),ws(this),hl(this);break e}}this.S?(fb(this,d,o),_g&&this.i&&d==3&&(tb(this.U,this.V,"tick",this.mb),this.V.start())):(Po(this.j,this.m,o,null),Ag(this,o)),d==4&&ws(this),this.i&&!this.J&&(d==4?Lb(this.l,this):(this.i=!1,Eu(this)))}else ZL(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.s=3,Yt(12)):(this.s=0,Yt(13)),ws(this),hl(this)}}}catch{}finally{}};function db(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function fb(t,e,n){let r=!0,i;for(;!t.J&&t.o<n.length;)if(i=DL(t,n),i==Sg){e==4&&(t.s=4,Yt(14),r=!1),Po(t.j,t.m,null,"[Incomplete Response]");break}else if(i==ub){t.s=4,Yt(15),Po(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Po(t.j,t.m,i,null),Ag(t,i);db(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,Yt(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),jv(e),e.M=!0,Yt(11))):(Po(t.j,t.m,n,"[Invalid Chunked Response]"),ws(t),hl(t))}H.mb=function(){if(this.g){var t=pr(this.g),e=this.g.ja();this.o<e.length&&(Kf(this),fb(this,t,e),this.i&&t!=4&&Eu(this))}};function DL(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?Sg:(n=Number(e.substring(n,r)),isNaN(n)?ub:(r+=1,r+n>e.length?Sg:(e=e.slice(r,r+n),t.o=r+n,e)))}H.cancel=function(){this.J=!0,ws(this)};function Eu(t){t.Y=Date.now()+t.P,hb(t,t.P)}function hb(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=vu(Ut(t.lb,t),e)}function Kf(t){t.C&&(oe.clearTimeout(t.C),t.C=null)}H.lb=function(){this.C=null;const t=Date.now();0<=t-this.Y?(kL(this.j,this.B),this.L!=2&&(Yl(),Yt(17)),ws(this),this.s=2,hl(this)):hb(this,this.Y-t)};function hl(t){t.l.H==0||t.J||Lb(t.l,t)}function ws(t){Kf(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,Sv(t.V),nb(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Ag(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Pg(n.i,t))){if(!t.K&&Pg(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Ld(n),Xf(n);else break e;Lv(n),Yt(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=vu(Ut(n.ib,n),6e3));if(1>=Eb(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else _s(n,11)}else if((t.K||n.g==t)&&Ld(n),!ql(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];const d=u[3];d!=null&&(n.ra=d,n.l.info("VER="+n.ra));const h=u[4];h!=null&&(n.Ga=h,n.l.info("SVER="+n.Ga));const m=u[5];m!=null&&typeof m=="number"&&0<m&&(r=1.5*m,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const w=t.g;if(w){const E=w.g?w.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(E){var s=r.i;s.g||E.indexOf("spdy")==-1&&E.indexOf("quic")==-1&&E.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(Rv(s,s.h),s.h=null))}if(r.F){const x=w.g?w.g.getResponseHeader("X-HTTP-Session-Id"):null;x&&(r.Da=x,Oe(r.I,r.F,x))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=Vb(r,r.J?r.pa:null,r.Y),o.K){xb(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.C&&(Kf(a),Eu(a)),r.g=o}else Db(r);0<n.j.length&&Zf(n)}else u[0]!="stop"&&u[0]!="close"||_s(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?_s(n,7):Ov(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}Yl(4)}catch{}}function OL(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Vf(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function LL(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Vf(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function pb(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Vf(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=LL(t),r=OL(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var mb=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function jL(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Cs(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Cs){this.h=t.h,Dd(this,t.j),this.s=t.s,this.g=t.g,Od(this,t.m),this.l=t.l;var e=t.i,n=new Jl;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),F1(this,n),this.o=t.o}else t&&(e=String(t).match(mb))?(this.h=!1,Dd(this,e[1]||"",!0),this.s=Za(e[2]||""),this.g=Za(e[3]||"",!0),Od(this,e[4]),this.l=Za(e[5]||"",!0),F1(this,e[6]||"",!0),this.o=Za(e[7]||"")):(this.h=!1,this.i=new Jl(null,this.h))}Cs.prototype.toString=function(){var t=[],e=this.j;e&&t.push(el(e,$1,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(el(e,$1,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(el(n,n.charAt(0)=="/"?FL:VL,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",el(n,UL)),t.join("")};function Yr(t){return new Cs(t)}function Dd(t,e,n){t.j=n?Za(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Od(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function F1(t,e,n){e instanceof Jl?(t.i=e,BL(t.i,t.h)):(n||(e=el(e,$L)),t.i=new Jl(e,t.h))}function Oe(t,e,n){t.i.set(e,n)}function Gf(t){return Oe(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Za(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function el(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,ML),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function ML(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var $1=/[#\/\?@]/g,VL=/[#\?:]/g,FL=/[#\?]/g,$L=/[#\?@]/g,UL=/#/g;function Jl(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function is(t){t.g||(t.g=new Map,t.h=0,t.i&&jL(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}H=Jl.prototype;H.add=function(t,e){is(this),this.i=null,t=fa(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function gb(t,e){is(t),e=fa(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function yb(t,e){return is(t),e=fa(t,e),t.g.has(e)}H.forEach=function(t,e){is(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};H.ta=function(){is(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};H.Z=function(t){is(this);let e=[];if(typeof t=="string")yb(this,t)&&(e=e.concat(this.g.get(fa(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};H.set=function(t,e){return is(this),this.i=null,t=fa(this,t),yb(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};H.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function vb(t,e,n){gb(t,e),0<n.length&&(t.i=null,t.g.set(fa(t,e),yv(n)),t.h+=n.length)}H.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function fa(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function BL(t,e){e&&!t.j&&(is(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(gb(this,r),vb(this,i,n))},t)),t.j=e}var zL=class{constructor(t,e){this.g=t,this.map=e}};function wb(t){this.l=t||HL,oe.PerformanceNavigationTiming?(t=oe.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(oe.g&&oe.g.Ka&&oe.g.Ka()&&oe.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var HL=10;function _b(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function Eb(t){return t.h?1:t.g?t.g.size:0}function Pg(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Rv(t,e){t.g?t.g.add(e):t.h=e}function xb(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}wb.prototype.cancel=function(){if(this.i=Tb(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function Tb(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return yv(t.i)}var qL=class{stringify(t){return oe.JSON.stringify(t,void 0)}parse(t){return oe.JSON.parse(t,void 0)}};function WL(){this.g=new qL}function KL(t,e,n){const r=n||"";try{pb(t,function(i,s){let o=i;gu(i)&&(o=Iv(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function GL(t,e){const n=new zf;if(oe.Image){const r=new Image;r.onload=vc(_c,n,r,"TestLoadImage: loaded",!0,e),r.onerror=vc(_c,n,r,"TestLoadImage: error",!1,e),r.onabort=vc(_c,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=vc(_c,n,r,"TestLoadImage: timeout",!1,e),oe.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function _c(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Qf(t){this.l=t.ec||null,this.j=t.ob||!1}wt(Qf,Av);Qf.prototype.g=function(){return new Yf(this.l,this.j)};Qf.prototype.i=function(t){return function(){return t}}({});function Yf(t,e){vt.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Nv,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}wt(Yf,vt);var Nv=0;H=Yf.prototype;H.open=function(t,e){if(this.readyState!=Nv)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Xl(this)};H.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||oe).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};H.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,xu(this)),this.readyState=Nv};H.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Xl(this)),this.g&&(this.readyState=3,Xl(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof oe.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Ib(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function Ib(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}H.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?xu(this):Xl(this),this.readyState==3&&Ib(this)}};H.Za=function(t){this.g&&(this.response=this.responseText=t,xu(this))};H.Ya=function(t){this.g&&(this.response=t,xu(this))};H.ka=function(){this.g&&xu(this)};function xu(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Xl(t)}H.setRequestHeader=function(t,e){this.v.append(t,e)};H.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};H.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Xl(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Yf.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var QL=oe.JSON.parse;function Ye(t){vt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=bb,this.L=this.M=!1}wt(Ye,vt);var bb="",YL=/^https?$/i,JL=["POST","PUT"];H=Ye.prototype;H.Oa=function(t){this.M=t};H.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():bg.g(),this.C=this.u?V1(this.u):V1(bg),this.g.onreadystatechange=Ut(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){U1(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=oe.FormData&&t instanceof oe.FormData,!(0<=UI(JL,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Ab(this),0<this.B&&((this.L=XL(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ut(this.ua,this)):this.A=Cv(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){U1(this,s)}};function XL(t){return Yo&&typeof t.timeout=="number"&&t.ontimeout!==void 0}H.ua=function(){typeof gv<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Pt(this,"timeout"),this.abort(8))};function U1(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,Sb(t),Jf(t)}function Sb(t){t.F||(t.F=!0,Pt(t,"complete"),Pt(t,"error"))}H.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Pt(this,"complete"),Pt(this,"abort"),Jf(this))};H.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Jf(this,!0)),Ye.$.N.call(this)};H.La=function(){this.s||(this.G||this.v||this.l?Cb(this):this.kb())};H.kb=function(){Cb(this)};function Cb(t){if(t.h&&typeof gv<"u"&&(!t.C[1]||pr(t)!=4||t.da()!=2)){if(t.v&&pr(t)==4)Cv(t.La,0,t);else if(Pt(t,"readystatechange"),pr(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(mb)[1]||null;!i&&oe.self&&oe.self.location&&(i=oe.self.location.protocol.slice(0,-1)),r=!YL.test(i?i.toLowerCase():"")}n=r}if(n)Pt(t,"complete"),Pt(t,"success");else{t.m=6;try{var s=2<pr(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",Sb(t)}}finally{Jf(t)}}}}function Jf(t,e){if(t.g){Ab(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Pt(t,"ready");try{n.onreadystatechange=r}catch{}}}function Ab(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(oe.clearTimeout(t.A),t.A=null)}H.isActive=function(){return!!this.g};function pr(t){return t.g?t.g.readyState:0}H.da=function(){try{return 2<pr(this)?this.g.status:-1}catch{return-1}};H.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};H.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),QL(e)}};function B1(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case bb:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function ZL(t){const e={};t=(t.g&&2<=pr(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(ql(t[r]))continue;var n=IL(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}yL(e,function(r){return r.join(", ")})}H.Ia=function(){return this.m};H.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function Pb(t){let e="";return wv(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function Dv(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Pb(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Oe(t,e,n))}function $a(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function kb(t){this.Ga=0,this.j=[],this.l=new zf,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=$a("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=$a("baseRetryDelayMs",5e3,t),this.hb=$a("retryDelaySeedMs",1e4,t),this.eb=$a("forwardChannelMaxRetries",2,t),this.xa=$a("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new wb(t&&t.concurrentRequestLimit),this.Ja=new WL,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}H=kb.prototype;H.ra=8;H.H=1;function Ov(t){if(Rb(t),t.H==3){var e=t.W++,n=Yr(t.I);if(Oe(n,"SID",t.K),Oe(n,"RID",e),Oe(n,"TYPE","terminate"),Tu(t,n),e=new _u(t,t.l,e),e.L=2,e.A=Gf(Yr(n)),n=!1,oe.navigator&&oe.navigator.sendBeacon)try{n=oe.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&oe.Image&&(new Image().src=e.A,n=!0),n||(e.g=Fb(e.l,null),e.g.ha(e.A)),e.G=Date.now(),Eu(e)}Mb(t)}function Xf(t){t.g&&(jv(t),t.g.cancel(),t.g=null)}function Rb(t){Xf(t),t.u&&(oe.clearTimeout(t.u),t.u=null),Ld(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&oe.clearTimeout(t.m),t.m=null)}function Zf(t){if(!_b(t.i)&&!t.m){t.m=!0;var e=t.Na;Kl||ZI(),Gl||(Kl(),Gl=!0),bv.add(e,t),t.C=0}}function ej(t,e){return Eb(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=vu(Ut(t.Na,t,e),jb(t,t.C)),t.C++,!0)}H.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new _u(this,this.l,t);let s=this.s;if(this.U&&(s?(s=qI(s),WI(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=Nb(this,i,e),n=Yr(this.I),Oe(n,"RID",t),Oe(n,"CVER",22),this.F&&Oe(n,"X-HTTP-Session-Id",this.F),Tu(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(Pb(s)))+"&"+e:this.o&&Dv(n,this.o,s)),Rv(this.i,i),this.bb&&Oe(n,"TYPE","init"),this.P?(Oe(n,"$req",e),Oe(n,"SID","null"),i.aa=!0,Cg(i,n,null)):Cg(i,n,e),this.H=2}}else this.H==3&&(t?z1(this,t):this.j.length==0||_b(this.i)||z1(this))};function z1(t,e){var n;e?n=e.m:n=t.W++;const r=Yr(t.I);Oe(r,"SID",t.K),Oe(r,"RID",n),Oe(r,"AID",t.V),Tu(t,r),t.o&&t.s&&Dv(r,t.o,t.s),n=new _u(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=Nb(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Rv(t.i,n),Cg(n,r,e)}function Tu(t,e){t.na&&wv(t.na,function(n,r){Oe(e,r,n)}),t.h&&pb({},function(n,r){Oe(e,r,n)})}function Nb(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Ut(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let u=i[l].g;const d=i[l].map;if(u-=s,0>u)s=Math.max(0,i[l].g-100),a=!1;else try{KL(d,o,"req"+u+"_")}catch{r&&r(d)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function Db(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Kl||ZI(),Gl||(Kl(),Gl=!0),bv.add(e,t),t.A=0}}function Lv(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=vu(Ut(t.Ma,t),jb(t,t.A)),t.A++,!0)}H.Ma=function(){if(this.u=null,Ob(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=vu(Ut(this.jb,this),t)}};H.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Yt(10),Xf(this),Ob(this))};function jv(t){t.B!=null&&(oe.clearTimeout(t.B),t.B=null)}function Ob(t){t.g=new _u(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Yr(t.wa);Oe(e,"RID","rpc"),Oe(e,"SID",t.K),Oe(e,"AID",t.V),Oe(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Oe(e,"TO",t.qa),Oe(e,"TYPE","xmlhttp"),Tu(t,e),t.o&&t.s&&Dv(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=Gf(Yr(e)),n.u=null,n.S=!0,cb(n,t)}H.ib=function(){this.v!=null&&(this.v=null,Xf(this),Lv(this),Yt(19))};function Ld(t){t.v!=null&&(oe.clearTimeout(t.v),t.v=null)}function Lb(t,e){var n=null;if(t.g==e){Ld(t),jv(t),t.g=null;var r=2}else if(Pg(t.i,e))n=e.F,xb(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;r=Hf(),Pt(r,new sb(r,n)),Zf(t)}else Db(t);else if(i=e.s,i==3||i==0&&0<e.ca||!(r==1&&ej(t,e)||r==2&&Lv(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:_s(t,5);break;case 4:_s(t,10);break;case 3:_s(t,6);break;default:_s(t,2)}}}function jb(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function _s(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=Ut(t.pb,t);n||(n=new Cs("//www.google.com/images/cleardot.gif"),oe.location&&oe.location.protocol=="http"||Dd(n,"https"),Gf(n)),GL(n.toString(),r)}else Yt(2);t.H=0,t.h&&t.h.za(e),Mb(t),Rb(t)}H.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Yt(2)):(this.l.info("Failed to ping google.com"),Yt(1))};function Mb(t){if(t.H=0,t.ma=[],t.h){const e=Tb(t.i);(e.length!=0||t.j.length!=0)&&(D1(t.ma,e),D1(t.ma,t.j),t.i.i.length=0,yv(t.j),t.j.length=0),t.h.ya()}}function Vb(t,e,n){var r=n instanceof Cs?Yr(n):new Cs(n);if(r.g!="")e&&(r.g=e+"."+r.g),Od(r,r.m);else{var i=oe.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Cs(null);r&&Dd(s,r),e&&(s.g=e),i&&Od(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&Oe(r,n,e),Oe(r,"VER",t.ra),Tu(t,r),r}function Fb(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new Ye(new Qf({ob:n})):new Ye(t.va),e.Oa(t.J),e}H.isActive=function(){return!!this.h&&this.h.isActive(this)};function $b(){}H=$b.prototype;H.Ba=function(){};H.Aa=function(){};H.za=function(){};H.ya=function(){};H.isActive=function(){return!0};H.Va=function(){};function jd(){if(Yo&&!(10<=Number(hL)))throw Error("Environmental error: no available transport.")}jd.prototype.g=function(t,e){return new xn(t,e)};function xn(t,e){vt.call(this),this.g=new kb(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!ql(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!ql(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new ha(this)}wt(xn,vt);xn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Yt(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=Vb(t,null,t.Y),Zf(t)};xn.prototype.close=function(){Ov(this.g)};xn.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Iv(t),t=n);e.j.push(new zL(e.fb++,t)),e.H==3&&Zf(e)};xn.prototype.N=function(){this.g.h=null,delete this.j,Ov(this.g),delete this.g,xn.$.N.call(this)};function Ub(t){Pv.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}wt(Ub,Pv);function Bb(){kv.call(this),this.status=1}wt(Bb,kv);function ha(t){this.g=t}wt(ha,$b);ha.prototype.Ba=function(){Pt(this.g,"a")};ha.prototype.Aa=function(t){Pt(this.g,new Ub(t))};ha.prototype.za=function(t){Pt(this.g,new Bb)};ha.prototype.ya=function(){Pt(this.g,"b")};function tj(){this.blockSize=-1}function rr(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}wt(rr,tj);rr.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function $p(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}rr.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)$p(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){$p(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){$p(this,r),i=0;break}}this.h=i,this.i+=e};rr.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function Ae(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var nj={};function Mv(t){return-128<=t&&128>t?cL(t,function(e){return new Ae([e|0],0>e?-1:0)}):new Ae([t|0],0>t?-1:0)}function mr(t){if(isNaN(t)||!isFinite(t))return Mo;if(0>t)return St(mr(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=kg;return new Ae(e,0)}function zb(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return St(zb(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=mr(Math.pow(e,8)),r=Mo,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=mr(Math.pow(e,s)),r=r.R(s).add(mr(o))):(r=r.R(n),r=r.add(mr(o)))}return r}var kg=4294967296,Mo=Mv(0),Rg=Mv(1),H1=Mv(16777216);H=Ae.prototype;H.ea=function(){if(Nn(this))return-St(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:kg+r)*e,e*=kg}return t};H.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Fr(this))return"0";if(Nn(this))return"-"+St(this).toString(t);for(var e=mr(Math.pow(t,6)),n=this,r="";;){var i=Vd(n,e).g;n=Md(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,Fr(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};H.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Fr(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Nn(t){return t.h==-1}H.X=function(t){return t=Md(this,t),Nn(t)?-1:Fr(t)?0:1};function St(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Ae(n,~t.h).add(Rg)}H.abs=function(){return Nn(this)?St(this):this};H.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new Ae(n,n[n.length-1]&-2147483648?-1:0)};function Md(t,e){return t.add(St(e))}H.R=function(t){if(Fr(this)||Fr(t))return Mo;if(Nn(this))return Nn(t)?St(this).R(St(t)):St(St(this).R(t));if(Nn(t))return St(this.R(St(t)));if(0>this.X(H1)&&0>t.X(H1))return mr(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(i)>>>16,l=t.D(i)&65535;n[2*r+2*i]+=o*l,Ec(n,2*r+2*i),n[2*r+2*i+1]+=s*l,Ec(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,Ec(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,Ec(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Ae(n,0)};function Ec(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Ua(t,e){this.g=t,this.h=e}function Vd(t,e){if(Fr(e))throw Error("division by zero");if(Fr(t))return new Ua(Mo,Mo);if(Nn(t))return e=Vd(St(t),e),new Ua(St(e.g),St(e.h));if(Nn(e))return e=Vd(t,St(e)),new Ua(St(e.g),e.h);if(30<t.g.length){if(Nn(t)||Nn(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Rg,r=e;0>=r.X(t);)n=q1(n),r=q1(r);var i=fo(n,1),s=fo(r,1);for(r=fo(r,2),n=fo(n,2);!Fr(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=fo(r,1),n=fo(n,1)}return e=Md(t,i.R(e)),new Ua(i,e)}for(i=Mo;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=mr(n),o=s.R(e);Nn(o)||0<o.X(t);)n-=r,s=mr(n),o=s.R(e);Fr(s)&&(s=Rg),i=i.add(s),t=Md(t,o)}return new Ua(i,t)}H.gb=function(t){return Vd(this,t).h};H.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Ae(n,this.h&t.h)};H.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Ae(n,this.h|t.h)};H.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Ae(n,this.h^t.h)};function q1(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Ae(n,t.h)}function fo(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new Ae(i,t.h)}jd.prototype.createWebChannel=jd.prototype.g;xn.prototype.send=xn.prototype.u;xn.prototype.open=xn.prototype.m;xn.prototype.close=xn.prototype.close;qf.NO_ERROR=0;qf.TIMEOUT=8;qf.HTTP_ERROR=6;ob.COMPLETE="complete";ab.EventType=wu;wu.OPEN="a";wu.CLOSE="b";wu.ERROR="c";wu.MESSAGE="d";vt.prototype.listen=vt.prototype.O;Ye.prototype.listenOnce=Ye.prototype.P;Ye.prototype.getLastError=Ye.prototype.Sa;Ye.prototype.getLastErrorCode=Ye.prototype.Ia;Ye.prototype.getStatus=Ye.prototype.da;Ye.prototype.getResponseJson=Ye.prototype.Wa;Ye.prototype.getResponseText=Ye.prototype.ja;Ye.prototype.send=Ye.prototype.ha;Ye.prototype.setWithCredentials=Ye.prototype.Oa;rr.prototype.digest=rr.prototype.l;rr.prototype.reset=rr.prototype.reset;rr.prototype.update=rr.prototype.j;Ae.prototype.add=Ae.prototype.add;Ae.prototype.multiply=Ae.prototype.R;Ae.prototype.modulo=Ae.prototype.gb;Ae.prototype.compare=Ae.prototype.X;Ae.prototype.toNumber=Ae.prototype.ea;Ae.prototype.toString=Ae.prototype.toString;Ae.prototype.getBits=Ae.prototype.D;Ae.fromNumber=mr;Ae.fromString=zb;var rj=function(){return new jd},ij=function(){return Hf()},Up=qf,sj=ob,oj=Qs,W1={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},xc=ab,aj=Ye,lj=rr,Vo=Ae;const K1="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Vt.UNAUTHENTICATED=new Vt(null),Vt.GOOGLE_CREDENTIALS=new Vt("google-credentials-uid"),Vt.FIRST_PARTY=new Vt("first-party-uid"),Vt.MOCK_USER=new Vt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pa="10.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ms=new Mf("@firebase/firestore");function Ba(){return Ms.logLevel}function J(t,...e){if(Ms.logLevel<=ge.DEBUG){const n=e.map(Vv);Ms.debug(`Firestore (${pa}): ${t}`,...n)}}function Jr(t,...e){if(Ms.logLevel<=ge.ERROR){const n=e.map(Vv);Ms.error(`Firestore (${pa}): ${t}`,...n)}}function Jo(t,...e){if(Ms.logLevel<=ge.WARN){const n=e.map(Vv);Ms.warn(`Firestore (${pa}): ${t}`,...n)}}function Vv(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function se(t="Unexpected state"){const e=`FIRESTORE (${pa}) INTERNAL ASSERTION FAILED: `+t;throw Jr(e),new Error(e)}function Re(t,e){t||se()}function ue(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Y extends sr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hb{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class uj{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Vt.UNAUTHENTICATED))}shutdown(){}}class cj{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class dj{constructor(e){this.t=e,this.currentUser=Vt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new zr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new zr,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{J("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(J("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new zr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(J("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Re(typeof r.accessToken=="string"),new Hb(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Re(e===null||typeof e=="string"),new Vt(e)}}class fj{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Vt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class hj{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new fj(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Vt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class pj{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class mj{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&J("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,J("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{J("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):J("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Re(typeof n.token=="string"),this.R=n.token,new pj(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gj(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qb{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=gj(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Te(t,e){return t<e?-1:t>e?1:0}function Xo(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Y(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Y(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Y(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Y(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ct.fromMillis(Date.now())}static fromDate(e){return ct.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new ct(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Te(this.nanoseconds,e.nanoseconds):Te(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(e){this.timestamp=e}static fromTimestamp(e){return new le(e)}static min(){return new le(new ct(0,0))}static max(){return new le(new ct(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl{constructor(e,n,r){n===void 0?n=0:n>e.length&&se(),r===void 0?r=e.length-n:r>e.length-n&&se(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Zl.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Zl?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Le extends Zl{construct(e,n,r){return new Le(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Y(L.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Le(n)}static emptyPath(){return new Le([])}}const yj=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ct extends Zl{construct(e,n,r){return new Ct(e,n,r)}static isValidIdentifier(e){return yj.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ct.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Ct(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Y(L.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new Y(L.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Y(L.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new Y(L.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ct(n)}static emptyPath(){return new Ct([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.path=e}static fromPath(e){return new ne(Le.fromString(e))}static fromName(e){return new ne(Le.fromString(e).popFirst(5))}static empty(){return new ne(Le.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Le.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Le.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ne(new Le(e.slice()))}}function vj(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=le.fromTimestamp(r===1e9?new ct(n+1,0):new ct(n,r));return new Yi(i,ne.empty(),e)}function wj(t){return new Yi(t.readTime,t.key,-1)}class Yi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Yi(le.min(),ne.empty(),-1)}static max(){return new Yi(le.max(),ne.empty(),-1)}}function _j(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ne.comparator(t.documentKey,e.documentKey),n!==0?n:Te(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ej="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class xj{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Iu(t){if(t.code!==L.FAILED_PRECONDITION||t.message!==Ej)throw t;J("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&se(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new V((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof V?n:V.resolve(n)}catch(n){return V.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):V.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):V.reject(n)}static resolve(e){return new V((n,r)=>{n(e)})}static reject(e){return new V((n,r)=>{r(e)})}static waitFor(e){return new V((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=V.resolve(!1);for(const r of e)n=n.next(i=>i?V.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new V((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(d=>{o[u]=d,++a,a===s&&r(o)},d=>i(d))}})}static doWhile(e,n){return new V((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function bu(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fv{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.se(r),this.oe=r=>n.writeSequenceNumber(r))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}Fv._e=-1;function eh(t){return t==null}function Fd(t){return t===0&&1/t==-1/0}function Tj(t){return typeof t=="number"&&Number.isInteger(t)&&!Fd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G1(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ys(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Wb(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(e,n){this.comparator=e,this.root=n||bt.EMPTY}insert(e,n){return new qe(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,bt.BLACK,null,null))}remove(e){return new qe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,bt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Tc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Tc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Tc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Tc(this.root,e,this.comparator,!0)}}class Tc{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class bt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??bt.RED,this.left=i??bt.EMPTY,this.right=s??bt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new bt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return bt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return bt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,bt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,bt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw se();const e=this.left.check();if(e!==this.right.check())throw se();return e+(this.isRed()?0:1)}}bt.EMPTY=null,bt.RED=!0,bt.BLACK=!1;bt.EMPTY=new class{constructor(){this.size=0}get key(){throw se()}get value(){throw se()}get color(){throw se()}get left(){throw se()}get right(){throw se()}copy(e,n,r,i,s){return this}insert(e,n,r){return new bt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e){this.comparator=e,this.data=new qe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Q1(this.data.getIterator())}getIteratorFrom(e){return new Q1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof kt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new kt(this.comparator);return n.data=e,n}}class Q1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.fields=e,e.sort(Ct.comparator)}static empty(){return new mn([])}unionWith(e){let n=new kt(Ct.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new mn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Xo(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Kb("Invalid base64 string: "+s):s}}(e);return new Wt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Wt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Te(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Wt.EMPTY_BYTE_STRING=new Wt("");const Ij=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ji(t){if(Re(!!t),typeof t=="string"){let e=0;const n=Ij.exec(t);if(Re(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:rt(t.seconds),nanos:rt(t.nanos)}}function rt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Vs(t){return typeof t=="string"?Wt.fromBase64String(t):Wt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $v(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Uv(t){const e=t.mapValue.fields.__previous_value__;return $v(e)?Uv(e):e}function eu(t){const e=Ji(t.mapValue.fields.__local_write_time__.timestampValue);return new ct(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bj{constructor(e,n,r,i,s,o,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class tu{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new tu("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof tu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ic={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Fs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?$v(t)?4:Sj(t)?9007199254740991:10:se()}function Sr(t,e){if(t===e)return!0;const n=Fs(t);if(n!==Fs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return eu(t).isEqual(eu(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Ji(i.timestampValue),a=Ji(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Vs(i.bytesValue).isEqual(Vs(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return rt(i.geoPointValue.latitude)===rt(s.geoPointValue.latitude)&&rt(i.geoPointValue.longitude)===rt(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return rt(i.integerValue)===rt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=rt(i.doubleValue),a=rt(s.doubleValue);return o===a?Fd(o)===Fd(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Xo(t.arrayValue.values||[],e.arrayValue.values||[],Sr);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(G1(o)!==G1(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Sr(o[l],a[l])))return!1;return!0}(t,e);default:return se()}}function nu(t,e){return(t.values||[]).find(n=>Sr(n,e))!==void 0}function Zo(t,e){if(t===e)return 0;const n=Fs(t),r=Fs(e);if(n!==r)return Te(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Te(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=rt(s.integerValue||s.doubleValue),l=rt(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return Y1(t.timestampValue,e.timestampValue);case 4:return Y1(eu(t),eu(e));case 5:return Te(t.stringValue,e.stringValue);case 6:return function(s,o){const a=Vs(s),l=Vs(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const d=Te(a[u],l[u]);if(d!==0)return d}return Te(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=Te(rt(s.latitude),rt(o.latitude));return a!==0?a:Te(rt(s.longitude),rt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const a=s.values||[],l=o.values||[];for(let u=0;u<a.length&&u<l.length;++u){const d=Zo(a[u],l[u]);if(d)return d}return Te(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===Ic.mapValue&&o===Ic.mapValue)return 0;if(s===Ic.mapValue)return 1;if(o===Ic.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},d=Object.keys(u);l.sort(),d.sort();for(let h=0;h<l.length&&h<d.length;++h){const m=Te(l[h],d[h]);if(m!==0)return m;const w=Zo(a[l[h]],u[d[h]]);if(w!==0)return w}return Te(l.length,d.length)}(t.mapValue,e.mapValue);default:throw se()}}function Y1(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Te(t,e);const n=Ji(t),r=Ji(e),i=Te(n.seconds,r.seconds);return i!==0?i:Te(n.nanos,r.nanos)}function ea(t){return Ng(t)}function Ng(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Ji(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Vs(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ne.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Ng(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Ng(n.fields[o])}`;return i+"}"}(t.mapValue):se()}function J1(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Dg(t){return!!t&&"integerValue"in t}function Bv(t){return!!t&&"arrayValue"in t}function X1(t){return!!t&&"nullValue"in t}function Z1(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function zc(t){return!!t&&"mapValue"in t}function pl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ys(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=pl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=pl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Sj(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.value=e}static empty(){return new nn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!zc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=pl(n)}setAll(e){let n=Ct.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=pl(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());zc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Sr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];zc(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ys(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new nn(pl(this.value))}}function Gb(t){const e=[];return Ys(t.fields,(n,r)=>{const i=new Ct([n]);if(zc(r)){const s=Gb(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new mn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new $t(e,0,le.min(),le.min(),le.min(),nn.empty(),0)}static newFoundDocument(e,n,r,i){return new $t(e,1,n,le.min(),r,i,0)}static newNoDocument(e,n){return new $t(e,2,n,le.min(),le.min(),nn.empty(),0)}static newUnknownDocument(e,n){return new $t(e,3,n,le.min(),le.min(),nn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(le.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=nn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=le.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof $t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new $t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d{constructor(e,n){this.position=e,this.inclusive=n}}function eE(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=ne.comparator(ne.fromName(o.referenceValue),n.key):r=Zo(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function tE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Sr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ud{constructor(e,n="asc"){this.field=e,this.dir=n}}function Cj(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qb=class{};class st extends Qb{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Pj(e,n,r):n==="array-contains"?new Nj(e,r):n==="in"?new Dj(e,r):n==="not-in"?new Oj(e,r):n==="array-contains-any"?new Lj(e,r):new st(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new kj(e,r):new Rj(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Zo(n,this.value)):n!==null&&Fs(this.value)===Fs(n)&&this.matchesComparison(Zo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return se()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ir extends Qb{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new ir(e,n)}matches(e){return Yb(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function Yb(t){return t.op==="and"}function Jb(t){return Aj(t)&&Yb(t)}function Aj(t){for(const e of t.filters)if(e instanceof ir)return!1;return!0}function Og(t){if(t instanceof st)return t.field.canonicalString()+t.op.toString()+ea(t.value);if(Jb(t))return t.filters.map(e=>Og(e)).join(",");{const e=t.filters.map(n=>Og(n)).join(",");return`${t.op}(${e})`}}function Xb(t,e){return t instanceof st?function(r,i){return i instanceof st&&r.op===i.op&&r.field.isEqual(i.field)&&Sr(r.value,i.value)}(t,e):t instanceof ir?function(r,i){return i instanceof ir&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&Xb(o,i.filters[a]),!0):!1}(t,e):void se()}function Zb(t){return t instanceof st?function(n){return`${n.field.canonicalString()} ${n.op} ${ea(n.value)}`}(t):t instanceof ir?function(n){return n.op.toString()+" {"+n.getFilters().map(Zb).join(" ,")+"}"}(t):"Filter"}class Pj extends st{constructor(e,n,r){super(e,n,r),this.key=ne.fromName(r.referenceValue)}matches(e){const n=ne.comparator(e.key,this.key);return this.matchesComparison(n)}}class kj extends st{constructor(e,n){super(e,"in",n),this.keys=eS("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Rj extends st{constructor(e,n){super(e,"not-in",n),this.keys=eS("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function eS(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ne.fromName(r.referenceValue))}class Nj extends st{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Bv(n)&&nu(n.arrayValue,this.value)}}class Dj extends st{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&nu(this.value.arrayValue,n)}}class Oj extends st{constructor(e,n){super(e,"not-in",n)}matches(e){if(nu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!nu(this.value.arrayValue,n)}}class Lj extends st{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Bv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>nu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jj{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ce=null}}function nE(t,e=null,n=[],r=[],i=null,s=null,o=null){return new jj(t,e,n,r,i,s,o)}function zv(t){const e=ue(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Og(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),eh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ea(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ea(r)).join(",")),e.ce=n}return e.ce}function Hv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Cj(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Xb(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!tE(t.startAt,e.startAt)&&tE(t.endAt,e.endAt)}function Lg(t){return ne.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function Mj(t,e,n,r,i,s,o,a){return new Su(t,e,n,r,i,s,o,a)}function th(t){return new Su(t)}function rE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function tS(t){return t.collectionGroup!==null}function ml(t){const e=ue(t);if(e.le===null){e.le=[];const n=new Set;for(const s of e.explicitOrderBy)e.le.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new kt(Ct.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.le.push(new Ud(s,r))}),n.has(Ct.keyField().canonicalString())||e.le.push(new Ud(Ct.keyField(),r))}return e.le}function _r(t){const e=ue(t);return e.he||(e.he=Vj(e,ml(t))),e.he}function Vj(t,e){if(t.limitType==="F")return nE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Ud(i.field,s)});const n=t.endAt?new $d(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new $d(t.startAt.position,t.startAt.inclusive):null;return nE(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function jg(t,e){const n=t.filters.concat([e]);return new Su(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Mg(t,e,n){return new Su(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function nh(t,e){return Hv(_r(t),_r(e))&&t.limitType===e.limitType}function nS(t){return`${zv(_r(t))}|lt:${t.limitType}`}function po(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>Zb(i)).join(", ")}]`),eh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>ea(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>ea(i)).join(",")),`Target(${r})`}(_r(t))}; limitType=${t.limitType})`}function rh(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):ne.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of ml(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const u=eE(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,ml(r),i)||r.endAt&&!function(o,a,l){const u=eE(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,ml(r),i))}(t,e)}function Fj(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function rS(t){return(e,n)=>{let r=!1;for(const i of ml(t)){const s=$j(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function $j(t,e,n){const r=t.field.isKeyField()?ne.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?Zo(l,u):se()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return se()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ys(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return Wb(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uj=new qe(ne.comparator);function Xr(){return Uj}const iS=new qe(ne.comparator);function tl(...t){let e=iS;for(const n of t)e=e.insert(n.key,n);return e}function sS(t){let e=iS;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Es(){return gl()}function oS(){return gl()}function gl(){return new ma(t=>t.toString(),(t,e)=>t.isEqual(e))}const Bj=new qe(ne.comparator),zj=new kt(ne.comparator);function pe(...t){let e=zj;for(const n of t)e=e.add(n);return e}const Hj=new kt(Te);function qj(){return Hj}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aS(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Fd(e)?"-0":e}}function lS(t){return{integerValue:""+t}}function Wj(t,e){return Tj(e)?lS(e):aS(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{constructor(){this._=void 0}}function Kj(t,e,n){return t instanceof Bd?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&$v(s)&&(s=Uv(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof ta?cS(t,e):t instanceof ru?dS(t,e):function(i,s){const o=uS(i,s),a=iE(o)+iE(i.Ie);return Dg(o)&&Dg(i.Ie)?lS(a):aS(i.serializer,a)}(t,e)}function Gj(t,e,n){return t instanceof ta?cS(t,e):t instanceof ru?dS(t,e):n}function uS(t,e){return t instanceof zd?function(r){return Dg(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Bd extends ih{}class ta extends ih{constructor(e){super(),this.elements=e}}function cS(t,e){const n=fS(e);for(const r of t.elements)n.some(i=>Sr(i,r))||n.push(r);return{arrayValue:{values:n}}}class ru extends ih{constructor(e){super(),this.elements=e}}function dS(t,e){let n=fS(e);for(const r of t.elements)n=n.filter(i=>!Sr(i,r));return{arrayValue:{values:n}}}class zd extends ih{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function iE(t){return rt(t.integerValue||t.doubleValue)}function fS(t){return Bv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qj{constructor(e,n){this.field=e,this.transform=n}}function Yj(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof ta&&i instanceof ta||r instanceof ru&&i instanceof ru?Xo(r.elements,i.elements,Sr):r instanceof zd&&i instanceof zd?Sr(r.Ie,i.Ie):r instanceof Bd&&i instanceof Bd}(t.transform,e.transform)}class Jj{constructor(e,n){this.version=e,this.transformResults=n}}class Er{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Er}static exists(e){return new Er(void 0,e)}static updateTime(e){return new Er(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Hc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class sh{}function hS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new mS(t.key,Er.none()):new Cu(t.key,t.data,Er.none());{const n=t.data,r=nn.empty();let i=new kt(Ct.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new ss(t.key,r,new mn(i.toArray()),Er.none())}}function Xj(t,e,n){t instanceof Cu?function(i,s,o){const a=i.value.clone(),l=oE(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof ss?function(i,s,o){if(!Hc(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=oE(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(pS(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function yl(t,e,n,r){return t instanceof Cu?function(s,o,a,l){if(!Hc(s.precondition,o))return a;const u=s.value.clone(),d=aE(s.fieldTransforms,l,o);return u.setAll(d),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof ss?function(s,o,a,l){if(!Hc(s.precondition,o))return a;const u=aE(s.fieldTransforms,l,o),d=o.data;return d.setAll(pS(s)),d.setAll(u),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(s,o,a){return Hc(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function Zj(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=uS(r.transform,i||null);s!=null&&(n===null&&(n=nn.empty()),n.set(r.field,s))}return n||null}function sE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Xo(r,i,(s,o)=>Yj(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Cu extends sh{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ss extends sh{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function pS(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function oE(t,e,n){const r=new Map;Re(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,Gj(o,a,n[i]))}return r}function aE(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,Kj(s,o,e))}return r}class mS extends sh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class eM extends sh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tM{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Xj(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=yl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=yl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=oS();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=hS(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(le.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),pe())}isEqual(e){return this.batchId===e.batchId&&Xo(this.mutations,e.mutations,(n,r)=>sE(n,r))&&Xo(this.baseMutations,e.baseMutations,(n,r)=>sE(n,r))}}class qv{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Re(e.mutations.length===r.length);let i=function(){return Bj}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new qv(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nM{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rM{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nt,ye;function iM(t){switch(t){default:return se();case L.CANCELLED:case L.UNKNOWN:case L.DEADLINE_EXCEEDED:case L.RESOURCE_EXHAUSTED:case L.INTERNAL:case L.UNAVAILABLE:case L.UNAUTHENTICATED:return!1;case L.INVALID_ARGUMENT:case L.NOT_FOUND:case L.ALREADY_EXISTS:case L.PERMISSION_DENIED:case L.FAILED_PRECONDITION:case L.ABORTED:case L.OUT_OF_RANGE:case L.UNIMPLEMENTED:case L.DATA_LOSS:return!0}}function gS(t){if(t===void 0)return Jr("GRPC error has no .code"),L.UNKNOWN;switch(t){case nt.OK:return L.OK;case nt.CANCELLED:return L.CANCELLED;case nt.UNKNOWN:return L.UNKNOWN;case nt.DEADLINE_EXCEEDED:return L.DEADLINE_EXCEEDED;case nt.RESOURCE_EXHAUSTED:return L.RESOURCE_EXHAUSTED;case nt.INTERNAL:return L.INTERNAL;case nt.UNAVAILABLE:return L.UNAVAILABLE;case nt.UNAUTHENTICATED:return L.UNAUTHENTICATED;case nt.INVALID_ARGUMENT:return L.INVALID_ARGUMENT;case nt.NOT_FOUND:return L.NOT_FOUND;case nt.ALREADY_EXISTS:return L.ALREADY_EXISTS;case nt.PERMISSION_DENIED:return L.PERMISSION_DENIED;case nt.FAILED_PRECONDITION:return L.FAILED_PRECONDITION;case nt.ABORTED:return L.ABORTED;case nt.OUT_OF_RANGE:return L.OUT_OF_RANGE;case nt.UNIMPLEMENTED:return L.UNIMPLEMENTED;case nt.DATA_LOSS:return L.DATA_LOSS;default:return se()}}(ye=nt||(nt={}))[ye.OK=0]="OK",ye[ye.CANCELLED=1]="CANCELLED",ye[ye.UNKNOWN=2]="UNKNOWN",ye[ye.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ye[ye.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ye[ye.NOT_FOUND=5]="NOT_FOUND",ye[ye.ALREADY_EXISTS=6]="ALREADY_EXISTS",ye[ye.PERMISSION_DENIED=7]="PERMISSION_DENIED",ye[ye.UNAUTHENTICATED=16]="UNAUTHENTICATED",ye[ye.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ye[ye.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ye[ye.ABORTED=10]="ABORTED",ye[ye.OUT_OF_RANGE=11]="OUT_OF_RANGE",ye[ye.UNIMPLEMENTED=12]="UNIMPLEMENTED",ye[ye.INTERNAL=13]="INTERNAL",ye[ye.UNAVAILABLE=14]="UNAVAILABLE",ye[ye.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sM(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oM=new Vo([4294967295,4294967295],0);function lE(t){const e=sM().encode(t),n=new lj;return n.update(e),new Uint8Array(n.digest())}function uE(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Vo([n,r],0),new Vo([i,s],0)]}class Wv{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new nl(`Invalid padding: ${n}`);if(r<0)throw new nl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new nl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new nl(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=Vo.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(Vo.fromNumber(r)));return i.compare(oM)===1&&(i=new Vo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=lE(e),[r,i]=uE(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);if(!this.Ae(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new Wv(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Te===0)return;const n=lE(e),[r,i]=uE(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);this.Re(o)}}Re(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class nl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Au.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new oh(le.min(),i,new qe(Te),Xr(),pe())}}class Au{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Au(r,n,pe(),pe(),pe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}}class yS{constructor(e,n){this.targetId=e,this.fe=n}}class vS{constructor(e,n,r=Wt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class cE{constructor(){this.ge=0,this.pe=fE(),this.ye=Wt.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=pe(),n=pe(),r=pe();return this.pe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:se()}}),new Au(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=fE()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,Re(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class aM{constructor(e){this.Le=e,this.ke=new Map,this.qe=Xr(),this.Qe=dE(),this.Ke=new qe(Te)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:se()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){const n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){const s=i.target;if(Lg(s))if(r===0){const o=new ne(s.path);this.We(n,o,$t.newNoDocument(o,le.min()))}else Re(r===1);else{const o=this.Ze(n);if(o!==r){const a=this.Xe(e),l=a?this.et(a,e,o):1;if(l!==0){this.He(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,u)}}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Vs(r).toUint8Array()}catch(l){if(l instanceof Kb)return Jo("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Wv(o,i,s)}catch(l){return Jo(l instanceof nl?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Te===0?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.We(n,s,null),i++)}),i}it(e){const n=new Map;this.ke.forEach((s,o)=>{const a=this.Ye(o);if(a){if(s.current&&Lg(a.target)){const l=new ne(a.target.path);this.qe.get(l)!==null||this.st(o,l)||this.We(o,l,$t.newNoDocument(l,e))}s.De&&(n.set(o,s.ve()),s.Fe())}});let r=pe();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Ye(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(e));const i=new oh(e,n,this.Ke,this.qe,r);return this.qe=Xr(),this.Qe=dE(),this.Ke=new qe(Te),i}Ue(e,n){if(!this.je(e))return;const r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new cE,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new kt(Te),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||J("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new cE),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function dE(){return new qe(ne.comparator)}function fE(){return new qe(ne.comparator)}const lM=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),uM=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),cM=(()=>({and:"AND",or:"OR"}))();class dM{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Vg(t,e){return t.useProto3Json||eh(e)?e:{value:e}}function Hd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function wS(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function fM(t,e){return Hd(t,e.toTimestamp())}function xr(t){return Re(!!t),le.fromTimestamp(function(n){const r=Ji(n);return new ct(r.seconds,r.nanos)}(t))}function Kv(t,e){return function(r){return new Le(["projects",r.projectId,"databases",r.database])}(t).child("documents").child(e).canonicalString()}function _S(t){const e=Le.fromString(t);return Re(IS(e)),e}function Fg(t,e){return Kv(t.databaseId,e.path)}function Bp(t,e){const n=_S(e);if(n.get(1)!==t.databaseId.projectId)throw new Y(L.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Y(L.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ne(ES(n))}function $g(t,e){return Kv(t.databaseId,e)}function hM(t){const e=_S(t);return e.length===4?Le.emptyPath():ES(e)}function Ug(t){return new Le(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function ES(t){return Re(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function hE(t,e,n){return{name:Fg(t,e),fields:n.value.mapValue.fields}}function pM(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:se()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,d){return u.useProto3Json?(Re(d===void 0||typeof d=="string"),Wt.fromBase64String(d||"")):(Re(d===void 0||d instanceof Uint8Array),Wt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const d=u.code===void 0?L.UNKNOWN:gS(u.code);return new Y(d,u.message||"")}(o);n=new vS(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Bp(t,r.document.name),s=xr(r.document.updateTime),o=r.document.createTime?xr(r.document.createTime):le.min(),a=new nn({mapValue:{fields:r.document.fields}}),l=$t.newFoundDocument(i,s,o,a),u=r.targetIds||[],d=r.removedTargetIds||[];n=new qc(u,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Bp(t,r.document),s=r.readTime?xr(r.readTime):le.min(),o=$t.newNoDocument(i,s),a=r.removedTargetIds||[];n=new qc([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Bp(t,r.document),s=r.removedTargetIds||[];n=new qc([],s,i,null)}else{if(!("filter"in e))return se();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new rM(i,s),a=r.targetId;n=new yS(a,o)}}return n}function mM(t,e){let n;if(e instanceof Cu)n={update:hE(t,e.key,e.value)};else if(e instanceof mS)n={delete:Fg(t,e.key)};else if(e instanceof ss)n={update:hE(t,e.key,e.data),updateMask:IM(e.fieldMask)};else{if(!(e instanceof eM))return se();n={verify:Fg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Bd)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof ta)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof ru)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof zd)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw se()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:fM(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:se()}(t,e.precondition)),n}function gM(t,e){return t&&t.length>0?(Re(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?xr(i.updateTime):xr(s);return o.isEqual(le.min())&&(o=xr(s)),new Jj(o,i.transformResults||[])}(n,e))):[]}function yM(t,e){return{documents:[$g(t,e.path)]}}function vM(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=$g(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=$g(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length!==0)return TS(ir.create(l,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(l){if(l.length!==0)return l.map(u=>function(h){return{field:mo(h.field),direction:EM(h.dir)}}(u))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=Vg(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function wM(t){let e=hM(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Re(r===1);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(h){const m=xS(h);return m instanceof ir&&Jb(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(m=>function(E){return new Ud(go(E.field),function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(h){let m;return m=typeof h=="object"?h.value:h,eh(m)?null:m}(n.limit));let l=null;n.startAt&&(l=function(h){const m=!!h.before,w=h.values||[];return new $d(w,m)}(n.startAt));let u=null;return n.endAt&&(u=function(h){const m=!h.before,w=h.values||[];return new $d(w,m)}(n.endAt)),Mj(e,i,o,s,a,"F",l,u)}function _M(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return se()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function xS(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=go(n.unaryFilter.field);return st.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=go(n.unaryFilter.field);return st.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=go(n.unaryFilter.field);return st.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=go(n.unaryFilter.field);return st.create(o,"!=",{nullValue:"NULL_VALUE"});default:return se()}}(t):t.fieldFilter!==void 0?function(n){return st.create(go(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return se()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return ir.create(n.compositeFilter.filters.map(r=>xS(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return se()}}(n.compositeFilter.op))}(t):se()}function EM(t){return lM[t]}function xM(t){return uM[t]}function TM(t){return cM[t]}function mo(t){return{fieldPath:t.canonicalString()}}function go(t){return Ct.fromServerFormat(t.fieldPath)}function TS(t){return t instanceof st?function(n){if(n.op==="=="){if(Z1(n.value))return{unaryFilter:{field:mo(n.field),op:"IS_NAN"}};if(X1(n.value))return{unaryFilter:{field:mo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Z1(n.value))return{unaryFilter:{field:mo(n.field),op:"IS_NOT_NAN"}};if(X1(n.value))return{unaryFilter:{field:mo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:mo(n.field),op:xM(n.op),value:n.value}}}(t):t instanceof ir?function(n){const r=n.getFilters().map(i=>TS(i));return r.length===1?r[0]:{compositeFilter:{op:TM(n.op),filters:r}}}(t):se()}function IM(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function IS(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si{constructor(e,n,r,i,s=le.min(),o=le.min(),a=Wt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Si(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Si(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Si(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Si(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bM{constructor(e){this.ut=e}}function SM(t){const e=wM({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Mg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CM{constructor(){this.on=new AM}addToCollectionParentIndex(e,n){return this.on.add(n),V.resolve()}getCollectionParents(e,n){return V.resolve(this.on.getEntries(n))}addFieldIndex(e,n){return V.resolve()}deleteFieldIndex(e,n){return V.resolve()}deleteAllFieldIndexes(e){return V.resolve()}createTargetIndexes(e,n){return V.resolve()}getDocumentsMatchingTarget(e,n){return V.resolve(null)}getIndexType(e,n){return V.resolve(0)}getFieldIndexes(e,n){return V.resolve([])}getNextCollectionGroupToUpdate(e){return V.resolve(null)}getMinOffset(e,n){return V.resolve(Yi.min())}getMinOffsetFromCollectionGroup(e,n){return V.resolve(Yi.min())}updateCollectionGroup(e,n,r){return V.resolve()}updateIndexEntries(e,n){return V.resolve()}}class AM{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new kt(Le.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new kt(Le.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new na(0)}static Nn(){return new na(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PM{constructor(){this.changes=new ma(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,$t.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?V.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kM{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RM{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&yl(r.mutation,i,mn.empty(),ct.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,pe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=pe()){const i=Es();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=tl();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Es();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,pe()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Xr();const o=gl(),a=function(){return gl()}();return n.forEach((l,u)=>{const d=r.get(u.key);i.has(u.key)&&(d===void 0||d.mutation instanceof ss)?s=s.insert(u.key,u):d!==void 0?(o.set(u.key,d.mutation.getFieldMask()),yl(d.mutation,u,d.mutation.getFieldMask(),ct.now())):o.set(u.key,mn.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,d)=>o.set(u,d)),n.forEach((u,d)=>{var h;return a.set(u,new kM(d,(h=o.get(u))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=gl();let i=new qe((o,a)=>o-a),s=pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let d=r.get(l)||mn.empty();d=a.applyToLocalView(u,d),r.set(l,d);const h=(i.get(a.batchId)||pe()).add(l);i=i.insert(a.batchId,h)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,d=l.value,h=oS();d.forEach(m=>{if(!s.has(m)){const w=hS(n.get(m),r.get(m));w!==null&&h.set(m,w),s=s.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,h))}return V.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return ne.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):tS(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):V.resolve(Es());let a=-1,l=s;return o.next(u=>V.forEach(u,(d,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(d)?V.resolve():this.remoteDocumentCache.getEntry(e,d).next(m=>{l=l.insert(d,m)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,pe())).next(d=>({batchId:a,changes:sS(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ne(n)).next(r=>{let i=tl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=tl();return this.indexManager.getCollectionParents(e,s).next(a=>V.forEach(a,l=>{const u=function(h,m){return new Su(m,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(d=>{d.forEach((h,m)=>{o=o.insert(h,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,u)=>{const d=u.getKey();o.get(d)===null&&(o=o.insert(d,$t.newInvalidDocument(d)))});let a=tl();return o.forEach((l,u)=>{const d=s.get(l);d!==void 0&&yl(d.mutation,u,mn.empty(),ct.now()),rh(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NM{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,n){return V.resolve(this.ur.get(n))}saveBundleMetadata(e,n){return this.ur.set(n.id,function(i){return{id:i.id,version:i.version,createTime:xr(i.createTime)}}(n)),V.resolve()}getNamedQuery(e,n){return V.resolve(this.cr.get(n))}saveNamedQuery(e,n){return this.cr.set(n.name,function(i){return{name:i.name,query:SM(i.bundledQuery),readTime:xr(i.readTime)}}(n)),V.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DM{constructor(){this.overlays=new qe(ne.comparator),this.lr=new Map}getOverlay(e,n){return V.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Es();return V.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.lt(e,n,s)}),V.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.lr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.lr.delete(r)),V.resolve()}getOverlaysForCollection(e,n,r){const i=Es(),s=n.length+1,o=new ne(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return V.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new qe((u,d)=>u-d);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=s.get(u.largestBatchId);d===null&&(d=Es(),s=s.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const a=Es(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,d)=>a.set(u,d)),!(a.size()>=i)););return V.resolve(a)}lt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.lr.get(i.largestBatchId).delete(r.key);this.lr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new nM(n,r));let s=this.lr.get(n);s===void 0&&(s=pe(),this.lr.set(n,s)),this.lr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gv{constructor(){this.hr=new kt(mt.Pr),this.Ir=new kt(mt.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,n){const r=new mt(e,n);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.dr(new mt(e,n))}Ar(e,n){e.forEach(r=>this.removeReference(r,n))}Rr(e){const n=new ne(new Le([])),r=new mt(n,e),i=new mt(n,e+1),s=[];return this.Ir.forEachInRange([r,i],o=>{this.dr(o),s.push(o.key)}),s}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const n=new ne(new Le([])),r=new mt(n,e),i=new mt(n,e+1);let s=pe();return this.Ir.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new mt(e,0),r=this.hr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class mt{constructor(e,n){this.key=e,this.gr=n}static Pr(e,n){return ne.comparator(e.key,n.key)||Te(e.gr,n.gr)}static Tr(e,n){return Te(e.gr,n.gr)||ne.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OM{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new kt(mt.Pr)}checkEmpty(e){return V.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new tM(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.yr=this.yr.add(new mt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return V.resolve(o)}lookupMutationBatch(e,n){return V.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Sr(r),s=i<0?0:i;return V.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return V.resolve(this.mutationQueue.length===0?-1:this.pr-1)}getAllMutationBatches(e){return V.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new mt(n,0),i=new mt(n,Number.POSITIVE_INFINITY),s=[];return this.yr.forEachInRange([r,i],o=>{const a=this.wr(o.gr);s.push(a)}),V.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new kt(Te);return n.forEach(i=>{const s=new mt(i,0),o=new mt(i,Number.POSITIVE_INFINITY);this.yr.forEachInRange([s,o],a=>{r=r.add(a.gr)})}),V.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;ne.isDocumentKey(s)||(s=s.child(""));const o=new mt(new ne(s),0);let a=new kt(Te);return this.yr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.gr)),!0)},o),V.resolve(this.br(a))}br(e){const n=[];return e.forEach(r=>{const i=this.wr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Re(this.Dr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.yr;return V.forEach(n.mutations,i=>{const s=new mt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.yr=r})}Fn(e){}containsKey(e,n){const r=new mt(n,0),i=this.yr.firstAfterOrEqual(r);return V.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,V.resolve()}Dr(e,n){return this.Sr(e)}Sr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}wr(e){const n=this.Sr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LM{constructor(e){this.Cr=e,this.docs=function(){return new qe(ne.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Cr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return V.resolve(r?r.document.mutableCopy():$t.newInvalidDocument(n))}getEntries(e,n){let r=Xr();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():$t.newInvalidDocument(i))}),V.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Xr();const o=n.path,a=new ne(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:d}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||_j(wj(d),r)<=0||(i.has(d.key)||rh(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return V.resolve(s)}getAllFromCollectionGroup(e,n,r,i){se()}vr(e,n){return V.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new jM(this)}getSize(e){return V.resolve(this.size)}}class jM extends PM{constructor(e){super(),this._r=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this._r.addEntry(e,i)):this._r.removeEntry(r)}),V.waitFor(n)}getFromCache(e,n){return this._r.getEntry(e,n)}getAllFromCache(e,n){return this._r.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MM{constructor(e){this.persistence=e,this.Fr=new ma(n=>zv(n),Hv),this.lastRemoteSnapshotVersion=le.min(),this.highestTargetId=0,this.Mr=0,this.Or=new Gv,this.targetCount=0,this.Nr=na.On()}forEachTarget(e,n){return this.Fr.forEach((r,i)=>n(i)),V.resolve()}getLastRemoteSnapshotVersion(e){return V.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return V.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),V.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Mr&&(this.Mr=n),V.resolve()}kn(e){this.Fr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Nr=new na(n),this.highestTargetId=n),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,n){return this.kn(n),this.targetCount+=1,V.resolve()}updateTargetData(e,n){return this.kn(n),V.resolve()}removeTargetData(e,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,V.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Fr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Fr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),V.waitFor(s).next(()=>i)}getTargetCount(e){return V.resolve(this.targetCount)}getTargetData(e,n){const r=this.Fr.get(n)||null;return V.resolve(r)}addMatchingKeys(e,n,r){return this.Or.Er(n,r),V.resolve()}removeMatchingKeys(e,n,r){this.Or.Ar(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),V.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Or.Rr(n),V.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Or.mr(n);return V.resolve(r)}containsKey(e,n){return V.resolve(this.Or.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VM{constructor(e,n){this.Br={},this.overlays={},this.Lr=new Fv(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new MM(this),this.indexManager=new CM,this.remoteDocumentCache=function(i){return new LM(i)}(r=>this.referenceDelegate.Qr(r)),this.serializer=new bM(n),this.Kr=new NM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new DM,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new OM(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,n,r){J("MemoryPersistence","Starting transaction:",e);const i=new FM(this.Lr.next());return this.referenceDelegate.$r(),r(i).next(s=>this.referenceDelegate.Ur(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Wr(e,n){return V.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class FM extends xj{constructor(e){super(),this.currentSequenceNumber=e}}class Qv{constructor(e){this.persistence=e,this.Gr=new Gv,this.zr=null}static jr(e){return new Qv(e)}get Hr(){if(this.zr)return this.zr;throw se()}addReference(e,n,r){return this.Gr.addReference(r,n),this.Hr.delete(r.toString()),V.resolve()}removeReference(e,n,r){return this.Gr.removeReference(r,n),this.Hr.add(r.toString()),V.resolve()}markPotentiallyOrphaned(e,n){return this.Hr.add(n.toString()),V.resolve()}removeTarget(e,n){this.Gr.Rr(n.targetId).forEach(i=>this.Hr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Hr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}$r(){this.zr=new Set}Ur(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return V.forEach(this.Hr,r=>{const i=ne.fromPath(r);return this.Jr(e,i).next(s=>{s||n.removeEntry(i,le.min())})}).next(()=>(this.zr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Jr(e,n).next(r=>{r?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(e){return 0}Jr(e,n){return V.or([()=>V.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Wr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yv{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ki=r,this.qi=i}static Qi(e,n){let r=pe(),i=pe();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Yv(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $M{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UM{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,n){this.Gi=e,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.zi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ji(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new $M;return this.Hi(e,n,o).next(a=>{if(s.result=a,this.$i)return this.Ji(e,n,o,a.size)})}).next(()=>s.result)}Ji(e,n,r,i){return r.documentReadCount<this.Ui?(Ba()<=ge.DEBUG&&J("QueryEngine","SDK will not create cache indexes for query:",po(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),V.resolve()):(Ba()<=ge.DEBUG&&J("QueryEngine","Query:",po(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Wi*i?(Ba()<=ge.DEBUG&&J("QueryEngine","The SDK decides to create cache indexes for query:",po(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,_r(n))):V.resolve())}zi(e,n){if(rE(n))return V.resolve(null);let r=_r(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Mg(n,null,"F"),r=_r(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=pe(...s);return this.Gi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Yi(n,a);return this.Zi(n,u,o,l.readTime)?this.zi(e,Mg(n,null,"F")):this.Xi(e,u,n,l)}))})))}ji(e,n,r,i){return rE(n)||i.isEqual(le.min())?V.resolve(null):this.Gi.getDocuments(e,r).next(s=>{const o=this.Yi(n,s);return this.Zi(n,o,r,i)?V.resolve(null):(Ba()<=ge.DEBUG&&J("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),po(n)),this.Xi(e,o,n,vj(i,-1)).next(a=>a))})}Yi(e,n){let r=new kt(rS(e));return n.forEach((i,s)=>{rh(e,s)&&(r=r.add(s))}),r}Zi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Hi(e,n,r){return Ba()<=ge.DEBUG&&J("QueryEngine","Using full collection scan to execute query:",po(n)),this.Gi.getDocumentsMatchingQuery(e,n,Yi.min(),r)}Xi(e,n,r,i){return this.Gi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BM{constructor(e,n,r,i){this.persistence=e,this.es=n,this.serializer=i,this.ts=new qe(Te),this.ns=new ma(s=>zv(s),Hv),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(r)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new RM(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ts))}}function zM(t,e,n,r){return new BM(t,e,n,r)}async function bS(t,e){const n=ue(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.os(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=pe();for(const u of i){o.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}for(const u of s){a.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(u=>({_s:u,removedBatchIds:o,addedBatchIds:a}))})})}function HM(t,e){const n=ue(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.ss.newChangeBuffer({trackRemovals:!0});return function(a,l,u,d){const h=u.batch,m=h.keys();let w=V.resolve();return m.forEach(E=>{w=w.next(()=>d.getEntry(l,E)).next(x=>{const I=u.docVersions.get(E);Re(I!==null),x.version.compareTo(I)<0&&(h.applyToRemoteDocument(x,u),x.isValidDocument()&&(x.setReadTime(u.commitVersion),d.addEntry(x)))})}),w.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=pe();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function SS(t){const e=ue(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.qr.getLastRemoteSnapshotVersion(n))}function qM(t,e){const n=ue(t),r=e.snapshotVersion;let i=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.ss.newChangeBuffer({trackRemovals:!0});i=n.ts;const a=[];e.targetChanges.forEach((d,h)=>{const m=i.get(h);if(!m)return;a.push(n.qr.removeMatchingKeys(s,d.removedDocuments,h).next(()=>n.qr.addMatchingKeys(s,d.addedDocuments,h)));let w=m.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?w=w.withResumeToken(Wt.EMPTY_BYTE_STRING,le.min()).withLastLimboFreeSnapshotVersion(le.min()):d.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(d.resumeToken,r)),i=i.insert(h,w),function(x,I,_){return x.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=3e8?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(m,w,d)&&a.push(n.qr.updateTargetData(s,w))});let l=Xr(),u=pe();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push(WM(s,o,e.documentUpdates).next(d=>{l=d.us,u=d.cs})),!r.isEqual(le.min())){const d=n.qr.getLastRemoteSnapshotVersion(s).next(h=>n.qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(d)}return V.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.ts=i,s))}function WM(t,e,n){let r=pe(),i=pe();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Xr();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(le.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):J("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{us:o,cs:i}})}function KM(t,e){const n=ue(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function GM(t,e){const n=ue(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.qr.getTargetData(r,e).next(s=>s?(i=s,V.resolve(i)):n.qr.allocateTargetId(r).next(o=>(i=new Si(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ts=n.ts.insert(r.targetId,r),n.ns.set(e,r.targetId)),r})}async function Bg(t,e,n){const r=ue(t),i=r.ts.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!bu(o))throw o;J("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ts=r.ts.remove(e),r.ns.delete(i.target)}function pE(t,e,n){const r=ue(t);let i=le.min(),s=pe();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,d){const h=ue(l),m=h.ns.get(d);return m!==void 0?V.resolve(h.ts.get(m)):h.qr.getTargetData(u,d)}(r,o,_r(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.es.getDocumentsMatchingQuery(o,e,n?i:le.min(),n?s:pe())).next(a=>(QM(r,Fj(e),a),{documents:a,ls:s})))}function QM(t,e,n){let r=t.rs.get(e)||le.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.rs.set(e,r)}class mE{constructor(){this.activeTargetIds=qj()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class YM{constructor(){this.eo=new mE,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,n,r){this.no[e]=n}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new mE,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JM{ro(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gE{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){J("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){J("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bc=null;function zp(){return bc===null?bc=function(){return 268435456+Math.round(2147483648*Math.random())}():bc++,"0x"+bc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZM{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mt="WebChannelConnection";class e3 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.mo=r+"://"+n.host,this.fo=`projects/${i}/databases/${s}`,this.po=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get yo(){return!1}wo(n,r,i,s,o){const a=zp(),l=this.So(n,r);J("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(u,s,o),this.Do(n,l,u,i).then(d=>(J("RestConnection",`Received RPC '${n}' ${a}: `,d),d),d=>{throw Jo("RestConnection",`RPC '${n}' ${a} failed with error: `,d,"url: ",l,"request:",i),d})}Co(n,r,i,s,o,a){return this.wo(n,r,i,s,o)}bo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+pa}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}So(n,r){const i=XM[n];return`${this.mo}/v1/${r}:${i}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,n,r,i){const s=zp();return new Promise((o,a)=>{const l=new aj;l.setWithCredentials(!0),l.listenOnce(sj.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Up.NO_ERROR:const d=l.getResponseJson();J(Mt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),o(d);break;case Up.TIMEOUT:J(Mt,`RPC '${e}' ${s} timed out`),a(new Y(L.DEADLINE_EXCEEDED,"Request time out"));break;case Up.HTTP_ERROR:const h=l.getStatus();if(J(Mt,`RPC '${e}' ${s} failed with status:`,h,"response text:",l.getResponseText()),h>0){let m=l.getResponseJson();Array.isArray(m)&&(m=m[0]);const w=m==null?void 0:m.error;if(w&&w.status&&w.message){const E=function(I){const _=I.toLowerCase().replace(/_/g,"-");return Object.values(L).indexOf(_)>=0?_:L.UNKNOWN}(w.status);a(new Y(E,w.message))}else a(new Y(L.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new Y(L.UNAVAILABLE,"Connection failed."));break;default:se()}}finally{J(Mt,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);J(Mt,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}vo(e,n,r){const i=zp(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=rj(),a=ij(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.bo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=s.join("");J(Mt,`Creating RPC '${e}' stream ${i}: ${d}`,l);const h=o.createWebChannel(d,l);let m=!1,w=!1;const E=new ZM({co:I=>{w?J(Mt,`Not sending because RPC '${e}' stream ${i} is closed:`,I):(m||(J(Mt,`Opening RPC '${e}' stream ${i} transport.`),h.open(),m=!0),J(Mt,`RPC '${e}' stream ${i} sending:`,I),h.send(I))},lo:()=>h.close()}),x=(I,_,v)=>{I.listen(_,T=>{try{v(T)}catch(A){setTimeout(()=>{throw A},0)}})};return x(h,xc.EventType.OPEN,()=>{w||J(Mt,`RPC '${e}' stream ${i} transport opened.`)}),x(h,xc.EventType.CLOSE,()=>{w||(w=!0,J(Mt,`RPC '${e}' stream ${i} transport closed`),E.Ro())}),x(h,xc.EventType.ERROR,I=>{w||(w=!0,Jo(Mt,`RPC '${e}' stream ${i} transport errored:`,I),E.Ro(new Y(L.UNAVAILABLE,"The operation could not be completed")))}),x(h,xc.EventType.MESSAGE,I=>{var _;if(!w){const v=I.data[0];Re(!!v);const T=v,A=T.error||((_=T[0])===null||_===void 0?void 0:_.error);if(A){J(Mt,`RPC '${e}' stream ${i} received error:`,A);const P=A.status;let j=function(ee){const G=nt[ee];if(G!==void 0)return gS(G)}(P),M=A.message;j===void 0&&(j=L.INTERNAL,M="Unknown error status: "+P+" with message "+A.message),w=!0,E.Ro(new Y(j,M)),h.close()}else J(Mt,`RPC '${e}' stream ${i} received:`,v),E.Vo(v)}}),x(a,oj.STAT_EVENT,I=>{I.stat===W1.PROXY?J(Mt,`RPC '${e}' stream ${i} detected buffering proxy`):I.stat===W1.NOPROXY&&J(Mt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{E.Ao()},0),E}}function Hp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ah(t){return new dM(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS{constructor(e,n,r=1e3,i=1.5,s=6e4){this.si=e,this.timerId=n,this.Fo=r,this.Mo=i,this.xo=s,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const n=Math.floor(this.Oo+this.qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,n-r);i>0&&J("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Oo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){this.No!==null&&(this.No.skipDelay(),this.No=null)}cancel(){this.No!==null&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{constructor(e,n,r,i,s,o,a,l){this.si=e,this.Ko=r,this.$o=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new CS(e,n)}jo(){return this.state===1||this.state===5||this.Ho()}Ho(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Jo()}async stop(){this.jo()&&await this.close(0)}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&this.Wo===null&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}async Xo(){if(this.Ho())return this.close(0)}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}async close(e,n){this.t_(),this.n_(),this.zo.cancel(),this.Uo++,e!==4?this.zo.reset():n&&n.code===L.RESOURCE_EXHAUSTED?(Jr(n.toString()),Jr("Using maximum backoff delay to prevent overloading the backend."),this.zo.Lo()):n&&n.code===L.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.r_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Io(n)}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Uo===n&&this.s_(r,i)},r=>{e(()=>{const i=new Y(L.UNKNOWN,"Fetching auth token failed: "+r.message);return this.o_(i)})})}s_(e,n){const r=this.i_(this.Uo);this.stream=this.__(e,n),this.stream.ho(()=>{r(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(i=>{r(()=>this.o_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Jo(){this.state=5,this.zo.ko(async()=>{this.state=0,this.start()})}o_(e){return J("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return n=>{this.si.enqueueAndForget(()=>this.Uo===e?n():(J("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class t3 extends AS{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}__(e,n){return this.connection.vo("Listen",e,n)}onMessage(e){this.zo.reset();const n=pM(this.serializer,e),r=function(s){if(!("targetChange"in s))return le.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?le.min():o.readTime?xr(o.readTime):le.min()}(e);return this.listener.a_(n,r)}u_(e){const n={};n.database=Ug(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=Lg(l)?{documents:yM(s,l)}:{query:vM(s,l)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=wS(s,o.resumeToken);const u=Vg(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(le.min())>0){a.readTime=Hd(s,o.snapshotVersion.toTimestamp());const u=Vg(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=_M(this.serializer,e);r&&(n.labels=r),this.e_(n)}c_(e){const n={};n.database=Ug(this.serializer),n.removeTarget=e,this.e_(n)}}class n3 extends AS{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,n){return this.connection.vo("Write",e,n)}onMessage(e){if(Re(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const n=gM(e.writeResults,e.commitTime),r=xr(e.commitTime);return this.listener.I_(r,n)}return Re(!e.writeResults||e.writeResults.length===0),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=Ug(this.serializer),this.e_(e)}P_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>mM(this.serializer,r))};this.e_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r3 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.d_=!1}A_(){if(this.d_)throw new Y(L.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,n,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.wo(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===L.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Y(L.UNKNOWN,i.toString())})}Co(e,n,r,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(e,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===L.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Y(L.UNKNOWN,s.toString())})}terminate(){this.d_=!0}}class i3{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){this.V_===0&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){this.state==="Online"?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,e==="Online"&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(Jr(n),this.f_=!1):J("OnlineStateTracker",n)}S_(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s3{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=s,this.F_.ro(o=>{r.enqueueAndForget(async()=>{Js(this)&&(J("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=ue(l);u.C_.add(4),await Pu(u),u.M_.set("Unknown"),u.C_.delete(4),await lh(u)}(this))})}),this.M_=new i3(r,i)}}async function lh(t){if(Js(t))for(const e of t.v_)await e(!0)}async function Pu(t){for(const e of t.v_)await e(!1)}function PS(t,e){const n=ue(t);n.D_.has(e.targetId)||(n.D_.set(e.targetId,e),Zv(n)?Xv(n):ga(n).Ho()&&Jv(n,e))}function kS(t,e){const n=ue(t),r=ga(n);n.D_.delete(e),r.Ho()&&RS(n,e),n.D_.size===0&&(r.Ho()?r.Zo():Js(n)&&n.M_.set("Unknown"))}function Jv(t,e){if(t.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(le.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ga(t).u_(e)}function RS(t,e){t.x_.Oe(e),ga(t).c_(e)}function Xv(t){t.x_=new aM({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.D_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),ga(t).start(),t.M_.g_()}function Zv(t){return Js(t)&&!ga(t).jo()&&t.D_.size>0}function Js(t){return ue(t).C_.size===0}function NS(t){t.x_=void 0}async function o3(t){t.D_.forEach((e,n)=>{Jv(t,e)})}async function a3(t,e){NS(t),Zv(t)?(t.M_.w_(e),Xv(t)):t.M_.set("Unknown")}async function l3(t,e,n){if(t.M_.set("Online"),e instanceof vS&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.D_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.D_.delete(a),i.x_.removeTarget(a))}(t,e)}catch(r){J("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await qd(t,r)}else if(e instanceof qc?t.x_.$e(e):e instanceof yS?t.x_.Je(e):t.x_.Ge(e),!n.isEqual(le.min()))try{const r=await SS(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.x_.it(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const d=s.D_.get(u);d&&s.D_.set(u,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const d=s.D_.get(l);if(!d)return;s.D_.set(l,d.withResumeToken(Wt.EMPTY_BYTE_STRING,d.snapshotVersion)),RS(s,l);const h=new Si(d.target,l,u,d.sequenceNumber);Jv(s,h)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){J("RemoteStore","Failed to raise snapshot:",r),await qd(t,r)}}async function qd(t,e,n){if(!bu(e))throw e;t.C_.add(1),await Pu(t),t.M_.set("Offline"),n||(n=()=>SS(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{J("RemoteStore","Retrying IndexedDB access"),await n(),t.C_.delete(1),await lh(t)})}function DS(t,e){return e().catch(n=>qd(t,n,e))}async function uh(t){const e=ue(t),n=Xi(e);let r=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;u3(e);)try{const i=await KM(e.localStore,r);if(i===null){e.b_.length===0&&n.Zo();break}r=i.batchId,c3(e,i)}catch(i){await qd(e,i)}OS(e)&&LS(e)}function u3(t){return Js(t)&&t.b_.length<10}function c3(t,e){t.b_.push(e);const n=Xi(t);n.Ho()&&n.h_&&n.P_(e.mutations)}function OS(t){return Js(t)&&!Xi(t).jo()&&t.b_.length>0}function LS(t){Xi(t).start()}async function d3(t){Xi(t).E_()}async function f3(t){const e=Xi(t);for(const n of t.b_)e.P_(n.mutations)}async function h3(t,e,n){const r=t.b_.shift(),i=qv.from(r,e,n);await DS(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await uh(t)}async function p3(t,e){e&&Xi(t).h_&&await async function(r,i){if(function(o){return iM(o)&&o!==L.ABORTED}(i.code)){const s=r.b_.shift();Xi(r).Yo(),await DS(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await uh(r)}}(t,e),OS(t)&&LS(t)}async function yE(t,e){const n=ue(t);n.asyncQueue.verifyOperationInProgress(),J("RemoteStore","RemoteStore received new credentials");const r=Js(n);n.C_.add(3),await Pu(n),r&&n.M_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.C_.delete(3),await lh(n)}async function m3(t,e){const n=ue(t);e?(n.C_.delete(2),await lh(n)):e||(n.C_.add(2),await Pu(n),n.M_.set("Unknown"))}function ga(t){return t.O_||(t.O_=function(n,r,i){const s=ue(n);return s.A_(),new t3(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{ho:o3.bind(null,t),Io:a3.bind(null,t),a_:l3.bind(null,t)}),t.v_.push(async e=>{e?(t.O_.Yo(),Zv(t)?Xv(t):t.M_.set("Unknown")):(await t.O_.stop(),NS(t))})),t.O_}function Xi(t){return t.N_||(t.N_=function(n,r,i){const s=ue(n);return s.A_(),new n3(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{ho:d3.bind(null,t),Io:p3.bind(null,t),T_:f3.bind(null,t),I_:h3.bind(null,t)}),t.v_.push(async e=>{e?(t.N_.Yo(),await uh(t)):(await t.N_.stop(),t.b_.length>0&&(J("RemoteStore",`Stopping write stream with ${t.b_.length} pending writes`),t.b_=[]))})),t.N_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ew{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new zr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new ew(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Y(L.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function tw(t,e){if(Jr("AsyncQueue",`${e}: ${t}`),bu(t))return new Y(L.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ne.comparator(n.key,r.key):(n,r)=>ne.comparator(n.key,r.key),this.keyedMap=tl(),this.sortedSet=new qe(this.comparator)}static emptySet(e){return new Fo(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Fo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Fo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vE{constructor(){this.B_=new qe(ne.comparator)}track(e){const n=e.doc.key,r=this.B_.get(n);r?e.type!==0&&r.type===3?this.B_=this.B_.insert(n,e):e.type===3&&r.type!==1?this.B_=this.B_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.B_=this.B_.remove(n):e.type===1&&r.type===2?this.B_=this.B_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):se():this.B_=this.B_.insert(n,e)}L_(){const e=[];return this.B_.inorderTraversal((n,r)=>{e.push(r)}),e}}class ra{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new ra(e,n,Fo.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&nh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g3{constructor(){this.k_=void 0,this.listeners=[]}}class y3{constructor(){this.queries=new ma(e=>nS(e),nh),this.onlineState="Unknown",this.q_=new Set}}async function nw(t,e){const n=ue(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new g3),i)try{s.k_=await n.onListen(r)}catch(o){const a=tw(o,`Initialization of query '${po(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.Q_(n.onlineState),s.k_&&e.K_(s.k_)&&iw(n)}async function rw(t,e){const n=ue(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function v3(t,e){const n=ue(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.K_(i)&&(r=!0);o.k_=i}}r&&iw(n)}function w3(t,e,n){const r=ue(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function iw(t){t.q_.forEach(e=>{e.next()})}class sw{constructor(e,n,r){this.query=e,this.U_=n,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=r||{}}K_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new ra(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.W_?this.z_(e)&&(this.U_.next(e),n=!0):this.j_(e,this.onlineState)&&(this.H_(e),n=!0),this.G_=e,n}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let n=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),n=!0),n}j_(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.J_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}z_(e){if(e.docChanges.length>0)return!0;const n=this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}H_(e){e=ra.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{constructor(e){this.key=e}}class MS{constructor(e){this.key=e}}class _3{constructor(e,n){this.query=e,this.ia=n,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=pe(),this.mutatedKeys=pe(),this._a=rS(e),this.aa=new Fo(this._a)}get ua(){return this.ia}ca(e,n){const r=n?n.la:new vE,i=n?n.aa:this.aa;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,h)=>{const m=i.get(d),w=rh(this.query,h)?h:null,E=!!m&&this.mutatedKeys.has(m.key),x=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let I=!1;m&&w?m.data.isEqual(w.data)?E!==x&&(r.track({type:3,doc:w}),I=!0):this.ha(m,w)||(r.track({type:2,doc:w}),I=!0,(l&&this._a(w,l)>0||u&&this._a(w,u)<0)&&(a=!0)):!m&&w?(r.track({type:0,doc:w}),I=!0):m&&!w&&(r.track({type:1,doc:m}),I=!0,(l||u)&&(a=!0)),I&&(w?(o=o.add(w),s=x?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{aa:o,la:r,Zi:a,mutatedKeys:s}}ha(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const o=e.la.L_();o.sort((d,h)=>function(w,E){const x=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return se()}};return x(w)-x(E)}(d.type,h.type)||this._a(d.doc,h.doc)),this.Pa(r),i=i!=null&&i;const a=n&&!i?this.Ia():[],l=this.oa.size===0&&this.current&&!i?1:0,u=l!==this.sa;return this.sa=l,o.length!==0||u?{snapshot:new ra(this.query,e.aa,s,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ta:a}:{Ta:a}}Q_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({aa:this.aa,la:new vE,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(n=>this.ia=this.ia.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ia=this.ia.delete(n)),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=pe(),this.aa.forEach(r=>{this.Ea(r.key)&&(this.oa=this.oa.add(r.key))});const n=[];return e.forEach(r=>{this.oa.has(r)||n.push(new MS(r))}),this.oa.forEach(r=>{e.has(r)||n.push(new jS(r))}),n}da(e){this.ia=e.ls,this.oa=pe();const n=this.ca(e.documents);return this.applyChanges(n,!0)}Aa(){return ra.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,this.sa===0,this.hasCachedResults)}}class E3{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class x3{constructor(e){this.key=e,this.Ra=!1}}class T3{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Va={},this.ma=new ma(a=>nS(a),nh),this.fa=new Map,this.ga=new Set,this.pa=new qe(ne.comparator),this.ya=new Map,this.wa=new Gv,this.Sa={},this.ba=new Map,this.Da=na.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return this.Ca===!0}}async function I3(t,e){const n=O3(t);let r,i;const s=n.ma.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Aa();else{const o=await GM(n.localStore,_r(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await b3(n,e,r,a==="current",o.resumeToken),n.isPrimaryClient&&PS(n.remoteStore,o)}return i}async function b3(t,e,n,r,i){t.va=(h,m,w)=>async function(x,I,_,v){let T=I.view.ca(_);T.Zi&&(T=await pE(x.localStore,I.query,!1).then(({documents:M})=>I.view.ca(M,T)));const A=v&&v.targetChanges.get(I.targetId),P=v&&v.targetMismatches.get(I.targetId)!=null,j=I.view.applyChanges(T,x.isPrimaryClient,A,P);return _E(x,I.targetId,j.Ta),j.snapshot}(t,h,m,w);const s=await pE(t.localStore,e,!0),o=new _3(e,s.ls),a=o.ca(s.documents),l=Au.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);_E(t,n,u.Ta);const d=new E3(e,n,o);return t.ma.set(e,d),t.fa.has(n)?t.fa.get(n).push(e):t.fa.set(n,[e]),u.snapshot}async function S3(t,e){const n=ue(t),r=n.ma.get(e),i=n.fa.get(r.targetId);if(i.length>1)return n.fa.set(r.targetId,i.filter(s=>!nh(s,e))),void n.ma.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Bg(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),kS(n.remoteStore,r.targetId),zg(n,r.targetId)}).catch(Iu)):(zg(n,r.targetId),await Bg(n.localStore,r.targetId,!0))}async function C3(t,e,n){const r=L3(t);try{const i=await function(o,a){const l=ue(o),u=ct.now(),d=a.reduce((w,E)=>w.add(E.key),pe());let h,m;return l.persistence.runTransaction("Locally write mutations","readwrite",w=>{let E=Xr(),x=pe();return l.ss.getEntries(w,d).next(I=>{E=I,E.forEach((_,v)=>{v.isValidDocument()||(x=x.add(_))})}).next(()=>l.localDocuments.getOverlayedDocuments(w,E)).next(I=>{h=I;const _=[];for(const v of a){const T=Zj(v,h.get(v.key).overlayedDocument);T!=null&&_.push(new ss(v.key,T,Gb(T.value.mapValue),Er.exists(!0)))}return l.mutationQueue.addMutationBatch(w,u,_,a)}).next(I=>{m=I;const _=I.applyToLocalDocumentSet(h,x);return l.documentOverlayCache.saveOverlays(w,I.batchId,_)})}).then(()=>({batchId:m.batchId,changes:sS(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let u=o.Sa[o.currentUser.toKey()];u||(u=new qe(Te)),u=u.insert(a,l),o.Sa[o.currentUser.toKey()]=u}(r,i.batchId,n),await ku(r,i.changes),await uh(r.remoteStore)}catch(i){const s=tw(i,"Failed to persist write");n.reject(s)}}async function VS(t,e){const n=ue(t);try{const r=await qM(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.ya.get(s);o&&(Re(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Ra=!0:i.modifiedDocuments.size>0?Re(o.Ra):i.removedDocuments.size>0&&(Re(o.Ra),o.Ra=!1))}),await ku(n,r,e)}catch(r){await Iu(r)}}function wE(t,e,n){const r=ue(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ma.forEach((s,o)=>{const a=o.view.Q_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=ue(o);l.onlineState=a;let u=!1;l.queries.forEach((d,h)=>{for(const m of h.listeners)m.Q_(a)&&(u=!0)}),u&&iw(l)}(r.eventManager,e),i.length&&r.Va.a_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function A3(t,e,n){const r=ue(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.ya.get(e),s=i&&i.key;if(s){let o=new qe(ne.comparator);o=o.insert(s,$t.newNoDocument(s,le.min()));const a=pe().add(s),l=new oh(le.min(),new Map,new qe(Te),o,a);await VS(r,l),r.pa=r.pa.remove(s),r.ya.delete(e),ow(r)}else await Bg(r.localStore,e,!1).then(()=>zg(r,e,n)).catch(Iu)}async function P3(t,e){const n=ue(t),r=e.batch.batchId;try{const i=await HM(n.localStore,e);$S(n,r,null),FS(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ku(n,i)}catch(i){await Iu(i)}}async function k3(t,e,n){const r=ue(t);try{const i=await function(o,a){const l=ue(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return l.mutationQueue.lookupMutationBatch(u,a).next(h=>(Re(h!==null),d=h.keys(),l.mutationQueue.removeMutationBatch(u,h))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>l.localDocuments.getDocuments(u,d))})}(r.localStore,e);$S(r,e,n),FS(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await ku(r,i)}catch(i){await Iu(i)}}function FS(t,e){(t.ba.get(e)||[]).forEach(n=>{n.resolve()}),t.ba.delete(e)}function $S(t,e,n){const r=ue(t);let i=r.Sa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Sa[r.currentUser.toKey()]=i}}function zg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.fa.get(e))t.ma.delete(r),n&&t.Va.Fa(r,n);t.fa.delete(e),t.isPrimaryClient&&t.wa.Rr(e).forEach(r=>{t.wa.containsKey(r)||US(t,r)})}function US(t,e){t.ga.delete(e.path.canonicalString());const n=t.pa.get(e);n!==null&&(kS(t.remoteStore,n),t.pa=t.pa.remove(e),t.ya.delete(n),ow(t))}function _E(t,e,n){for(const r of n)r instanceof jS?(t.wa.addReference(r.key,e),R3(t,r)):r instanceof MS?(J("SyncEngine","Document no longer in limbo: "+r.key),t.wa.removeReference(r.key,e),t.wa.containsKey(r.key)||US(t,r.key)):se()}function R3(t,e){const n=e.key,r=n.path.canonicalString();t.pa.get(n)||t.ga.has(r)||(J("SyncEngine","New document in limbo: "+n),t.ga.add(r),ow(t))}function ow(t){for(;t.ga.size>0&&t.pa.size<t.maxConcurrentLimboResolutions;){const e=t.ga.values().next().value;t.ga.delete(e);const n=new ne(Le.fromString(e)),r=t.Da.next();t.ya.set(r,new x3(n)),t.pa=t.pa.insert(n,r),PS(t.remoteStore,new Si(_r(th(n.path)),r,"TargetPurposeLimboResolution",Fv._e))}}async function ku(t,e,n){const r=ue(t),i=[],s=[],o=[];r.ma.isEmpty()||(r.ma.forEach((a,l)=>{o.push(r.va(l,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const d=Yv.Qi(l.targetId,u);s.push(d)}}))}),await Promise.all(o),r.Va.a_(i),await async function(l,u){const d=ue(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>V.forEach(u,m=>V.forEach(m.ki,w=>d.persistence.referenceDelegate.addReference(h,m.targetId,w)).next(()=>V.forEach(m.qi,w=>d.persistence.referenceDelegate.removeReference(h,m.targetId,w)))))}catch(h){if(!bu(h))throw h;J("LocalStore","Failed to update sequence numbers: "+h)}for(const h of u){const m=h.targetId;if(!h.fromCache){const w=d.ts.get(m),E=w.snapshotVersion,x=w.withLastLimboFreeSnapshotVersion(E);d.ts=d.ts.insert(m,x)}}}(r.localStore,s))}async function N3(t,e){const n=ue(t);if(!n.currentUser.isEqual(e)){J("SyncEngine","User change. New user:",e.toKey());const r=await bS(n.localStore,e);n.currentUser=e,function(s,o){s.ba.forEach(a=>{a.forEach(l=>{l.reject(new Y(L.CANCELLED,o))})}),s.ba.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ku(n,r._s)}}function D3(t,e){const n=ue(t),r=n.ya.get(e);if(r&&r.Ra)return pe().add(r.key);{let i=pe();const s=n.fa.get(e);if(!s)return i;for(const o of s){const a=n.ma.get(o);i=i.unionWith(a.view.ua)}return i}}function O3(t){const e=ue(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=VS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=D3.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=A3.bind(null,e),e.Va.a_=v3.bind(null,e.eventManager),e.Va.Fa=w3.bind(null,e.eventManager),e}function L3(t){const e=ue(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=P3.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=k3.bind(null,e),e}class EE{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=ah(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return zM(this.persistence,new UM,e.initialUser,this.serializer)}createPersistence(e){return new VM(Qv.jr,this.serializer)}createSharedClientState(e){return new YM}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class j3{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>wE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=N3.bind(null,this.syncEngine),await m3(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new y3}()}createDatastore(e){const n=ah(e.databaseInfo.databaseId),r=function(s){return new e3(s)}(e.databaseInfo);return function(s,o,a,l){return new r3(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new s3(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>wE(this.syncEngine,n,0),function(){return gE.D()?new gE:new JM}())}createSyncEngine(e,n){return function(i,s,o,a,l,u,d){const h=new T3(i,s,o,a,l,u);return d&&(h.Ca=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(n){const r=ue(n);J("RemoteStore","RemoteStore shutting down."),r.C_.add(5),await Pu(r),r.F_.shutdown(),r.M_.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):Jr("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M3{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Vt.UNAUTHENTICATED,this.clientId=qb.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{J("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(J("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Y(L.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new zr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=tw(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function qp(t,e){t.asyncQueue.verifyOperationInProgress(),J("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await bS(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function xE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await F3(t);J("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>yE(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>yE(e.remoteStore,s)),t._onlineComponents=e}function V3(t){return t.name==="FirebaseError"?t.code===L.FAILED_PRECONDITION||t.code===L.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function F3(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){J("FirestoreClient","Using user provided OfflineComponentProvider");try{await qp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!V3(n))throw n;Jo("Error using user provided cache. Falling back to memory cache: "+n),await qp(t,new EE)}}else J("FirestoreClient","Using default OfflineComponentProvider"),await qp(t,new EE);return t._offlineComponents}async function BS(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(J("FirestoreClient","Using user provided OnlineComponentProvider"),await xE(t,t._uninitializedComponentsProvider._online)):(J("FirestoreClient","Using default OnlineComponentProvider"),await xE(t,new j3))),t._onlineComponents}function $3(t){return BS(t).then(e=>e.syncEngine)}async function Wd(t){const e=await BS(t),n=e.eventManager;return n.onListen=I3.bind(null,e.syncEngine),n.onUnlisten=S3.bind(null,e.syncEngine),n}function U3(t,e,n={}){const r=new zr;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const d=new aw({next:m=>{o.enqueueAndForget(()=>rw(s,h));const w=m.docs.has(a);!w&&m.fromCache?u.reject(new Y(L.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&m.fromCache&&l&&l.source==="server"?u.reject(new Y(L.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(m)},error:m=>u.reject(m)}),h=new sw(th(a.path),d,{includeMetadataChanges:!0,J_:!0});return nw(s,h)}(await Wd(t),t.asyncQueue,e,n,r)),r.promise}function B3(t,e,n={}){const r=new zr;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const d=new aw({next:m=>{o.enqueueAndForget(()=>rw(s,h)),m.fromCache&&l.source==="server"?u.reject(new Y(L.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(m)},error:m=>u.reject(m)}),h=new sw(a,d,{includeMetadataChanges:!0,J_:!0});return nw(s,h)}(await Wd(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zS(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HS(t,e,n){if(!n)throw new Y(L.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function z3(t,e,n,r){if(e===!0&&r===!0)throw new Y(L.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function IE(t){if(!ne.isDocumentKey(t))throw new Y(L.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function bE(t){if(ne.isDocumentKey(t))throw new Y(L.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function ch(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":se()}function jn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Y(L.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ch(t);throw new Y(L.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SE{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Y(L.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Y(L.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}z3("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=zS((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Y(L.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Y(L.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Y(L.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class dh{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new SE({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Y(L.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new Y(L.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new SE(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new uj;switch(r.type){case"firstParty":return new hj(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Y(L.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=TE.get(n);r&&(J("ComponentProvider","Removing Datastore"),TE.delete(n),r.terminate())}(this),Promise.resolve()}}function H3(t,e,n,r={}){var i;const s=(t=jn(t,dh))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Jo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Vt.MOCK_USER;else{a=j5(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new Y(L.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Vt(u)}t._authCredentials=new cj(new Hb(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Xs(this.firestore,e,this._query)}}class zt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ui(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new zt(this.firestore,e,this._key)}}class Ui extends Xs{constructor(e,n,r){super(e,n,th(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new zt(this.firestore,null,new ne(e))}withConverter(e){return new Ui(this.firestore,e,this._path)}}function Ru(t,e,...n){if(t=Qe(t),HS("collection","path",e),t instanceof dh){const r=Le.fromString(e,...n);return bE(r),new Ui(t,null,r)}{if(!(t instanceof zt||t instanceof Ui))throw new Y(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Le.fromString(e,...n));return bE(r),new Ui(t.firestore,null,r)}}function en(t,e,...n){if(t=Qe(t),arguments.length===1&&(e=qb.newId()),HS("doc","path",e),t instanceof dh){const r=Le.fromString(e,...n);return IE(r),new zt(t,null,new ne(r))}{if(!(t instanceof zt||t instanceof Ui))throw new Y(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Le.fromString(e,...n));return IE(r),new zt(t.firestore,t instanceof Ui?t.converter:null,new ne(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q3{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new CS(this,"async_queue_retry"),this.iu=()=>{const n=Hp();n&&J("AsyncQueue","Visibility state changed to "+n.visibilityState),this.zo.Qo()};const e=Hp();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const n=Hp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});const n=new zr;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}async _u(){if(this.Ya.length!==0){try{await this.Ya[0](),this.Ya.shift(),this.zo.reset()}catch(e){if(!bu(e))throw e;J("AsyncQueue","Operation failed with retryable error: "+e)}this.Ya.length>0&&this.zo.ko(()=>this._u())}}ou(e){const n=this.Ja.then(()=>(this.tu=!0,e().catch(r=>{this.eu=r,this.tu=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Jr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.tu=!1,r))));return this.Ja=n,n}enqueueAfterDelay(e,n,r){this.su(),this.ru.indexOf(e)>-1&&(n=0);const i=ew.createAndSchedule(this,e,n,r,s=>this.au(s));return this.Xa.push(i),i}su(){this.eu&&se()}verifyOperationInProgress(){}async uu(){let e;do e=this.Ja,await e;while(e!==this.Ja)}cu(e){for(const n of this.Xa)if(n.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Xa)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){const n=this.Xa.indexOf(e);this.Xa.splice(n,1)}}function CE(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class $s extends dh{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new q3}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||qS(this),this._firestoreClient.terminate()}}function W3(t,e){const n=typeof t=="object"?t:mv(),r=typeof t=="string"?t:e||"(default)",i=Gs(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=O5("firestore");s&&H3(i,...s)}return i}function fh(t){return t._firestoreClient||qS(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function qS(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,u,d){return new bj(a,l,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,zS(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new M3(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ia(Wt.fromBase64String(e))}catch(n){throw new Y(L.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ia(Wt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Y(L.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ct(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lw{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Y(L.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Y(L.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Te(this._lat,e._lat)||Te(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K3=/^__.*__$/;class G3{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ss(e,this.data,this.fieldMask,n,this.fieldTransforms):new Cu(e,this.data,n,this.fieldTransforms)}}class WS{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ss(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function KS(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw se()}}class mh{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Pu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new mh(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Tu({path:r,du:!1});return i.Au(e),i}Ru(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Tu({path:r,du:!1});return i.Pu(),i}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return Kd(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(e.length===0)throw this.mu("Document fields must not be empty");if(KS(this.Iu)&&K3.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class Q3{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||ah(e)}pu(e,n,r,i=!1){return new mh({Iu:e,methodName:n,gu:r,path:Ct.emptyPath(),du:!1,fu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function uw(t){const e=t._freezeSettings(),n=ah(t._databaseId);return new Q3(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Y3(t,e,n,r,i,s={}){const o=t.pu(s.merge||s.mergeFields?2:0,e,n,i);cw("Data must be an object, but it was:",o,r);const a=GS(r,o);let l,u;if(s.merge)l=new mn(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const d=[];for(const h of s.mergeFields){const m=Hg(e,h,n);if(!o.contains(m))throw new Y(L.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);YS(d,m)||d.push(m)}l=new mn(d),u=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,u=o.fieldTransforms;return new G3(new nn(a),l,u)}class gh extends ph{_toFieldTransform(e){if(e.Iu!==2)throw e.Iu===1?e.mu(`${this._methodName}() can only appear at the top level of your update data`):e.mu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof gh}}function J3(t,e,n){return new mh({Iu:3,gu:e.settings.gu,methodName:t._methodName,du:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class X3 extends ph{constructor(e,n){super(e),this.yu=n}_toFieldTransform(e){const n=J3(this,e,!0),r=this.yu.map(s=>ya(s,n)),i=new ta(r);return new Qj(e.path,i)}isEqual(e){return this===e}}function Z3(t,e,n,r){const i=t.pu(1,e,n);cw("Data must be an object, but it was:",i,r);const s=[],o=nn.empty();Ys(r,(l,u)=>{const d=dw(e,l,n);u=Qe(u);const h=i.Ru(d);if(u instanceof gh)s.push(d);else{const m=ya(u,h);m!=null&&(s.push(d),o.set(d,m))}});const a=new mn(s);return new WS(o,a,i.fieldTransforms)}function eV(t,e,n,r,i,s){const o=t.pu(1,e,n),a=[Hg(e,r,n)],l=[i];if(s.length%2!=0)throw new Y(L.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<s.length;m+=2)a.push(Hg(e,s[m])),l.push(s[m+1]);const u=[],d=nn.empty();for(let m=a.length-1;m>=0;--m)if(!YS(u,a[m])){const w=a[m];let E=l[m];E=Qe(E);const x=o.Ru(w);if(E instanceof gh)u.push(w);else{const I=ya(E,x);I!=null&&(u.push(w),d.set(w,I))}}const h=new mn(u);return new WS(d,h,o.fieldTransforms)}function tV(t,e,n,r=!1){return ya(n,t.pu(r?4:3,e))}function ya(t,e){if(QS(t=Qe(t)))return cw("Unsupported field value:",e,t),GS(t,e);if(t instanceof ph)return function(r,i){if(!KS(i.Iu))throw i.mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.mu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.du&&e.Iu!==4)throw e.mu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=ya(a,i.Vu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Qe(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Wj(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=ct.fromDate(r);return{timestampValue:Hd(i.serializer,s)}}if(r instanceof ct){const s=new ct(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Hd(i.serializer,s)}}if(r instanceof lw)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ia)return{bytesValue:wS(i.serializer,r._byteString)};if(r instanceof zt){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Kv(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.mu(`Unsupported field value: ${ch(r)}`)}(t,e)}function GS(t,e){const n={};return Wb(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ys(t,(r,i)=>{const s=ya(i,e.Eu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function QS(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ct||t instanceof lw||t instanceof ia||t instanceof zt||t instanceof ph)}function cw(t,e,n){if(!QS(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=ch(n);throw r==="an object"?e.mu(t+" a custom object"):e.mu(t+" "+r)}}function Hg(t,e,n){if((e=Qe(e))instanceof hh)return e._internalPath;if(typeof e=="string")return dw(t,e);throw Kd("Field path arguments must be of type string or ",t,!1,void 0,n)}const nV=new RegExp("[~\\*/\\[\\]]");function dw(t,e,n){if(e.search(nV)>=0)throw Kd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new hh(...e.split("."))._internalPath}catch{throw Kd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Kd(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new Y(L.INVALID_ARGUMENT,a+t+l)}function YS(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new zt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new rV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(fw("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class rV extends JS{data(){return super.data()}}function fw(t,e){return typeof e=="string"?dw(t,e):e instanceof hh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XS(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Y(L.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class hw{}class iV extends hw{}function AE(t,e,...n){let r=[];e instanceof hw&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof pw).length,a=s.filter(l=>l instanceof yh).length;if(o>1||o>0&&a>0)throw new Y(L.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class yh extends iV{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new yh(e,n,r)}_apply(e){const n=this._parse(e);return ZS(e._query,n),new Xs(e.firestore,e.converter,jg(e._query,n))}_parse(e){const n=uw(e.firestore);return function(s,o,a,l,u,d,h){let m;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new Y(L.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){kE(h,d);const w=[];for(const E of h)w.push(PE(l,s,E));m={arrayValue:{values:w}}}else m=PE(l,s,h)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||kE(h,d),m=tV(a,o,h,d==="in"||d==="not-in");return st.create(u,d,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function sV(t,e,n){const r=e,i=fw("where",t);return yh._create(i,r,n)}class pw extends hw{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new pw(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:ir.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)ZS(o,l),o=jg(o,l)}(e._query,n),new Xs(e.firestore,e.converter,jg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function PE(t,e,n){if(typeof(n=Qe(n))=="string"){if(n==="")throw new Y(L.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!tS(e)&&n.indexOf("/")!==-1)throw new Y(L.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Le.fromString(n));if(!ne.isDocumentKey(r))throw new Y(L.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return J1(t,new ne(r))}if(n instanceof zt)return J1(t,n._key);throw new Y(L.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ch(n)}.`)}function kE(t,e){if(!Array.isArray(t)||t.length===0)throw new Y(L.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function ZS(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Y(L.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Y(L.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class oV{convertValue(e,n="none"){switch(Fs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return rt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Vs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw se()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ys(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new lw(rt(e.latitude),rt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Uv(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(eu(e));default:return null}}convertTimestamp(e){const n=Ji(e);return new ct(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Le.fromString(e);Re(IS(r));const i=new tu(r.get(1),r.get(3)),s=new ne(r.popFirst(5));return i.isEqual(n)||Jr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aV(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class eC extends JS{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Wc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(fw("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Wc extends eC{data(e={}){return super.data(e)}}class tC{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new rl(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Wc(this._firestore,this._userDataWriter,r.key,r,new rl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Y(L.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new Wc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new rl(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new Wc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new rl(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,d=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:lV(a.type),doc:l,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function lV(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return se()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ni(t){t=jn(t,zt);const e=jn(t.firestore,$s);return U3(fh(e),t._key).then(n=>iC(e,t,n))}class mw extends oV{constructor(e){super(),this.firestore=e}convertBytes(e){return new ia(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new zt(this.firestore,null,n)}}function nC(t){t=jn(t,Xs);const e=jn(t.firestore,$s),n=fh(e),r=new mw(e);return XS(t._query),B3(n,t._query).then(i=>new tC(e,r,t,i))}function va(t,e,n){t=jn(t,zt);const r=jn(t.firestore,$s),i=aV(t.converter,e,n);return rC(r,[Y3(uw(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Er.none())])}function Gd(t,e,n,...r){t=jn(t,zt);const i=jn(t.firestore,$s),s=uw(i);let o;return o=typeof(e=Qe(e))=="string"||e instanceof hh?eV(s,"updateDoc",t._key,e,n,r):Z3(s,"updateDoc",t._key,e),rC(i,[o.toMutation(t._key,Er.exists(!0))])}function gw(t,...e){var n,r,i;t=Qe(t);let s={includeMetadataChanges:!1},o=0;typeof e[o]!="object"||CE(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(CE(e[o])){const h=e[o];e[o]=(n=h.next)===null||n===void 0?void 0:n.bind(h),e[o+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),e[o+2]=(i=h.complete)===null||i===void 0?void 0:i.bind(h)}let l,u,d;if(t instanceof zt)u=jn(t.firestore,$s),d=th(t._key.path),l={next:h=>{e[o]&&e[o](iC(u,t,h))},error:e[o+1],complete:e[o+2]};else{const h=jn(t,Xs);u=jn(h.firestore,$s),d=h._query;const m=new mw(u);l={next:w=>{e[o]&&e[o](new tC(u,m,h,w))},error:e[o+1],complete:e[o+2]},XS(t._query)}return function(m,w,E,x){const I=new aw(x),_=new sw(w,I,E);return m.asyncQueue.enqueueAndForget(async()=>nw(await Wd(m),_)),()=>{I.Na(),m.asyncQueue.enqueueAndForget(async()=>rw(await Wd(m),_))}}(fh(u),d,a,l)}function rC(t,e){return function(r,i){const s=new zr;return r.asyncQueue.enqueueAndForget(async()=>C3(await $3(r),i,s)),s.promise}(fh(t),e)}function iC(t,e,n){const r=n.docs.get(e._key),i=new mw(t);return new eC(t,i,e._key,r,new rl(n.hasPendingWrites,n.fromCache),e.converter)}function uV(...t){return new X3("arrayUnion",t)}(function(e,n=!0){(function(i){pa=i})(da),br(new nr("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new $s(new dj(r.getProvider("auth-internal")),new mj(r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Y(L.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new tu(u.options.projectId,d)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Ln(K1,"4.4.0",e),Ln(K1,"4.4.0","esm2017")})();function yw(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function sC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const cV=sC,oC=new Ks("auth","Firebase",sC());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qd=new Mf("@firebase/auth");function dV(t,...e){Qd.logLevel<=ge.WARN&&Qd.warn(`Auth (${da}): ${t}`,...e)}function Kc(t,...e){Qd.logLevel<=ge.ERROR&&Qd.error(`Auth (${da}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Un(t,...e){throw vw(t,...e)}function Tr(t,...e){return vw(t,...e)}function aC(t,e,n){const r=Object.assign(Object.assign({},cV()),{[e]:n});return new Ks("auth","Firebase",r).create(e,{appName:t.name})}function fV(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Un(t,"argument-error"),aC(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function vw(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return oC.create(t,...e)}function ie(t,e,...n){if(!t)throw vw(e,...n)}function $r(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Kc(e),new Error(e)}function Zr(t,e){t||$r(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qg(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function hV(){return RE()==="http:"||RE()==="https:"}function RE(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pV(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(hV()||DI()||"connection"in navigator)?navigator.onLine:!0}function mV(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Zr(n>e,"Short delay should be less than long delay!"),this.isMobile=M5()||V5()}get(){return pV()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ww(t,e){Zr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;$r("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;$r("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;$r("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gV={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yV=new Nu(3e4,6e4);function ri(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Cr(t,e,n,r,i={}){return uC(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=mu(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),lC.fetch()(cC(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function uC(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},gV),e);try{const i=new wV(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Sc(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Sc(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Sc(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Sc(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw aC(t,d,u);Un(t,d)}}catch(i){if(i instanceof sr)throw i;Un(t,"network-request-failed",{message:String(i)})}}async function Du(t,e,n,r,i={}){const s=await Cr(t,e,n,r,i);return"mfaPendingCredential"in s&&Un(t,"multi-factor-auth-required",{_serverResponse:s}),s}function cC(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?ww(t.config,i):`${t.config.apiScheme}://${i}`}function vV(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class wV{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Tr(this.auth,"network-request-failed")),yV.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Sc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Tr(t,e,r);return i.customData._tokenResponse=n,i}function NE(t){return t!==void 0&&t.enterprise!==void 0}class _V{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return vV(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function EV(t,e){return Cr(t,"GET","/v2/recaptchaConfig",ri(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xV(t,e){return Cr(t,"POST","/v1/accounts:delete",e)}async function TV(t,e){return Cr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function IV(t,e=!1){const n=Qe(t),r=await n.getIdToken(e),i=_w(r);ie(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:vl(Wp(i.auth_time)),issuedAtTime:vl(Wp(i.iat)),expirationTime:vl(Wp(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Wp(t){return Number(t)*1e3}function _w(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Kc("JWT malformed, contained fewer than 3 sections"),null;try{const i=PI(n);return i?JSON.parse(i):(Kc("Failed to decode base64 JWT payload"),null)}catch(i){return Kc("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function bV(t){const e=_w(t);return ie(e,"internal-error"),ie(typeof e.exp<"u","internal-error"),ie(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sa(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof sr&&SV(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function SV({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CV{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=vl(this.lastLoginAt),this.creationTime=vl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yd(t){var e;const n=t.auth,r=await t.getIdToken(),i=await sa(t,TV(n,{idToken:r}));ie(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?kV(s.providerUserInfo):[],a=PV(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),d=l?u:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new dC(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function AV(t){const e=Qe(t);await Yd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function PV(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function kV(t){return t.map(e=>{var{providerId:n}=e,r=yw(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RV(t,e){const n=await uC(t,{},async()=>{const r=mu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=cC(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",lC.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function NV(t,e){return Cr(t,"POST","/v2/accounts:revokeToken",ri(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ie(e.idToken,"internal-error"),ie(typeof e.idToken<"u","internal-error"),ie(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):bV(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return ie(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await RV(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new iu;return r&&(ie(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(ie(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(ie(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new iu,this.toJSON())}_performRefresh(){return $r("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hi(t,e){ie(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class As{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=yw(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new CV(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new dC(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await sa(this,this.stsTokenManager.getToken(this.auth,e));return ie(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return IV(this,e)}reload(){return AV(this)}_assign(e){this!==e&&(ie(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new As(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Yd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await sa(this,xV(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,d;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(i=n.email)!==null&&i!==void 0?i:void 0,w=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,E=(o=n.photoURL)!==null&&o!==void 0?o:void 0,x=(a=n.tenantId)!==null&&a!==void 0?a:void 0,I=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,_=(u=n.createdAt)!==null&&u!==void 0?u:void 0,v=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:T,emailVerified:A,isAnonymous:P,providerData:j,stsTokenManager:M}=n;ie(T&&M,e,"internal-error");const B=iu.fromJSON(this.name,M);ie(typeof T=="string",e,"internal-error"),hi(h,e.name),hi(m,e.name),ie(typeof A=="boolean",e,"internal-error"),ie(typeof P=="boolean",e,"internal-error"),hi(w,e.name),hi(E,e.name),hi(x,e.name),hi(I,e.name),hi(_,e.name),hi(v,e.name);const ee=new As({uid:T,auth:e,email:m,emailVerified:A,displayName:h,isAnonymous:P,photoURL:E,phoneNumber:w,tenantId:x,stsTokenManager:B,createdAt:_,lastLoginAt:v});return j&&Array.isArray(j)&&(ee.providerData=j.map(G=>Object.assign({},G))),I&&(ee._redirectEventId=I),ee}static async _fromIdTokenResponse(e,n,r=!1){const i=new iu;i.updateFromServerResponse(n);const s=new As({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Yd(s),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DE=new Map;function Ur(t){Zr(t instanceof Function,"Expected a class definition");let e=DE.get(t);return e?(Zr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,DE.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}fC.type="NONE";const OE=fC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gc(t,e,n){return`firebase:${t}:${e}:${n}`}class $o{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Gc(this.userKey,i.apiKey,s),this.fullPersistenceKey=Gc("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?As._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new $o(Ur(OE),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||Ur(OE);const o=Gc(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const d=await u._get(o);if(d){const h=As._fromJSON(e,d);u!==s&&(a=h),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new $o(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new $o(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(mC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(hC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(yC(e))return"Blackberry";if(vC(e))return"Webos";if(Ew(e))return"Safari";if((e.includes("chrome/")||pC(e))&&!e.includes("edge/"))return"Chrome";if(gC(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function hC(t=qt()){return/firefox\//i.test(t)}function Ew(t=qt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function pC(t=qt()){return/crios\//i.test(t)}function mC(t=qt()){return/iemobile/i.test(t)}function gC(t=qt()){return/android/i.test(t)}function yC(t=qt()){return/blackberry/i.test(t)}function vC(t=qt()){return/webos/i.test(t)}function vh(t=qt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function DV(t=qt()){var e;return vh(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function OV(){return F5()&&document.documentMode===10}function wC(t=qt()){return vh(t)||gC(t)||vC(t)||yC(t)||/windows phone/i.test(t)||mC(t)}function LV(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _C(t,e=[]){let n;switch(t){case"Browser":n=LE(qt());break;case"Worker":n=`${LE(qt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${da}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jV{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MV(t,e={}){return Cr(t,"GET","/v2/passwordPolicy",ri(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VV=6;class FV{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:VV,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $V{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new jE(this),this.idTokenSubscription=new jE(this),this.beforeStateQueue=new jV(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=oC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ur(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await $o.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ie(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Yd(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=mV()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?Qe(e):null;return n&&ie(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ie(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Ur(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await MV(this),n=new FV(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ks("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await NV(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ur(e)||this._popupRedirectResolver;ie(n,this,"argument-error"),this.redirectPersistenceManager=await $o.create(this,[Ur(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ie(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=_C(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&dV(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ii(t){return Qe(t)}class jE{constructor(e){this.auth=e,this.observer=null,this.addObserver=q5(n=>this.observer=n)}get next(){return ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UV(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function EC(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Tr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",UV().appendChild(r)})}function BV(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const zV="https://www.google.com/recaptcha/enterprise.js?render=",HV="recaptcha-enterprise",qV="NO_RECAPTCHA";class WV{constructor(e){this.type=HV,this.auth=ii(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{EV(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new _V(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;NE(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(qV)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&NE(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}EC(zV+a).then(()=>{i(a,s,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})}}async function ME(t,e,n,r=!1){const i=new WV(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Jd(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await ME(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await ME(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KV(t,e){const n=Gs(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(zl(s,e??{}))return i;Un(i,"already-initialized")}return n.initialize({options:e})}function GV(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ur);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function QV(t,e,n){const r=ii(t);ie(r._canInitEmulator,r,"emulator-config-failed"),ie(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=xC(e),{host:o,port:a}=YV(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||JV()}function xC(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function YV(t){const e=xC(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:VE(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:VE(o)}}}function VE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function JV(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xw{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return $r("not implemented")}_getIdTokenResponse(e){return $r("not implemented")}_linkToIdToken(e,n){return $r("not implemented")}_getReauthenticationResolver(e){return $r("not implemented")}}async function XV(t,e){return Cr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZV(t,e){return Du(t,"POST","/v1/accounts:signInWithPassword",ri(t,e))}async function eF(t,e){return Cr(t,"POST","/v1/accounts:sendOobCode",ri(t,e))}async function tF(t,e){return eF(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nF(t,e){return Du(t,"POST","/v1/accounts:signInWithEmailLink",ri(t,e))}async function rF(t,e){return Du(t,"POST","/v1/accounts:signInWithEmailLink",ri(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su extends xw{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new su(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new su(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Jd(e,n,"signInWithPassword",ZV);case"emailLink":return nF(e,{email:this._email,oobCode:this._password});default:Un(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Jd(e,r,"signUpPassword",XV);case"emailLink":return rF(e,{idToken:n,email:this._email,oobCode:this._password});default:Un(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uo(t,e){return Du(t,"POST","/v1/accounts:signInWithIdp",ri(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iF="http://localhost";class Us extends xw{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Us(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Un("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=yw(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Us(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Uo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Uo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Uo(e,n)}buildRequest(){const e={requestUri:iF,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=mu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sF(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function oF(t){const e=Ja(Xa(t)).link,n=e?Ja(Xa(e)).deep_link_id:null,r=Ja(Xa(t)).deep_link_id;return(r?Ja(Xa(r)).link:null)||r||n||e||t}class Tw{constructor(e){var n,r,i,s,o,a;const l=Ja(Xa(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,d=(r=l.oobCode)!==null&&r!==void 0?r:null,h=sF((i=l.mode)!==null&&i!==void 0?i:null);ie(u&&d&&h,"argument-error"),this.apiKey=u,this.operation=h,this.code=d,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=oF(e);try{return new Tw(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa{constructor(){this.providerId=wa.PROVIDER_ID}static credential(e,n){return su._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Tw.parseLink(n);return ie(r,"argument-error"),su._fromEmailAndCode(e,r.code,r.tenantId)}}wa.PROVIDER_ID="password";wa.EMAIL_PASSWORD_SIGN_IN_METHOD="password";wa.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ou extends Iw{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei extends Ou{constructor(){super("facebook.com")}static credential(e){return Us._fromParams({providerId:Ei.PROVIDER_ID,signInMethod:Ei.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ei.credentialFromTaggedObject(e)}static credentialFromError(e){return Ei.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ei.credential(e.oauthAccessToken)}catch{return null}}}Ei.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ei.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr extends Ou{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Us._fromParams({providerId:jr.PROVIDER_ID,signInMethod:jr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return jr.credentialFromTaggedObject(e)}static credentialFromError(e){return jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return jr.credential(n,r)}catch{return null}}}jr.GOOGLE_SIGN_IN_METHOD="google.com";jr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi extends Ou{constructor(){super("github.com")}static credential(e){return Us._fromParams({providerId:xi.PROVIDER_ID,signInMethod:xi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return xi.credentialFromTaggedObject(e)}static credentialFromError(e){return xi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return xi.credential(e.oauthAccessToken)}catch{return null}}}xi.GITHUB_SIGN_IN_METHOD="github.com";xi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti extends Ou{constructor(){super("twitter.com")}static credential(e,n){return Us._fromParams({providerId:Ti.PROVIDER_ID,signInMethod:Ti.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ti.credentialFromTaggedObject(e)}static credentialFromError(e){return Ti.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ti.credential(n,r)}catch{return null}}}Ti.TWITTER_SIGN_IN_METHOD="twitter.com";Ti.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aF(t,e){return Du(t,"POST","/v1/accounts:signUp",ri(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await As._fromIdTokenResponse(e,r,i),o=FE(r);return new Bs({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=FE(r);return new Bs({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function FE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xd extends sr{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Xd.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Xd(e,n,r,i)}}function TC(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Xd._fromErrorAndOperation(t,s,e,r):s})}async function lF(t,e,n=!1){const r=await sa(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Bs._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uF(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await sa(t,TC(r,i,e,t),n);ie(s.idToken,r,"internal-error");const o=_w(s.idToken);ie(o,r,"internal-error");const{sub:a}=o;return ie(t.uid===a,r,"user-mismatch"),Bs._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Un(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IC(t,e,n=!1){const r="signIn",i=await TC(t,r,e),s=await Bs._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function cF(t,e){return IC(ii(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dF(t,e,n){var r;ie(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),ie(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(ie(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(ie(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bC(t){const e=ii(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function fF(t,e,n){const r=ii(t),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&dF(r,i,n),await Jd(r,i,"getOobCode",tF)}async function hF(t,e,n){const r=ii(t),o=await Jd(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",aF).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&bC(t),l}),a=await Bs._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function pF(t,e,n){return cF(Qe(t),wa.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&bC(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mF(t,e){return Cr(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gF(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Qe(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await sa(r,mF(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function yF(t,e,n,r){return Qe(t).onIdTokenChanged(e,n,r)}function vF(t,e,n){return Qe(t).beforeAuthStateChanged(e,n)}function wF(t,e,n,r){return Qe(t).onAuthStateChanged(e,n,r)}function _F(t){return Qe(t).signOut()}const Zd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SC{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Zd,"1"),this.storage.removeItem(Zd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EF(){const t=qt();return Ew(t)||vh(t)}const xF=1e3,TF=10;class CC extends SC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=EF()&&LV(),this.fallbackToPolling=wC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);OV()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,TF):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},xF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}CC.type="LOCAL";const IF=CC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC extends SC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}AC.type="SESSION";const PC=AC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bF(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new wh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await bF(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}wh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bw(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SF{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=bw("",20);i.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){const m=h;if(m.data.eventId===u)switch(m.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(m.data.response);break;default:clearTimeout(d),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ir(){return window}function CF(t){Ir().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kC(){return typeof Ir().WorkerGlobalScope<"u"&&typeof Ir().importScripts=="function"}async function AF(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function PF(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function kF(){return kC()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RC="firebaseLocalStorageDb",RF=1,ef="firebaseLocalStorage",NC="fbase_key";class Lu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function _h(t,e){return t.transaction([ef],e?"readwrite":"readonly").objectStore(ef)}function NF(){const t=indexedDB.deleteDatabase(RC);return new Lu(t).toPromise()}function Wg(){const t=indexedDB.open(RC,RF);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(ef,{keyPath:NC})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(ef)?e(r):(r.close(),await NF(),e(await Wg()))})})}async function $E(t,e,n){const r=_h(t,!0).put({[NC]:e,value:n});return new Lu(r).toPromise()}async function DF(t,e){const n=_h(t,!1).get(e),r=await new Lu(n).toPromise();return r===void 0?null:r.value}function UE(t,e){const n=_h(t,!0).delete(e);return new Lu(n).toPromise()}const OF=800,LF=3;class DC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Wg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>LF)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return kC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=wh._getInstance(kF()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await AF(),!this.activeServiceWorker)return;this.sender=new SF(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||PF()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Wg();return await $E(e,Zd,"1"),await UE(e,Zd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>$E(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>DF(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>UE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=_h(i,!1).getAll();return new Lu(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),OF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}DC.type="LOCAL";const jF=DC;new Nu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OC(t,e){return e?Ur(e):(ie(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sw extends xw{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Uo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Uo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Uo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function MF(t){return IC(t.auth,new Sw(t),t.bypassAuthState)}function VF(t){const{auth:e,user:n}=t;return ie(n,e,"internal-error"),uF(n,new Sw(t),t.bypassAuthState)}async function FF(t){const{auth:e,user:n}=t;return ie(n,e,"internal-error"),lF(n,new Sw(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LC{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return MF;case"linkViaPopup":case"linkViaRedirect":return FF;case"reauthViaPopup":case"reauthViaRedirect":return VF;default:Un(this.auth,"internal-error")}}resolve(e){Zr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Zr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $F=new Nu(2e3,1e4);async function UF(t,e,n){const r=ii(t);fV(t,e,Iw);const i=OC(r,n);return new xs(r,"signInViaPopup",e,i).executeNotNull()}class xs extends LC{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,xs.currentPopupAction&&xs.currentPopupAction.cancel(),xs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ie(e,this.auth,"internal-error"),e}async onExecution(){Zr(this.filter.length===1,"Popup operations only handle one event");const e=bw();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Tr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Tr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,xs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Tr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,$F.get())};e()}}xs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BF="pendingRedirect",Qc=new Map;class zF extends LC{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Qc.get(this.auth._key());if(!e){try{const r=await HF(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Qc.set(this.auth._key(),e)}return this.bypassAuthState||Qc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function HF(t,e){const n=KF(e),r=WF(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function qF(t,e){Qc.set(t._key(),e)}function WF(t){return Ur(t._redirectPersistence)}function KF(t){return Gc(BF,t.config.apiKey,t.name)}async function GF(t,e,n=!1){const r=ii(t),i=OC(r,e),o=await new zF(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QF=10*60*1e3;class YF{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!JF(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!jC(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Tr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=QF&&this.cachedEventUids.clear(),this.cachedEventUids.has(BE(e))}saveEventToCache(e){this.cachedEventUids.add(BE(e)),this.lastProcessedEventTime=Date.now()}}function BE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function jC({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function JF(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return jC(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XF(t,e={}){return Cr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZF=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,e6=/^https?/;async function t6(t){if(t.config.emulator)return;const{authorizedDomains:e}=await XF(t);for(const n of e)try{if(n6(n))return}catch{}Un(t,"unauthorized-domain")}function n6(t){const e=qg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!e6.test(n))return!1;if(ZF.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r6=new Nu(3e4,6e4);function zE(){const t=Ir().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function i6(t){return new Promise((e,n)=>{var r,i,s;function o(){zE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{zE(),n(Tr(t,"network-request-failed"))},timeout:r6.get()})}if(!((i=(r=Ir().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Ir().gapi)===null||s===void 0)&&s.load)o();else{const a=BV("iframefcb");return Ir()[a]=()=>{gapi.load?o():n(Tr(t,"network-request-failed"))},EC(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Yc=null,e})}let Yc=null;function s6(t){return Yc=Yc||i6(t),Yc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o6=new Nu(5e3,15e3),a6="__/auth/iframe",l6="emulator/auth/iframe",u6={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},c6=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function d6(t){const e=t.config;ie(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?ww(e,l6):`https://${t.config.authDomain}/${a6}`,r={apiKey:e.apiKey,appName:t.name,v:da},i=c6.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${mu(r).slice(1)}`}async function f6(t){const e=await s6(t),n=Ir().gapi;return ie(n,t,"internal-error"),e.open({where:document.body,url:d6(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:u6,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Tr(t,"network-request-failed"),a=Ir().setTimeout(()=>{s(o)},o6.get());function l(){Ir().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h6={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},p6=500,m6=600,g6="_blank",y6="http://localhost";class HE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function v6(t,e,n,r=p6,i=m6){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},h6),{width:r.toString(),height:i.toString(),top:s,left:o}),u=qt().toLowerCase();n&&(a=pC(u)?g6:n),hC(u)&&(e=e||y6,l.scrollbars="yes");const d=Object.entries(l).reduce((m,[w,E])=>`${m}${w}=${E},`,"");if(DV(u)&&a!=="_self")return w6(e||"",a),new HE(null);const h=window.open(e||"",a,d);ie(h,t,"popup-blocked");try{h.focus()}catch{}return new HE(h)}function w6(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _6="__/auth/handler",E6="emulator/auth/handler",x6=encodeURIComponent("fac");async function qE(t,e,n,r,i,s){ie(t.config.authDomain,t,"auth-domain-config-required"),ie(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:da,eventId:i};if(e instanceof Iw){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",H5(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries(s||{}))o[d]=h}if(e instanceof Ou){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),u=l?`#${x6}=${encodeURIComponent(l)}`:"";return`${T6(t)}?${mu(a).slice(1)}${u}`}function T6({config:t}){return t.emulator?ww(t,E6):`https://${t.authDomain}/${_6}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kp="webStorageSupport";class I6{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=PC,this._completeRedirectFn=GF,this._overrideRedirectResult=qF}async _openPopup(e,n,r,i){var s;Zr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await qE(e,n,r,qg(),i);return v6(e,o,bw())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await qE(e,n,r,qg(),i);return CF(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Zr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await f6(e),r=new YF(e);return n.register("authEvent",i=>(ie(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Kp,{type:Kp},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Kp];o!==void 0&&n(!!o),Un(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=t6(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return wC()||Ew()||vh()}}const b6=I6;var WE="@firebase/auth",KE="1.5.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S6{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C6(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function A6(t){br(new nr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ie(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:_C(t)},u=new $V(r,i,s,l);return GV(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),br(new nr("auth-internal",e=>{const n=ii(e.getProvider("auth").getImmediate());return(r=>new S6(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ln(WE,KE,C6(t)),Ln(WE,KE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P6=5*60,k6=NI("authIdTokenMaxAge")||P6;let GE=null;const R6=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>k6)return;const i=n==null?void 0:n.token;GE!==i&&(GE=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function MC(t=mv()){const e=Gs(t,"auth");if(e.isInitialized())return e.getImmediate();const n=KV(t,{popupRedirectResolver:b6,persistence:[jF,IF,PC]}),r=NI("authTokenSyncURL");if(r){const s=R6(r);vF(n,s,()=>s(n.currentUser)),yF(n,o=>s(o))}const i=kI("auth");return i&&QV(n,`http://${i}`),n}A6("Browser");var N6="firebase",D6="10.7.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ln(N6,D6,"app");const O6=(t,e)=>e.some(n=>t instanceof n);let QE,YE;function L6(){return QE||(QE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function j6(){return YE||(YE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const VC=new WeakMap,Kg=new WeakMap,FC=new WeakMap,Gp=new WeakMap,Cw=new WeakMap;function M6(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Bi(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&VC.set(n,t)}).catch(()=>{}),Cw.set(e,t),e}function V6(t){if(Kg.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Kg.set(t,e)}let Gg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Kg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||FC.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Bi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function F6(t){Gg=t(Gg)}function $6(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Qp(this),e,...n);return FC.set(r,e.sort?e.sort():[e]),Bi(r)}:j6().includes(t)?function(...e){return t.apply(Qp(this),e),Bi(VC.get(this))}:function(...e){return Bi(t.apply(Qp(this),e))}}function U6(t){return typeof t=="function"?$6(t):(t instanceof IDBTransaction&&V6(t),O6(t,L6())?new Proxy(t,Gg):t)}function Bi(t){if(t instanceof IDBRequest)return M6(t);if(Gp.has(t))return Gp.get(t);const e=U6(t);return e!==t&&(Gp.set(t,e),Cw.set(e,t)),e}const Qp=t=>Cw.get(t);function B6(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Bi(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Bi(o.result),l.oldVersion,l.newVersion,Bi(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}const z6=["get","getKey","getAll","getAllKeys","count"],H6=["put","add","delete","clear"],Yp=new Map;function JE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Yp.get(e))return Yp.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=H6.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||z6.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return Yp.set(e,s),s}F6(t=>({...t,get:(e,n,r)=>JE(e,n)||t.get(e,n,r),has:(e,n)=>!!JE(e,n)||t.has(e,n)}));const $C="@firebase/installations",Aw="0.6.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UC=1e4,BC=`w:${Aw}`,zC="FIS_v2",q6="https://firebaseinstallations.googleapis.com/v1",W6=60*60*1e3,K6="installations",G6="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q6={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},zs=new Ks(K6,G6,Q6);function HC(t){return t instanceof sr&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qC({projectId:t}){return`${q6}/projects/${t}/installations`}function WC(t){return{token:t.token,requestStatus:2,expiresIn:J6(t.expiresIn),creationTime:Date.now()}}async function KC(t,e){const r=(await e.json()).error;return zs.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function GC({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function Y6(t,{refreshToken:e}){const n=GC(t);return n.append("Authorization",X6(e)),n}async function QC(t){const e=await t();return e.status>=500&&e.status<600?t():e}function J6(t){return Number(t.replace("s","000"))}function X6(t){return`${zC} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z6({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=qC(t),i=GC(t),s=e.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={fid:n,authVersion:zC,appId:t.appId,sdkVersion:BC},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await QC(()=>fetch(r,a));if(l.ok){const u=await l.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:WC(u.authToken)}}else throw await KC("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YC(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e9(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t9=/^[cdef][\w-]{21}$/,Qg="";function n9(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=r9(t);return t9.test(n)?n:Qg}catch{return Qg}}function r9(t){return e9(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eh(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JC=new Map;function XC(t,e){const n=Eh(t);ZC(n,e),i9(n,e)}function ZC(t,e){const n=JC.get(t);if(n)for(const r of n)r(e)}function i9(t,e){const n=s9();n&&n.postMessage({key:t,fid:e}),o9()}let Ts=null;function s9(){return!Ts&&"BroadcastChannel"in self&&(Ts=new BroadcastChannel("[Firebase] FID Change"),Ts.onmessage=t=>{ZC(t.data.key,t.data.fid)}),Ts}function o9(){JC.size===0&&Ts&&(Ts.close(),Ts=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a9="firebase-installations-database",l9=1,Hs="firebase-installations-store";let Jp=null;function Pw(){return Jp||(Jp=B6(a9,l9,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Hs)}}})),Jp}async function tf(t,e){const n=Eh(t),i=(await Pw()).transaction(Hs,"readwrite"),s=i.objectStore(Hs),o=await s.get(n);return await s.put(e,n),await i.done,(!o||o.fid!==e.fid)&&XC(t,e.fid),e}async function eA(t){const e=Eh(t),r=(await Pw()).transaction(Hs,"readwrite");await r.objectStore(Hs).delete(e),await r.done}async function xh(t,e){const n=Eh(t),i=(await Pw()).transaction(Hs,"readwrite"),s=i.objectStore(Hs),o=await s.get(n),a=e(o);return a===void 0?await s.delete(n):await s.put(a,n),await i.done,a&&(!o||o.fid!==a.fid)&&XC(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kw(t){let e;const n=await xh(t.appConfig,r=>{const i=u9(r),s=c9(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===Qg?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function u9(t){const e=t||{fid:n9(),registrationStatus:0};return tA(e)}function c9(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(zs.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=d9(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:f9(t)}:{installationEntry:e}}async function d9(t,e){try{const n=await Z6(t,e);return tf(t.appConfig,n)}catch(n){throw HC(n)&&n.customData.serverCode===409?await eA(t.appConfig):await tf(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function f9(t){let e=await XE(t.appConfig);for(;e.registrationStatus===1;)await YC(100),e=await XE(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await kw(t);return r||n}return e}function XE(t){return xh(t,e=>{if(!e)throw zs.create("installation-not-found");return tA(e)})}function tA(t){return h9(t)?{fid:t.fid,registrationStatus:0}:t}function h9(t){return t.registrationStatus===1&&t.registrationTime+UC<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p9({appConfig:t,heartbeatServiceProvider:e},n){const r=m9(t,n),i=Y6(t,n),s=e.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={installation:{sdkVersion:BC,appId:t.appId}},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await QC(()=>fetch(r,a));if(l.ok){const u=await l.json();return WC(u)}else throw await KC("Generate Auth Token",l)}function m9(t,{fid:e}){return`${qC(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rw(t,e=!1){let n;const r=await xh(t.appConfig,s=>{if(!nA(s))throw zs.create("not-registered");const o=s.authToken;if(!e&&v9(o))return s;if(o.requestStatus===1)return n=g9(t,e),s;{if(!navigator.onLine)throw zs.create("app-offline");const a=_9(s);return n=y9(t,a),a}});return n?await n:r.authToken}async function g9(t,e){let n=await ZE(t.appConfig);for(;n.authToken.requestStatus===1;)await YC(100),n=await ZE(t.appConfig);const r=n.authToken;return r.requestStatus===0?Rw(t,e):r}function ZE(t){return xh(t,e=>{if(!nA(e))throw zs.create("not-registered");const n=e.authToken;return E9(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function y9(t,e){try{const n=await p9(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await tf(t.appConfig,r),n}catch(n){if(HC(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await eA(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await tf(t.appConfig,r)}throw n}}function nA(t){return t!==void 0&&t.registrationStatus===2}function v9(t){return t.requestStatus===2&&!w9(t)}function w9(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+W6}function _9(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function E9(t){return t.requestStatus===1&&t.requestTime+UC<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x9(t){const e=t,{installationEntry:n,registrationPromise:r}=await kw(e);return r?r.catch(console.error):Rw(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T9(t,e=!1){const n=t;return await I9(n),(await Rw(n,e)).token}async function I9(t){const{registrationPromise:e}=await kw(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b9(t){if(!t||!t.options)throw Xp("App Configuration");if(!t.name)throw Xp("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Xp(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Xp(t){return zs.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rA="installations",S9="installations-internal",C9=t=>{const e=t.getProvider("app").getImmediate(),n=b9(e),r=Gs(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},A9=t=>{const e=t.getProvider("app").getImmediate(),n=Gs(e,rA).getImmediate();return{getId:()=>x9(n),getToken:i=>T9(n,i)}};function P9(){br(new nr(rA,C9,"PUBLIC")),br(new nr(S9,A9,"PRIVATE"))}P9();Ln($C,Aw);Ln($C,Aw,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nf="analytics",k9="firebase_id",R9="origin",N9=60*1e3,D9="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Nw="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ln=new Mf("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O9={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},vn=new Ks("analytics","Analytics",O9);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L9(t){if(!t.startsWith(Nw)){const e=vn.create("invalid-gtag-resource",{gtagURL:t});return ln.warn(e.message),""}return t}function iA(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function j9(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function M9(t,e){const n=j9("firebase-js-sdk-policy",{createScriptURL:L9}),r=document.createElement("script"),i=`${Nw}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function V9(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function F9(t,e,n,r,i,s){const o=r[i];try{if(o)await e[o];else{const l=(await iA(n)).find(u=>u.measurementId===i);l&&await e[l.appId]}}catch(a){ln.error(a)}t("config",i,s)}async function $9(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=await iA(n);for(const l of o){const u=a.find(h=>h.measurementId===l),d=u&&e[u.appId];if(d)s.push(d);else{s=[];break}}}s.length===0&&(s=Object.values(e)),await Promise.all(s),t("event",r,i||{})}catch(s){ln.error(s)}}function U9(t,e,n,r){async function i(s,...o){try{if(s==="event"){const[a,l]=o;await $9(t,e,n,a,l)}else if(s==="config"){const[a,l]=o;await F9(t,e,n,r,a,l)}else if(s==="consent"){const[a]=o;t("consent","update",a)}else if(s==="get"){const[a,l,u]=o;t("get",a,l,u)}else if(s==="set"){const[a]=o;t("set",a)}else t(s,...o)}catch(a){ln.error(a)}}return i}function B9(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=U9(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}function z9(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Nw)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H9=30,q9=1e3;class W9{constructor(e={},n=q9){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const sA=new W9;function K9(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function G9(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:K9(r)},s=D9.replace("{app-id}",n),o=await fetch(s,i);if(o.status!==200&&o.status!==304){let a="";try{const l=await o.json();!((e=l.error)===null||e===void 0)&&e.message&&(a=l.error.message)}catch{}throw vn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}async function Q9(t,e=sA,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw vn.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw vn.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new X9;return setTimeout(async()=>{a.abort()},n!==void 0?n:N9),oA({appId:r,apiKey:i,measurementId:s},o,a,e)}async function oA(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=sA){var s;const{appId:o,measurementId:a}=t;try{await Y9(r,e)}catch(l){if(a)return ln.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:o,measurementId:a};throw l}try{const l=await G9(t);return i.deleteThrottleMetadata(o),l}catch(l){const u=l;if(!J9(u)){if(i.deleteThrottleMetadata(o),a)return ln.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:o,measurementId:a};throw l}const d=Number((s=u==null?void 0:u.customData)===null||s===void 0?void 0:s.httpStatus)===503?b1(n,i.intervalMillis,H9):b1(n,i.intervalMillis),h={throttleEndTimeMillis:Date.now()+d,backoffCount:n+1};return i.setThrottleMetadata(o,h),ln.debug(`Calling attemptFetch again in ${d} millis`),oA(t,h,r,i)}}function Y9(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(vn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function J9(t){if(!(t instanceof sr)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class X9{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function Z9(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const s=await e,o=Object.assign(Object.assign({},r),{send_to:s});t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e$(){if(OI())try{await LI()}catch(t){return ln.warn(vn.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return ln.warn(vn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function t$(t,e,n,r,i,s,o){var a;const l=Q9(t);l.then(w=>{n[w.measurementId]=w.appId,t.options.measurementId&&w.measurementId!==t.options.measurementId&&ln.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${w.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(w=>ln.error(w)),e.push(l);const u=e$().then(w=>{if(w)return r.getId()}),[d,h]=await Promise.all([l,u]);z9(s)||M9(s,d.measurementId),i("js",new Date);const m=(a=o==null?void 0:o.config)!==null&&a!==void 0?a:{};return m[R9]="firebase",m.update=!0,h!=null&&(m[k9]=h),i("config",d.measurementId,m),d.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n${constructor(e){this.app=e}_delete(){return delete wl[this.app.options.appId],Promise.resolve()}}let wl={},ex=[];const tx={};let Zp="dataLayer",r$="gtag",nx,aA,rx=!1;function i$(){const t=[];if(DI()&&t.push("This is a browser extension environment."),$5()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=vn.create("invalid-analytics-context",{errorInfo:e});ln.warn(n.message)}}function s$(t,e,n){i$();const r=t.options.appId;if(!r)throw vn.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)ln.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw vn.create("no-api-key");if(wl[r]!=null)throw vn.create("already-exists",{id:r});if(!rx){V9(Zp);const{wrappedGtag:s,gtagCore:o}=B9(wl,ex,tx,Zp,r$);aA=s,nx=o,rx=!0}return wl[r]=t$(t,ex,tx,e,nx,Zp,n),new n$(t)}function o$(t=mv()){t=Qe(t);const e=Gs(t,nf);return e.isInitialized()?e.getImmediate():a$(t)}function a$(t,e={}){const n=Gs(t,nf);if(n.isInitialized()){const i=n.getImmediate();if(zl(e,n.getOptions()))return i;throw vn.create("already-initialized")}return n.initialize({options:e})}function l$(t,e,n,r){t=Qe(t),Z9(aA,wl[t.app.options.appId],e,n,r).catch(i=>ln.error(i))}const ix="@firebase/analytics",sx="0.10.0";function u$(){br(new nr(nf,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return s$(r,i,n)},"PUBLIC")),br(new nr("analytics-internal",t,"PRIVATE")),Ln(ix,sx),Ln(ix,sx,"esm2017");function t(e){try{const n=e.getProvider(nf).getImmediate();return{logEvent:(r,i,s)=>l$(n,r,i,s)}}catch(n){throw vn.create("interop-component-reg-failed",{reason:n})}}}u$();const c$={apiKey:"AIzaSyA_Mo2SKOIkWYyaDDw4iILnjdXb8Q_ZjKU",authDomain:"vitalfitapp-77225.firebaseapp.com",projectId:"vitalfitapp-77225",storageBucket:"vitalfitapp-77225.appspot.com",messagingSenderId:"558817686410",appId:"1:558817686410:web:b1cd87acbf95af845ace73",measurementId:"G-62Y0Q89LME"},Dw=VI(c$),oa=MC(Dw),Nt=W3(Dw);o$(Dw);const d$=new jr,f$=async()=>{try{const t=await UF(oa,d$),{displayName:e,email:n,photoURL:r,uid:i}=t.user;return{ok:!0,displayName:e,email:n,photoURL:r,uid:i}}catch(t){return t.code,{ok:!1,errorMessage:t.message}}},h$=async(t,e,n)=>{try{const r=await hF(oa,t,e),{uid:i,photoURL:s}=r.user;return await gF(oa.currentUser,{displayName:n}),{ok:!0,displayName:n,email:t,photoURL:s,uid:i}}catch(r){const i=r.code;return{ok:!1,errorMessage:r.message,errorCode:i}}},p$=async(t,e)=>{try{const n=await pF(oa,t,e),{uid:r,displayName:i,photoURL:s}=n.user;return{ok:!0,uid:r,displayName:i,photoURL:s}}catch(n){const r=n.code;return{ok:!1,errorMessage:n.message,errorCode:r}}},m$=async t=>{try{const e=await fF(oa,t);return{ok:!0,successMessage:"Password reset email sent!"}}catch(e){const n=e.code;return{ok:!1,errorMessage:e.message,errorCode:n}}},Ow=async t=>{try{const e=en(Nt,"users",t.id);await va(e,t)}catch(e){console.log(e)}},lA=async t=>{try{const e=en(Nt,"users",t);return(await ni(e)).data()}catch(e){console.log(e.message)}},g$=(t,e)=>async n=>{n(SI());const{ok:r,uid:i,photoURL:s,displayName:o,errorCode:a}=await p$(t,e),u=(await lA(i)).role||"user";if(!r)return n(bI(a));n(fv({email:t,uid:i,photoURL:s,displayName:o,role:u}))},y$=()=>async t=>{t(S5());const e=await f$();t(fv(e))},v$=(t,e,n,r="user")=>async i=>{i(SI());const{ok:s,uid:o,photoURL:a,errorCode:l}=await h$(t,e,n);if(await Ow({email:t,id:o,photoURL:a,displayName:n,role:r}),!s)return i(bI(l));i(fv({email:t,uid:o,photoURL:a,displayName:n,role:r}))},uA=cv({name:"orders",initialState:{orders:[],currentOrder:[],onOrder:{},totalPriceOrder:0,orderWindow:!1},reducers:{checkOutOrder:(t,e)=>{t.currentOrder=e.payload,t.orderWindow=!0},getCurrentOrder:(t,e)=>{t.onOrder=e.payload},getOrders:(t,e)=>{t.orders=e.payload},saveOrder:(t,e)=>{t.orders=[e.payload,...t.orders]},passTotalPrice:(t,e)=>{t.totalPriceOrder=e.payload}}});uA.actions;const cA=cv({name:"product",initialState:{products:[],copyProducts:[],categories:[],product:{},loading:!0,currentPage:1,itemsPerPage:8,totalPages:0,shopListOpen:!1,shoppingCart:[],countTotal:0,search:"",filters:{category:"",minPrice:"",maxPrice:""},sorts:{sortByName:"",sortByPrice:""}},reducers:{startLoading:t=>{t.loading=!0},setProducts:(t,e)=>{t.products=e.payload,t.copyProducts.length||(t.copyProducts=e.payload),t.totalPages=Math.ceil(e.payload.length/8),t.loading=!1},setCategories:(t,e)=>{t.categories=e.payload},setCurrentPage:(t,e)=>{t.currentPage=e.payload},findbyProductById:(t,e)=>{t.product=e.payload,t.loading=!1},itemsAdded:(t,e)=>{const n=e.payload,r=t.shoppingCart.find(i=>i.id===n.id);r?r.count++:t.shoppingCart.push({...n,count:1}),t.countTotal+=1},removeItem:(t,e)=>{const n=e.payload,r=t.shoppingCart.find(i=>i.id===n);r&&(r.count--,r.count===0&&(t.shoppingCart=t.shoppingCart.filter(i=>i.id!==n)),t.countTotal-=1)},handleShopList:(t,e)=>{t.shopListOpen=e.payload},cleanEverything:(t,e)=>{t.shoppingCart=[],t.countTotal=0},setFilters:(t,e)=>{t.filters=e.payload},setSorts:(t,e)=>{t.sorts=e.payload},setSearch:(t,e)=>{t.search=e.payload},resetFilters:(t,e)=>{t.filters={category:"",minPrice:"",maxPrice:""}},resetSearch:(t,e)=>{t.search=""},resetSorts:(t,e)=>{t.sorts={sortByName:"",sortByPrice:""}}}}),{setProducts:w$,setCategories:_$,startLoading:dA,findbyProductById:E$,handleShopList:PH,itemsAdded:kH,removeItem:RH,setCurrentPage:fA,cleanEverything:NH,setFilters:x$,resetFilters:T$,setSorts:I$,setSearch:b$,resetSorts:S$,resetSearch:C$}=cA.actions;function hA(t,e){return function(){return t.apply(e,arguments)}}const{toString:A$}=Object.prototype,{getPrototypeOf:Lw}=Object,Th=(t=>e=>{const n=A$.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Ar=t=>(t=t.toLowerCase(),e=>Th(e)===t),Ih=t=>e=>typeof e===t,{isArray:_a}=Array,ou=Ih("undefined");function P$(t){return t!==null&&!ou(t)&&t.constructor!==null&&!ou(t.constructor)&&Mn(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const pA=Ar("ArrayBuffer");function k$(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&pA(t.buffer),e}const R$=Ih("string"),Mn=Ih("function"),mA=Ih("number"),bh=t=>t!==null&&typeof t=="object",N$=t=>t===!0||t===!1,Jc=t=>{if(Th(t)!=="object")return!1;const e=Lw(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},D$=Ar("Date"),O$=Ar("File"),L$=Ar("Blob"),j$=Ar("FileList"),M$=t=>bh(t)&&Mn(t.pipe),V$=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Mn(t.append)&&((e=Th(t))==="formdata"||e==="object"&&Mn(t.toString)&&t.toString()==="[object FormData]"))},F$=Ar("URLSearchParams"),$$=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ju(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),_a(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{const s=n?Object.getOwnPropertyNames(t):Object.keys(t),o=s.length;let a;for(r=0;r<o;r++)a=s[r],e.call(null,t[a],a,t)}}function gA(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const yA=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),vA=t=>!ou(t)&&t!==yA;function Yg(){const{caseless:t}=vA(this)&&this||{},e={},n=(r,i)=>{const s=t&&gA(e,i)||i;Jc(e[s])&&Jc(r)?e[s]=Yg(e[s],r):Jc(r)?e[s]=Yg({},r):_a(r)?e[s]=r.slice():e[s]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&ju(arguments[r],n);return e}const U$=(t,e,n,{allOwnKeys:r}={})=>(ju(e,(i,s)=>{n&&Mn(i)?t[s]=hA(i,n):t[s]=i},{allOwnKeys:r}),t),B$=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),z$=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},H$=(t,e,n,r)=>{let i,s,o;const a={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)o=i[s],(!r||r(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=n!==!1&&Lw(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},q$=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},W$=t=>{if(!t)return null;if(_a(t))return t;let e=t.length;if(!mA(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},K$=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Lw(Uint8Array)),G$=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},Q$=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},Y$=Ar("HTMLFormElement"),J$=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),ox=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),X$=Ar("RegExp"),wA=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};ju(n,(i,s)=>{let o;(o=e(i,s,t))!==!1&&(r[s]=o||i)}),Object.defineProperties(t,r)},Z$=t=>{wA(t,(e,n)=>{if(Mn(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(Mn(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},eU=(t,e)=>{const n={},r=i=>{i.forEach(s=>{n[s]=!0})};return _a(t)?r(t):r(String(t).split(e)),n},tU=()=>{},nU=(t,e)=>(t=+t,Number.isFinite(t)?t:e),em="abcdefghijklmnopqrstuvwxyz",ax="0123456789",_A={DIGIT:ax,ALPHA:em,ALPHA_DIGIT:em+em.toUpperCase()+ax},rU=(t=16,e=_A.ALPHA_DIGIT)=>{let n="";const{length:r}=e;for(;t--;)n+=e[Math.random()*r|0];return n};function iU(t){return!!(t&&Mn(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const sU=t=>{const e=new Array(10),n=(r,i)=>{if(bh(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const s=_a(r)?[]:{};return ju(r,(o,a)=>{const l=n(o,i+1);!ou(l)&&(s[a]=l)}),e[i]=void 0,s}}return r};return n(t,0)},oU=Ar("AsyncFunction"),aU=t=>t&&(bh(t)||Mn(t))&&Mn(t.then)&&Mn(t.catch),O={isArray:_a,isArrayBuffer:pA,isBuffer:P$,isFormData:V$,isArrayBufferView:k$,isString:R$,isNumber:mA,isBoolean:N$,isObject:bh,isPlainObject:Jc,isUndefined:ou,isDate:D$,isFile:O$,isBlob:L$,isRegExp:X$,isFunction:Mn,isStream:M$,isURLSearchParams:F$,isTypedArray:K$,isFileList:j$,forEach:ju,merge:Yg,extend:U$,trim:$$,stripBOM:B$,inherits:z$,toFlatObject:H$,kindOf:Th,kindOfTest:Ar,endsWith:q$,toArray:W$,forEachEntry:G$,matchAll:Q$,isHTMLForm:Y$,hasOwnProperty:ox,hasOwnProp:ox,reduceDescriptors:wA,freezeMethods:Z$,toObjectSet:eU,toCamelCase:J$,noop:tU,toFiniteNumber:nU,findKey:gA,global:yA,isContextDefined:vA,ALPHABET:_A,generateString:rU,isSpecCompliantForm:iU,toJSONObject:sU,isAsyncFn:oU,isThenable:aU};function ve(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}O.inherits(ve,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:O.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const EA=ve.prototype,xA={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{xA[t]={value:t}});Object.defineProperties(ve,xA);Object.defineProperty(EA,"isAxiosError",{value:!0});ve.from=(t,e,n,r,i,s)=>{const o=Object.create(EA);return O.toFlatObject(t,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),ve.call(o,t.message,e,n,r,i),o.cause=t,o.name=t.name,s&&Object.assign(o,s),o};const lU=null;function Jg(t){return O.isPlainObject(t)||O.isArray(t)}function TA(t){return O.endsWith(t,"[]")?t.slice(0,-2):t}function lx(t,e,n){return t?t.concat(e).map(function(i,s){return i=TA(i),!n&&s?"["+i+"]":i}).join(n?".":""):e}function uU(t){return O.isArray(t)&&!t.some(Jg)}const cU=O.toFlatObject(O,{},null,function(e){return/^is[A-Z]/.test(e)});function Sh(t,e,n){if(!O.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=O.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(x,I){return!O.isUndefined(I[x])});const r=n.metaTokens,i=n.visitor||d,s=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&O.isSpecCompliantForm(e);if(!O.isFunction(i))throw new TypeError("visitor must be a function");function u(E){if(E===null)return"";if(O.isDate(E))return E.toISOString();if(!l&&O.isBlob(E))throw new ve("Blob is not supported. Use a Buffer instead.");return O.isArrayBuffer(E)||O.isTypedArray(E)?l&&typeof Blob=="function"?new Blob([E]):Buffer.from(E):E}function d(E,x,I){let _=E;if(E&&!I&&typeof E=="object"){if(O.endsWith(x,"{}"))x=r?x:x.slice(0,-2),E=JSON.stringify(E);else if(O.isArray(E)&&uU(E)||(O.isFileList(E)||O.endsWith(x,"[]"))&&(_=O.toArray(E)))return x=TA(x),_.forEach(function(T,A){!(O.isUndefined(T)||T===null)&&e.append(o===!0?lx([x],A,s):o===null?x:x+"[]",u(T))}),!1}return Jg(E)?!0:(e.append(lx(I,x,s),u(E)),!1)}const h=[],m=Object.assign(cU,{defaultVisitor:d,convertValue:u,isVisitable:Jg});function w(E,x){if(!O.isUndefined(E)){if(h.indexOf(E)!==-1)throw Error("Circular reference detected in "+x.join("."));h.push(E),O.forEach(E,function(_,v){(!(O.isUndefined(_)||_===null)&&i.call(e,_,O.isString(v)?v.trim():v,x,m))===!0&&w(_,x?x.concat(v):[v])}),h.pop()}}if(!O.isObject(t))throw new TypeError("data must be an object");return w(t),e}function ux(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function jw(t,e){this._pairs=[],t&&Sh(t,this,e)}const IA=jw.prototype;IA.append=function(e,n){this._pairs.push([e,n])};IA.toString=function(e){const n=e?function(r){return e.call(this,r,ux)}:ux;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function dU(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function bA(t,e,n){if(!e)return t;const r=n&&n.encode||dU,i=n&&n.serialize;let s;if(i?s=i(e,n):s=O.isURLSearchParams(e)?e.toString():new jw(e,n).toString(r),s){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class fU{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){O.forEach(this.handlers,function(r){r!==null&&e(r)})}}const cx=fU,SA={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},hU=typeof URLSearchParams<"u"?URLSearchParams:jw,pU=typeof FormData<"u"?FormData:null,mU=typeof Blob<"u"?Blob:null,gU={isBrowser:!0,classes:{URLSearchParams:hU,FormData:pU,Blob:mU},protocols:["http","https","file","blob","url","data"]},CA=typeof window<"u"&&typeof document<"u",yU=(t=>CA&&["ReactNative","NativeScript","NS"].indexOf(t)<0)(typeof navigator<"u"&&navigator.product),vU=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),wU=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:CA,hasStandardBrowserEnv:yU,hasStandardBrowserWebWorkerEnv:vU},Symbol.toStringTag,{value:"Module"})),gr={...wU,...gU};function _U(t,e){return Sh(t,new gr.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,s){return gr.isNode&&O.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function EU(t){return O.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function xU(t){const e={},n=Object.keys(t);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],e[s]=t[s];return e}function AA(t){function e(n,r,i,s){let o=n[s++];const a=Number.isFinite(+o),l=s>=n.length;return o=!o&&O.isArray(i)?i.length:o,l?(O.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!a):((!i[o]||!O.isObject(i[o]))&&(i[o]=[]),e(n,r,i[o],s)&&O.isArray(i[o])&&(i[o]=xU(i[o])),!a)}if(O.isFormData(t)&&O.isFunction(t.entries)){const n={};return O.forEachEntry(t,(r,i)=>{e(EU(r),i,n,0)}),n}return null}function TU(t,e,n){if(O.isString(t))try{return(e||JSON.parse)(t),O.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const Mw={transitional:SA,adapter:["xhr","http"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,s=O.isObject(e);if(s&&O.isHTMLForm(e)&&(e=new FormData(e)),O.isFormData(e))return i&&i?JSON.stringify(AA(e)):e;if(O.isArrayBuffer(e)||O.isBuffer(e)||O.isStream(e)||O.isFile(e)||O.isBlob(e))return e;if(O.isArrayBufferView(e))return e.buffer;if(O.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return _U(e,this.formSerializer).toString();if((a=O.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Sh(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||i?(n.setContentType("application/json",!1),TU(e)):e}],transformResponse:[function(e){const n=this.transitional||Mw.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(e&&O.isString(e)&&(r&&!this.responseType||i)){const o=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?ve.from(a,ve.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:gr.classes.FormData,Blob:gr.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};O.forEach(["delete","get","head","post","put","patch"],t=>{Mw.headers[t]={}});const Vw=Mw,IU=O.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),bU=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(o){i=o.indexOf(":"),n=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!n||e[n]&&IU[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},dx=Symbol("internals");function za(t){return t&&String(t).trim().toLowerCase()}function Xc(t){return t===!1||t==null?t:O.isArray(t)?t.map(Xc):String(t)}function SU(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const CU=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function tm(t,e,n,r,i){if(O.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!O.isString(e)){if(O.isString(r))return e.indexOf(r)!==-1;if(O.isRegExp(r))return r.test(e)}}function AU(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function PU(t,e){const n=O.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,s,o){return this[r].call(this,e,i,s,o)},configurable:!0})})}class Ch{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function s(a,l,u){const d=za(l);if(!d)throw new Error("header name must be a non-empty string");const h=O.findKey(i,d);(!h||i[h]===void 0||u===!0||u===void 0&&i[h]!==!1)&&(i[h||l]=Xc(a))}const o=(a,l)=>O.forEach(a,(u,d)=>s(u,d,l));return O.isPlainObject(e)||e instanceof this.constructor?o(e,n):O.isString(e)&&(e=e.trim())&&!CU(e)?o(bU(e),n):e!=null&&s(n,e,r),this}get(e,n){if(e=za(e),e){const r=O.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return SU(i);if(O.isFunction(n))return n.call(this,i,r);if(O.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=za(e),e){const r=O.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||tm(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function s(o){if(o=za(o),o){const a=O.findKey(r,o);a&&(!n||tm(r,r[a],a,n))&&(delete r[a],i=!0)}}return O.isArray(e)?e.forEach(s):s(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const s=n[r];(!e||tm(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const n=this,r={};return O.forEach(this,(i,s)=>{const o=O.findKey(r,s);if(o){n[o]=Xc(i),delete n[s];return}const a=e?AU(s):String(s).trim();a!==s&&delete n[s],n[a]=Xc(i),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return O.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&O.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[dx]=this[dx]={accessors:{}}).accessors,i=this.prototype;function s(o){const a=za(o);r[a]||(PU(i,o),r[a]=!0)}return O.isArray(e)?e.forEach(s):s(e),this}}Ch.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);O.reduceDescriptors(Ch.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});O.freezeMethods(Ch);const Hr=Ch;function nm(t,e){const n=this||Vw,r=e||n,i=Hr.from(r.headers);let s=r.data;return O.forEach(t,function(a){s=a.call(n,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function PA(t){return!!(t&&t.__CANCEL__)}function Mu(t,e,n){ve.call(this,t??"canceled",ve.ERR_CANCELED,e,n),this.name="CanceledError"}O.inherits(Mu,ve,{__CANCEL__:!0});function kU(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new ve("Request failed with status code "+n.status,[ve.ERR_BAD_REQUEST,ve.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const RU=gr.hasStandardBrowserEnv?{write(t,e,n,r,i,s){const o=[t+"="+encodeURIComponent(e)];O.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),O.isString(r)&&o.push("path="+r),O.isString(i)&&o.push("domain="+i),s===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function NU(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function DU(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}function kA(t,e){return t&&!NU(e)?DU(t,e):e}const OU=gr.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let r;function i(s){let o=s;return e&&(n.setAttribute("href",o),o=n.href),n.setAttribute("href",o),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=i(window.location.href),function(o){const a=O.isString(o)?i(o):o;return a.protocol===r.protocol&&a.host===r.host}}():function(){return function(){return!0}}();function LU(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function jU(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,s=0,o;return e=e!==void 0?e:1e3,function(l){const u=Date.now(),d=r[s];o||(o=u),n[i]=l,r[i]=u;let h=s,m=0;for(;h!==i;)m+=n[h++],h=h%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),u-o<e)return;const w=d&&u-d;return w?Math.round(m*1e3/w):void 0}}function fx(t,e){let n=0;const r=jU(50,250);return i=>{const s=i.loaded,o=i.lengthComputable?i.total:void 0,a=s-n,l=r(a),u=s<=o;n=s;const d={loaded:s,total:o,progress:o?s/o:void 0,bytes:a,rate:l||void 0,estimated:l&&o&&u?(o-s)/l:void 0,event:i};d[e?"download":"upload"]=!0,t(d)}}const MU=typeof XMLHttpRequest<"u",VU=MU&&function(t){return new Promise(function(n,r){let i=t.data;const s=Hr.from(t.headers).normalize();let{responseType:o,withXSRFToken:a}=t,l;function u(){t.cancelToken&&t.cancelToken.unsubscribe(l),t.signal&&t.signal.removeEventListener("abort",l)}let d;if(O.isFormData(i)){if(gr.hasStandardBrowserEnv||gr.hasStandardBrowserWebWorkerEnv)s.setContentType(!1);else if((d=s.getContentType())!==!1){const[x,...I]=d?d.split(";").map(_=>_.trim()).filter(Boolean):[];s.setContentType([x||"multipart/form-data",...I].join("; "))}}let h=new XMLHttpRequest;if(t.auth){const x=t.auth.username||"",I=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";s.set("Authorization","Basic "+btoa(x+":"+I))}const m=kA(t.baseURL,t.url);h.open(t.method.toUpperCase(),bA(m,t.params,t.paramsSerializer),!0),h.timeout=t.timeout;function w(){if(!h)return;const x=Hr.from("getAllResponseHeaders"in h&&h.getAllResponseHeaders()),_={data:!o||o==="text"||o==="json"?h.responseText:h.response,status:h.status,statusText:h.statusText,headers:x,config:t,request:h};kU(function(T){n(T),u()},function(T){r(T),u()},_),h=null}if("onloadend"in h?h.onloadend=w:h.onreadystatechange=function(){!h||h.readyState!==4||h.status===0&&!(h.responseURL&&h.responseURL.indexOf("file:")===0)||setTimeout(w)},h.onabort=function(){h&&(r(new ve("Request aborted",ve.ECONNABORTED,t,h)),h=null)},h.onerror=function(){r(new ve("Network Error",ve.ERR_NETWORK,t,h)),h=null},h.ontimeout=function(){let I=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const _=t.transitional||SA;t.timeoutErrorMessage&&(I=t.timeoutErrorMessage),r(new ve(I,_.clarifyTimeoutError?ve.ETIMEDOUT:ve.ECONNABORTED,t,h)),h=null},gr.hasStandardBrowserEnv&&(a&&O.isFunction(a)&&(a=a(t)),a||a!==!1&&OU(m))){const x=t.xsrfHeaderName&&t.xsrfCookieName&&RU.read(t.xsrfCookieName);x&&s.set(t.xsrfHeaderName,x)}i===void 0&&s.setContentType(null),"setRequestHeader"in h&&O.forEach(s.toJSON(),function(I,_){h.setRequestHeader(_,I)}),O.isUndefined(t.withCredentials)||(h.withCredentials=!!t.withCredentials),o&&o!=="json"&&(h.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&h.addEventListener("progress",fx(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&h.upload&&h.upload.addEventListener("progress",fx(t.onUploadProgress)),(t.cancelToken||t.signal)&&(l=x=>{h&&(r(!x||x.type?new Mu(null,t,h):x),h.abort(),h=null)},t.cancelToken&&t.cancelToken.subscribe(l),t.signal&&(t.signal.aborted?l():t.signal.addEventListener("abort",l)));const E=LU(m);if(E&&gr.protocols.indexOf(E)===-1){r(new ve("Unsupported protocol "+E+":",ve.ERR_BAD_REQUEST,t));return}h.send(i||null)})},Xg={http:lU,xhr:VU};O.forEach(Xg,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const hx=t=>`- ${t}`,FU=t=>O.isFunction(t)||t===null||t===!1,RA={getAdapter:t=>{t=O.isArray(t)?t:[t];const{length:e}=t;let n,r;const i={};for(let s=0;s<e;s++){n=t[s];let o;if(r=n,!FU(n)&&(r=Xg[(o=String(n)).toLowerCase()],r===void 0))throw new ve(`Unknown adapter '${o}'`);if(r)break;i[o||"#"+s]=r}if(!r){const s=Object.entries(i).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=e?s.length>1?`since :
`+s.map(hx).join(`
`):" "+hx(s[0]):"as no adapter specified";throw new ve("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:Xg};function rm(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Mu(null,t)}function px(t){return rm(t),t.headers=Hr.from(t.headers),t.data=nm.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),RA.getAdapter(t.adapter||Vw.adapter)(t).then(function(r){return rm(t),r.data=nm.call(t,t.transformResponse,r),r.headers=Hr.from(r.headers),r},function(r){return PA(r)||(rm(t),r&&r.response&&(r.response.data=nm.call(t,t.transformResponse,r.response),r.response.headers=Hr.from(r.response.headers))),Promise.reject(r)})}const mx=t=>t instanceof Hr?t.toJSON():t;function aa(t,e){e=e||{};const n={};function r(u,d,h){return O.isPlainObject(u)&&O.isPlainObject(d)?O.merge.call({caseless:h},u,d):O.isPlainObject(d)?O.merge({},d):O.isArray(d)?d.slice():d}function i(u,d,h){if(O.isUndefined(d)){if(!O.isUndefined(u))return r(void 0,u,h)}else return r(u,d,h)}function s(u,d){if(!O.isUndefined(d))return r(void 0,d)}function o(u,d){if(O.isUndefined(d)){if(!O.isUndefined(u))return r(void 0,u)}else return r(void 0,d)}function a(u,d,h){if(h in e)return r(u,d);if(h in t)return r(void 0,u)}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(u,d)=>i(mx(u),mx(d),!0)};return O.forEach(Object.keys(Object.assign({},t,e)),function(d){const h=l[d]||i,m=h(t[d],e[d],d);O.isUndefined(m)&&h!==a||(n[d]=m)}),n}const NA="1.6.2",Fw={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Fw[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const gx={};Fw.transitional=function(e,n,r){function i(s,o){return"[Axios v"+NA+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return(s,o,a)=>{if(e===!1)throw new ve(i(o," has been removed"+(n?" in "+n:"")),ve.ERR_DEPRECATED);return n&&!gx[o]&&(gx[o]=!0,console.warn(i(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,o,a):!0}};function $U(t,e,n){if(typeof t!="object")throw new ve("options must be an object",ve.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const s=r[i],o=e[s];if(o){const a=t[s],l=a===void 0||o(a,s,t);if(l!==!0)throw new ve("option "+s+" must be "+l,ve.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new ve("Unknown option "+s,ve.ERR_BAD_OPTION)}}const Zg={assertOptions:$U,validators:Fw},pi=Zg.validators;class rf{constructor(e){this.defaults=e,this.interceptors={request:new cx,response:new cx}}request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=aa(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:s}=n;r!==void 0&&Zg.assertOptions(r,{silentJSONParsing:pi.transitional(pi.boolean),forcedJSONParsing:pi.transitional(pi.boolean),clarifyTimeoutError:pi.transitional(pi.boolean)},!1),i!=null&&(O.isFunction(i)?n.paramsSerializer={serialize:i}:Zg.assertOptions(i,{encode:pi.function,serialize:pi.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=s&&O.merge(s.common,s[n.method]);s&&O.forEach(["delete","get","head","post","put","patch","common"],E=>{delete s[E]}),n.headers=Hr.concat(o,s);const a=[];let l=!0;this.interceptors.request.forEach(function(x){typeof x.runWhen=="function"&&x.runWhen(n)===!1||(l=l&&x.synchronous,a.unshift(x.fulfilled,x.rejected))});const u=[];this.interceptors.response.forEach(function(x){u.push(x.fulfilled,x.rejected)});let d,h=0,m;if(!l){const E=[px.bind(this),void 0];for(E.unshift.apply(E,a),E.push.apply(E,u),m=E.length,d=Promise.resolve(n);h<m;)d=d.then(E[h++],E[h++]);return d}m=a.length;let w=n;for(h=0;h<m;){const E=a[h++],x=a[h++];try{w=E(w)}catch(I){x.call(this,I);break}}try{d=px.call(this,w)}catch(E){return Promise.reject(E)}for(h=0,m=u.length;h<m;)d=d.then(u[h++],u[h++]);return d}getUri(e){e=aa(this.defaults,e);const n=kA(e.baseURL,e.url);return bA(n,e.params,e.paramsSerializer)}}O.forEach(["delete","get","head","options"],function(e){rf.prototype[e]=function(n,r){return this.request(aa(r||{},{method:e,url:n,data:(r||{}).data}))}});O.forEach(["post","put","patch"],function(e){function n(r){return function(s,o,a){return this.request(aa(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}rf.prototype[e]=n(),rf.prototype[e+"Form"]=n(!0)});const Zc=rf;class $w{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(a=>{r.subscribe(a),s=a}).then(i);return o.cancel=function(){r.unsubscribe(s)},o},e(function(s,o,a){r.reason||(r.reason=new Mu(s,o,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}static source(){let e;return{token:new $w(function(i){e=i}),cancel:e}}}const UU=$w;function BU(t){return function(n){return t.apply(null,n)}}function zU(t){return O.isObject(t)&&t.isAxiosError===!0}const ey={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(ey).forEach(([t,e])=>{ey[e]=t});const HU=ey;function DA(t){const e=new Zc(t),n=hA(Zc.prototype.request,e);return O.extend(n,Zc.prototype,e,{allOwnKeys:!0}),O.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return DA(aa(t,i))},n}const ot=DA(Vw);ot.Axios=Zc;ot.CanceledError=Mu;ot.CancelToken=UU;ot.isCancel=PA;ot.VERSION=NA;ot.toFormData=Sh;ot.AxiosError=ve;ot.Cancel=ot.CanceledError;ot.all=function(e){return Promise.all(e)};ot.spread=BU;ot.isAxiosError=zU;ot.mergeConfig=aa;ot.AxiosHeaders=Hr;ot.formToJSON=t=>AA(O.isHTMLForm(t)?new FormData(t):t);ot.getAdapter=RA.getAdapter;ot.HttpStatusCode=HU;ot.default=ot;const sf=ot,Ea=sf.create({baseURL:"https://localhost:3001"}),Ah=(t=1)=>async(e,n)=>{e(dA());const{filters:r,search:i,sorts:s}=n().product,{category:o,minPrice:a,maxPrice:l}=r,{sortByName:u,sortByPrice:d}=s,{data:h}=await Ea.get("/",{params:{search:i,category:o,minPrice:a,maxPrice:l,sortByName:u,sortByPrice:d}});e(w$(h)),e(fA(t))},ty=t=>async e=>{e(dA());const{data:n}=await Ea.get(`/product/${t}`);e(E$(n))},qU=()=>async t=>{const{data:e}=await Ea.get("/category");t(_$(e))},of=(t=1)=>async e=>{e(fA(t))},ny=t=>async e=>{e(x$(t))},ed=()=>async t=>{t(T$())},ry=()=>async t=>{t(C$())},td=()=>async t=>{t(S$())},WU=t=>async e=>{e(I$(t))},KU=t=>async e=>{e(b$(t))},GU=t=>async e=>{const n=await Ea.delete(`/product/${t}`);console.log(n),e(Ah())},QU=t=>async e=>{await Ea.post("/",t)},YU=(t,e)=>async n=>{await Ea.put(`/product/${e}`,t)},JU=p5({reducer:{product:cA.reducer,orders:uA.reducer,auth:II.reducer}});/**
 * @remix-run/router v1.13.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function au(){return au=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},au.apply(this,arguments)}var Ci;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ci||(Ci={}));const yx="popstate";function XU(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return iy("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:af(i)}return eB(e,n,null,t)}function ze(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Uw(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function ZU(){return Math.random().toString(36).substr(2,8)}function vx(t,e){return{usr:t.state,key:t.key,idx:e}}function iy(t,e,n,r){return n===void 0&&(n=null),au({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?xa(e):e,{state:n,key:e&&e.key||r||ZU()})}function af(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function xa(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function eB(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Ci.Pop,l=null,u=d();u==null&&(u=0,o.replaceState(au({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function h(){a=Ci.Pop;let I=d(),_=I==null?null:I-u;u=I,l&&l({action:a,location:x.location,delta:_})}function m(I,_){a=Ci.Push;let v=iy(x.location,I,_);n&&n(v,I),u=d()+1;let T=vx(v,u),A=x.createHref(v);try{o.pushState(T,"",A)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;i.location.assign(A)}s&&l&&l({action:a,location:x.location,delta:1})}function w(I,_){a=Ci.Replace;let v=iy(x.location,I,_);n&&n(v,I),u=d();let T=vx(v,u),A=x.createHref(v);o.replaceState(T,"",A),s&&l&&l({action:a,location:x.location,delta:0})}function E(I){let _=i.location.origin!=="null"?i.location.origin:i.location.href,v=typeof I=="string"?I:af(I);return ze(_,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,_)}let x={get action(){return a},get location(){return t(i,o)},listen(I){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(yx,h),l=I,()=>{i.removeEventListener(yx,h),l=null}},createHref(I){return e(i,I)},createURL:E,encodeLocation(I){let _=E(I);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:m,replace:w,go(I){return o.go(I)}};return x}var wx;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(wx||(wx={}));function tB(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?xa(e):e,i=lu(r.pathname||"/",n);if(i==null)return null;let s=OA(t);nB(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=dB(s[a],hB(i));return o}function OA(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(ze(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=zi([r,l.relativePath]),d=n.concat(l);s.children&&s.children.length>0&&(ze(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),OA(s.children,e,d,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:uB(u,s.index),routesMeta:d})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of LA(s.path))i(s,o,l)}),e}function LA(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=LA(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function nB(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:cB(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const rB=/^:\w+$/,iB=3,sB=2,oB=1,aB=10,lB=-2,_x=t=>t==="*";function uB(t,e){let n=t.split("/"),r=n.length;return n.some(_x)&&(r+=lB),e&&(r+=sB),n.filter(i=>!_x(i)).reduce((i,s)=>i+(rB.test(s)?iB:s===""?oB:aB),r)}function cB(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function dB(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,u=i==="/"?e:e.slice(i.length)||"/",d=sy({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!d)return null;Object.assign(r,d.params);let h=a.route;s.push({params:r,pathname:zi([i,d.pathname]),pathnameBase:yB(zi([i,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(i=zi([i,d.pathnameBase]))}return s}function sy(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=fB(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,d,h)=>{let{paramName:m,isOptional:w}=d;if(m==="*"){let x=a[h]||"";o=s.slice(0,s.length-x.length).replace(/(.)\/+$/,"$1")}const E=a[h];return w&&!E?u[m]=void 0:u[m]=pB(E||"",m),u},{}),pathname:s,pathnameBase:o,pattern:t}}function fB(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Uw(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function hB(t){try{return decodeURI(t)}catch(e){return Uw(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function pB(t,e){try{return decodeURIComponent(t)}catch(n){return Uw(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function lu(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function mB(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?xa(t):t;return{pathname:n?n.startsWith("/")?n:gB(n,e):e,search:vB(r),hash:wB(i)}}function gB(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function im(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Bw(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function zw(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=xa(t):(i=au({},t),ze(!i.pathname||!i.pathname.includes("?"),im("?","pathname","search",i)),ze(!i.pathname||!i.pathname.includes("#"),im("#","pathname","hash",i)),ze(!i.search||!i.search.includes("#"),im("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else if(r){let h=e[e.length-1].replace(/^\//,"").split("/");if(o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),h.pop();i.pathname=m.join("/")}a="/"+h.join("/")}else{let h=e.length-1;if(o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),h-=1;i.pathname=m.join("/")}a=h>=0?e[h]:"/"}let l=mB(i,a),u=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const zi=t=>t.join("/").replace(/\/\/+/g,"/"),yB=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),vB=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,wB=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function _B(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const jA=["post","put","patch","delete"];new Set(jA);const EB=["get",...jA];new Set(EB);/**
 * React Router v6.20.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function lf(){return lf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lf.apply(this,arguments)}const Ph=S.createContext(null),MA=S.createContext(null),Zs=S.createContext(null),kh=S.createContext(null),si=S.createContext({outlet:null,matches:[],isDataRoute:!1}),VA=S.createContext(null);function xB(t,e){let{relative:n}=e===void 0?{}:e;Ta()||ze(!1);let{basename:r,navigator:i}=S.useContext(Zs),{hash:s,pathname:o,search:a}=Nh(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:zi([r,o])),i.createHref({pathname:l,search:a,hash:s})}function Ta(){return S.useContext(kh)!=null}function Ia(){return Ta()||ze(!1),S.useContext(kh).location}function FA(t){S.useContext(Zs).static||S.useLayoutEffect(t)}function Rh(){let{isDataRoute:t}=S.useContext(si);return t?LB():TB()}function TB(){Ta()||ze(!1);let t=S.useContext(Ph),{basename:e,navigator:n}=S.useContext(Zs),{matches:r}=S.useContext(si),{pathname:i}=Ia(),s=JSON.stringify(Bw(r).map(l=>l.pathnameBase)),o=S.useRef(!1);return FA(()=>{o.current=!0}),S.useCallback(function(l,u){if(u===void 0&&(u={}),!o.current)return;if(typeof l=="number"){n.go(l);return}let d=zw(l,JSON.parse(s),i,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:zi([e,d.pathname])),(u.replace?n.replace:n.push)(d,u.state,u)},[e,n,s,i,t])}function $A(){let{matches:t}=S.useContext(si),e=t[t.length-1];return e?e.params:{}}function Nh(t,e){let{relative:n}=e===void 0?{}:e,{matches:r}=S.useContext(si),{pathname:i}=Ia(),s=JSON.stringify(Bw(r).map(o=>o.pathnameBase));return S.useMemo(()=>zw(t,JSON.parse(s),i,n==="path"),[t,s,i,n])}function IB(t,e){return bB(t,e)}function bB(t,e,n){Ta()||ze(!1);let{navigator:r}=S.useContext(Zs),{matches:i}=S.useContext(si),s=i[i.length-1],o=s?s.params:{};s&&s.pathname;let a=s?s.pathnameBase:"/";s&&s.route;let l=Ia(),u;if(e){var d;let x=typeof e=="string"?xa(e):e;a==="/"||(d=x.pathname)!=null&&d.startsWith(a)||ze(!1),u=x}else u=l;let h=u.pathname||"/",m=a==="/"?h:h.slice(a.length)||"/",w=tB(t,{pathname:m}),E=kB(w&&w.map(x=>Object.assign({},x,{params:Object.assign({},o,x.params),pathname:zi([a,r.encodeLocation?r.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?a:zi([a,r.encodeLocation?r.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),i,n);return e&&E?S.createElement(kh.Provider,{value:{location:lf({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Ci.Pop}},E):E}function SB(){let t=OB(),e=_B(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},e),n?S.createElement("pre",{style:i},n):null,s)}const CB=S.createElement(SB,null);class AB extends S.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?S.createElement(si.Provider,{value:this.props.routeContext},S.createElement(VA.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function PB(t){let{routeContext:e,match:n,children:r}=t,i=S.useContext(Ph);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),S.createElement(si.Provider,{value:e},r)}function kB(t,e,n){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),t==null){var i;if((i=n)!=null&&i.errors)t=n.matches;else return null}let s=t,o=(r=n)==null?void 0:r.errors;if(o!=null){let a=s.findIndex(l=>l.route.id&&(o==null?void 0:o[l.route.id]));a>=0||ze(!1),s=s.slice(0,Math.min(s.length,a+1))}return s.reduceRight((a,l,u)=>{let d=l.route.id?o==null?void 0:o[l.route.id]:null,h=null;n&&(h=l.route.errorElement||CB);let m=e.concat(s.slice(0,u+1)),w=()=>{let E;return d?E=h:l.route.Component?E=S.createElement(l.route.Component,null):l.route.element?E=l.route.element:E=a,S.createElement(PB,{match:l,routeContext:{outlet:a,matches:m,isDataRoute:n!=null},children:E})};return n&&(l.route.ErrorBoundary||l.route.errorElement||u===0)?S.createElement(AB,{location:n.location,revalidation:n.revalidation,component:h,error:d,children:w(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):w()},null)}var UA=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(UA||{}),uf=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(uf||{});function RB(t){let e=S.useContext(Ph);return e||ze(!1),e}function NB(t){let e=S.useContext(MA);return e||ze(!1),e}function DB(t){let e=S.useContext(si);return e||ze(!1),e}function BA(t){let e=DB(),n=e.matches[e.matches.length-1];return n.route.id||ze(!1),n.route.id}function OB(){var t;let e=S.useContext(VA),n=NB(uf.UseRouteError),r=BA(uf.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function LB(){let{router:t}=RB(UA.UseNavigateStable),e=BA(uf.UseNavigateStable),n=S.useRef(!1);return FA(()=>{n.current=!0}),S.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,lf({fromRouteId:e},s)))},[t,e])}function Hw(t){let{to:e,replace:n,state:r,relative:i}=t;Ta()||ze(!1);let{matches:s}=S.useContext(si),{pathname:o}=Ia(),a=Rh(),l=zw(e,Bw(s).map(d=>d.pathnameBase),o,i==="path"),u=JSON.stringify(l);return S.useEffect(()=>a(JSON.parse(u),{replace:n,state:r,relative:i}),[a,u,i,n,r]),null}function lt(t){ze(!1)}function jB(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Ci.Pop,navigator:s,static:o=!1}=t;Ta()&&ze(!1);let a=e.replace(/^\/*/,"/"),l=S.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof r=="string"&&(r=xa(r));let{pathname:u="/",search:d="",hash:h="",state:m=null,key:w="default"}=r,E=S.useMemo(()=>{let x=lu(u,a);return x==null?null:{location:{pathname:x,search:d,hash:h,state:m,key:w},navigationType:i}},[a,u,d,h,m,w,i]);return E==null?null:S.createElement(Zs.Provider,{value:l},S.createElement(kh.Provider,{children:n,value:E}))}function Dh(t){let{children:e,location:n}=t;return IB(oy(e),n)}new Promise(()=>{});function oy(t,e){e===void 0&&(e=[]);let n=[];return S.Children.forEach(t,(r,i)=>{if(!S.isValidElement(r))return;let s=[...e,i];if(r.type===S.Fragment){n.push.apply(n,oy(r.props.children,s));return}r.type!==lt&&ze(!1),!r.props.index||!r.props.children||ze(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=oy(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.20.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function cf(){return cf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cf.apply(this,arguments)}function zA(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function MB(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function VB(t,e){return t.button===0&&(!e||e==="_self")&&!MB(t)}const FB=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],$B=["aria-current","caseSensitive","className","end","style","to","unstable_viewTransition","children"],UB=S.createContext({isTransitioning:!1}),BB="startTransition",Ex=El[BB];function zB(t){let{basename:e,children:n,future:r,window:i}=t,s=S.useRef();s.current==null&&(s.current=XU({window:i,v5Compat:!0}));let o=s.current,[a,l]=S.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},d=S.useCallback(h=>{u&&Ex?Ex(()=>l(h)):l(h)},[l,u]);return S.useLayoutEffect(()=>o.listen(d),[o,d]),S.createElement(jB,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o})}const HB=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",qB=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Wn=S.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:d,unstable_viewTransition:h}=e,m=zA(e,FB),{basename:w}=S.useContext(Zs),E,x=!1;if(typeof u=="string"&&qB.test(u)&&(E=u,HB))try{let T=new URL(window.location.href),A=u.startsWith("//")?new URL(T.protocol+u):new URL(u),P=lu(A.pathname,w);A.origin===T.origin&&P!=null?u=P+A.search+A.hash:x=!0}catch{}let I=xB(u,{relative:i}),_=KB(u,{replace:o,state:a,target:l,preventScrollReset:d,relative:i,unstable_viewTransition:h});function v(T){r&&r(T),T.defaultPrevented||_(T)}return S.createElement("a",cf({},m,{href:E||I,onClick:x||s?r:v,ref:n,target:l}))}),Ai=S.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:o=!1,style:a,to:l,unstable_viewTransition:u,children:d}=e,h=zA(e,$B),m=Nh(l,{relative:h.relative}),w=Ia(),E=S.useContext(MA),{navigator:x}=S.useContext(Zs),I=E!=null&&GB(m)&&u===!0,_=x.encodeLocation?x.encodeLocation(m).pathname:m.pathname,v=w.pathname,T=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;i||(v=v.toLowerCase(),T=T?T.toLowerCase():null,_=_.toLowerCase());const A=_!=="/"&&_.endsWith("/")?_.length-1:_.length;let P=v===_||!o&&v.startsWith(_)&&v.charAt(A)==="/",j=T!=null&&(T===_||!o&&T.startsWith(_)&&T.charAt(_.length)==="/"),M={isActive:P,isPending:j,isTransitioning:I},B=P?r:void 0,ee;typeof s=="function"?ee=s(M):ee=[s,P?"active":null,j?"pending":null,I?"transitioning":null].filter(Boolean).join(" ");let G=typeof a=="function"?a(M):a;return S.createElement(Wn,cf({},h,{"aria-current":B,className:ee,ref:n,style:G,to:l,unstable_viewTransition:u}),typeof d=="function"?d(M):d)});var ay;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(ay||(ay={}));var xx;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(xx||(xx={}));function WB(t){let e=S.useContext(Ph);return e||ze(!1),e}function KB(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a}=e===void 0?{}:e,l=Rh(),u=Ia(),d=Nh(t,{relative:o});return S.useCallback(h=>{if(VB(h,n)){h.preventDefault();let m=r!==void 0?r:af(u)===af(d);l(t,{replace:m,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a})}},[u,l,d,r,i,n,t,s,o,a])}function GB(t,e){e===void 0&&(e={});let n=S.useContext(UB);n==null&&ze(!1);let{basename:r}=WB(ay.useViewTransitionState),i=Nh(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=lu(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=lu(n.nextLocation.pathname,r)||n.nextLocation.pathname;return sy(i.pathname,o)!=null||sy(i.pathname,s)!=null}const QB=({className:t})=>f.jsxs("svg",{className:t,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[f.jsx("path",{d:"M14.5 9.50002L9.5 14.5M9.49998 9.5L14.5 14.5",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),f.jsx("path",{d:"M7 3.33782C8.47087 2.48697 10.1786 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12C2 10.1786 2.48697 8.47087 3.33782 7",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"})]}),YB=({className:t})=>f.jsx("svg",{className:t,viewBox:"0 0 42 43",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("path",{d:"M34.0621 12.3337C33.2573 11.1611 32.1802 10.2047 30.9247 9.54796C29.6692 8.89118 28.2735 8.5539 26.8591 8.56553C25.7613 8.54431 24.6716 8.75785 23.6617 9.19206C22.6518 9.62628 21.7447 10.2713 21.0001 11.0847C20.2546 10.2724 19.3473 9.62807 18.3376 9.19393C17.3279 8.7598 16.2386 8.54565 15.1411 8.56553C13.7266 8.5539 12.3309 8.89118 11.0754 9.54796C9.81992 10.2047 8.74284 11.1611 7.93805 12.3337C7.1174 13.6482 6.65091 15.1558 6.58462 16.7075C6.51833 18.2593 6.85453 19.8017 7.56005 21.1825C8.63065 23.6058 10.1164 25.8201 11.9491 27.7238C14.0244 29.9184 16.2949 31.9167 18.7321 33.6936C19.3916 34.1756 20.1854 34.4351 21.0001 34.4351C21.8147 34.4351 22.6085 34.1756 23.2681 33.6936C25.7058 31.9175 27.9764 29.9191 30.0511 27.7238C31.8838 25.8201 33.3694 23.6058 34.4401 21.1825C35.1456 19.8017 35.4818 18.2593 35.4155 16.7075C35.3492 15.1558 34.8827 13.6482 34.0621 12.3337ZM32.6761 20.4415C31.6812 22.6496 30.3173 24.6689 28.6441 26.4113C26.6499 28.5109 24.4709 30.424 22.1341 32.127C21.8069 32.3744 21.409 32.5081 21.0001 32.5081C20.5911 32.5081 20.1932 32.3744 19.8661 32.127C17.5297 30.4233 15.3509 28.5103 13.3561 26.4113C11.6745 24.6757 10.3096 22.6549 9.32405 20.4415C8.75211 19.3483 8.47083 18.1243 8.50764 16.8889C8.54444 15.6535 8.89806 14.4488 9.53405 13.3921C10.1659 12.4887 11.0068 11.7543 11.9839 11.2526C12.9609 10.751 14.0447 10.4971 15.1411 10.5131C16.0331 10.4829 16.9202 10.6579 17.7353 11.0246C18.5503 11.3914 19.2718 11.9404 19.8451 12.63C20.1616 12.9354 20.5829 13.1059 21.0211 13.1059C21.4592 13.1059 21.8805 12.9354 22.1971 12.63C22.7659 11.9461 23.4806 11.4006 24.2878 11.034C25.0951 10.6674 25.974 10.4894 26.8591 10.5131C27.9555 10.4971 29.0392 10.751 30.0162 11.2526C30.9933 11.7543 31.8342 12.4887 32.4661 13.3921C33.102 14.4488 33.4557 15.6535 33.4925 16.8889C33.5293 18.1243 33.248 19.3483 32.6761 20.4415Z",fill:"current"})}),Vu=({className:t})=>f.jsx(Ai,{to:"/home",children:f.jsxs("svg",{className:t,viewBox:"0 0 290 578",xmlns:"http://www.w3.org/2000/svg",children:[f.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M116.763 22.5315C76.1601 29.4039 42.3028 53.1207 23.763 72.8144L9 58.6371C29.8444 36.4954 67.4896 10.0098 113.396 2.23973C159.964 -5.64222 214.014 5.94546 266 58.4514L251.595 73C204.171 25.1011 156.705 15.7711 116.763 22.5315Z",fill:"#D74545"}),f.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M158.237 556.086C198.84 549.402 232.697 526.335 251.237 507.181L266 520.969C245.156 542.505 207.51 568.264 161.604 575.822C115.036 583.488 60.9863 572.217 9 521.15L23.4046 507C70.8293 553.587 118.295 562.661 158.237 556.086Z",fill:"#D74545"}),f.jsx("path",{d:"M236.073 95.1334H255.702V202.2H288V220.045H236.073V95.1334Z",fill:"#D74545"}),f.jsx("path",{d:"M179.618 95.1334H206.207L226.549 220.045H206.921L203.352 195.241V195.598H181.046L177.477 220.045H159.276L179.618 95.1334ZM201.032 178.645L192.288 116.904H191.931L183.366 178.645H201.032Z",fill:"#D74545"}),f.jsx("path",{d:"M122.987 112.978H102.466V95.1334H163.137V112.978H142.616V220.045H122.987V112.978Z",fill:"#D74545"}),f.jsx("path",{d:"M73.3116 95.1334H92.9405V220.045H73.3116V95.1334Z",fill:"#D74545"}),f.jsx("path",{d:"M0 95.1334H19.8074L32.6554 192.029H33.0123L45.8603 95.1334H63.8832L44.968 220.045H18.9151L0 95.1334Z",fill:"#D74545"}),f.jsx("path",{d:"M211.507 267.706H172.41V233.709H288V267.706H248.903V471.688H211.507V267.706Z",fill:"#475157"}),f.jsx("path",{d:"M116.865 233.709H154.261V471.688H116.865V233.709Z",fill:"#475157"}),f.jsx("path",{d:"M0 233.709H98.9313V267.706H37.3967V334H85.6725V367.997H37.3967V471.688H0V233.709Z",fill:"#475157"})]})}),JB=({className:t})=>f.jsxs("svg",{className:t,viewBox:"0 0 76 151",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[f.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M30.886 5.88627C20.3124 7.68164 11.4953 13.8776 6.66729 19.0224L2.82275 15.3187C8.25098 9.53425 18.0544 2.61501 30.0092 0.58512C42.1362 -1.474 56.2118 1.55323 69.7498 15.2702L65.9987 19.0709C53.6485 6.55756 41.2875 4.12013 30.886 5.88627Z",fill:"white"}),f.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M41.6867 145.275C52.2604 143.529 61.0774 137.503 65.9055 132.499L69.75 136.101C64.3218 141.727 54.5183 148.457 42.5635 150.431C30.4365 152.434 16.361 149.489 2.82291 136.148L6.5741 132.452C18.9243 144.622 31.2853 146.993 41.6867 145.275Z",fill:"white"}),f.jsx("path",{d:"M61.9561 24.8533H67.0677V52.824H75.4788V57.4858H61.9561V24.8533Z",fill:"white"}),f.jsx("path",{d:"M47.2546 24.8533H54.1786L59.4762 57.4858H54.3645L53.4351 51.0059V51.0991H47.6264L46.697 57.4858H41.957L47.2546 24.8533ZM52.831 46.6704L50.554 30.5407H50.461L48.2305 46.6704H52.831Z",fill:"white"}),f.jsx("path",{d:"M32.5071 29.5151H27.1631V24.8533H42.9629V29.5151H37.6188V57.4858H32.5071V29.5151Z",fill:"white"}),f.jsx("path",{d:"M19.5708 24.8533H24.6825V57.4858H19.5708V24.8533Z",fill:"white"}),f.jsx("path",{d:"M0.479004 24.8533H5.63717L8.98301 50.1668H9.07595L12.4218 24.8533H17.1152L12.1894 57.4858H5.40482L0.479004 24.8533Z",fill:"white"}),f.jsx("path",{d:"M55.5588 69.9372H45.3774V61.0557H75.479V69.9372H65.2976V123.227H55.5588V69.9372Z",fill:"#D9D9D9"}),f.jsx("path",{d:"M30.9126 61.0557H40.6513V123.227H30.9126V61.0557Z",fill:"#D9D9D9"}),f.jsx("path",{d:"M0.479004 61.0557H26.2424V69.9372H10.2177V87.2563H22.7895V96.1379H10.2177V123.227H0.479004V61.0557Z",fill:"#D9D9D9"})]}),XB=({className:t})=>f.jsxs("svg",{className:t,viewBox:"0 0 42 43",xmlns:"http://www.w3.org/2000/svg",children:[f.jsx("path",{d:"M17.5 39C19.433 39 21 37.433 21 35.5C21 33.567 19.433 32 17.5 32C15.567 32 14 33.567 14 35.5C14 37.433 15.567 39 17.5 39Z",fill:"current"}),f.jsx("path",{d:"M28 39C29.933 39 31.5 37.433 31.5 35.5C31.5 33.567 29.933 32 28 32C26.067 32 24.5 33.567 24.5 35.5C24.5 37.433 26.067 39 28 39Z",fill:"current"}),f.jsx("path",{d:"M37.8 14.15C37.1 13.275 36.05 12.75 35 12.75H15.05L14 6.8C13.65 5.225 12.25 4 10.5 4H7C5.075 4 3.5 5.575 3.5 7.5C3.5 9.425 5.075 11 7 11H7.525L10.5 25.7C10.85 27.45 12.25 28.5 14 28.5H31.5C33.075 28.5 34.3 27.45 34.825 26.05L38.325 17.3C38.675 16.25 38.5 15.2 37.8 14.15Z",fill:"current"})]}),ZB=({className:t})=>f.jsxs("svg",{className:t,viewBox:"0 0 42 43",xmlns:"http://www.w3.org/2000/svg",children:[f.jsx("path",{d:"M29.75 16.25C29.75 13.8333 28.77 11.6458 27.188 10.0638C25.6043 8.48 23.4167 7.5 21 7.5C18.5833 7.5 16.3957 8.48 14.812 10.0638C13.23 11.6458 12.25 13.8333 12.25 16.25C12.25 18.6667 13.23 20.8542 14.812 22.4362C16.3957 24.02 18.5833 25 21 25C23.4167 25 25.6043 24.02 27.188 22.4362C28.77 20.8542 29.75 18.6667 29.75 16.25Z",fill:"current"}),f.jsx("path",{d:"M10.5 33.75C10.5 35.5 14.4375 37.25 21 37.25C27.1565 37.25 31.5 35.5 31.5 33.75C31.5 30.25 27.3805 26.75 21 26.75C14.4375 26.75 10.5 30.25 10.5 33.75Z",fill:"current"})]});var e7=Object.defineProperty,t7=(t,e,n)=>e in t?e7(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,sm=(t,e,n)=>(t7(t,typeof e!="symbol"?e+"":e,n),n);let n7=class{constructor(){sm(this,"current",this.detect()),sm(this,"handoffState","pending"),sm(this,"currentId",0)}set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},Ps=new n7,Vn=(t,e)=>{Ps.isServer?S.useEffect(t,e):S.useLayoutEffect(t,e)};function Hi(t){let e=S.useRef(t);return Vn(()=>{e.current=t},[t]),e}let Ge=function(t){let e=Hi(t);return he.useCallback((...n)=>e.current(...n),[e])};function r7(t){typeof queueMicrotask=="function"?queueMicrotask(t):Promise.resolve().then(t).catch(e=>setTimeout(()=>{throw e}))}function ei(){let t=[],e={addEventListener(n,r,i,s){return n.addEventListener(r,i,s),e.add(()=>n.removeEventListener(r,i,s))},requestAnimationFrame(...n){let r=requestAnimationFrame(...n);return e.add(()=>cancelAnimationFrame(r))},nextFrame(...n){return e.requestAnimationFrame(()=>e.requestAnimationFrame(...n))},setTimeout(...n){let r=setTimeout(...n);return e.add(()=>clearTimeout(r))},microTask(...n){let r={current:!0};return r7(()=>{r.current&&n[0]()}),e.add(()=>{r.current=!1})},style(n,r,i){let s=n.style.getPropertyValue(r);return Object.assign(n.style,{[r]:i}),this.add(()=>{Object.assign(n.style,{[r]:s})})},group(n){let r=ei();return n(r),this.add(()=>r.dispose())},add(n){return t.push(n),()=>{let r=t.indexOf(n);if(r>=0)for(let i of t.splice(r,1))i()}},dispose(){for(let n of t.splice(0))n()}};return e}function Oh(){let[t]=S.useState(ei);return S.useEffect(()=>()=>t.dispose(),[t]),t}function i7(){let t=typeof document>"u";return"useSyncExternalStore"in El?(e=>e.useSyncExternalStore)(El)(()=>()=>{},()=>!1,()=>!t):!1}function qw(){let t=i7(),[e,n]=S.useState(Ps.isHandoffComplete);return e&&Ps.isHandoffComplete===!1&&n(!1),S.useEffect(()=>{e!==!0&&n(!0)},[e]),S.useEffect(()=>Ps.handoff(),[]),t?!1:e}var Tx;let Ww=(Tx=he.useId)!=null?Tx:function(){let t=qw(),[e,n]=he.useState(t?()=>Ps.nextId():null);return Vn(()=>{e===null&&n(Ps.nextId())},[e]),e!=null?""+e:void 0};function gn(t,e,...n){if(t in e){let i=e[t];return typeof i=="function"?i(...n):i}let r=new Error(`Tried to handle "${t}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(i=>`"${i}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,gn),r}function Lh(t){return Ps.isServer?null:t instanceof Node?t.ownerDocument:t!=null&&t.hasOwnProperty("current")&&t.current instanceof Node?t.current.ownerDocument:document}let ly=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(t=>`${t}:not([tabindex='-1'])`).join(",");var uy=(t=>(t[t.First=1]="First",t[t.Previous=2]="Previous",t[t.Next=4]="Next",t[t.Last=8]="Last",t[t.WrapAround=16]="WrapAround",t[t.NoScroll=32]="NoScroll",t))(uy||{}),s7=(t=>(t[t.Error=0]="Error",t[t.Overflow=1]="Overflow",t[t.Success=2]="Success",t[t.Underflow=3]="Underflow",t))(s7||{}),o7=(t=>(t[t.Previous=-1]="Previous",t[t.Next=1]="Next",t))(o7||{});function HA(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(ly)).sort((e,n)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var Kw=(t=>(t[t.Strict=0]="Strict",t[t.Loose=1]="Loose",t))(Kw||{});function Gw(t,e=0){var n;return t===((n=Lh(t))==null?void 0:n.body)?!1:gn(e,{0(){return t.matches(ly)},1(){let r=t;for(;r!==null;){if(r.matches(ly))return!0;r=r.parentElement}return!1}})}function qA(t){let e=Lh(t);ei().nextFrame(()=>{e&&!Gw(e.activeElement,0)&&l7(t)})}var a7=(t=>(t[t.Keyboard=0]="Keyboard",t[t.Mouse=1]="Mouse",t))(a7||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",t=>{t.metaKey||t.altKey||t.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",t=>{t.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:t.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function l7(t){t==null||t.focus({preventScroll:!0})}let u7=["textarea","input"].join(",");function c7(t){var e,n;return(n=(e=t==null?void 0:t.matches)==null?void 0:e.call(t,u7))!=null?n:!1}function WA(t,e=n=>n){return t.slice().sort((n,r)=>{let i=e(n),s=e(r);if(i===null||s===null)return 0;let o=i.compareDocumentPosition(s);return o&Node.DOCUMENT_POSITION_FOLLOWING?-1:o&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function d7(t,e){return f7(HA(),e,{relativeTo:t})}function f7(t,e,{sorted:n=!0,relativeTo:r=null,skipElements:i=[]}={}){let s=Array.isArray(t)?t.length>0?t[0].ownerDocument:document:t.ownerDocument,o=Array.isArray(t)?n?WA(t):t:HA(t);i.length>0&&o.length>1&&(o=o.filter(w=>!i.includes(w))),r=r??s.activeElement;let a=(()=>{if(e&5)return 1;if(e&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),l=(()=>{if(e&1)return 0;if(e&2)return Math.max(0,o.indexOf(r))-1;if(e&4)return Math.max(0,o.indexOf(r))+1;if(e&8)return o.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),u=e&32?{preventScroll:!0}:{},d=0,h=o.length,m;do{if(d>=h||d+h<=0)return 0;let w=l+d;if(e&16)w=(w+h)%h;else{if(w<0)return 3;if(w>=h)return 1}m=o[w],m==null||m.focus(u),d+=a}while(m!==s.activeElement);return e&6&&c7(m)&&m.select(),2}function h7(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function p7(){return/Android/gi.test(window.navigator.userAgent)}function m7(){return h7()||p7()}function Cc(t,e,n){let r=Hi(e);S.useEffect(()=>{function i(s){r.current(s)}return document.addEventListener(t,i,n),()=>document.removeEventListener(t,i,n)},[t,n])}function g7(t,e,n){let r=Hi(e);S.useEffect(()=>{function i(s){r.current(s)}return window.addEventListener(t,i,n),()=>window.removeEventListener(t,i,n)},[t,n])}function y7(t,e,n=!0){let r=S.useRef(!1);S.useEffect(()=>{requestAnimationFrame(()=>{r.current=n})},[n]);function i(o,a){if(!r.current||o.defaultPrevented)return;let l=a(o);if(l===null||!l.getRootNode().contains(l)||!l.isConnected)return;let u=function d(h){return typeof h=="function"?d(h()):Array.isArray(h)||h instanceof Set?h:[h]}(t);for(let d of u){if(d===null)continue;let h=d instanceof HTMLElement?d:d.current;if(h!=null&&h.contains(l)||o.composed&&o.composedPath().includes(h))return}return!Gw(l,Kw.Loose)&&l.tabIndex!==-1&&o.preventDefault(),e(o,l)}let s=S.useRef(null);Cc("pointerdown",o=>{var a,l;r.current&&(s.current=((l=(a=o.composedPath)==null?void 0:a.call(o))==null?void 0:l[0])||o.target)},!0),Cc("mousedown",o=>{var a,l;r.current&&(s.current=((l=(a=o.composedPath)==null?void 0:a.call(o))==null?void 0:l[0])||o.target)},!0),Cc("click",o=>{m7()||s.current&&(i(o,()=>s.current),s.current=null)},!0),Cc("touchend",o=>i(o,()=>o.target instanceof HTMLElement?o.target:null),!0),g7("blur",o=>i(o,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function v7(...t){return S.useMemo(()=>Lh(...t),[...t])}function Ix(t){var e;if(t.type)return t.type;let n=(e=t.as)!=null?e:"button";if(typeof n=="string"&&n.toLowerCase()==="button")return"button"}function w7(t,e){let[n,r]=S.useState(()=>Ix(t));return Vn(()=>{r(Ix(t))},[t.type,t.as]),Vn(()=>{n||e.current&&e.current instanceof HTMLButtonElement&&!e.current.hasAttribute("type")&&r("button")},[n,e]),n}let _7=Symbol();function ba(...t){let e=S.useRef(t);S.useEffect(()=>{e.current=t},[t]);let n=Ge(r=>{for(let i of e.current)i!=null&&(typeof i=="function"?i(r):i.current=r)});return t.every(r=>r==null||(r==null?void 0:r[_7]))?void 0:n}function bx(t){return[t.screenX,t.screenY]}function E7(){let t=S.useRef([-1,-1]);return{wasMoved(e){let n=bx(e);return t.current[0]===n[0]&&t.current[1]===n[1]?!1:(t.current=n,!0)},update(e){t.current=bx(e)}}}function x7({container:t,accept:e,walk:n,enabled:r=!0}){let i=S.useRef(e),s=S.useRef(n);S.useEffect(()=>{i.current=e,s.current=n},[e,n]),Vn(()=>{if(!t||!r)return;let o=Lh(t);if(!o)return;let a=i.current,l=s.current,u=Object.assign(h=>a(h),{acceptNode:a}),d=o.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,u,!1);for(;d.nextNode();)l(d.currentNode)},[t,r,i,s])}function df(...t){return Array.from(new Set(t.flatMap(e=>typeof e=="string"?e.split(" "):[]))).filter(Boolean).join(" ")}var ff=(t=>(t[t.None=0]="None",t[t.RenderStrategy=1]="RenderStrategy",t[t.Static=2]="Static",t))(ff||{}),Pi=(t=>(t[t.Unmount=0]="Unmount",t[t.Hidden=1]="Hidden",t))(Pi||{});function Sa({ourProps:t,theirProps:e,slot:n,defaultTag:r,features:i,visible:s=!0,name:o,mergeRefs:a}){a=a??T7;let l=KA(e,t);if(s)return Ac(l,n,r,o,a);let u=i??0;if(u&2){let{static:d=!1,...h}=l;if(d)return Ac(h,n,r,o,a)}if(u&1){let{unmount:d=!0,...h}=l;return gn(d?0:1,{0(){return null},1(){return Ac({...h,hidden:!0,style:{display:"none"}},n,r,o,a)}})}return Ac(l,n,r,o,a)}function Ac(t,e={},n,r,i){let{as:s=n,children:o,refName:a="ref",...l}=om(t,["unmount","static"]),u=t.ref!==void 0?{[a]:t.ref}:{},d=typeof o=="function"?o(e):o;"className"in l&&l.className&&typeof l.className=="function"&&(l.className=l.className(e));let h={};if(e){let m=!1,w=[];for(let[E,x]of Object.entries(e))typeof x=="boolean"&&(m=!0),x===!0&&w.push(E);m&&(h["data-headlessui-state"]=w.join(" "))}if(s===S.Fragment&&Object.keys(Sx(l)).length>0){if(!S.isValidElement(d)||Array.isArray(d)&&d.length>1)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(l).map(x=>`  - ${x}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(x=>`  - ${x}`).join(`
`)].join(`
`));let m=d.props,w=typeof(m==null?void 0:m.className)=="function"?(...x)=>df(m==null?void 0:m.className(...x),l.className):df(m==null?void 0:m.className,l.className),E=w?{className:w}:{};return S.cloneElement(d,Object.assign({},KA(d.props,Sx(om(l,["ref"]))),h,u,{ref:i(d.ref,u.ref)},E))}return S.createElement(s,Object.assign({},om(l,["ref"]),s!==S.Fragment&&u,s!==S.Fragment&&h),d)}function T7(...t){return t.every(e=>e==null)?void 0:e=>{for(let n of t)n!=null&&(typeof n=="function"?n(e):n.current=e)}}function KA(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},n={};for(let r of t)for(let i in r)i.startsWith("on")&&typeof r[i]=="function"?(n[i]!=null||(n[i]=[]),n[i].push(r[i])):e[i]=r[i];if(e.disabled||e["aria-disabled"])return Object.assign(e,Object.fromEntries(Object.keys(n).map(r=>[r,void 0])));for(let r in n)Object.assign(e,{[r](i,...s){let o=n[r];for(let a of o){if((i instanceof Event||(i==null?void 0:i.nativeEvent)instanceof Event)&&i.defaultPrevented)return;a(i,...s)}}});return e}function eo(t){var e;return Object.assign(S.forwardRef(t),{displayName:(e=t.displayName)!=null?e:t.name})}function Sx(t){let e=Object.assign({},t);for(let n in e)e[n]===void 0&&delete e[n];return e}function om(t,e=[]){let n=Object.assign({},t);for(let r of e)r in n&&delete n[r];return n}let Qw=S.createContext(null);Qw.displayName="OpenClosedContext";var fn=(t=>(t[t.Open=1]="Open",t[t.Closed=2]="Closed",t[t.Closing=4]="Closing",t[t.Opening=8]="Opening",t))(fn||{});function Yw(){return S.useContext(Qw)}function GA({value:t,children:e}){return he.createElement(Qw.Provider,{value:t},e)}function I7(t){let e=t.parentElement,n=null;for(;e&&!(e instanceof HTMLFieldSetElement);)e instanceof HTMLLegendElement&&(n=e),e=e.parentElement;let r=(e==null?void 0:e.getAttribute("disabled"))==="";return r&&b7(n)?!1:r}function b7(t){if(!t)return!1;let e=t.previousElementSibling;for(;e!==null;){if(e instanceof HTMLLegendElement)return!1;e=e.previousElementSibling}return!0}function S7(t){throw new Error("Unexpected object: "+t)}var Jn=(t=>(t[t.First=0]="First",t[t.Previous=1]="Previous",t[t.Next=2]="Next",t[t.Last=3]="Last",t[t.Specific=4]="Specific",t[t.Nothing=5]="Nothing",t))(Jn||{});function C7(t,e){let n=e.resolveItems();if(n.length<=0)return null;let r=e.resolveActiveIndex(),i=r??-1;switch(t.focus){case 0:{for(let s=0;s<n.length;++s)if(!e.resolveDisabled(n[s],s,n))return s;return r}case 1:{for(let s=i-1;s>=0;--s)if(!e.resolveDisabled(n[s],s,n))return s;return r}case 2:{for(let s=i+1;s<n.length;++s)if(!e.resolveDisabled(n[s],s,n))return s;return r}case 3:{for(let s=n.length-1;s>=0;--s)if(!e.resolveDisabled(n[s],s,n))return s;return r}case 4:{for(let s=0;s<n.length;++s)if(e.resolveId(n[s],s,n)===t.id)return s;return r}case 5:return null;default:S7(t)}}var It=(t=>(t.Space=" ",t.Enter="Enter",t.Escape="Escape",t.Backspace="Backspace",t.Delete="Delete",t.ArrowLeft="ArrowLeft",t.ArrowUp="ArrowUp",t.ArrowRight="ArrowRight",t.ArrowDown="ArrowDown",t.Home="Home",t.End="End",t.PageUp="PageUp",t.PageDown="PageDown",t.Tab="Tab",t))(It||{});function Jw(){let t=S.useRef(!1);return Vn(()=>(t.current=!0,()=>{t.current=!1}),[]),t}let Cx=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function Ax(t){var e,n;let r=(e=t.innerText)!=null?e:"",i=t.cloneNode(!0);if(!(i instanceof HTMLElement))return r;let s=!1;for(let a of i.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))a.remove(),s=!0;let o=s?(n=i.innerText)!=null?n:"":r;return Cx.test(o)&&(o=o.replace(Cx,"")),o}function A7(t){let e=t.getAttribute("aria-label");if(typeof e=="string")return e.trim();let n=t.getAttribute("aria-labelledby");if(n){let r=n.split(" ").map(i=>{let s=document.getElementById(i);if(s){let o=s.getAttribute("aria-label");return typeof o=="string"?o.trim():Ax(s).trim()}return null}).filter(Boolean);if(r.length>0)return r.join(", ")}return Ax(t).trim()}function P7(t){let e=S.useRef(""),n=S.useRef("");return Ge(()=>{let r=t.current;if(!r)return"";let i=r.innerText;if(e.current===i)return n.current;let s=A7(r).trim().toLowerCase();return e.current=i,n.current=s,s})}var k7=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(k7||{}),R7=(t=>(t[t.Pointer=0]="Pointer",t[t.Other=1]="Other",t))(R7||{}),N7=(t=>(t[t.OpenMenu=0]="OpenMenu",t[t.CloseMenu=1]="CloseMenu",t[t.GoToItem=2]="GoToItem",t[t.Search=3]="Search",t[t.ClearSearch=4]="ClearSearch",t[t.RegisterItem=5]="RegisterItem",t[t.UnregisterItem=6]="UnregisterItem",t))(N7||{});function am(t,e=n=>n){let n=t.activeItemIndex!==null?t.items[t.activeItemIndex]:null,r=WA(e(t.items.slice()),s=>s.dataRef.current.domRef.current),i=n?r.indexOf(n):null;return i===-1&&(i=null),{items:r,activeItemIndex:i}}let D7={1(t){return t.menuState===1?t:{...t,activeItemIndex:null,menuState:1}},0(t){return t.menuState===0?t:{...t,__demoMode:!1,menuState:0}},2:(t,e)=>{var n;let r=am(t),i=C7(e,{resolveItems:()=>r.items,resolveActiveIndex:()=>r.activeItemIndex,resolveId:s=>s.id,resolveDisabled:s=>s.dataRef.current.disabled});return{...t,...r,searchQuery:"",activeItemIndex:i,activationTrigger:(n=e.trigger)!=null?n:1}},3:(t,e)=>{let n=t.searchQuery!==""?0:1,r=t.searchQuery+e.value.toLowerCase(),i=(t.activeItemIndex!==null?t.items.slice(t.activeItemIndex+n).concat(t.items.slice(0,t.activeItemIndex+n)):t.items).find(o=>{var a;return((a=o.dataRef.current.textValue)==null?void 0:a.startsWith(r))&&!o.dataRef.current.disabled}),s=i?t.items.indexOf(i):-1;return s===-1||s===t.activeItemIndex?{...t,searchQuery:r}:{...t,searchQuery:r,activeItemIndex:s,activationTrigger:1}},4(t){return t.searchQuery===""?t:{...t,searchQuery:"",searchActiveItemIndex:null}},5:(t,e)=>{let n=am(t,r=>[...r,{id:e.id,dataRef:e.dataRef}]);return{...t,...n}},6:(t,e)=>{let n=am(t,r=>{let i=r.findIndex(s=>s.id===e.id);return i!==-1&&r.splice(i,1),r});return{...t,...n,activationTrigger:1}}},Xw=S.createContext(null);Xw.displayName="MenuContext";function jh(t){let e=S.useContext(Xw);if(e===null){let n=new Error(`<${t} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,jh),n}return e}function O7(t,e){return gn(e.type,D7,t,e)}let L7=S.Fragment;function j7(t,e){let{__demoMode:n=!1,...r}=t,i=S.useReducer(O7,{__demoMode:n,menuState:n?0:1,buttonRef:S.createRef(),itemsRef:S.createRef(),items:[],searchQuery:"",activeItemIndex:null,activationTrigger:1}),[{menuState:s,itemsRef:o,buttonRef:a},l]=i,u=ba(e);y7([a,o],(w,E)=>{var x;l({type:1}),Gw(E,Kw.Loose)||(w.preventDefault(),(x=a.current)==null||x.focus())},s===0);let d=Ge(()=>{l({type:1})}),h=S.useMemo(()=>({open:s===0,close:d}),[s,d]),m={ref:u};return he.createElement(Xw.Provider,{value:i},he.createElement(GA,{value:gn(s,{0:fn.Open,1:fn.Closed})},Sa({ourProps:m,theirProps:r,slot:h,defaultTag:L7,name:"Menu"})))}let M7="button";function V7(t,e){var n;let r=Ww(),{id:i=`headlessui-menu-button-${r}`,...s}=t,[o,a]=jh("Menu.Button"),l=ba(o.buttonRef,e),u=Oh(),d=Ge(x=>{switch(x.key){case It.Space:case It.Enter:case It.ArrowDown:x.preventDefault(),x.stopPropagation(),a({type:0}),u.nextFrame(()=>a({type:2,focus:Jn.First}));break;case It.ArrowUp:x.preventDefault(),x.stopPropagation(),a({type:0}),u.nextFrame(()=>a({type:2,focus:Jn.Last}));break}}),h=Ge(x=>{switch(x.key){case It.Space:x.preventDefault();break}}),m=Ge(x=>{if(I7(x.currentTarget))return x.preventDefault();t.disabled||(o.menuState===0?(a({type:1}),u.nextFrame(()=>{var I;return(I=o.buttonRef.current)==null?void 0:I.focus({preventScroll:!0})})):(x.preventDefault(),a({type:0})))}),w=S.useMemo(()=>({open:o.menuState===0}),[o]),E={ref:l,id:i,type:w7(t,o.buttonRef),"aria-haspopup":"menu","aria-controls":(n=o.itemsRef.current)==null?void 0:n.id,"aria-expanded":o.menuState===0,onKeyDown:d,onKeyUp:h,onClick:m};return Sa({ourProps:E,theirProps:s,slot:w,defaultTag:M7,name:"Menu.Button"})}let F7="div",$7=ff.RenderStrategy|ff.Static;function U7(t,e){var n,r;let i=Ww(),{id:s=`headlessui-menu-items-${i}`,...o}=t,[a,l]=jh("Menu.Items"),u=ba(a.itemsRef,e),d=v7(a.itemsRef),h=Oh(),m=Yw(),w=(()=>m!==null?(m&fn.Open)===fn.Open:a.menuState===0)();S.useEffect(()=>{let v=a.itemsRef.current;v&&a.menuState===0&&v!==(d==null?void 0:d.activeElement)&&v.focus({preventScroll:!0})},[a.menuState,a.itemsRef,d]),x7({container:a.itemsRef.current,enabled:a.menuState===0,accept(v){return v.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:v.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(v){v.setAttribute("role","none")}});let E=Ge(v=>{var T,A;switch(h.dispose(),v.key){case It.Space:if(a.searchQuery!=="")return v.preventDefault(),v.stopPropagation(),l({type:3,value:v.key});case It.Enter:if(v.preventDefault(),v.stopPropagation(),l({type:1}),a.activeItemIndex!==null){let{dataRef:P}=a.items[a.activeItemIndex];(A=(T=P.current)==null?void 0:T.domRef.current)==null||A.click()}qA(a.buttonRef.current);break;case It.ArrowDown:return v.preventDefault(),v.stopPropagation(),l({type:2,focus:Jn.Next});case It.ArrowUp:return v.preventDefault(),v.stopPropagation(),l({type:2,focus:Jn.Previous});case It.Home:case It.PageUp:return v.preventDefault(),v.stopPropagation(),l({type:2,focus:Jn.First});case It.End:case It.PageDown:return v.preventDefault(),v.stopPropagation(),l({type:2,focus:Jn.Last});case It.Escape:v.preventDefault(),v.stopPropagation(),l({type:1}),ei().nextFrame(()=>{var P;return(P=a.buttonRef.current)==null?void 0:P.focus({preventScroll:!0})});break;case It.Tab:v.preventDefault(),v.stopPropagation(),l({type:1}),ei().nextFrame(()=>{d7(a.buttonRef.current,v.shiftKey?uy.Previous:uy.Next)});break;default:v.key.length===1&&(l({type:3,value:v.key}),h.setTimeout(()=>l({type:4}),350));break}}),x=Ge(v=>{switch(v.key){case It.Space:v.preventDefault();break}}),I=S.useMemo(()=>({open:a.menuState===0}),[a]),_={"aria-activedescendant":a.activeItemIndex===null||(n=a.items[a.activeItemIndex])==null?void 0:n.id,"aria-labelledby":(r=a.buttonRef.current)==null?void 0:r.id,id:s,onKeyDown:E,onKeyUp:x,role:"menu",tabIndex:0,ref:u};return Sa({ourProps:_,theirProps:o,slot:I,defaultTag:F7,features:$7,visible:w,name:"Menu.Items"})}let B7=S.Fragment;function z7(t,e){let n=Ww(),{id:r=`headlessui-menu-item-${n}`,disabled:i=!1,...s}=t,[o,a]=jh("Menu.Item"),l=o.activeItemIndex!==null?o.items[o.activeItemIndex].id===r:!1,u=S.useRef(null),d=ba(e,u);Vn(()=>{if(o.__demoMode||o.menuState!==0||!l||o.activationTrigger===0)return;let P=ei();return P.requestAnimationFrame(()=>{var j,M;(M=(j=u.current)==null?void 0:j.scrollIntoView)==null||M.call(j,{block:"nearest"})}),P.dispose},[o.__demoMode,u,l,o.menuState,o.activationTrigger,o.activeItemIndex]);let h=P7(u),m=S.useRef({disabled:i,domRef:u,get textValue(){return h()}});Vn(()=>{m.current.disabled=i},[m,i]),Vn(()=>(a({type:5,id:r,dataRef:m}),()=>a({type:6,id:r})),[m,r]);let w=Ge(()=>{a({type:1})}),E=Ge(P=>{if(i)return P.preventDefault();a({type:1}),qA(o.buttonRef.current)}),x=Ge(()=>{if(i)return a({type:2,focus:Jn.Nothing});a({type:2,focus:Jn.Specific,id:r})}),I=E7(),_=Ge(P=>I.update(P)),v=Ge(P=>{I.wasMoved(P)&&(i||l||a({type:2,focus:Jn.Specific,id:r,trigger:0}))}),T=Ge(P=>{I.wasMoved(P)&&(i||l&&a({type:2,focus:Jn.Nothing}))}),A=S.useMemo(()=>({active:l,disabled:i,close:w}),[l,i,w]);return Sa({ourProps:{id:r,ref:d,role:"menuitem",tabIndex:i===!0?void 0:-1,"aria-disabled":i===!0?!0:void 0,disabled:void 0,onClick:E,onFocus:x,onPointerEnter:_,onMouseEnter:_,onPointerMove:v,onMouseMove:v,onPointerLeave:T,onMouseLeave:T},theirProps:s,slot:A,defaultTag:B7,name:"Menu.Item"})}let H7=eo(j7),q7=eo(V7),W7=eo(U7),K7=eo(z7),Pc=Object.assign(H7,{Button:q7,Items:W7,Item:K7});function G7(t=0){let[e,n]=S.useState(t),r=Jw(),i=S.useCallback(l=>{r.current&&n(u=>u|l)},[e,r]),s=S.useCallback(l=>!!(e&l),[e]),o=S.useCallback(l=>{r.current&&n(u=>u&~l)},[n,r]),a=S.useCallback(l=>{r.current&&n(u=>u^l)},[n]);return{flags:e,addFlag:i,hasFlag:s,removeFlag:o,toggleFlag:a}}function Q7(t){let e={called:!1};return(...n)=>{if(!e.called)return e.called=!0,t(...n)}}function lm(t,...e){t&&e.length>0&&t.classList.add(...e)}function um(t,...e){t&&e.length>0&&t.classList.remove(...e)}function Y7(t,e){let n=ei();if(!t)return n.dispose;let{transitionDuration:r,transitionDelay:i}=getComputedStyle(t),[s,o]=[r,i].map(l=>{let[u=0]=l.split(",").filter(Boolean).map(d=>d.includes("ms")?parseFloat(d):parseFloat(d)*1e3).sort((d,h)=>h-d);return u}),a=s+o;if(a!==0){n.group(u=>{u.setTimeout(()=>{e(),u.dispose()},a),u.addEventListener(t,"transitionrun",d=>{d.target===d.currentTarget&&u.dispose()})});let l=n.addEventListener(t,"transitionend",u=>{u.target===u.currentTarget&&(e(),l())})}else e();return n.add(()=>e()),n.dispose}function J7(t,e,n,r){let i=n?"enter":"leave",s=ei(),o=r!==void 0?Q7(r):()=>{};i==="enter"&&(t.removeAttribute("hidden"),t.style.display="");let a=gn(i,{enter:()=>e.enter,leave:()=>e.leave}),l=gn(i,{enter:()=>e.enterTo,leave:()=>e.leaveTo}),u=gn(i,{enter:()=>e.enterFrom,leave:()=>e.leaveFrom});return um(t,...e.base,...e.enter,...e.enterTo,...e.enterFrom,...e.leave,...e.leaveFrom,...e.leaveTo,...e.entered),lm(t,...e.base,...a,...u),s.nextFrame(()=>{um(t,...e.base,...a,...u),lm(t,...e.base,...a,...l),Y7(t,()=>(um(t,...e.base,...a),lm(t,...e.base,...e.entered),o()))}),s.dispose}function X7({immediate:t,container:e,direction:n,classes:r,onStart:i,onStop:s}){let o=Jw(),a=Oh(),l=Hi(n);Vn(()=>{t&&(l.current="enter")},[t]),Vn(()=>{let u=ei();a.add(u.dispose);let d=e.current;if(d&&l.current!=="idle"&&o.current)return u.dispose(),i.current(l.current),u.add(J7(d,r.current,l.current==="enter",()=>{u.dispose(),s.current(l.current)})),u.dispose},[n])}function mi(t=""){return t.split(/\s+/).filter(e=>e.length>1)}let Mh=S.createContext(null);Mh.displayName="TransitionContext";var Z7=(t=>(t.Visible="visible",t.Hidden="hidden",t))(Z7||{});function e8(){let t=S.useContext(Mh);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}function t8(){let t=S.useContext(Vh);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}let Vh=S.createContext(null);Vh.displayName="NestingContext";function Fh(t){return"children"in t?Fh(t.children):t.current.filter(({el:e})=>e.current!==null).filter(({state:e})=>e==="visible").length>0}function QA(t,e){let n=Hi(t),r=S.useRef([]),i=Jw(),s=Oh(),o=Ge((w,E=Pi.Hidden)=>{let x=r.current.findIndex(({el:I})=>I===w);x!==-1&&(gn(E,{[Pi.Unmount](){r.current.splice(x,1)},[Pi.Hidden](){r.current[x].state="hidden"}}),s.microTask(()=>{var I;!Fh(r)&&i.current&&((I=n.current)==null||I.call(n))}))}),a=Ge(w=>{let E=r.current.find(({el:x})=>x===w);return E?E.state!=="visible"&&(E.state="visible"):r.current.push({el:w,state:"visible"}),()=>o(w,Pi.Unmount)}),l=S.useRef([]),u=S.useRef(Promise.resolve()),d=S.useRef({enter:[],leave:[],idle:[]}),h=Ge((w,E,x)=>{l.current.splice(0),e&&(e.chains.current[E]=e.chains.current[E].filter(([I])=>I!==w)),e==null||e.chains.current[E].push([w,new Promise(I=>{l.current.push(I)})]),e==null||e.chains.current[E].push([w,new Promise(I=>{Promise.all(d.current[E].map(([_,v])=>v)).then(()=>I())})]),E==="enter"?u.current=u.current.then(()=>e==null?void 0:e.wait.current).then(()=>x(E)):x(E)}),m=Ge((w,E,x)=>{Promise.all(d.current[E].splice(0).map(([I,_])=>_)).then(()=>{var I;(I=l.current.shift())==null||I()}).then(()=>x(E))});return S.useMemo(()=>({children:r,register:a,unregister:o,onStart:h,onStop:m,wait:u,chains:d}),[a,o,r,h,m,d,u])}function n8(){}let r8=["beforeEnter","afterEnter","beforeLeave","afterLeave"];function Px(t){var e;let n={};for(let r of r8)n[r]=(e=t[r])!=null?e:n8;return n}function i8(t){let e=S.useRef(Px(t));return S.useEffect(()=>{e.current=Px(t)},[t]),e}let s8="div",YA=ff.RenderStrategy;function o8(t,e){var n,r;let{beforeEnter:i,afterEnter:s,beforeLeave:o,afterLeave:a,enter:l,enterFrom:u,enterTo:d,entered:h,leave:m,leaveFrom:w,leaveTo:E,...x}=t,I=S.useRef(null),_=ba(I,e),v=(n=x.unmount)==null||n?Pi.Unmount:Pi.Hidden,{show:T,appear:A,initial:P}=e8(),[j,M]=S.useState(T?"visible":"hidden"),B=t8(),{register:ee,unregister:G}=B;S.useEffect(()=>ee(I),[ee,I]),S.useEffect(()=>{if(v===Pi.Hidden&&I.current){if(T&&j!=="visible"){M("visible");return}return gn(j,{hidden:()=>G(I),visible:()=>ee(I)})}},[j,I,ee,G,T,v]);let ce=Hi({base:mi(x.className),enter:mi(l),enterFrom:mi(u),enterTo:mi(d),entered:mi(h),leave:mi(m),leaveFrom:mi(w),leaveTo:mi(E)}),Z=i8({beforeEnter:i,afterEnter:s,beforeLeave:o,afterLeave:a}),de=qw();S.useEffect(()=>{if(de&&j==="visible"&&I.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[I,j,de]);let we=P&&!A,Fe=A&&T&&P,ft=(()=>!de||we?"idle":T?"enter":"leave")(),$e=G7(0),q=Ge(Je=>gn(Je,{enter:()=>{$e.addFlag(fn.Opening),Z.current.beforeEnter()},leave:()=>{$e.addFlag(fn.Closing),Z.current.beforeLeave()},idle:()=>{}})),re=Ge(Je=>gn(Je,{enter:()=>{$e.removeFlag(fn.Opening),Z.current.afterEnter()},leave:()=>{$e.removeFlag(fn.Closing),Z.current.afterLeave()},idle:()=>{}})),$=QA(()=>{M("hidden"),G(I)},B),Ie=S.useRef(!1);X7({immediate:Fe,container:I,classes:ce,direction:ft,onStart:Hi(Je=>{Ie.current=!0,$.onStart(I,Je,q)}),onStop:Hi(Je=>{Ie.current=!1,$.onStop(I,Je,re),Je==="leave"&&!Fh($)&&(M("hidden"),G(I))})});let xe=x,Sn={ref:_};return Fe?xe={...xe,className:df(x.className,...ce.current.enter,...ce.current.enterFrom)}:Ie.current&&(xe.className=df(x.className,(r=I.current)==null?void 0:r.className),xe.className===""&&delete xe.className),he.createElement(Vh.Provider,{value:$},he.createElement(GA,{value:gn(j,{visible:fn.Open,hidden:fn.Closed})|$e.flags},Sa({ourProps:Sn,theirProps:xe,defaultTag:s8,features:YA,visible:j==="visible",name:"Transition.Child"})))}function a8(t,e){let{show:n,appear:r=!1,unmount:i=!0,...s}=t,o=S.useRef(null),a=ba(o,e);qw();let l=Yw();if(n===void 0&&l!==null&&(n=(l&fn.Open)===fn.Open),![!0,!1].includes(n))throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[u,d]=S.useState(n?"visible":"hidden"),h=QA(()=>{d("hidden")}),[m,w]=S.useState(!0),E=S.useRef([n]);Vn(()=>{m!==!1&&E.current[E.current.length-1]!==n&&(E.current.push(n),w(!1))},[E,n]);let x=S.useMemo(()=>({show:n,appear:r,initial:m}),[n,r,m]);S.useEffect(()=>{if(n)d("visible");else if(!Fh(h))d("hidden");else{let T=o.current;if(!T)return;let A=T.getBoundingClientRect();A.x===0&&A.y===0&&A.width===0&&A.height===0&&d("hidden")}},[n,h]);let I={unmount:i},_=Ge(()=>{var T;m&&w(!1),(T=t.beforeEnter)==null||T.call(t)}),v=Ge(()=>{var T;m&&w(!1),(T=t.beforeLeave)==null||T.call(t)});return he.createElement(Vh.Provider,{value:h},he.createElement(Mh.Provider,{value:x},Sa({ourProps:{...I,as:S.Fragment,children:he.createElement(JA,{ref:a,...I,...s,beforeEnter:_,beforeLeave:v})},theirProps:{},defaultTag:S.Fragment,features:YA,visible:u==="visible",name:"Transition"})))}function l8(t,e){let n=S.useContext(Mh)!==null,r=Yw()!==null;return he.createElement(he.Fragment,null,!n&&r?he.createElement(cy,{ref:e,...t}):he.createElement(JA,{ref:e,...t}))}let cy=eo(a8),JA=eo(o8),u8=eo(l8),c8=Object.assign(cy,{Child:u8,Root:cy});function d8({title:t,titleId:e,...n},r){return S.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?S.createElement("title",{id:e},t):null,S.createElement("path",{fillRule:"evenodd",d:"M5.22 8.22a.75.75 0 0 1 1.06 0L10 11.94l3.72-3.72a.75.75 0 1 1 1.06 1.06l-4.25 4.25a.75.75 0 0 1-1.06 0L5.22 9.28a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"}))}const f8=S.forwardRef(d8),h8=f8;function p8(...t){return t.filter(Boolean).join(" ")}const cm=({title:t,options:e=[],handleOptionSelect:n})=>f.jsxs(Pc,{as:"div",className:"relative inline-block text-left",children:[f.jsx("div",{children:f.jsxs(Pc.Button,{className:"inline-flex w-full justify-between font-bebas gap-x-1.5 rounded-xl bg-[#1E1E1E] px-3 py-2 text-sm text-white shadow-sm ring-1 ring-inset ring-primaryDark hover:bg-gray-50 hover:text-[#1E1E1E]",children:[t,f.jsx(h8,{className:"-mr-1 h-5 w-5 text-primary","aria-hidden":"true"})]})}),f.jsx(c8,{as:S.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:f.jsx(Pc.Items,{className:"absolute right-0 z-10 mt-2 w-full origin-top-right rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none",children:f.jsx("div",{className:"py-1",children:e.map(r=>f.jsx(Pc.Item,{children:({active:i})=>f.jsx("a",{onClick:()=>n(r),className:p8(i?"bg-gray-100 text-gray-900":"text-gray-700","block px-4 py-2 text-sm font-montserrat cursor-pointer"),children:r})},r))})})})]}),m8="_NavbarInvent_16cg3_1",g8="_products_16cg3_23",Ha={NavbarInvent:m8,products:g8};function y8(){return f.jsx("nav",{children:f.jsx("div",{children:f.jsxs("ul",{className:Ha.NavbarInvent,children:[f.jsx("li",{className:Ha.products,children:"Productos"}),f.jsx("li",{className:Ha.stock,children:"Stock"}),f.jsx("li",{className:Ha.price,children:"Precio"}),f.jsx("li",{className:Ha.actions,children:"Acciones"})]})})})}const v8="_ImageContainer_ep3bb_5",w8="_Image_ep3bb_5",_8="_contenedor_ep3bb_21",E8="_info_ep3bb_35",x8="_infoname_ep3bb_45",gi={ImageContainer:v8,Image:w8,contenedor:_8,info:E8,infoname:x8},T8="/assets/delete-edc82f87.svg";function I8({id:t,name:e,price:n,image:r,stock:i}){ns(a=>a.product);const s=bn(),o=a=>{console.log(a),s(GU(a))};return f.jsxs("section",{className:`flex gap-4 p-4 my-3 shadow-md rounded-xl transition hover:scale-110 bg-white ${gi.Card}`,children:[f.jsx("div",{className:gi.ImageContainer,children:f.jsx("img",{src:r,alt:"IMG",className:gi.Image})}),f.jsxs("div",{className:gi.contenedor,children:[f.jsx("h3",{className:gi.infoname,children:e}),f.jsxs("p",{className:gi.info,children:[" ",i]}),f.jsxs("p",{className:gi.info,children:["$",n]}),f.jsx("button",{className:gi.info,onClick:()=>o(t),children:f.jsx("img",{src:T8,alt:""})}),f.jsx(Wn,{to:`editproduct/${t}`,children:f.jsx("button",{children:"Editar"})})]})]})}const b8=()=>{const t=bn(),{products:e,currentPage:n,totalPages:r,filters:i,sorts:s}=ns(u=>u.product);S.useEffect(()=>{(async()=>{t(Ah())})()},[t]),S.useEffect(()=>{},[e]);const o=(n-1)*8,a=()=>{n>1&&t(of(n-1))},l=()=>{n<r&&t(of(n+1))};return f.jsxs("main",{children:[f.jsx(y8,{}),f.jsx("section",{children:e.slice(o,o+3).map(({id:u,name:d,price:h,image:m,stock:w})=>f.jsx(I8,{id:u,name:d,price:h,image:m,stock:w},u))}),f.jsxs("section",{className:"flex items-center justify-center gap-2 mr-5 mb-5",children:[f.jsx("button",{onClick:a,className:"font-bebas p-2 hover:text-primary",children:"prev"}),f.jsx("span",{className:"font-bebas text-primary text-xl mb-1",children:n}),f.jsx("button",{onClick:l,className:"font-bebas p-2 hover:text-primary",children:"next"})]})]})},S8=()=>{const t=bn(),[e,n]=S.useState({name:"",price:0,size:"",stock:0,image:[],flavour:[],description:"",pre_description:[]}),r=s=>{if(s.target.name===image){const o=Array.from(s.target.files);n({...e,[s.target.name]:o})}else if(s.target.name===flavour){const o=s.target.value.split(",").map(a=>a.trim());n({...e,[s.target.value]:o})}else if(s.target.name===pre_description){const o=s.target.value.split(".").map(a=>a.trim());n({...e,[s.target.name]:o})}else n({...e,[s.target.name]:s.target.value})},i=s=>{s.preventDefault(),t(QU(e))};return f.jsxs("form",{children:[f.jsxs("label",{children:["Nombre del producto:",f.jsx("input",{type:"text",name:"name",value:e.name,onChange:r})]}),f.jsxs("label",{children:["Precio:",f.jsx("input",{type:"number",name:"price",value:e.price,onChange:r})]}),f.jsxs("label",{children:["Tamaño:",f.jsx("input",{type:"text",name:"size",value:e.size,onChange:r})]}),f.jsxs("label",{children:["Stock:",f.jsx("input",{type:"number",name:"stock",value:e.stock,onChange:r})]}),f.jsxs("label",{children:["Imagen del producto:",f.jsx("input",{type:"file",name:"image",value:e.image,onChange:r,multiple:!0})]}),f.jsxs("label",{children:["Sabores (separados por comas):",f.jsx("input",{type:"text",name:"flavour",value:e.flavour,onChange:r})]}),f.jsxs("label",{children:["Descripcion:",f.jsx("input",{type:"text",name:"description",value:e.description,onChange:r})]}),f.jsxs("label",{children:["Pre Descripcion (separados por puntos):",f.jsx("input",{type:"text",name:"pre_description",value:e.pre_description,onChange:r})]}),f.jsx("button",{onSubmit:i,children:"Crear producto"})]})},kx=()=>f.jsxs("main",{className:"py-2 px-4 bg-white/70 rounded-xl flex gap-5 font-montserrat",children:[f.jsx("h2",{className:"w-[50%]",children:"Juan Lopera"}),f.jsx("p",{className:"w-[40%]",children:"correo@gmail.com"}),f.jsx("span",{className:"text-red-500",children:"user"})]});function C8(){const t=bn(),{id:e}=$A(),{products:n}=ns(u=>u.product),i=n.filter(u=>u.id==e)[0];console.log(i.flavour);const[s,o]=S.useState({name:i.name,price:i.price,size:i.size,stock:i.stock,image:[],flavour:i.flavour,description:i.description,pre_description:i.pre_description}),a=u=>{if(u.target.name===s.image){const d=Array.from(u.target.files);o({...s,[u.target.name]:d})}else if(u.target.name===s.flavour){const d=u.target.value.split(",").map(h=>h.trim());o({...s,[u.target.value]:d})}else if(u.target.name===s.pre_description){const d=u.target.value.split(".").map(h=>h.trim());o({...s,[u.target.name]:d})}else o({...s,[u.target.name]:u.target.value})},l=u=>{u.preventDefault(),t(YU(s,e))};return f.jsx("div",{className:"max-w-md mx-auto my-8 p-4 bg-white rounded shadow-md",children:f.jsxs("form",{onSubmit:l,children:[f.jsxs("div",{className:"mb-4",children:[f.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-600",children:"Nombre"}),f.jsx("input",{type:"text",id:"name",value:s.name,name:"name",onChange:a,maxLength:20,className:"mt-1 p-2 w-full border rounded focus:outline-none focus:ring focus:border-blue-300"})]}),f.jsxs("div",{className:"mb-4",children:[f.jsx("label",{htmlFor:"price",className:"block text-sm font-medium text-gray-600",children:"Precio"}),f.jsx("input",{type:"text",id:"price",value:s.price,name:"price",onChange:a,className:"mt-1 p-2 w-full border rounded focus:outline-none focus:ring focus:border-blue-300"})]}),f.jsxs("div",{className:"mb-4",children:[f.jsx("label",{htmlFor:"size",className:"block text-sm font-medium text-gray-600",children:"Tamaño"}),f.jsx("input",{type:"text",id:"size",value:s.size,name:"size",onChange:a,className:"mt-1 p-2 w-full border rounded focus:outline-none focus:ring focus:border-blue-300"})]}),f.jsxs("div",{className:"mb-4",children:[f.jsx("label",{htmlFor:"stock",className:"block text-sm font-medium text-gray-600",children:"Stock"}),f.jsx("input",{type:"text",id:"stock",value:s.stock,name:"stock",onChange:a,className:"mt-1 p-2 w-full border rounded focus:outline-none focus:ring focus:border-blue-300"})]}),f.jsxs("div",{className:"mb-4",children:[f.jsx("label",{htmlFor:"image",className:"block text-sm font-medium text-gray-600",children:"Imagen"}),f.jsx("img",{src:i.image[0],alt:"",className:"mt-1 mb-4 w-full h-auto rounded"}),f.jsx("input",{type:"file",id:"image",name:"image",onChange:a,className:"p-2 w-full border rounded focus:outline-none focus:ring focus:border-blue-300"})]}),f.jsxs("div",{className:"mb-4",children:[f.jsx("label",{htmlFor:"flavour",className:"block text-sm font-medium text-gray-600",children:"Sabor"}),f.jsx("input",{type:"text",id:"flavour",value:s.flavour,name:"flavour",onChange:a,className:"mt-1 p-2 w-full border rounded focus:outline-none focus:ring focus:border-blue-300"})]}),f.jsxs("div",{className:"mb-4",children:[f.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-600",children:"Descripcion"}),f.jsx("textarea",{id:"description",value:s.description.join(`
`),name:"description",onChange:u=>a("description",u.target.value.split(`
`)),className:"mt-1 p-2 w-full border rounded focus:outline-none focus:ring focus:border-blue-300"})]}),f.jsxs("div",{className:"mb-4",children:[f.jsx("label",{htmlFor:"pre_description",className:"block text-sm font-medium text-gray-600",children:"Pre descripcion"}),f.jsx("textarea",{id:"pre_description",value:s.pre_description.join(`
`),name:"pre_description",onChange:u=>a("pre_description",u.target.value.split(`
`)),className:"mt-1 p-2 w-full border rounded focus:outline-none focus:ring focus:border-blue-300"})]}),f.jsx("button",{type:"submit",className:"bg-blue-500 text-white py-2 px-4 rounded focus:outline-none focus:ring focus:border-blue-300",children:"Editar producto"})]})})}const Zw="/assets/image-loginPage-902a2f2b.jpeg",A8=async()=>{try{const t=en(Ru(Nt,"users"));return(await ni(t)).data}catch(t){console.log(t.message)}},P8=()=>(console.log((async()=>await A8())()),f.jsxs("main",{className:"flex flex-col gap-5",children:[f.jsx("section",{children:f.jsx("h1",{className:"font-bebas text-xl",children:"Usuarios"})}),f.jsxs("section",{className:"flex flex-col gap-2",children:[f.jsx(kx,{}),f.jsx(kx,{})]})]})),k8=()=>{const[t,e]=S.useState(""),n=i=>{e(i)},r=()=>{switch(t){case"Agregar producto":return f.jsx(S8,{});case"Inventario":return f.jsx(b8,{});case"Control de usuarios":return f.jsx(P8,{});default:return null}};return f.jsxs("main",{className:"h-screen w-full flex justify-center items-center",children:[f.jsx(Vu,{className:"w-[34px] h-[69px] absolute top-10 left-10 z-50"}),f.jsx("img",{className:"w-full h-full object-cover absolute top-0 left-0",src:Zw}),f.jsxs("section",{className:"flex gap-5 justify-between items-center h-[70%] w-[80%] z-40",children:[f.jsxs("aside",{className:"bg-[#475157F2] h-full gap-1 w-[30%] rounded-xl flex flex-col p-5",children:[f.jsx(cm,{title:"ordenes",options:["Ordenes pendientes","Ordenes enviadas"]}),f.jsx(cm,{title:"control de inventario",options:["Agregar producto","Inventario"],handleOptionSelect:n}),f.jsx(cm,{title:"gestion de usuarios",options:["Control de usuarios"],handleOptionSelect:n})]}),f.jsx("section",{className:"bg-primaryLight w-full h-full rounded-xl p-5",children:r()})]})]})};var Fu=t=>t.type==="checkbox",ko=t=>t instanceof Date,Qt=t=>t==null;const XA=t=>typeof t=="object";var dt=t=>!Qt(t)&&!Array.isArray(t)&&XA(t)&&!ko(t),R8=t=>dt(t)&&t.target?Fu(t.target)?t.target.checked:t.target.value:t,N8=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,D8=(t,e)=>t.has(N8(e)),O8=t=>{const e=t.constructor&&t.constructor.prototype;return dt(e)&&e.hasOwnProperty("isPrototypeOf")},e0=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Nr(t){let e;const n=Array.isArray(t);if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(e0&&(t instanceof Blob||t instanceof FileList))&&(n||dt(t)))if(e=n?[]:{},!n&&!O8(t))e=t;else for(const r in t)t.hasOwnProperty(r)&&(e[r]=Nr(t[r]));else return t;return e}var $u=t=>Array.isArray(t)?t.filter(Boolean):[],et=t=>t===void 0,X=(t,e,n)=>{if(!e||!dt(t))return n;const r=$u(e.split(/[,[\].]+?/)).reduce((i,s)=>Qt(i)?i:i[s],t);return et(r)||r===t?et(t[e])?n:t[e]:r},Lr=t=>typeof t=="boolean";const Rx={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Yn={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Rr={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};he.createContext(null);var L8=(t,e,n,r=!0)=>{const i={defaultValues:e._defaultValues};for(const s in t)Object.defineProperty(i,s,{get:()=>{const o=s;return e._proxyFormState[o]!==Yn.all&&(e._proxyFormState[o]=!r||Yn.all),n&&(n[o]=!0),t[o]}});return i},Pn=t=>dt(t)&&!Object.keys(t).length,j8=(t,e,n,r)=>{n(t);const{name:i,...s}=t;return Pn(s)||Object.keys(s).length>=Object.keys(e).length||Object.keys(s).find(o=>e[o]===(!r||Yn.all))},dm=t=>Array.isArray(t)?t:[t];function M8(t){const e=he.useRef(t);e.current=t,he.useEffect(()=>{const n=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{n&&n.unsubscribe()}},[t.disabled])}var yr=t=>typeof t=="string",V8=(t,e,n,r,i)=>yr(t)?(r&&e.watch.add(t),X(n,t,i)):Array.isArray(t)?t.map(s=>(r&&e.watch.add(s),X(n,s))):(r&&(e.watchAll=!0),n),t0=t=>/^\w*$/.test(t),ZA=t=>$u(t.replace(/["|']|\]/g,"").split(/\.|\[/)),Me=(t,e,n)=>{let r=-1;const i=t0(e)?[e]:ZA(e),s=i.length,o=s-1;for(;++r<s;){const a=i[r];let l=n;if(r!==o){const u=t[a];l=dt(u)||Array.isArray(u)?u:isNaN(+i[r+1])?{}:[]}t[a]=l,t=t[a]}return t},F8=(t,e,n,r,i)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:i||!0}}:{},Nx=t=>({isOnSubmit:!t||t===Yn.onSubmit,isOnBlur:t===Yn.onBlur,isOnChange:t===Yn.onChange,isOnAll:t===Yn.all,isOnTouch:t===Yn.onTouched}),Dx=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const _l=(t,e,n,r)=>{for(const i of n||Object.keys(t)){const s=X(t,i);if(s){const{_f:o,...a}=s;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],i)&&!r)break;if(o.ref&&e(o.ref,o.name)&&!r)break;_l(a,e)}else dt(a)&&_l(a,e)}}};var $8=(t,e,n)=>{const r=$u(X(t,n));return Me(r,"root",e[n]),Me(t,n,r),t},n0=t=>t.type==="file",ki=t=>typeof t=="function",hf=t=>{if(!e0)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},nd=t=>yr(t),r0=t=>t.type==="radio",pf=t=>t instanceof RegExp;const Ox={value:!1,isValid:!1},Lx={value:!0,isValid:!0};var eP=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!et(t[0].attributes.value)?et(t[0].value)||t[0].value===""?Lx:{value:t[0].value,isValid:!0}:Lx:Ox}return Ox};const jx={isValid:!1,value:null};var tP=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,jx):jx;function Mx(t,e,n="validate"){if(nd(t)||Array.isArray(t)&&t.every(nd)||Lr(t)&&!t)return{type:n,message:nd(t)?t:"",ref:e}}var ho=t=>dt(t)&&!pf(t)?t:{value:t,message:""},Vx=async(t,e,n,r,i)=>{const{ref:s,refs:o,required:a,maxLength:l,minLength:u,min:d,max:h,pattern:m,validate:w,name:E,valueAsNumber:x,mount:I,disabled:_}=t._f,v=X(e,E);if(!I||_)return{};const T=o?o[0]:s,A=Z=>{r&&T.reportValidity&&(T.setCustomValidity(Lr(Z)?"":Z||""),T.reportValidity())},P={},j=r0(s),M=Fu(s),B=j||M,ee=(x||n0(s))&&et(s.value)&&et(v)||hf(s)&&s.value===""||v===""||Array.isArray(v)&&!v.length,G=F8.bind(null,E,n,P),ce=(Z,de,we,Fe=Rr.maxLength,ft=Rr.minLength)=>{const $e=Z?de:we;P[E]={type:Z?Fe:ft,message:$e,ref:s,...G(Z?Fe:ft,$e)}};if(i?!Array.isArray(v)||!v.length:a&&(!B&&(ee||Qt(v))||Lr(v)&&!v||M&&!eP(o).isValid||j&&!tP(o).isValid)){const{value:Z,message:de}=nd(a)?{value:!!a,message:a}:ho(a);if(Z&&(P[E]={type:Rr.required,message:de,ref:T,...G(Rr.required,de)},!n))return A(de),P}if(!ee&&(!Qt(d)||!Qt(h))){let Z,de;const we=ho(h),Fe=ho(d);if(!Qt(v)&&!isNaN(v)){const ft=s.valueAsNumber||v&&+v;Qt(we.value)||(Z=ft>we.value),Qt(Fe.value)||(de=ft<Fe.value)}else{const ft=s.valueAsDate||new Date(v),$e=$=>new Date(new Date().toDateString()+" "+$),q=s.type=="time",re=s.type=="week";yr(we.value)&&v&&(Z=q?$e(v)>$e(we.value):re?v>we.value:ft>new Date(we.value)),yr(Fe.value)&&v&&(de=q?$e(v)<$e(Fe.value):re?v<Fe.value:ft<new Date(Fe.value))}if((Z||de)&&(ce(!!Z,we.message,Fe.message,Rr.max,Rr.min),!n))return A(P[E].message),P}if((l||u)&&!ee&&(yr(v)||i&&Array.isArray(v))){const Z=ho(l),de=ho(u),we=!Qt(Z.value)&&v.length>+Z.value,Fe=!Qt(de.value)&&v.length<+de.value;if((we||Fe)&&(ce(we,Z.message,de.message),!n))return A(P[E].message),P}if(m&&!ee&&yr(v)){const{value:Z,message:de}=ho(m);if(pf(Z)&&!v.match(Z)&&(P[E]={type:Rr.pattern,message:de,ref:s,...G(Rr.pattern,de)},!n))return A(de),P}if(w){if(ki(w)){const Z=await w(v,e),de=Mx(Z,T);if(de&&(P[E]={...de,...G(Rr.validate,de.message)},!n))return A(de.message),P}else if(dt(w)){let Z={};for(const de in w){if(!Pn(Z)&&!n)break;const we=Mx(await w[de](v,e),T,de);we&&(Z={...we,...G(de,we.message)},A(we.message),n&&(P[E]=Z))}if(!Pn(Z)&&(P[E]={ref:T,...Z},!n))return P}}return A(!0),P};function U8(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=et(t)?r++:t[e[r++]];return t}function B8(t){for(const e in t)if(t.hasOwnProperty(e)&&!et(t[e]))return!1;return!0}function Et(t,e){const n=Array.isArray(e)?e:t0(e)?[e]:ZA(e),r=n.length===1?t:U8(t,n),i=n.length-1,s=n[i];return r&&delete r[s],i!==0&&(dt(r)&&Pn(r)||Array.isArray(r)&&B8(r))&&Et(t,n.slice(0,-1)),t}var fm=()=>{let t=[];return{get observers(){return t},next:i=>{for(const s of t)s.next&&s.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(s=>s!==i)}}),unsubscribe:()=>{t=[]}}},mf=t=>Qt(t)||!XA(t);function Is(t,e){if(mf(t)||mf(e))return t===e;if(ko(t)&&ko(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const i of n){const s=t[i];if(!r.includes(i))return!1;if(i!=="ref"){const o=e[i];if(ko(s)&&ko(o)||dt(s)&&dt(o)||Array.isArray(s)&&Array.isArray(o)?!Is(s,o):s!==o)return!1}}return!0}var nP=t=>t.type==="select-multiple",z8=t=>r0(t)||Fu(t),hm=t=>hf(t)&&t.isConnected,rP=t=>{for(const e in t)if(ki(t[e]))return!0;return!1};function gf(t,e={}){const n=Array.isArray(t);if(dt(t)||n)for(const r in t)Array.isArray(t[r])||dt(t[r])&&!rP(t[r])?(e[r]=Array.isArray(t[r])?[]:{},gf(t[r],e[r])):Qt(t[r])||(e[r]=!0);return e}function iP(t,e,n){const r=Array.isArray(t);if(dt(t)||r)for(const i in t)Array.isArray(t[i])||dt(t[i])&&!rP(t[i])?et(e)||mf(n[i])?n[i]=Array.isArray(t[i])?gf(t[i],[]):{...gf(t[i])}:iP(t[i],Qt(e)?{}:e[i],n[i]):n[i]=!Is(t[i],e[i]);return n}var pm=(t,e)=>iP(t,e,gf(e)),sP=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>et(t)?t:e?t===""?NaN:t&&+t:n&&yr(t)?new Date(t):r?r(t):t;function mm(t){const e=t.ref;if(!(t.refs?t.refs.every(n=>n.disabled):e.disabled))return n0(e)?e.files:r0(e)?tP(t.refs).value:nP(e)?[...e.selectedOptions].map(({value:n})=>n):Fu(e)?eP(t.refs).value:sP(et(e.value)?t.ref.value:e.value,t)}var H8=(t,e,n,r)=>{const i={};for(const s of t){const o=X(e,s);o&&Me(i,s,o._f)}return{criteriaMode:n,names:[...t],fields:i,shouldUseNativeValidation:r}},qa=t=>et(t)?t:pf(t)?t.source:dt(t)?pf(t.value)?t.value.source:t.value:t,q8=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function Fx(t,e,n){const r=X(t,n);if(r||t0(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const s=i.join("."),o=X(e,s),a=X(t,s);if(o&&!Array.isArray(o)&&n!==s)return{name:n};if(a&&a.type)return{name:s,error:a};i.pop()}return{name:n}}var W8=(t,e,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(e||t):(n?r.isOnBlur:i.isOnBlur)?!t:(n?r.isOnChange:i.isOnChange)?t:!0,K8=(t,e)=>!$u(X(t,e)).length&&Et(t,e);const G8={mode:Yn.onSubmit,reValidateMode:Yn.onChange,shouldFocusError:!0};function Q8(t={},e){let n={...G8,...t},r={submitCount:0,isDirty:!1,isLoading:ki(n.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},errors:n.errors||{},disabled:!1},i={},s=dt(n.defaultValues)||dt(n.values)?Nr(n.defaultValues||n.values)||{}:{},o=n.shouldUnregister?{}:Nr(s),a={action:!1,mount:!1,watch:!1},l={mount:new Set,unMount:new Set,array:new Set,watch:new Set},u,d=0;const h={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},m={values:fm(),array:fm(),state:fm()},w=t.resetOptions&&t.resetOptions.keepDirtyValues,E=Nx(n.mode),x=Nx(n.reValidateMode),I=n.criteriaMode===Yn.all,_=C=>k=>{clearTimeout(d),d=setTimeout(C,k)},v=async C=>{if(h.isValid||C){const k=n.resolver?Pn((await G()).errors):await Z(i,!0);k!==r.isValid&&m.state.next({isValid:k})}},T=C=>h.isValidating&&m.state.next({isValidating:C}),A=(C,k=[],R,K,z=!0,U=!0)=>{if(K&&R){if(a.action=!0,U&&Array.isArray(X(i,C))){const te=R(X(i,C),K.argA,K.argB);z&&Me(i,C,te)}if(U&&Array.isArray(X(r.errors,C))){const te=R(X(r.errors,C),K.argA,K.argB);z&&Me(r.errors,C,te),K8(r.errors,C)}if(h.touchedFields&&U&&Array.isArray(X(r.touchedFields,C))){const te=R(X(r.touchedFields,C),K.argA,K.argB);z&&Me(r.touchedFields,C,te)}h.dirtyFields&&(r.dirtyFields=pm(s,o)),m.state.next({name:C,isDirty:we(C,k),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Me(o,C,k)},P=(C,k)=>{Me(r.errors,C,k),m.state.next({errors:r.errors})},j=C=>{r.errors=C,m.state.next({errors:r.errors,isValid:!1})},M=(C,k,R,K)=>{const z=X(i,C);if(z){const U=X(o,C,et(R)?X(s,C):R);et(U)||K&&K.defaultChecked||k?Me(o,C,k?U:mm(z._f)):$e(C,U),a.mount&&v()}},B=(C,k,R,K,z)=>{let U=!1,te=!1;const Se={name:C},We=!!(X(i,C)&&X(i,C)._f.disabled);if(!R||K){h.isDirty&&(te=r.isDirty,r.isDirty=Se.isDirty=we(),U=te!==Se.isDirty);const Kt=We||Is(X(s,C),k);te=!!(!We&&X(r.dirtyFields,C)),Kt||We?Et(r.dirtyFields,C):Me(r.dirtyFields,C,!0),Se.dirtyFields=r.dirtyFields,U=U||h.dirtyFields&&te!==!Kt}if(R){const Kt=X(r.touchedFields,C);Kt||(Me(r.touchedFields,C,R),Se.touchedFields=r.touchedFields,U=U||h.touchedFields&&Kt!==R)}return U&&z&&m.state.next(Se),U?Se:{}},ee=(C,k,R,K)=>{const z=X(r.errors,C),U=h.isValid&&Lr(k)&&r.isValid!==k;if(t.delayError&&R?(u=_(()=>P(C,R)),u(t.delayError)):(clearTimeout(d),u=null,R?Me(r.errors,C,R):Et(r.errors,C)),(R?!Is(z,R):z)||!Pn(K)||U){const te={...K,...U&&Lr(k)?{isValid:k}:{},errors:r.errors,name:C};r={...r,...te},m.state.next(te)}T(!1)},G=async C=>n.resolver(o,n.context,H8(C||l.mount,i,n.criteriaMode,n.shouldUseNativeValidation)),ce=async C=>{const{errors:k}=await G(C);if(C)for(const R of C){const K=X(k,R);K?Me(r.errors,R,K):Et(r.errors,R)}else r.errors=k;return k},Z=async(C,k,R={valid:!0})=>{for(const K in C){const z=C[K];if(z){const{_f:U,...te}=z;if(U){const Se=l.array.has(U.name),We=await Vx(z,o,I,n.shouldUseNativeValidation&&!k,Se);if(We[U.name]&&(R.valid=!1,k))break;!k&&(X(We,U.name)?Se?$8(r.errors,We,U.name):Me(r.errors,U.name,We[U.name]):Et(r.errors,U.name))}te&&await Z(te,k,R)}}return R.valid},de=()=>{for(const C of l.unMount){const k=X(i,C);k&&(k._f.refs?k._f.refs.every(R=>!hm(R)):!hm(k._f.ref))&&to(C)}l.unMount=new Set},we=(C,k)=>(C&&k&&Me(o,C,k),!Is(Sn(),s)),Fe=(C,k,R)=>V8(C,l,{...a.mount?o:et(k)?s:yr(C)?{[C]:k}:k},R,k),ft=C=>$u(X(a.mount?o:s,C,t.shouldUnregister?X(s,C,[]):[])),$e=(C,k,R={})=>{const K=X(i,C);let z=k;if(K){const U=K._f;U&&(!U.disabled&&Me(o,C,sP(k,U)),z=hf(U.ref)&&Qt(k)?"":k,nP(U.ref)?[...U.ref.options].forEach(te=>te.selected=z.includes(te.value)):U.refs?Fu(U.ref)?U.refs.length>1?U.refs.forEach(te=>(!te.defaultChecked||!te.disabled)&&(te.checked=Array.isArray(z)?!!z.find(Se=>Se===te.value):z===te.value)):U.refs[0]&&(U.refs[0].checked=!!z):U.refs.forEach(te=>te.checked=te.value===z):n0(U.ref)?U.ref.value="":(U.ref.value=z,U.ref.type||m.values.next({name:C,values:{...o}})))}(R.shouldDirty||R.shouldTouch)&&B(C,z,R.shouldTouch,R.shouldDirty,!0),R.shouldValidate&&xe(C)},q=(C,k,R)=>{for(const K in k){const z=k[K],U=`${C}.${K}`,te=X(i,U);(l.array.has(C)||!mf(z)||te&&!te._f)&&!ko(z)?q(U,z,R):$e(U,z,R)}},re=(C,k,R={})=>{const K=X(i,C),z=l.array.has(C),U=Nr(k);Me(o,C,U),z?(m.array.next({name:C,values:{...o}}),(h.isDirty||h.dirtyFields)&&R.shouldDirty&&m.state.next({name:C,dirtyFields:pm(s,o),isDirty:we(C,U)})):K&&!K._f&&!Qt(U)?q(C,U,R):$e(C,U,R),Dx(C,l)&&m.state.next({...r}),m.values.next({name:C,values:{...o}}),!a.mount&&e()},$=async C=>{const k=C.target;let R=k.name,K=!0;const z=X(i,R),U=()=>k.type?mm(z._f):R8(C),te=Se=>{K=Number.isNaN(Se)||Se===X(o,R,Se)};if(z){let Se,We;const Kt=U(),_t=C.type===Rx.BLUR||C.type===Rx.FOCUS_OUT,oi=!q8(z._f)&&!n.resolver&&!X(r.errors,R)&&!z._f.deps||W8(_t,X(r.touchedFields,R),r.isSubmitted,x,E),zn=Dx(R,l,_t);Me(o,R,Kt),_t?(z._f.onBlur&&z._f.onBlur(C),u&&u(0)):z._f.onChange&&z._f.onChange(C);const Ca=B(R,Kt,_t,!1),ai=!Pn(Ca)||zn;if(!_t&&m.values.next({name:R,type:C.type,values:{...o}}),oi)return h.isValid&&v(),ai&&m.state.next({name:R,...zn?{}:Ca});if(!_t&&zn&&m.state.next({...r}),T(!0),n.resolver){const{errors:li}=await G([R]);if(te(Kt),K){const Hu=Fx(r.errors,i,R),as=Fx(li,i,Hu.name||R);Se=as.error,R=as.name,We=Pn(li)}}else Se=(await Vx(z,o,I,n.shouldUseNativeValidation))[R],te(Kt),K&&(Se?We=!1:h.isValid&&(We=await Z(i,!0)));K&&(z._f.deps&&xe(z._f.deps),ee(R,We,Se,Ca))}},Ie=(C,k)=>{if(X(r.errors,k)&&C.focus)return C.focus(),1},xe=async(C,k={})=>{let R,K;const z=dm(C);if(T(!0),n.resolver){const U=await ce(et(C)?C:z);R=Pn(U),K=C?!z.some(te=>X(U,te)):R}else C?(K=(await Promise.all(z.map(async U=>{const te=X(i,U);return await Z(te&&te._f?{[U]:te}:te)}))).every(Boolean),!(!K&&!r.isValid)&&v()):K=R=await Z(i);return m.state.next({...!yr(C)||h.isValid&&R!==r.isValid?{}:{name:C},...n.resolver||!C?{isValid:R}:{},errors:r.errors,isValidating:!1}),k.shouldFocus&&!K&&_l(i,Ie,C?z:l.mount),K},Sn=C=>{const k={...s,...a.mount?o:{}};return et(C)?k:yr(C)?X(k,C):C.map(R=>X(k,R))},Je=(C,k)=>({invalid:!!X((k||r).errors,C),isDirty:!!X((k||r).dirtyFields,C),isTouched:!!X((k||r).touchedFields,C),error:X((k||r).errors,C)}),N=C=>{C&&dm(C).forEach(k=>Et(r.errors,k)),m.state.next({errors:C?r.errors:{}})},Cn=(C,k,R)=>{const K=(X(i,C,{_f:{}})._f||{}).ref;Me(r.errors,C,{...k,ref:K}),m.state.next({name:C,errors:r.errors,isValid:!1}),R&&R.shouldFocus&&K&&K.focus&&K.focus()},Bn=(C,k)=>ki(C)?m.values.subscribe({next:R=>C(Fe(void 0,k),R)}):Fe(C,k,!0),to=(C,k={})=>{for(const R of C?dm(C):l.mount)l.mount.delete(R),l.array.delete(R),k.keepValue||(Et(i,R),Et(o,R)),!k.keepError&&Et(r.errors,R),!k.keepDirty&&Et(r.dirtyFields,R),!k.keepTouched&&Et(r.touchedFields,R),!n.shouldUnregister&&!k.keepDefaultValue&&Et(s,R);m.values.next({values:{...o}}),m.state.next({...r,...k.keepDirty?{isDirty:we()}:{}}),!k.keepIsValid&&v()},no=({disabled:C,name:k,field:R,fields:K,value:z})=>{if(Lr(C)){const U=C?void 0:et(z)?mm(R?R._f:X(K,k)._f):z;Me(o,k,U),B(k,U,!1,!1,!0)}},ht=(C,k={})=>{let R=X(i,C);const K=Lr(k.disabled);return Me(i,C,{...R||{},_f:{...R&&R._f?R._f:{ref:{name:C}},name:C,mount:!0,...k}}),l.mount.add(C),R?no({field:R,disabled:k.disabled,name:C,value:k.value}):M(C,!0,k.value),{...K?{disabled:k.disabled}:{},...n.progressive?{required:!!k.required,min:qa(k.min),max:qa(k.max),minLength:qa(k.minLength),maxLength:qa(k.maxLength),pattern:qa(k.pattern)}:{},name:C,onChange:$,onBlur:$,ref:z=>{if(z){ht(C,k),R=X(i,C);const U=et(z.value)&&z.querySelectorAll&&z.querySelectorAll("input,select,textarea")[0]||z,te=z8(U),Se=R._f.refs||[];if(te?Se.find(We=>We===U):U===R._f.ref)return;Me(i,C,{_f:{...R._f,...te?{refs:[...Se.filter(hm),U,...Array.isArray(X(s,C))?[{}]:[]],ref:{type:U.type,name:C}}:{ref:U}}}),M(C,!1,void 0,U)}else R=X(i,C,{}),R._f&&(R._f.mount=!1),(n.shouldUnregister||k.shouldUnregister)&&!(D8(l.array,C)&&a.action)&&l.unMount.add(C)}}},or=()=>n.shouldFocusError&&_l(i,Ie,l.mount),Uu=C=>{Lr(C)&&(m.state.next({disabled:C}),_l(i,(k,R)=>{let K=C;const z=X(i,R);z&&Lr(z._f.disabled)&&(K||(K=z._f.disabled)),k.disabled=K},0,!1))},Bu=(C,k)=>async R=>{R&&(R.preventDefault&&R.preventDefault(),R.persist&&R.persist());let K=Nr(o);if(m.state.next({isSubmitting:!0}),n.resolver){const{errors:z,values:U}=await G();r.errors=z,K=U}else await Z(i);Et(r.errors,"root"),Pn(r.errors)?(m.state.next({errors:{}}),await C(K,R)):(k&&await k({...r.errors},R),or(),setTimeout(or)),m.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Pn(r.errors),submitCount:r.submitCount+1,errors:r.errors})},$h=(C,k={})=>{X(i,C)&&(et(k.defaultValue)?re(C,X(s,C)):(re(C,k.defaultValue),Me(s,C,k.defaultValue)),k.keepTouched||Et(r.touchedFields,C),k.keepDirty||(Et(r.dirtyFields,C),r.isDirty=k.defaultValue?we(C,X(s,C)):we()),k.keepError||(Et(r.errors,C),h.isValid&&v()),m.state.next({...r}))},os=(C,k={})=>{const R=C?Nr(C):s,K=Nr(R),z=C&&!Pn(C)?K:s;if(k.keepDefaultValues||(s=R),!k.keepValues){if(k.keepDirtyValues||w)for(const U of l.mount)X(r.dirtyFields,U)?Me(z,U,X(o,U)):re(U,X(z,U));else{if(e0&&et(C))for(const U of l.mount){const te=X(i,U);if(te&&te._f){const Se=Array.isArray(te._f.refs)?te._f.refs[0]:te._f.ref;if(hf(Se)){const We=Se.closest("form");if(We){We.reset();break}}}}i={}}o=t.shouldUnregister?k.keepDefaultValues?Nr(s):{}:Nr(z),m.array.next({values:{...z}}),m.values.next({values:{...z}})}l={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},!a.mount&&e(),a.mount=!h.isValid||!!k.keepIsValid,a.watch=!!t.shouldUnregister,m.state.next({submitCount:k.keepSubmitCount?r.submitCount:0,isDirty:k.keepDirty?r.isDirty:!!(k.keepDefaultValues&&!Is(C,s)),isSubmitted:k.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:k.keepDirtyValues?r.dirtyFields:k.keepDefaultValues&&C?pm(s,C):{},touchedFields:k.keepTouched?r.touchedFields:{},errors:k.keepErrors?r.errors:{},isSubmitSuccessful:k.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},ro=(C,k)=>os(ki(C)?C(o):C,k);return{control:{register:ht,unregister:to,getFieldState:Je,handleSubmit:Bu,setError:Cn,_executeSchema:G,_getWatch:Fe,_getDirty:we,_updateValid:v,_removeUnmounted:de,_updateFieldArray:A,_updateDisabledField:no,_getFieldArray:ft,_reset:os,_resetDefaultValues:()=>ki(n.defaultValues)&&n.defaultValues().then(C=>{ro(C,n.resetOptions),m.state.next({isLoading:!1})}),_updateFormState:C=>{r={...r,...C}},_disableForm:Uu,_subjects:m,_proxyFormState:h,_setErrors:j,get _fields(){return i},get _formValues(){return o},get _state(){return a},set _state(C){a=C},get _defaultValues(){return s},get _names(){return l},set _names(C){l=C},get _formState(){return r},set _formState(C){r=C},get _options(){return n},set _options(C){n={...n,...C}}},trigger:xe,register:ht,handleSubmit:Bu,watch:Bn,setValue:re,getValues:Sn,reset:ro,resetField:$h,clearErrors:N,unregister:to,setError:Cn,setFocus:(C,k={})=>{const R=X(i,C),K=R&&R._f;if(K){const z=K.refs?K.refs[0]:K.ref;z.focus&&(z.focus(),k.shouldSelect&&z.select())}},getFieldState:Je}}function Y8(t={}){const e=he.useRef(),n=he.useRef(),[r,i]=he.useState({isDirty:!1,isValidating:!1,isLoading:ki(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},errors:t.errors||{},disabled:!1,defaultValues:ki(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...Q8(t,()=>i(o=>({...o}))),formState:r});const s=e.current.control;return s._options=t,M8({subject:s._subjects.state,next:o=>{j8(o,s._proxyFormState,s._updateFormState,!0)&&i({...s._formState})}}),he.useEffect(()=>s._disableForm(t.disabled),[s,t.disabled]),he.useEffect(()=>{if(s._proxyFormState.isDirty){const o=s._getDirty();o!==r.isDirty&&s._subjects.state.next({isDirty:o})}},[s,r.isDirty]),he.useEffect(()=>{t.values&&!Is(t.values,n.current)?(s._reset(t.values,s._options.resetOptions),n.current=t.values,i(o=>({...o}))):s._resetDefaultValues()},[t.values,s]),he.useEffect(()=>{t.errors&&s._setErrors(t.errors)},[t.errors,s]),he.useEffect(()=>{s._state.mount||(s._updateValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),e.current.formState=L8(r,s),e.current}const J8=()=>f.jsx(f.Fragment,{children:f.jsxs(Dh,{children:[f.jsx(lt,{path:"dasboard",element:f.jsx(k8,{})}),f.jsx(lt,{path:"/*",element:f.jsx(Hw,{to:"/dasboard"})}),f.jsx(lt,{path:"dasboard/editproduct/:id",element:f.jsx(C8,{})})]})}),i0=async(t,e)=>{try{const n=en(Nt,"carritos",t),r=await ni(n);if(e){const i=r.data().productos;if(i.length>0){const s=[...i,e],o=[];for(const a of s){const l=o.find(u=>u.id==a.id);console.log(l),l?l.cantidad+=a.cantidad:o.push(a)}o&&await Gd(n,{productos:o})}else r.exists()&&e&&await Gd(n,{productos:uV(e)})}}catch(n){console.log("Error al agregar producto al carrito",n.message)}},Pr=S.createContext(),X8=({children:t})=>{const[e,n]=S.useState(null),[r,i]=S.useState(!0),[s,o]=S.useState(!1),[a,l]=S.useState(null),[u,d]=S.useState([]),[h,m]=S.useState([]),[w,E]=S.useState(null),[x,I]=S.useState(!1),[_,v]=S.useState(!1);return S.useEffect(()=>{wF(oa,async T=>{if(T){n(T);const A=await lA(T==null?void 0:T.uid);console.log(A),A?(l(A),o(!0),await i0(T==null?void 0:T.uid,JSON.parse(window.localStorage.getItem("products"))),localStorage.removeItem("products"),d([])):(await Ow({role:"user",status:"active",photoURL:e.photoURL,id:e.uid,email:e.email,displayName:e.displayName}),o(!0)),o(!1)}i(!1)})},[]),f.jsx(Pr.Provider,{value:{currentUser:e,setCurrentUser:n,isRegistered:s,loading:r,setLoading:i,user:a,showCart:x,setShowCart:I,showOrder:_,setShowOrder:v,productsLocalStorage:u,setProductsLocalStorage:d,products:h,setProducts:m,totalPay:w,setTotalPay:E},children:t})},s0=async(t,e)=>{try{const n=en(Nt,"carritos",t),r=await ni(n);if(r.exists()){const s=r.data().productos,o=s==null?void 0:s.findIndex(a=>a.id===e);o!==-1?(s[o].cantidad+=1,await Gd(n,{productos:s})):console.log("El producto no existe en el carrito")}else console.log("El carrito no existe para este usuario")}catch(n){console.log("Error al aumentar la cantidad del producto:",n.message)}},Z8=t=>/^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9-.]+$/.test(t)?"":"El email es invalido";var oP={exports:{}};/*!
* sweetalert2 v11.10.1
* Released under the MIT License.
*/(function(t,e){(function(n,r){t.exports=r()})(di,function(){function n(y,c){var p=y==null?null:typeof Symbol<"u"&&y[Symbol.iterator]||y["@@iterator"];if(p!=null){var g,b,D,W,ae=[],fe=!0,Ne=!1;try{if(D=(p=p.call(y)).next,c===0){if(Object(p)!==p)return;fe=!1}else for(;!(fe=(g=D.call(p)).done)&&(ae.push(g.value),ae.length!==c);fe=!0);}catch(Ra){Ne=!0,b=Ra}finally{try{if(!fe&&p.return!=null&&(W=p.return(),Object(W)!==W))return}finally{if(Ne)throw b}}return ae}}function r(y){"@babel/helpers - typeof";return r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},r(y)}function i(y,c){if(!(y instanceof c))throw new TypeError("Cannot call a class as a function")}function s(y,c){for(var p=0;p<c.length;p++){var g=c[p];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(y,ce(g.key),g)}}function o(y,c,p){return c&&s(y.prototype,c),p&&s(y,p),Object.defineProperty(y,"prototype",{writable:!1}),y}function a(y,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");y.prototype=Object.create(c&&c.prototype,{constructor:{value:y,writable:!0,configurable:!0}}),Object.defineProperty(y,"prototype",{writable:!1}),c&&u(y,c)}function l(y){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(p){return p.__proto__||Object.getPrototypeOf(p)},l(y)}function u(y,c){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(g,b){return g.__proto__=b,g},u(y,c)}function d(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function h(y,c,p){return d()?h=Reflect.construct.bind():h=function(b,D,W){var ae=[null];ae.push.apply(ae,D);var fe=Function.bind.apply(b,ae),Ne=new fe;return W&&u(Ne,W.prototype),Ne},h.apply(null,arguments)}function m(y){if(y===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y}function w(y,c){if(c&&(typeof c=="object"||typeof c=="function"))return c;if(c!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return m(y)}function E(y){var c=d();return function(){var g=l(y),b;if(c){var D=l(this).constructor;b=Reflect.construct(g,arguments,D)}else b=g.apply(this,arguments);return w(this,b)}}function x(y,c){for(;!Object.prototype.hasOwnProperty.call(y,c)&&(y=l(y),y!==null););return y}function I(){return typeof Reflect<"u"&&Reflect.get?I=Reflect.get.bind():I=function(c,p,g){var b=x(c,p);if(b){var D=Object.getOwnPropertyDescriptor(b,p);return D.get?D.get.call(arguments.length<3?c:g):D.value}},I.apply(this,arguments)}function _(y,c){return A(y)||n(y,c)||j(y,c)||ee()}function v(y){return T(y)||P(y)||j(y)||B()}function T(y){if(Array.isArray(y))return M(y)}function A(y){if(Array.isArray(y))return y}function P(y){if(typeof Symbol<"u"&&y[Symbol.iterator]!=null||y["@@iterator"]!=null)return Array.from(y)}function j(y,c){if(y){if(typeof y=="string")return M(y,c);var p=Object.prototype.toString.call(y).slice(8,-1);if(p==="Object"&&y.constructor&&(p=y.constructor.name),p==="Map"||p==="Set")return Array.from(y);if(p==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(p))return M(y,c)}}function M(y,c){(c==null||c>y.length)&&(c=y.length);for(var p=0,g=new Array(c);p<c;p++)g[p]=y[p];return g}function B(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function G(y,c){if(typeof y!="object"||y===null)return y;var p=y[Symbol.toPrimitive];if(p!==void 0){var g=p.call(y,c||"default");if(typeof g!="object")return g;throw new TypeError("@@toPrimitive must return a primitive value.")}return(c==="string"?String:Number)(y)}function ce(y){var c=G(y,"string");return typeof c=="symbol"?c:String(c)}function Z(y,c){var p=we(y,c,"get");return Fe(y,p)}function de(y,c,p){var g=we(y,c,"set");return ft(y,g,p),p}function we(y,c,p){if(!c.has(y))throw new TypeError("attempted to "+p+" private field on non-instance");return c.get(y)}function Fe(y,c){return c.get?c.get.call(y):c.value}function ft(y,c,p){if(c.set)c.set.call(y,p);else{if(!c.writable)throw new TypeError("attempted to set read only private field");c.value=p}}function $e(y,c){if(c.has(y))throw new TypeError("Cannot initialize the same private elements twice on an object")}function q(y,c,p){$e(y,c),c.set(y,p)}var re=100,$={},Ie=function(){$.previousActiveElement instanceof HTMLElement?($.previousActiveElement.focus(),$.previousActiveElement=null):document.body&&document.body.focus()},xe=function(c){return new Promise(function(p){if(!c)return p();var g=window.scrollX,b=window.scrollY;$.restoreFocusTimeout=setTimeout(function(){Ie(),p()},re),window.scrollTo(g,b)})},Sn="swal2-",Je=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"],N=Je.reduce(function(y,c){return y[c]=Sn+c,y},{}),Cn=["success","warning","info","question","error"],Bn=Cn.reduce(function(y,c){return y[c]=Sn+c,y},{}),to="SweetAlert2:",no=function(c){return c.charAt(0).toUpperCase()+c.slice(1)},ht=function(c){console.warn("".concat(to," ").concat(r(c)==="object"?c.join(" "):c))},or=function(c){console.error("".concat(to," ").concat(c))},Uu=[],Bu=function(c){Uu.includes(c)||(Uu.push(c),ht(c))},$h=function(c,p){Bu('"'.concat(c,'" is deprecated and will be removed in the next major release. Please use "').concat(p,'" instead.'))},os=function(c){return typeof c=="function"?c():c},ro=function(c){return c&&typeof c.toPromise=="function"},io=function(c){return ro(c)?c.toPromise():Promise.resolve(c)},zu=function(c){return c&&Promise.resolve(c)===c},Dt=function(){return document.body.querySelector(".".concat(N.container))},C=function(c){var p=Dt();return p?p.querySelector(c):null},k=function(c){return C(".".concat(c))},R=function(){return k(N.popup)},K=function(){return k(N.icon)},z=function(){return k(N["icon-content"])},U=function(){return k(N.title)},te=function(){return k(N["html-container"])},Se=function(){return k(N.image)},We=function(){return k(N["progress-steps"])},Kt=function(){return k(N["validation-message"])},_t=function(){return C(".".concat(N.actions," .").concat(N.confirm))},oi=function(){return C(".".concat(N.actions," .").concat(N.cancel))},zn=function(){return C(".".concat(N.actions," .").concat(N.deny))},Ca=function(){return k(N["input-label"])},ai=function(){return C(".".concat(N.loader))},li=function(){return k(N.actions)},Hu=function(){return k(N.footer)},as=function(){return k(N["timer-progress-bar"])},Uh=function(){return k(N.close)},pP=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,Bh=function(){var c=R();if(!c)return[];var p=c.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),g=Array.from(p).sort(function(W,ae){var fe=parseInt(W.getAttribute("tabindex")||"0"),Ne=parseInt(ae.getAttribute("tabindex")||"0");return fe>Ne?1:fe<Ne?-1:0}),b=c.querySelectorAll(pP),D=Array.from(b).filter(function(W){return W.getAttribute("tabindex")!=="-1"});return v(new Set(g.concat(D))).filter(function(W){return cn(W)})},zh=function(){return kr(document.body,N.shown)&&!kr(document.body,N["toast-shown"])&&!kr(document.body,N["no-backdrop"])},qu=function(){var c=R();return c?kr(c,N.toast):!1},mP=function(){var c=R();return c?c.hasAttribute("data-loading"):!1},un=function(c,p){if(c.textContent="",p){var g=new DOMParser,b=g.parseFromString(p,"text/html"),D=b.querySelector("head");D&&Array.from(D.childNodes).forEach(function(ae){c.appendChild(ae)});var W=b.querySelector("body");W&&Array.from(W.childNodes).forEach(function(ae){ae instanceof HTMLVideoElement||ae instanceof HTMLAudioElement?c.appendChild(ae.cloneNode(!0)):c.appendChild(ae)})}},kr=function(c,p){if(!p)return!1;for(var g=p.split(/\s+/),b=0;b<g.length;b++)if(!c.classList.contains(g[b]))return!1;return!0},gP=function(c,p){Array.from(c.classList).forEach(function(g){!Object.values(N).includes(g)&&!Object.values(Bn).includes(g)&&!Object.values(p.showClass||{}).includes(g)&&c.classList.remove(g)})},An=function(c,p,g){if(gP(c,p),p.customClass&&p.customClass[g]){if(typeof p.customClass[g]!="string"&&!p.customClass[g].forEach){ht("Invalid type of customClass.".concat(g,'! Expected string or iterable object, got "').concat(r(p.customClass[g]),'"'));return}_e(c,p.customClass[g])}},Wu=function(c,p){if(!p)return null;switch(p){case"select":case"textarea":case"file":return c.querySelector(".".concat(N.popup," > .").concat(N[p]));case"checkbox":return c.querySelector(".".concat(N.popup," > .").concat(N.checkbox," input"));case"radio":return c.querySelector(".".concat(N.popup," > .").concat(N.radio," input:checked"))||c.querySelector(".".concat(N.popup," > .").concat(N.radio," input:first-child"));case"range":return c.querySelector(".".concat(N.popup," > .").concat(N.range," input"));default:return c.querySelector(".".concat(N.popup," > .").concat(N.input))}},l0=function(c){if(c.focus(),c.type!=="file"){var p=c.value;c.value="",c.value=p}},u0=function(c,p,g){!c||!p||(typeof p=="string"&&(p=p.split(/\s+/).filter(Boolean)),p.forEach(function(b){Array.isArray(c)?c.forEach(function(D){g?D.classList.add(b):D.classList.remove(b)}):g?c.classList.add(b):c.classList.remove(b)}))},_e=function(c,p){u0(c,p,!0)},ar=function(c,p){u0(c,p,!1)},ui=function(c,p){for(var g=Array.from(c.children),b=0;b<g.length;b++){var D=g[b];if(D instanceof HTMLElement&&kr(D,p))return D}},ls=function(c,p,g){g==="".concat(parseInt(g))&&(g=parseInt(g)),g||parseInt(g)===0?c.style[p]=typeof g=="number"?"".concat(g,"px"):g:c.style.removeProperty(p)},pt=function(c){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"flex";c&&(c.style.display=p)},Ot=function(c){c&&(c.style.display="none")},Hh=function(c){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"block";c&&new MutationObserver(function(){Aa(c,c.innerHTML,p)}).observe(c,{childList:!0,subtree:!0})},c0=function(c,p,g,b){var D=c.querySelector(p);D&&(D.style[g]=b)},Aa=function(c,p){var g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"flex";p?pt(c,g):Ot(c)},cn=function(c){return!!(c&&(c.offsetWidth||c.offsetHeight||c.getClientRects().length))},yP=function(){return!cn(_t())&&!cn(zn())&&!cn(oi())},d0=function(c){return c.scrollHeight>c.clientHeight},f0=function(c){var p=window.getComputedStyle(c),g=parseFloat(p.getPropertyValue("animation-duration")||"0"),b=parseFloat(p.getPropertyValue("transition-duration")||"0");return g>0||b>0},qh=function(c){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,g=as();g&&cn(g)&&(p&&(g.style.transition="none",g.style.width="100%"),setTimeout(function(){g.style.transition="width ".concat(c/1e3,"s linear"),g.style.width="0%"},10))},vP=function(){var c=as();if(c){var p=parseInt(window.getComputedStyle(c).width);c.style.removeProperty("transition"),c.style.width="100%";var g=parseInt(window.getComputedStyle(c).width),b=p/g*100;c.style.width="".concat(b,"%")}},h0=function(){return typeof window>"u"||typeof document>"u"},wP=`
 <div aria-labelledby="`.concat(N.title,'" aria-describedby="').concat(N["html-container"],'" class="').concat(N.popup,`" tabindex="-1">
   <button type="button" class="`).concat(N.close,`"></button>
   <ul class="`).concat(N["progress-steps"],`"></ul>
   <div class="`).concat(N.icon,`"></div>
   <img class="`).concat(N.image,`" />
   <h2 class="`).concat(N.title,'" id="').concat(N.title,`"></h2>
   <div class="`).concat(N["html-container"],'" id="').concat(N["html-container"],`"></div>
   <input class="`).concat(N.input,'" id="').concat(N.input,`" />
   <input type="file" class="`).concat(N.file,`" />
   <div class="`).concat(N.range,`">
     <input type="range" />
     <output></output>
   </div>
   <select class="`).concat(N.select,'" id="').concat(N.select,`"></select>
   <div class="`).concat(N.radio,`"></div>
   <label class="`).concat(N.checkbox,`">
     <input type="checkbox" id="`).concat(N.checkbox,`" />
     <span class="`).concat(N.label,`"></span>
   </label>
   <textarea class="`).concat(N.textarea,'" id="').concat(N.textarea,`"></textarea>
   <div class="`).concat(N["validation-message"],'" id="').concat(N["validation-message"],`"></div>
   <div class="`).concat(N.actions,`">
     <div class="`).concat(N.loader,`"></div>
     <button type="button" class="`).concat(N.confirm,`"></button>
     <button type="button" class="`).concat(N.deny,`"></button>
     <button type="button" class="`).concat(N.cancel,`"></button>
   </div>
   <div class="`).concat(N.footer,`"></div>
   <div class="`).concat(N["timer-progress-bar-container"],`">
     <div class="`).concat(N["timer-progress-bar"],`"></div>
   </div>
 </div>
`).replace(/(^|\n)\s*/g,""),_P=function(){var c=Dt();return c?(c.remove(),ar([document.documentElement,document.body],[N["no-backdrop"],N["toast-shown"],N["has-column"]]),!0):!1},us=function(){$.currentInstance.resetValidationMessage()},EP=function(){var c=R(),p=ui(c,N.input),g=ui(c,N.file),b=c.querySelector(".".concat(N.range," input")),D=c.querySelector(".".concat(N.range," output")),W=ui(c,N.select),ae=c.querySelector(".".concat(N.checkbox," input")),fe=ui(c,N.textarea);p.oninput=us,g.onchange=us,W.onchange=us,ae.onchange=us,fe.oninput=us,b.oninput=function(){us(),D.value=b.value},b.onchange=function(){us(),D.value=b.value}},xP=function(c){return typeof c=="string"?document.querySelector(c):c},TP=function(c){var p=R();p.setAttribute("role",c.toast?"alert":"dialog"),p.setAttribute("aria-live",c.toast?"polite":"assertive"),c.toast||p.setAttribute("aria-modal","true")},IP=function(c){window.getComputedStyle(c).direction==="rtl"&&_e(Dt(),N.rtl)},bP=function(c){var p=_P();if(h0()){or("SweetAlert2 requires document to initialize");return}var g=document.createElement("div");g.className=N.container,p&&_e(g,N["no-transition"]),un(g,wP);var b=xP(c.target);b.appendChild(g),TP(c),IP(b),EP()},Wh=function(c,p){c instanceof HTMLElement?p.appendChild(c):r(c)==="object"?SP(c,p):c&&un(p,c)},SP=function(c,p){c.jquery?CP(p,c):un(p,c.toString())},CP=function(c,p){if(c.textContent="",0 in p)for(var g=0;g in p;g++)c.appendChild(p[g].cloneNode(!0));else c.appendChild(p.cloneNode(!0))},cs=function(){if(h0())return!1;var y=document.createElement("div");return typeof y.style.webkitAnimation<"u"?"webkitAnimationEnd":typeof y.style.animation<"u"?"animationend":!1}(),AP=function(c,p){var g=li(),b=ai();!g||!b||(!p.showConfirmButton&&!p.showDenyButton&&!p.showCancelButton?Ot(g):pt(g),An(g,p,"actions"),PP(g,b,p),un(b,p.loaderHtml||""),An(b,p,"loader"))};function PP(y,c,p){var g=_t(),b=zn(),D=oi();!g||!b||!D||(Kh(g,"confirm",p),Kh(b,"deny",p),Kh(D,"cancel",p),kP(g,b,D,p),p.reverseButtons&&(p.toast?(y.insertBefore(D,g),y.insertBefore(b,g)):(y.insertBefore(D,c),y.insertBefore(b,c),y.insertBefore(g,c))))}function kP(y,c,p,g){if(!g.buttonsStyling){ar([y,c,p],N.styled);return}_e([y,c,p],N.styled),g.confirmButtonColor&&(y.style.backgroundColor=g.confirmButtonColor,_e(y,N["default-outline"])),g.denyButtonColor&&(c.style.backgroundColor=g.denyButtonColor,_e(c,N["default-outline"])),g.cancelButtonColor&&(p.style.backgroundColor=g.cancelButtonColor,_e(p,N["default-outline"]))}function Kh(y,c,p){var g=no(c);Aa(y,p["show".concat(g,"Button")],"inline-block"),un(y,p["".concat(c,"ButtonText")]||""),y.setAttribute("aria-label",p["".concat(c,"ButtonAriaLabel")]||""),y.className=N[c],An(y,p,"".concat(c,"Button"))}var RP=function(c,p){var g=Uh();g&&(un(g,p.closeButtonHtml||""),An(g,p,"closeButton"),Aa(g,p.showCloseButton),g.setAttribute("aria-label",p.closeButtonAriaLabel||""))},NP=function(c,p){var g=Dt();g&&(DP(g,p.backdrop),OP(g,p.position),LP(g,p.grow),An(g,p,"container"))};function DP(y,c){typeof c=="string"?y.style.background=c:c||_e([document.documentElement,document.body],N["no-backdrop"])}function OP(y,c){c&&(c in N?_e(y,N[c]):(ht('The "position" parameter is not valid, defaulting to "center"'),_e(y,N.center)))}function LP(y,c){c&&_e(y,N["grow-".concat(c)])}var Pe={innerParams:new WeakMap,domCache:new WeakMap},jP=["input","file","range","select","radio","checkbox","textarea"],MP=function(c,p){var g=R();if(g){var b=Pe.innerParams.get(c),D=!b||p.input!==b.input;jP.forEach(function(W){var ae=ui(g,N[W]);ae&&($P(W,p.inputAttributes),ae.className=N[W],D&&Ot(ae))}),p.input&&(D&&VP(p),UP(p))}},VP=function(c){if(c.input){if(!Xe[c.input]){or("Unexpected type of input! Expected ".concat(Object.keys(Xe).join(" | "),', got "').concat(c.input,'"'));return}var p=p0(c.input),g=Xe[c.input](p,c);pt(p),c.inputAutoFocus&&setTimeout(function(){l0(g)})}},FP=function(c){for(var p=0;p<c.attributes.length;p++){var g=c.attributes[p].name;["id","type","value","style"].includes(g)||c.removeAttribute(g)}},$P=function(c,p){var g=Wu(R(),c);if(g){FP(g);for(var b in p)g.setAttribute(b,p[b])}},UP=function(c){var p=p0(c.input);r(c.customClass)==="object"&&_e(p,c.customClass.input)},Gh=function(c,p){(!c.placeholder||p.inputPlaceholder)&&(c.placeholder=p.inputPlaceholder)},Pa=function(c,p,g){if(g.inputLabel){var b=document.createElement("label"),D=N["input-label"];b.setAttribute("for",c.id),b.className=D,r(g.customClass)==="object"&&_e(b,g.customClass.inputLabel),b.innerText=g.inputLabel,p.insertAdjacentElement("beforebegin",b)}},p0=function(c){return ui(R(),N[c]||N.input)},Ku=function(c,p){["string","number"].includes(r(p))?c.value="".concat(p):zu(p)||ht('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(r(p),'"'))},Xe={};Xe.text=Xe.email=Xe.password=Xe.number=Xe.tel=Xe.url=Xe.search=Xe.date=Xe["datetime-local"]=Xe.time=Xe.week=Xe.month=function(y,c){return Ku(y,c.inputValue),Pa(y,y,c),Gh(y,c),y.type=c.input,y},Xe.file=function(y,c){return Pa(y,y,c),Gh(y,c),y},Xe.range=function(y,c){var p=y.querySelector("input"),g=y.querySelector("output");return Ku(p,c.inputValue),p.type=c.input,Ku(g,c.inputValue),Pa(p,y,c),y},Xe.select=function(y,c){if(y.textContent="",c.inputPlaceholder){var p=document.createElement("option");un(p,c.inputPlaceholder),p.value="",p.disabled=!0,p.selected=!0,y.appendChild(p)}return Pa(y,y,c),y},Xe.radio=function(y){return y.textContent="",y},Xe.checkbox=function(y,c){var p=Wu(R(),"checkbox");p.value="1",p.checked=!!c.inputValue;var g=y.querySelector("span");return un(g,c.inputPlaceholder),p},Xe.textarea=function(y,c){Ku(y,c.inputValue),Gh(y,c),Pa(y,y,c);var p=function(b){return parseInt(window.getComputedStyle(b).marginLeft)+parseInt(window.getComputedStyle(b).marginRight)};return setTimeout(function(){if("MutationObserver"in window){var g=parseInt(window.getComputedStyle(R()).width),b=function(){if(document.body.contains(y)){var W=y.offsetWidth+p(y);W>g?R().style.width="".concat(W,"px"):ls(R(),"width",c.width)}};new MutationObserver(b).observe(y,{attributes:!0,attributeFilter:["style"]})}}),y};var BP=function(c,p){var g=te();g&&(Hh(g),An(g,p,"htmlContainer"),p.html?(Wh(p.html,g),pt(g,"block")):p.text?(g.textContent=p.text,pt(g,"block")):Ot(g),MP(c,p))},zP=function(c,p){var g=Hu();g&&(Hh(g),Aa(g,p.footer,"block"),p.footer&&Wh(p.footer,g),An(g,p,"footer"))},HP=function(c,p){var g=Pe.innerParams.get(c),b=K();if(b){if(g&&p.icon===g.icon){g0(b,p),m0(b,p);return}if(!p.icon&&!p.iconHtml){Ot(b);return}if(p.icon&&Object.keys(Bn).indexOf(p.icon)===-1){or('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(p.icon,'"')),Ot(b);return}pt(b),g0(b,p),m0(b,p),_e(b,p.showClass&&p.showClass.icon)}},m0=function(c,p){for(var g=0,b=Object.entries(Bn);g<b.length;g++){var D=_(b[g],2),W=D[0],ae=D[1];p.icon!==W&&ar(c,ae)}_e(c,p.icon&&Bn[p.icon]),GP(c,p),qP(),An(c,p,"icon")},qP=function(){var c=R();if(c)for(var p=window.getComputedStyle(c).getPropertyValue("background-color"),g=c.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix"),b=0;b<g.length;b++)g[b].style.backgroundColor=p},WP=`
  <div class="swal2-success-circular-line-left"></div>
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>
  <div class="swal2-success-circular-line-right"></div>
`,KP=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,g0=function(c,p){if(!(!p.icon&&!p.iconHtml)){var g=c.innerHTML,b="";if(p.iconHtml)b=y0(p.iconHtml);else if(p.icon==="success")b=WP,g=g.replace(/ style=".*?"/g,"");else if(p.icon==="error")b=KP;else if(p.icon){var D={question:"?",warning:"!",info:"i"};b=y0(D[p.icon])}g.trim()!==b.trim()&&un(c,b)}},GP=function(c,p){if(p.iconColor){c.style.color=p.iconColor,c.style.borderColor=p.iconColor;for(var g=0,b=[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"];g<b.length;g++){var D=b[g];c0(c,D,"backgroundColor",p.iconColor)}c0(c,".swal2-success-ring","borderColor",p.iconColor)}},y0=function(c){return'<div class="'.concat(N["icon-content"],'">').concat(c,"</div>")},QP=function(c,p){var g=Se();if(g){if(!p.imageUrl){Ot(g);return}pt(g,""),g.setAttribute("src",p.imageUrl),g.setAttribute("alt",p.imageAlt||""),ls(g,"width",p.imageWidth),ls(g,"height",p.imageHeight),g.className=N.image,An(g,p,"image")}},YP=function(c,p){var g=Dt(),b=R();if(!(!g||!b)){if(p.toast){ls(g,"width",p.width),b.style.width="100%";var D=ai();D&&b.insertBefore(D,K())}else ls(b,"width",p.width);ls(b,"padding",p.padding),p.color&&(b.style.color=p.color),p.background&&(b.style.background=p.background),Ot(Kt()),JP(b,p)}},JP=function(c,p){var g=p.showClass||{};c.className="".concat(N.popup," ").concat(cn(c)?g.popup:""),p.toast?(_e([document.documentElement,document.body],N["toast-shown"]),_e(c,N.toast)):_e(c,N.modal),An(c,p,"popup"),typeof p.customClass=="string"&&_e(c,p.customClass),p.icon&&_e(c,N["icon-".concat(p.icon)])},XP=function(c,p){var g=We();if(g){var b=p.progressSteps,D=p.currentProgressStep;if(!b||b.length===0||D===void 0){Ot(g);return}pt(g),g.textContent="",D>=b.length&&ht("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),b.forEach(function(W,ae){var fe=ZP(W);if(g.appendChild(fe),ae===D&&_e(fe,N["active-progress-step"]),ae!==b.length-1){var Ne=ek(p);g.appendChild(Ne)}})}},ZP=function(c){var p=document.createElement("li");return _e(p,N["progress-step"]),un(p,c),p},ek=function(c){var p=document.createElement("li");return _e(p,N["progress-step-line"]),c.progressStepsDistance&&ls(p,"width",c.progressStepsDistance),p},tk=function(c,p){var g=U();g&&(Hh(g),Aa(g,p.title||p.titleText,"block"),p.title&&Wh(p.title,g),p.titleText&&(g.innerText=p.titleText),An(g,p,"title"))},v0=function(c,p){YP(c,p),NP(c,p),XP(c,p),HP(c,p),QP(c,p),tk(c,p),RP(c,p),BP(c,p),AP(c,p),zP(c,p);var g=R();typeof p.didRender=="function"&&g&&p.didRender(g)},nk=function(){return cn(R())},w0=function(){var c;return(c=_t())===null||c===void 0?void 0:c.click()},rk=function(){var c;return(c=zn())===null||c===void 0?void 0:c.click()},ik=function(){var c;return(c=oi())===null||c===void 0?void 0:c.click()},so=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),_0=function(c){c.keydownTarget&&c.keydownHandlerAdded&&(c.keydownTarget.removeEventListener("keydown",c.keydownHandler,{capture:c.keydownListenerCapture}),c.keydownHandlerAdded=!1)},sk=function(c,p,g){_0(c),p.toast||(c.keydownHandler=function(b){return ak(p,b,g)},c.keydownTarget=p.keydownListenerCapture?window:R(),c.keydownListenerCapture=p.keydownListenerCapture,c.keydownTarget.addEventListener("keydown",c.keydownHandler,{capture:c.keydownListenerCapture}),c.keydownHandlerAdded=!0)},Qh=function(c,p){var g,b=Bh();if(b.length){c=c+p,c===b.length?c=0:c===-1&&(c=b.length-1),b[c].focus();return}(g=R())===null||g===void 0||g.focus()},E0=["ArrowRight","ArrowDown"],ok=["ArrowLeft","ArrowUp"],ak=function(c,p,g){c&&(p.isComposing||p.keyCode===229||(c.stopKeydownPropagation&&p.stopPropagation(),p.key==="Enter"?lk(p,c):p.key==="Tab"?uk(p):[].concat(E0,ok).includes(p.key)?ck(p.key):p.key==="Escape"&&dk(p,c,g)))},lk=function(c,p){if(os(p.allowEnterKey)){var g=Wu(R(),p.input);if(c.target&&g&&c.target instanceof HTMLElement&&c.target.outerHTML===g.outerHTML){if(["textarea","file"].includes(p.input))return;w0(),c.preventDefault()}}},uk=function(c){for(var p=c.target,g=Bh(),b=-1,D=0;D<g.length;D++)if(p===g[D]){b=D;break}c.shiftKey?Qh(b,-1):Qh(b,1),c.stopPropagation(),c.preventDefault()},ck=function(c){var p=li(),g=_t(),b=zn(),D=oi();if(!(!p||!g||!b||!D)){var W=[g,b,D];if(!(document.activeElement instanceof HTMLElement&&!W.includes(document.activeElement))){var ae=E0.includes(c)?"nextElementSibling":"previousElementSibling",fe=document.activeElement;if(fe){for(var Ne=0;Ne<p.children.length;Ne++){if(fe=fe[ae],!fe)return;if(fe instanceof HTMLButtonElement&&cn(fe))break}fe instanceof HTMLButtonElement&&fe.focus()}}}},dk=function(c,p,g){os(p.allowEscapeKey)&&(c.preventDefault(),g(so.esc))},oo={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap},fk=function(){var c=Array.from(document.body.children);c.forEach(function(p){p===Dt()||p.contains(Dt())||(p.hasAttribute("aria-hidden")&&p.setAttribute("data-previous-aria-hidden",p.getAttribute("aria-hidden")||""),p.setAttribute("aria-hidden","true"))})},x0=function(){var c=Array.from(document.body.children);c.forEach(function(p){p.hasAttribute("data-previous-aria-hidden")?(p.setAttribute("aria-hidden",p.getAttribute("data-previous-aria-hidden")||""),p.removeAttribute("data-previous-aria-hidden")):p.removeAttribute("aria-hidden")})},T0=typeof window<"u"&&!!window.GestureEvent,hk=function(){if(T0&&!kr(document.body,N.iosfix)){var c=document.body.scrollTop;document.body.style.top="".concat(c*-1,"px"),_e(document.body,N.iosfix),pk()}},pk=function(){var c=Dt();if(c){var p;c.ontouchstart=function(g){p=mk(g)},c.ontouchmove=function(g){p&&(g.preventDefault(),g.stopPropagation())}}},mk=function(c){var p=c.target,g=Dt(),b=te();return!g||!b||gk(c)||yk(c)?!1:p===g||!d0(g)&&p instanceof HTMLElement&&p.tagName!=="INPUT"&&p.tagName!=="TEXTAREA"&&!(d0(b)&&b.contains(p))},gk=function(c){return c.touches&&c.touches.length&&c.touches[0].touchType==="stylus"},yk=function(c){return c.touches&&c.touches.length>1},vk=function(){if(kr(document.body,N.iosfix)){var c=parseInt(document.body.style.top,10);ar(document.body,N.iosfix),document.body.style.top="",document.body.scrollTop=c*-1}},wk=function(){var c=document.createElement("div");c.className=N["scrollbar-measure"],document.body.appendChild(c);var p=c.getBoundingClientRect().width-c.clientWidth;return document.body.removeChild(c),p},ao=null,_k=function(c){ao===null&&(document.body.scrollHeight>window.innerHeight||c==="scroll")&&(ao=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat(ao+wk(),"px"))},Ek=function(){ao!==null&&(document.body.style.paddingRight="".concat(ao,"px"),ao=null)};function I0(y,c,p,g){qu()?S0(y,g):(xe(p).then(function(){return S0(y,g)}),_0($)),T0?(c.setAttribute("style","display:none !important"),c.removeAttribute("class"),c.innerHTML=""):c.remove(),zh()&&(Ek(),vk(),x0()),xk()}function xk(){ar([document.documentElement,document.body],[N.shown,N["height-auto"],N["no-backdrop"],N["toast-shown"]])}function ci(y){y=Ik(y);var c=oo.swalPromiseResolve.get(this),p=Tk(this);this.isAwaitingPromise?y.isDismissed||(ka(this),c(y)):p&&c(y)}var Tk=function(c){var p=R();if(!p)return!1;var g=Pe.innerParams.get(c);if(!g||kr(p,g.hideClass.popup))return!1;ar(p,g.showClass.popup),_e(p,g.hideClass.popup);var b=Dt();return ar(b,g.showClass.backdrop),_e(b,g.hideClass.backdrop),bk(c,p,g),!0};function b0(y){var c=oo.swalPromiseReject.get(this);ka(this),c&&c(y)}var ka=function(c){c.isAwaitingPromise&&(delete c.isAwaitingPromise,Pe.innerParams.get(c)||c._destroy())},Ik=function(c){return typeof c>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},c)},bk=function(c,p,g){var b=Dt(),D=cs&&f0(p);typeof g.willClose=="function"&&g.willClose(p),D?Sk(c,p,b,g.returnFocus,g.didClose):I0(c,b,g.returnFocus,g.didClose)},Sk=function(c,p,g,b,D){cs&&($.swalCloseEventFinishedCallback=I0.bind(null,c,g,b,D),p.addEventListener(cs,function(W){W.target===p&&($.swalCloseEventFinishedCallback(),delete $.swalCloseEventFinishedCallback)}))},S0=function(c,p){setTimeout(function(){typeof p=="function"&&p.bind(c.params)(),c._destroy&&c._destroy()})},lo=function(c){var p=R();if(p||new Xu,p=R(),!!p){var g=ai();qu()?Ot(K()):Ck(p,c),pt(g),p.setAttribute("data-loading","true"),p.setAttribute("aria-busy","true"),p.focus()}},Ck=function(c,p){var g=li(),b=ai();!g||!b||(!p&&cn(_t())&&(p=_t()),pt(g),p&&(Ot(p),b.setAttribute("data-button-to-replace",p.className),g.insertBefore(b,p)),_e([c,g],N.loading))},Ak=function(c,p){p.input==="select"||p.input==="radio"?Dk(c,p):["text","email","number","tel","textarea"].some(function(g){return g===p.input})&&(ro(p.inputValue)||zu(p.inputValue))&&(lo(_t()),Ok(c,p))},Pk=function(c,p){var g=c.getInput();if(!g)return null;switch(p.input){case"checkbox":return kk(g);case"radio":return Rk(g);case"file":return Nk(g);default:return p.inputAutoTrim?g.value.trim():g.value}},kk=function(c){return c.checked?1:0},Rk=function(c){return c.checked?c.value:null},Nk=function(c){return c.files&&c.files.length?c.getAttribute("multiple")!==null?c.files:c.files[0]:null},Dk=function(c,p){var g=R();if(g){var b=function(W){p.input==="select"?Lk(g,C0(W),p):p.input==="radio"&&jk(g,C0(W),p)};ro(p.inputOptions)||zu(p.inputOptions)?(lo(_t()),io(p.inputOptions).then(function(D){c.hideLoading(),b(D)})):r(p.inputOptions)==="object"?b(p.inputOptions):or("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(r(p.inputOptions)))}},Ok=function(c,p){var g=c.getInput();g&&(Ot(g),io(p.inputValue).then(function(b){g.value=p.input==="number"?"".concat(parseFloat(b)||0):"".concat(b),pt(g),g.focus(),c.hideLoading()}).catch(function(b){or("Error in inputValue promise: ".concat(b)),g.value="",pt(g),g.focus(),c.hideLoading()}))};function Lk(y,c,p){var g=ui(y,N.select);if(g){var b=function(W,ae,fe){var Ne=document.createElement("option");Ne.value=fe,un(Ne,ae),Ne.selected=A0(fe,p.inputValue),W.appendChild(Ne)};c.forEach(function(D){var W=D[0],ae=D[1];if(Array.isArray(ae)){var fe=document.createElement("optgroup");fe.label=W,fe.disabled=!1,g.appendChild(fe),ae.forEach(function(Ne){return b(fe,Ne[1],Ne[0])})}else b(g,ae,W)}),g.focus()}}function jk(y,c,p){var g=ui(y,N.radio);if(g){c.forEach(function(D){var W=D[0],ae=D[1],fe=document.createElement("input"),Ne=document.createElement("label");fe.type="radio",fe.name=N.radio,fe.value=W,A0(W,p.inputValue)&&(fe.checked=!0);var Ra=document.createElement("span");un(Ra,ae),Ra.className=N.label,Ne.appendChild(fe),Ne.appendChild(Ra),g.appendChild(Ne)});var b=g.querySelectorAll("input");b.length&&b[0].focus()}}var C0=function y(c){var p=[];return c instanceof Map?c.forEach(function(g,b){var D=g;r(D)==="object"&&(D=y(D)),p.push([b,D])}):Object.keys(c).forEach(function(g){var b=c[g];r(b)==="object"&&(b=y(b)),p.push([g,b])}),p},A0=function(c,p){return!!p&&p.toString()===c.toString()},Gu=void 0,Mk=function(c){var p=Pe.innerParams.get(c);c.disableButtons(),p.input?P0(c,"confirm"):Jh(c,!0)},Vk=function(c){var p=Pe.innerParams.get(c);c.disableButtons(),p.returnInputValueOnDeny?P0(c,"deny"):Yh(c,!1)},Fk=function(c,p){c.disableButtons(),p(so.cancel)},P0=function(c,p){var g=Pe.innerParams.get(c);if(!g.input){or('The "input" parameter is needed to be set when using returnInputValueOn'.concat(no(p)));return}var b=c.getInput(),D=Pk(c,g);g.inputValidator?$k(c,D,p):b&&!b.checkValidity()?(c.enableButtons(),c.showValidationMessage(g.validationMessage)):p==="deny"?Yh(c,D):Jh(c,D)},$k=function(c,p,g){var b=Pe.innerParams.get(c);c.disableInput();var D=Promise.resolve().then(function(){return io(b.inputValidator(p,b.validationMessage))});D.then(function(W){c.enableButtons(),c.enableInput(),W?c.showValidationMessage(W):g==="deny"?Yh(c,p):Jh(c,p)})},Yh=function(c,p){var g=Pe.innerParams.get(c||Gu);if(g.showLoaderOnDeny&&lo(zn()),g.preDeny){c.isAwaitingPromise=!0;var b=Promise.resolve().then(function(){return io(g.preDeny(p,g.validationMessage))});b.then(function(D){D===!1?(c.hideLoading(),ka(c)):c.close({isDenied:!0,value:typeof D>"u"?p:D})}).catch(function(D){return R0(c||Gu,D)})}else c.close({isDenied:!0,value:p})},k0=function(c,p){c.close({isConfirmed:!0,value:p})},R0=function(c,p){c.rejectPromise(p)},Jh=function(c,p){var g=Pe.innerParams.get(c||Gu);if(g.showLoaderOnConfirm&&lo(),g.preConfirm){c.resetValidationMessage(),c.isAwaitingPromise=!0;var b=Promise.resolve().then(function(){return io(g.preConfirm(p,g.validationMessage))});b.then(function(D){cn(Kt())||D===!1?(c.hideLoading(),ka(c)):k0(c,typeof D>"u"?p:D)}).catch(function(D){return R0(c||Gu,D)})}else k0(c,p)};function Qu(){var y=Pe.innerParams.get(this);if(y){var c=Pe.domCache.get(this);Ot(c.loader),qu()?y.icon&&pt(K()):Uk(c),ar([c.popup,c.actions],N.loading),c.popup.removeAttribute("aria-busy"),c.popup.removeAttribute("data-loading"),c.confirmButton.disabled=!1,c.denyButton.disabled=!1,c.cancelButton.disabled=!1}}var Uk=function(c){var p=c.popup.getElementsByClassName(c.loader.getAttribute("data-button-to-replace"));p.length?pt(p[0],"inline-block"):yP()&&Ot(c.actions)};function N0(){var y=Pe.innerParams.get(this),c=Pe.domCache.get(this);return c?Wu(c.popup,y.input):null}function D0(y,c,p){var g=Pe.domCache.get(y);c.forEach(function(b){g[b].disabled=p})}function O0(y,c){var p=R();if(!(!p||!y))if(y.type==="radio")for(var g=p.querySelectorAll('[name="'.concat(N.radio,'"]')),b=0;b<g.length;b++)g[b].disabled=c;else y.disabled=c}function L0(){D0(this,["confirmButton","denyButton","cancelButton"],!1)}function j0(){D0(this,["confirmButton","denyButton","cancelButton"],!0)}function M0(){O0(this.getInput(),!1)}function V0(){O0(this.getInput(),!0)}function F0(y){var c=Pe.domCache.get(this),p=Pe.innerParams.get(this);un(c.validationMessage,y),c.validationMessage.className=N["validation-message"],p.customClass&&p.customClass.validationMessage&&_e(c.validationMessage,p.customClass.validationMessage),pt(c.validationMessage);var g=this.getInput();g&&(g.setAttribute("aria-invalid","true"),g.setAttribute("aria-describedby",N["validation-message"]),l0(g),_e(g,N.inputerror))}function $0(){var y=Pe.domCache.get(this);y.validationMessage&&Ot(y.validationMessage);var c=this.getInput();c&&(c.removeAttribute("aria-invalid"),c.removeAttribute("aria-describedby"),ar(c,N.inputerror))}var uo={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,animation:!0,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},Bk=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],zk={},Hk=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],U0=function(c){return Object.prototype.hasOwnProperty.call(uo,c)},B0=function(c){return Bk.indexOf(c)!==-1},z0=function(c){return zk[c]},qk=function(c){U0(c)||ht('Unknown parameter "'.concat(c,'"'))},Wk=function(c){Hk.includes(c)&&ht('The parameter "'.concat(c,'" is incompatible with toasts'))},Kk=function(c){var p=z0(c);p&&$h(c,p)},Gk=function(c){c.backdrop===!1&&c.allowOutsideClick&&ht('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(var p in c)qk(p),c.toast&&Wk(p),Kk(p)};function H0(y){var c=R(),p=Pe.innerParams.get(this);if(!c||kr(c,p.hideClass.popup)){ht("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}var g=Qk(y),b=Object.assign({},p,g);v0(this,b),Pe.innerParams.set(this,b),Object.defineProperties(this,{params:{value:Object.assign({},this.params,y),writable:!1,enumerable:!0}})}var Qk=function(c){var p={};return Object.keys(c).forEach(function(g){B0(g)?p[g]=c[g]:ht("Invalid parameter to update: ".concat(g))}),p};function q0(){var y=Pe.domCache.get(this),c=Pe.innerParams.get(this);if(!c){W0(this);return}y.popup&&$.swalCloseEventFinishedCallback&&($.swalCloseEventFinishedCallback(),delete $.swalCloseEventFinishedCallback),typeof c.didDestroy=="function"&&c.didDestroy(),Yk(this)}var Yk=function(c){W0(c),delete c.params,delete $.keydownHandler,delete $.keydownTarget,delete $.currentInstance},W0=function(c){c.isAwaitingPromise?(Xh(Pe,c),c.isAwaitingPromise=!0):(Xh(oo,c),Xh(Pe,c),delete c.isAwaitingPromise,delete c.disableButtons,delete c.enableButtons,delete c.getInput,delete c.disableInput,delete c.enableInput,delete c.hideLoading,delete c.disableLoading,delete c.showValidationMessage,delete c.resetValidationMessage,delete c.close,delete c.closePopup,delete c.closeModal,delete c.closeToast,delete c.rejectPromise,delete c.update,delete c._destroy)},Xh=function(c,p){for(var g in c)c[g].delete(p)},Jk=Object.freeze({__proto__:null,_destroy:q0,close:ci,closeModal:ci,closePopup:ci,closeToast:ci,disableButtons:j0,disableInput:V0,disableLoading:Qu,enableButtons:L0,enableInput:M0,getInput:N0,handleAwaitingPromise:ka,hideLoading:Qu,rejectPromise:b0,resetValidationMessage:$0,showValidationMessage:F0,update:H0}),Xk=function(c,p,g){c.toast?Zk(c,p,g):(tR(p),nR(p),rR(c,p,g))},Zk=function(c,p,g){p.popup.onclick=function(){c&&(eR(c)||c.timer||c.input)||g(so.close)}},eR=function(c){return!!(c.showConfirmButton||c.showDenyButton||c.showCancelButton||c.showCloseButton)},Yu=!1,tR=function(c){c.popup.onmousedown=function(){c.container.onmouseup=function(p){c.container.onmouseup=function(){},p.target===c.container&&(Yu=!0)}}},nR=function(c){c.container.onmousedown=function(){c.popup.onmouseup=function(p){c.popup.onmouseup=function(){},(p.target===c.popup||p.target instanceof HTMLElement&&c.popup.contains(p.target))&&(Yu=!0)}}},rR=function(c,p,g){p.container.onclick=function(b){if(Yu){Yu=!1;return}b.target===p.container&&os(c.allowOutsideClick)&&g(so.backdrop)}},iR=function(c){return r(c)==="object"&&c.jquery},K0=function(c){return c instanceof Element||iR(c)},sR=function(c){var p={};return r(c[0])==="object"&&!K0(c[0])?Object.assign(p,c[0]):["title","html","icon"].forEach(function(g,b){var D=c[b];typeof D=="string"||K0(D)?p[g]=D:D!==void 0&&or("Unexpected type of ".concat(g,'! Expected "string" or "Element", got ').concat(r(D)))}),p};function oR(){for(var y=this,c=arguments.length,p=new Array(c),g=0;g<c;g++)p[g]=arguments[g];return h(y,p)}function aR(y){var c=function(p){a(b,p);var g=E(b);function b(){return i(this,b),g.apply(this,arguments)}return o(b,[{key:"_main",value:function(W,ae){return I(l(b.prototype),"_main",this).call(this,W,Object.assign({},y,ae))}}]),b}(this);return c}var lR=function(){return $.timeout&&$.timeout.getTimerLeft()},G0=function(){if($.timeout)return vP(),$.timeout.stop()},Q0=function(){if($.timeout){var c=$.timeout.start();return qh(c),c}},uR=function(){var c=$.timeout;return c&&(c.running?G0():Q0())},cR=function(c){if($.timeout){var p=$.timeout.increase(c);return qh(p,!0),p}},dR=function(){return!!($.timeout&&$.timeout.isRunning())},Y0=!1,Zh={};function fR(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"data-swal-template";Zh[y]=this,Y0||(document.body.addEventListener("click",hR),Y0=!0)}var hR=function(c){for(var p=c.target;p&&p!==document;p=p.parentNode)for(var g in Zh){var b=p.getAttribute(g);if(b){Zh[g].fire({template:b});return}}},pR=Object.freeze({__proto__:null,argsToParams:sR,bindClickHandler:fR,clickCancel:ik,clickConfirm:w0,clickDeny:rk,enableLoading:lo,fire:oR,getActions:li,getCancelButton:oi,getCloseButton:Uh,getConfirmButton:_t,getContainer:Dt,getDenyButton:zn,getFocusableElements:Bh,getFooter:Hu,getHtmlContainer:te,getIcon:K,getIconContent:z,getImage:Se,getInputLabel:Ca,getLoader:ai,getPopup:R,getProgressSteps:We,getTimerLeft:lR,getTimerProgressBar:as,getTitle:U,getValidationMessage:Kt,increaseTimer:cR,isDeprecatedParameter:z0,isLoading:mP,isTimerRunning:dR,isUpdatableParameter:B0,isValidParameter:U0,isVisible:nk,mixin:aR,resumeTimer:Q0,showLoading:lo,stopTimer:G0,toggleTimer:uR}),mR=function(){function y(c,p){i(this,y),this.callback=c,this.remaining=p,this.running=!1,this.start()}return o(y,[{key:"start",value:function(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}},{key:"stop",value:function(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}},{key:"increase",value:function(p){var g=this.running;return g&&this.stop(),this.remaining+=p,g&&this.start(),this.remaining}},{key:"getTimerLeft",value:function(){return this.running&&(this.stop(),this.start()),this.remaining}},{key:"isRunning",value:function(){return this.running}}]),y}(),J0=["swal-title","swal-html","swal-footer"],gR=function(c){var p=typeof c.template=="string"?document.querySelector(c.template):c.template;if(!p)return{};var g=p.content;IR(g);var b=Object.assign(yR(g),vR(g),wR(g),_R(g),ER(g),xR(g),TR(g,J0));return b},yR=function(c){var p={},g=Array.from(c.querySelectorAll("swal-param"));return g.forEach(function(b){ds(b,["name","value"]);var D=b.getAttribute("name"),W=b.getAttribute("value");typeof uo[D]=="boolean"?p[D]=W!=="false":r(uo[D])==="object"?p[D]=JSON.parse(W):p[D]=W}),p},vR=function(c){var p={},g=Array.from(c.querySelectorAll("swal-function-param"));return g.forEach(function(b){var D=b.getAttribute("name"),W=b.getAttribute("value");p[D]=new Function("return ".concat(W))()}),p},wR=function(c){var p={},g=Array.from(c.querySelectorAll("swal-button"));return g.forEach(function(b){ds(b,["type","color","aria-label"]);var D=b.getAttribute("type");p["".concat(D,"ButtonText")]=b.innerHTML,p["show".concat(no(D),"Button")]=!0,b.hasAttribute("color")&&(p["".concat(D,"ButtonColor")]=b.getAttribute("color")),b.hasAttribute("aria-label")&&(p["".concat(D,"ButtonAriaLabel")]=b.getAttribute("aria-label"))}),p},_R=function(c){var p={},g=c.querySelector("swal-image");return g&&(ds(g,["src","width","height","alt"]),g.hasAttribute("src")&&(p.imageUrl=g.getAttribute("src")),g.hasAttribute("width")&&(p.imageWidth=g.getAttribute("width")),g.hasAttribute("height")&&(p.imageHeight=g.getAttribute("height")),g.hasAttribute("alt")&&(p.imageAlt=g.getAttribute("alt"))),p},ER=function(c){var p={},g=c.querySelector("swal-icon");return g&&(ds(g,["type","color"]),g.hasAttribute("type")&&(p.icon=g.getAttribute("type")),g.hasAttribute("color")&&(p.iconColor=g.getAttribute("color")),p.iconHtml=g.innerHTML),p},xR=function(c){var p={},g=c.querySelector("swal-input");g&&(ds(g,["type","label","placeholder","value"]),p.input=g.getAttribute("type")||"text",g.hasAttribute("label")&&(p.inputLabel=g.getAttribute("label")),g.hasAttribute("placeholder")&&(p.inputPlaceholder=g.getAttribute("placeholder")),g.hasAttribute("value")&&(p.inputValue=g.getAttribute("value")));var b=Array.from(c.querySelectorAll("swal-input-option"));return b.length&&(p.inputOptions={},b.forEach(function(D){ds(D,["value"]);var W=D.getAttribute("value"),ae=D.innerHTML;p.inputOptions[W]=ae})),p},TR=function(c,p){var g={};for(var b in p){var D=p[b],W=c.querySelector(D);W&&(ds(W,[]),g[D.replace(/^swal-/,"")]=W.innerHTML.trim())}return g},IR=function(c){var p=J0.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(c.children).forEach(function(g){var b=g.tagName.toLowerCase();p.includes(b)||ht("Unrecognized element <".concat(b,">"))})},ds=function(c,p){Array.from(c.attributes).forEach(function(g){p.indexOf(g.name)===-1&&ht(['Unrecognized attribute "'.concat(g.name,'" on <').concat(c.tagName.toLowerCase(),">."),"".concat(p.length?"Allowed attributes are: ".concat(p.join(", ")):"To set the value, use HTML within the element.")])})},X0=10,bR=function(c){var p=Dt(),g=R();typeof c.willOpen=="function"&&c.willOpen(g);var b=window.getComputedStyle(document.body),D=b.overflowY;PR(p,g,c),setTimeout(function(){CR(p,g)},X0),zh()&&(AR(p,c.scrollbarPadding,D),fk()),!qu()&&!$.previousActiveElement&&($.previousActiveElement=document.activeElement),typeof c.didOpen=="function"&&setTimeout(function(){return c.didOpen(g)}),ar(p,N["no-transition"])},SR=function y(c){var p=R();if(!(c.target!==p||!cs)){var g=Dt();p.removeEventListener(cs,y),g.style.overflowY="auto"}},CR=function(c,p){cs&&f0(p)?(c.style.overflowY="hidden",p.addEventListener(cs,SR)):c.style.overflowY="auto"},AR=function(c,p,g){hk(),p&&g!=="hidden"&&_k(g),setTimeout(function(){c.scrollTop=0})},PR=function(c,p,g){_e(c,g.showClass.backdrop),g.animation?(p.style.setProperty("opacity","0","important"),pt(p,"grid"),setTimeout(function(){_e(p,g.showClass.popup),p.style.removeProperty("opacity")},X0)):pt(p,"grid"),_e([document.documentElement,document.body],N.shown),g.heightAuto&&g.backdrop&&!g.toast&&_e([document.documentElement,document.body],N["height-auto"])},Z0={email:function(c,p){return/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(c)?Promise.resolve():Promise.resolve(p||"Invalid email address")},url:function(c,p){return/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(c)?Promise.resolve():Promise.resolve(p||"Invalid URL")}};function kR(y){y.inputValidator||(y.input==="email"&&(y.inputValidator=Z0.email),y.input==="url"&&(y.inputValidator=Z0.url))}function RR(y){(!y.target||typeof y.target=="string"&&!document.querySelector(y.target)||typeof y.target!="string"&&!y.target.appendChild)&&(ht('Target parameter is not valid, defaulting to "body"'),y.target="body")}function NR(y){kR(y),y.showLoaderOnConfirm&&!y.preConfirm&&ht(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),RR(y),typeof y.title=="string"&&(y.title=y.title.split(`
`).join("<br />")),bP(y)}var lr,Ju=new WeakMap,Ze=function(){function y(){if(i(this,y),q(this,Ju,{writable:!0,value:void 0}),!(typeof window>"u")){lr=this;for(var c=arguments.length,p=new Array(c),g=0;g<c;g++)p[g]=arguments[g];var b=Object.freeze(this.constructor.argsToParams(p));this.params=b,this.isAwaitingPromise=!1,de(this,Ju,this._main(lr.params))}}return o(y,[{key:"_main",value:function(p){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Gk(Object.assign({},g,p)),$.currentInstance){var b=oo.swalPromiseResolve.get($.currentInstance),D=$.currentInstance.isAwaitingPromise;$.currentInstance._destroy(),D||b({isDismissed:!0}),zh()&&x0()}$.currentInstance=lr;var W=OR(p,g);NR(W),Object.freeze(W),$.timeout&&($.timeout.stop(),delete $.timeout),clearTimeout($.restoreFocusTimeout);var ae=LR(lr);return v0(lr,W),Pe.innerParams.set(lr,W),DR(lr,ae,W)}},{key:"then",value:function(p){return Z(this,Ju).then(p)}},{key:"finally",value:function(p){return Z(this,Ju).finally(p)}}]),y}(),DR=function(c,p,g){return new Promise(function(b,D){var W=function(fe){c.close({isDismissed:!0,dismiss:fe})};oo.swalPromiseResolve.set(c,b),oo.swalPromiseReject.set(c,D),p.confirmButton.onclick=function(){Mk(c)},p.denyButton.onclick=function(){Vk(c)},p.cancelButton.onclick=function(){Fk(c,W)},p.closeButton.onclick=function(){W(so.close)},Xk(g,p,W),sk($,g,W),Ak(c,g),bR(g),jR($,g,W),MR(p,g),setTimeout(function(){p.container.scrollTop=0})})},OR=function(c,p){var g=gR(c),b=Object.assign({},uo,p,g,c);return b.showClass=Object.assign({},uo.showClass,b.showClass),b.hideClass=Object.assign({},uo.hideClass,b.hideClass),b.animation===!1&&(b.showClass={backdrop:"swal2-noanimation"},b.hideClass={}),b},LR=function(c){var p={popup:R(),container:Dt(),actions:li(),confirmButton:_t(),denyButton:zn(),cancelButton:oi(),loader:ai(),closeButton:Uh(),validationMessage:Kt(),progressSteps:We()};return Pe.domCache.set(c,p),p},jR=function(c,p,g){var b=as();Ot(b),p.timer&&(c.timeout=new mR(function(){g("timer"),delete c.timeout},p.timer),p.timerProgressBar&&(pt(b),An(b,p,"timerProgressBar"),setTimeout(function(){c.timeout&&c.timeout.running&&qh(p.timer)})))},MR=function(c,p){if(!p.toast){if(!os(p.allowEnterKey)){FR();return}VR(c,p)||Qh(-1,1)}},VR=function(c,p){return p.focusDeny&&cn(c.denyButton)?(c.denyButton.focus(),!0):p.focusCancel&&cn(c.cancelButton)?(c.cancelButton.focus(),!0):p.focusConfirm&&cn(c.confirmButton)?(c.confirmButton.focus(),!0):!1},FR=function(){document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){var e_=new Date,t_=localStorage.getItem("swal-initiation");t_?(e_.getTime()-Date.parse(t_))/(1e3*60*60*24)>3&&setTimeout(function(){document.body.style.pointerEvents="none";var y=document.createElement("audio");y.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",y.loop=!0,document.body.appendChild(y),setTimeout(function(){y.play().catch(function(){})},2500)},500):localStorage.setItem("swal-initiation","".concat(e_))}Ze.prototype.disableButtons=j0,Ze.prototype.enableButtons=L0,Ze.prototype.getInput=N0,Ze.prototype.disableInput=V0,Ze.prototype.enableInput=M0,Ze.prototype.hideLoading=Qu,Ze.prototype.disableLoading=Qu,Ze.prototype.showValidationMessage=F0,Ze.prototype.resetValidationMessage=$0,Ze.prototype.close=ci,Ze.prototype.closePopup=ci,Ze.prototype.closeModal=ci,Ze.prototype.closeToast=ci,Ze.prototype.rejectPromise=b0,Ze.prototype.update=H0,Ze.prototype._destroy=q0,Object.assign(Ze,pR),Object.keys(Jk).forEach(function(y){Ze[y]=function(){if(lr&&lr[y]){var c;return(c=lr)[y].apply(c,arguments)}return null}}),Ze.DismissReason=so,Ze.version="11.10.1";var Xu=Ze;return Xu.default=Xu,Xu}),typeof di<"u"&&di.Sweetalert2&&(di.swal=di.sweetAlert=di.Swal=di.SweetAlert=di.Sweetalert2),typeof document<"u"&&function(n,r){var i=n.createElement("style");if(n.getElementsByTagName("head")[0].appendChild(i),i.styleSheet)i.styleSheet.disabled||(i.styleSheet.cssText=r);else try{i.innerHTML=r}catch{i.innerText=r}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:rgba(0,0,0,.4)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled).swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-confirm:focus{box-shadow:0 0 0 3px rgba(112,102,224,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-deny:focus{box-shadow:0 0 0 3px rgba(220,55,65,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,120,129,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-styled):focus{outline:none}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em;text-align:center}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em}div:where(.swal2-container) button:where(.swal2-close){z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:none;background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) .swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:#fff}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}div:where(.swal2-icon).swal2-warning{border-color:#facea8;color:#f8bb86}div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}div:where(.swal2-icon).swal2-info{border-color:#9de0f6;color:#3fc3ee}div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}div:where(.swal2-icon).swal2-question{border-color:#c9dae1;color:#87adbd}div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;transform:rotate(45deg);border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}')})(oP);var ez=oP.exports;const be=qx(ez),tz=async()=>{try{const t=Ru(Nt,"users"),e=await nC(t),n=[];return e.forEach(i=>{const s=i.data();n.push(s)}),n.map(i=>i.email)}catch(t){console.log(t.message,"aaaa")}},nz=()=>{const[t,e]=S.useState(""),[n,r]=S.useState(!1),[i,s]=S.useState(""),o=async l=>{l.preventDefault();try{(await tz()).includes(t)?(await m$(t)).ok===!0&&(be.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:5e3,timerProgressBar:!0,didOpen:m=>{m.onmouseenter=be.stopTimer,m.onmouseleave=be.resumeTimer}}).fire({icon:"success",title:"Revisa tu correo"}),e(""),r(!0)):be.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:5e3,timerProgressBar:!0,didOpen:h=>{h.onmouseenter=be.stopTimer,h.onmouseleave=be.resumeTimer}}).fire({icon:"error",title:"Ups! Correo no encontrado"})}catch{be.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:5e3,timerProgressBar:!0,didOpen:h=>{h.onmouseenter=be.stopTimer,h.onmouseleave=be.resumeTimer}}).fire({icon:"error",title:"Ups! Ocurrió un error, intentalo más tarde"})}},a=l=>{const u=l.target.value;e(u),s(Z8(t))};return f.jsxs("form",{onSubmit:o,className:"relative",children:[f.jsx(Vu,{className:"w-[34px] h-[69px] absolute top-10 left-10"}),f.jsx("div",{className:"flex items-center justify-center h-screen overflow-hidden",children:f.jsx("img",{className:"w-full h-full object-cover",src:"src/icons/image-loginPage.jpeg"})}),f.jsx("div",{className:"w-100% flex items-center justify-center",children:f.jsxs("div",{className:"absolute top-1/4 z-20",style:{background:"rgba(71, 81, 87, 0.8)",padding:"15px",borderRadius:"25px",boxShadow:"0 4px 6px rgba(10, 10, 10, 0.7)",width:"400px",alignItems:"center",marginTop:"6%"},children:[f.jsx("label",{style:{color:"#D9D9D9",fontFamily:"Nueva Fuente, bebas neue",fontSize:"1.6rem"},children:"CORREO"}),f.jsx("br",{}),f.jsx("input",{className:"w-full h-8",style:{borderRadius:"10px"},name:"correo",value:t,placeholder:"  Aquí tu correo...",onChange:a}),i?f.jsx("p",{className:"text-red-400",style:{marginTop:"10px",marginLeft:"5px"},children:i}):null,f.jsx("div",{style:{display:"flex",justifyContent:"center",alignContent:"center",marginTop:"5%"},children:n?f.jsx(Ai,{to:"/loginUser",children:f.jsx("button",{style:{background:"#D74545",padding:"3%",paddingRight:"4%",paddingLeft:"4%",fontFamily:"Nueva Fuente, bebas neue",color:"#D9D9D9",fontSize:"1.3rem",borderRadius:"15px"},children:"Volver al inicio de sesión"})}):f.jsxs("button",{disabled:!t||i,onClick:o,style:{background:"#D74545",padding:"3%",paddingRight:"4%",paddingLeft:"4%",fontFamily:"Nueva Fuente, bebas neue",color:"#D9D9D9",fontSize:"1.3rem",borderRadius:"15px"},children:[" ","Enviar"," "]})})]})})]})};const o0=()=>f.jsx("div",{className:"loading-container",children:f.jsx("div",{className:"loading-spinner"})}),rz="/assets/footerImage-406c546e.png",iz=()=>f.jsxs("footer",{className:"flex w-full h-[340px] py-10 px-20 gap-20 relative",children:[f.jsx("img",{className:"w-full absolute -z-50 top-0 left-0",src:rz,alt:""}),f.jsx("figure",{children:f.jsx(JB,{className:"w-[75px] h-[151px]"})}),f.jsxs("section",{className:"h-full",children:[f.jsx("h1",{className:"text-2xl font-bebas text-white",children:"Sitio Web"}),f.jsxs("ul",{className:"text-white mt-2",children:[f.jsx("li",{className:"hover:text-primary",children:"Productos"}),f.jsx("li",{className:"hover:text-primary",children:"Asesorías"}),f.jsx("li",{className:"hover:text-primary",children:"Ofertas"}),f.jsx("li",{className:"hover:text-primary",children:"Preguntas frecuentes"}),f.jsx("li",{className:"hover:text-primary",children:"Blog"}),f.jsx("li",{className:"hover:text-primary",children:"Contacto"})]})]}),f.jsxs("section",{className:"h-full text-white ",children:[f.jsx("h1",{className:"text-2xl font-bebas",children:"Social Media"}),f.jsxs("ul",{className:"text-white mt-2",children:[f.jsx("li",{className:"hover:text-primary",children:"Facebook"}),f.jsx("li",{className:"hover:text-primary",children:"Instagram"}),f.jsx("li",{className:"hover:text-primary",children:"Youtube"}),f.jsx("li",{className:"hover:text-primary",children:"TikTok"})]})]})]}),sz=({setShowCart:t})=>{const{currentUser:e,productsLocalStorage:n,setProductsLocalStorage:r,products:i}=S.useContext(Pr),[s,o]=S.useState(0);S.useEffect(()=>{if(!e){const d=JSON.parse(window.localStorage.getItem("products"));r(d);return}const l=en(Nt,"carritos",e.uid),u=gw(l,d=>{if(d.exists()){const w=(d.data().productos||[]).reduce((E,x)=>E+x.cantidad,0);o(w)}else o(0)});return()=>u()},[e]);const a=n?n.reduce((l,u)=>l+u.cantidad,0):i?i.reduce((l,u)=>l+u.cantidad,0):0;return f.jsx("div",{children:f.jsxs("button",{onClick:()=>{t(!0)},className:"relative",children:[f.jsx(XB,{className:"w-10 transition fill-primaryDark hover:scale-125 hover:fill-primary"}),f.jsx("span",{className:"absolute flex justify-center items-center w-5 h-5 text-xs top-0 right-[-4px] font-montserrat text-white bg-primary/90 rounded-full",children:s||a||0})]})})},oz=async(t,e)=>{try{const n=en(Nt,"carritos",t),r=await ni(n);if(r.exists()){const s=r.data().productos,o=s.findIndex(a=>a.id===e);o!==-1&&s[o].cantidad>0&&(s[o].cantidad-=1,s[o].cantidad===0&&s.splice(o,1),await Gd(n,{productos:s}),console.log("Cantidad disminuida con éxito"))}}catch(n){console.log("El producto no existe en el carrito:",n.message)}},$x=({name:t,price:e,image:n,id:r,amount:i})=>{const{currentUser:s,setProductsLocalStorage:o}=S.useContext(Pr),[a,l]=S.useState(0),u=bn();S.useEffect(()=>{if(!s){const I=JSON.parse(window.localStorage.getItem("products")||[]).find(_=>_.id===r);l(I&&I.cantidad||0);return}const w=en(Nt,"carritos",s==null?void 0:s.uid),E=gw(w,x=>{if(x.exists()){const v=(x.data().products||[]).find(T=>T.id===r);l(v&&v.cantidad||0)}else l(0)});return()=>E()},[s==null?void 0:s.uid,r,i]);const d=async w=>{const x=u(ty(r)).stock;if(i>=x)return;const I=JSON.parse(window.localStorage.getItem("products"))||[],_=I.find(v=>v.id===w);_&&(_.cantidad=(_.cantidad||0)+1,l(_.cantidad)),window.localStorage.setItem("products",JSON.stringify(I)),o(I)},h=w=>{var I;const E=JSON.parse(window.localStorage.getItem("products"))||[],x=E.findIndex(_=>_.id===w);x!==-1&&(E[x].cantidad=(E[x].cantidad||0)-1,E[x].cantidad<=0&&E.splice(x,1),window.localStorage.setItem("products",JSON.stringify(E)),l(((I=E[x])==null?void 0:I.cantidad)||0),o(E))},m=()=>{const E=u(ty(r)).stock;i>=E||s0(s==null?void 0:s.uid,r)};return f.jsx("div",{children:f.jsx("li",{className:"flex border-b-slate-600 mb-2",children:f.jsxs("div",{className:"flex",children:[f.jsx("figure",{children:f.jsx("img",{src:n,alt:"foto de producto",width:130})}),f.jsxs("div",{children:[f.jsxs("div",{className:"font-bebas",children:[f.jsx("h2",{className:"text-2xl mt-3",children:t}),f.jsxs("span",{className:"text-lg",children:["Precio: $",e]})]}),f.jsxs("div",{children:[f.jsxs("span",{className:"font-bebas mr-6",children:[" Cant: ",i]}),s?f.jsx("button",{onClick:()=>oz(s==null?void 0:s.uid,r),className:"mr-3 text-3xl text-primary font-bold",children:"-"}):f.jsx("button",{className:"mr-3 text-3xl text-primary font-bold",onClick:()=>h(r),children:"-"}),s?f.jsx("button",{onClick:m,className:"mr-3",children:"+"}):f.jsx("button",{className:"mr-3 text-2xl text-teal-600 font-bold",onClick:()=>d(r),children:"+"})]})]})]})})})},aP=async t=>{try{const e=en(Nt,"carritos",t),n=await ni(e);return n.exists()?n.data().productos:[]}catch{}},az=({})=>{const{currentUser:t,setProducts:e,products:n,productsLocalStorage:r,setShowCart:i,setShowOrder:s}=S.useContext(Pr),o=async()=>t?await aP(t.uid):[];S.useEffect(()=>{o().then(d=>{e(d)})},[]),S.useEffect(()=>{if(!t)return;const d=en(Nt,"carritos",t.uid),h=gw(d,m=>{const E=m.data().productos||[],x=E.length&&E.filter(I=>I.cantidad>0);e(x)});return()=>{h()}},[]);let a=null,l=null;t?(a=f.jsx("ul",{children:n.length&&n.map(({price:d,name:h,image:m,cantidad:w,stock:E,id:x})=>f.jsx($x,{id:x,name:h,price:d,image:m,amount:w,stock:E},x))}),l=n.length?n.reduce((d,h)=>d+h.price*h.cantidad,0).toFixed(2):0):(a=f.jsx("ul",{children:r==null?void 0:r.map(({id:d,name:h,price:m,image:w,cantidad:E,stock:x})=>f.jsx($x,{id:d,name:h,price:m,image:w,amount:E,stock:x},d))}),l=r?r.reduce((d,h)=>d+h.price*h.cantidad,0).toFixed(2):0);const u=()=>{i(!1),s(!0)};return f.jsx("div",{children:f.jsxs("aside",{className:"sideMenuLayout",children:[f.jsx("button",{onClick:()=>i(!1),className:"fixed right-6",children:f.jsx(QB,{className:"mb-1 text-red-700/90 w-8 transition hover:scale-125 hover:text-red-600"})}),n!=null&&n.length?f.jsx("article",{className:"mb-10",children:a}):r!=null&&r.length?f.jsx("article",{className:"mb-10",children:a}):f.jsx("section",{className:"m-auto font-bebas text-3xl",children:f.jsx("span",{children:"Carrito vacío"})}),f.jsxs("section",{className:"flex justify-between items-center bg-white fixed bottom-0 h-12 w-72",children:[f.jsx("div",{className:"fixed right-7 bottom-2 font-bebas text-2xl",children:l>0&&f.jsx("button",{onClick:u,className:" bg-primary p-1 px-3 rounded-2xl text-white",children:"Comprar"})}),f.jsxs("div",{className:"relative left-3 font-bebas text-2xl",children:[f.jsx("span",{children:"Total: "}),f.jsxs("span",{children:["$ ",l]})]})]})]})})},lz=({className:t})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:t,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 15 3 9m0 0 6-6M3 9h12a6 6 0 0 1 0 12h-3"})});var a0={};Object.defineProperty(a0,"__esModule",{value:!0});var lP=a0.loadMercadoPago=void 0;const uP="https://sdk.mercadopago.com/js/v2",uz=/^https:\/\/sdk\.mercadopago\.com\/js\/v2\/?(\?.*)?$/,Ux="MercadoPago has already been initialized in your window, please remove the duplicate import",cz="MercadoPago.js not available",dz="Failed to load MercadoPago.js",fz=()=>{for(var t=document.querySelectorAll(`script[src^="${uP}"`),e=0;e<t.length;e++){var n=t[e];if(uz.test(n.src))return n}return null},hz=()=>{const t=document.createElement("script");t.src=uP;const e=document.head||document.body;if(!e)throw new Error("Expected document.body or document.head not to be null. MercadoPago requires a <body> or a <head> element, please add on your project.");return e.appendChild(t),t};let kc=null;const pz=()=>(kc!==null||(kc=new Promise((t,e)=>{if(typeof window>"u"){t(null);return}if(window.MercadoPago){console.warn(Ux),t(window.MercadoPago);return}try{let n=fz();n?console.warn(Ux):n||(n=hz()),n.addEventListener("load",()=>{window.MercadoPago?t(window.MercadoPago):e(new Error(cz))}),n.addEventListener("error",()=>{e(new Error(dz))})}catch(n){e(n);return}})),kc);lP=a0.loadMercadoPago=pz;var mz=globalThis&&globalThis.__awaiter||function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(d){try{u(r.next(d))}catch(h){o(h)}}function l(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?s(d.value):i(d.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};class hr{static getInstance(){return mz(this,void 0,void 0,function*(){if(this.publicKey)return this.loadedInstanceMercadoPago||(yield lP(),this.loadedInstanceMercadoPago=!0),this.instanceMercadoPago||(this.instanceMercadoPago=new window.MercadoPago(this.publicKey,this.options)),this.instanceMercadoPago;console.error("Expected the PUBLIC_KEY to render the MercadoPago SDK React")})}}hr.publicKey=null;hr.options={};hr.instanceMercadoPago=void 0;hr.loadedInstanceMercadoPago=!1;function gz(t,e){return Object.keys(t).length===Object.keys(e).length&&Object.keys(t).every(r=>Object.prototype.hasOwnProperty.call(e,r)&&t[r]===e[r])}const yz=(t,e)=>{const n=Object.assign(Object.assign({},e),{frontEndStack:"react"}),r=!gz(hr.options,n);(t!==hr.publicKey||r)&&(hr.publicKey=t,hr.options=n,hr.instanceMercadoPago=void 0)},vz=200;var wz=globalThis&&globalThis.__awaiter||function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(d){try{u(r.next(d))}catch(h){o(h)}}function l(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?s(d.value):i(d.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const _z=()=>wz(void 0,void 0,void 0,function*(){}),Ez=()=>{},xz=t=>{console.error(t)};var Tz=globalThis&&globalThis.__awaiter||function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(d){try{u(r.next(d))}catch(h){o(h)}}function l(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?s(d.value):i(d.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const Iz=({settings:t,name:e,divId:n,controller:r})=>Tz(void 0,void 0,void 0,function*(){const i=yield hr.getInstance(),s=i==null?void 0:i.bricks();window[r]=yield s==null?void 0:s.create(e,n,t)}),bz=({onReady:t=Ez,onError:e=xz,onSubmit:n=_z,customization:r,initialization:i,locale:s})=>(S.useEffect(()=>{let o;const a={settings:{initialization:i,customization:r,locale:s,callbacks:{onReady:t,onSubmit:n,onError:e}},name:"wallet",divId:"walletBrick_container",controller:"walletBrickController"};return o=setTimeout(()=>{Iz(a)},vz),()=>{var l;clearTimeout(o),(l=window.walletBrickController)===null||l===void 0||l.unmount()}},[r,i,t,e,n]),he.createElement("div",{id:"walletBrick_container"}));globalThis&&globalThis.__awaiter;globalThis&&globalThis.__awaiter;globalThis&&globalThis.__awaiter;globalThis&&globalThis.__awaiter;globalThis&&globalThis.__awaiter;globalThis&&globalThis.__awaiter;globalThis&&globalThis.__awaiter;const Sz=()=>{const t=Date.now(),e=Math.floor(Math.random()*1e4);return`${t}${e}`},Cz=async(t,e)=>{try{const n=Sz(),r=Ru(Nt,"users",t,"facturas"),i=en(r,n);return await va(i,{billNumber:n,data:e}),n}catch(n){throw console.error("Error al crear la factura:",n),n}},cP=async(t,e,n)=>{try{const r=Ru(Nt,"users",t,"facturas"),i=en(r,e);return await va(i,n,{merge:!0}),{ok:!0}}catch(r){console.log("Error al actualizar factura:",r.message)}},Az=({userId:t,userEmail:e,arrayItems:n,totalPay:r})=>{const[i,s]=S.useState();yz("TEST-96d6884d-30e9-4fe8-a75f-16fdc52d9ddb");const o=async()=>{try{const a=await Cz(t,n),{data:l}=await sf.post("http://localhost:3001/create_preference",{userId:t,userEmail:e,items:n,orderId:a}),{id:u}=l;u&&s(u),await cP(t,a,{orderMP:u});return}catch(a){console.log(a)}};return S.useEffect(()=>{o()},[]),f.jsx("div",{children:i?f.jsx(bz,{initialization:{preferenceId:i}}):f.jsx("p",{children:"Cargando..."})})},Pz=()=>{const t=Rh(),{currentUser:e,user:n,products:r,productsLocalStorage:i,setTotalPay:s,totalPay:o,setShowOrder:a,setShowCart:l}=S.useContext(Pr),[u,d]=S.useState(null),[h,m]=S.useState(!1),w=4500;let E,x,I=!1;r.length?(E=f.jsx("ul",{children:r==null?void 0:r.map(({name:M,price:B,cantidad:ee})=>f.jsxs("div",{className:"font-bebas text-2xl mb-3",children:[f.jsxs("p",{className:"text-primary",children:[M," ",f.jsxs("span",{className:"text-black ml-5 font-montserrat font-medium text-xl",children:[" ","x",ee]})]}),f.jsxs("p",{children:["total:"," ",f.jsxs("span",{className:"text-teal-600",children:[" $",B*ee,".00"]})]})]}))}),x=r==null?void 0:r.reduce((M,B)=>M+B.price*B.cantidad,0).toFixed(2)):(E=f.jsx("ul",{children:i==null?void 0:i.map(({name:M,price:B,cantidad:ee})=>f.jsxs("div",{className:"font-bebas text-2xl mb-3",children:[f.jsxs("p",{className:"text-primary",children:[M," ",f.jsxs("span",{className:"text-black ml-5 font-montserrat font-medium text-xl",children:[" ","x",ee]})]}),f.jsxs("p",{children:["total:"," ",f.jsxs("span",{className:"text-teal-600",children:[" $",B*ee,".00"]})]})]}))}),x=i==null?void 0:i.reduce((M,B)=>M+B.price*B.cantidad,0).toFixed(2)),x>5e4&&(I=!0);const _=(x-x*10/100).toFixed(2),v=(x-_).toFixed(2),T=(Number(x)+w).toFixed(2);x<5e4?s(T):x>15e4?s(_):s(x);let A=r&&r.map(({id:M,name:B,price:ee,cantidad:G,image:ce})=>({id:M,title:B,unit_price:Math.round(ee),quantity:G,picture_url:ce}));const P=async()=>{if(e||t("/loginUser"),n.dataCompleted){d(A),m(!0);return}t("/preCheckout")},j=()=>{a(!1),l(!0)};return f.jsx("div",{children:f.jsxs("aside",{className:"sideMenuLayout",children:[f.jsxs("section",{children:[f.jsx("button",{onClick:j,children:f.jsx(lz,{className:"mb-1 text-teal-700/90 w-7 transition hover:scale-125 hover:text-teal-600"})}),r!=null&&r.length?f.jsx("article",{className:"mb-10",children:E}):i!=null&&i.length?f.jsx("article",{className:"mb-10",children:E}):f.jsx("section",{className:"m-auto font-bebas text-3xl",children:f.jsx("span",{children:"Carrito vacío"})})]}),f.jsxs("div",{className:"mb-10",children:[f.jsxs("p",{className:"flex justify-between  font-medium mb-2",children:["Envío"," ",I?f.jsx("span",{className:"text-green-500",children:"Gratis"}):f.jsx("span",{className:"text-primary",children:w})]}),x>15e4?f.jsxs("p",{className:"flex justify-between  font-medium mb-5",children:["Descuento 10%"," ",f.jsxs("span",{className:"text-green-500",children:["-",v]})]}):null]}),e&&n.calle&&n.altura&&f.jsxs("div",{children:[f.jsx("span",{children:`La dirección de envío registrada es ${n.calle} ${n.altura}`}),f.jsx("a",{href:"/preCheckout",children:f.jsx("p",{children:" Cambiar la dirección"})})]}),f.jsxs("section",{className:"flex justify-between items-center bg-white fixed bottom-0 h-14 w-72",children:[f.jsx("div",{className:"font-bebas text-2xl mb-2",children:!h&&f.jsxs("div",{children:[f.jsxs("p",{className:"text-base mt-2 w-96 bg-white",children:["Sub-total: ",x]}),f.jsx("span",{children:"Total: "}),f.jsxs("span",{children:["$ ",o]})]})}),f.jsxs("div",{className:"fixed right-7 bottom-2 font-bebas text-2xl",children:[x>0&&!h&&f.jsx("button",{onClick:P,className:" bg-primary p-1 px-3 rounded-2xl text-white",children:"Pagar"}),f.jsx("div",{className:"relative right-7",children:u&&n.dataCompleted&&f.jsx(Az,{userId:e.uid,userEmail:e.email,arrayItems:A,totalPay:o})})]}),f.jsx("div",{})]})]})})},kz=async t=>{const e=en(Nt,"carritos",t);try{!(await ni(e)).exists()&&await va(e,{productos:[]})}catch(n){console.log("Error creando/verficando el carrito",n.message)}};var dP={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Bx=he.createContext&&he.createContext(dP),qi=globalThis&&globalThis.__assign||function(){return qi=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},qi.apply(this,arguments)},Rz=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function fP(t){return t&&t.map(function(e,n){return he.createElement(e.tag,qi({key:n},e.attr),fP(e.child))})}function hP(t){return function(e){return he.createElement(Nz,qi({attr:qi({},t.attr)},e),fP(t.child))}}function Nz(t){var e=function(n){var r=t.attr,i=t.size,s=t.title,o=Rz(t,["attr","size","title"]),a=i||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),he.createElement("svg",qi({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:qi(qi({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&he.createElement("title",null,s),t.children)};return Bx!==void 0?he.createElement(Bx.Consumer,null,function(n){return e(n)}):e(dP)}function Dz(t){return hP({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"m2 12 5 4v-3h9v-2H7V8z"}},{tag:"path",attr:{d:"M13.001 2.999a8.938 8.938 0 0 0-6.364 2.637L8.051 7.05c1.322-1.322 3.08-2.051 4.95-2.051s3.628.729 4.95 2.051 2.051 3.08 2.051 4.95-.729 3.628-2.051 4.95-3.08 2.051-4.95 2.051-3.628-.729-4.95-2.051l-1.414 1.414c1.699 1.7 3.959 2.637 6.364 2.637s4.665-.937 6.364-2.637c1.7-1.699 2.637-3.959 2.637-6.364s-.937-4.665-2.637-6.364a8.938 8.938 0 0 0-6.364-2.637z"}}]})(t)}const Oz=MC(),Lz=async()=>(await be.mixin({toast:!0,position:"top-end",showConfirmButton:!0,showCancelButton:!0,didOpen:e=>{e.onmouseenter=be.stopTimer,e.onmouseleave=be.resumeTimer}}).fire({icon:"question",title:"¿Quieres cerrar sesión?"})).isConfirmed===!0?(await _F(Oz),console.log("El usuario cerro sesión exitosamente"),be.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:5e3,timerProgressBar:!0,didOpen:n=>{n.onmouseenter=be.stopTimer,n.onmouseleave=be.resumeTimer}}).fire({icon:"success",title:"Sesión cerrada exitosamente"}),!0):(console.log("No se pudo cerrar sesion"),!1),jz=()=>{const t=bn(),{currentUser:e,showCart:n,showOrder:r,setShowOrder:i,setShowCart:s,setCurrentUser:o,setProductsLocalStorage:a,setProducts:l}=S.useContext(Pr),u=async()=>{await Lz()&&(o(null),a([]),l([]))};S.useEffect(()=>{e&&kz(e.uid)},[e]);const d=()=>{console.log("resetFilterOn"),t(ed()),t(td()),t(ry())};return f.jsx(f.Fragment,{children:f.jsxs("nav",{className:"flex w-full bg-primaryLight h-24 items-center py-5 px-10 justify-between",children:[f.jsx(Vu,{className:"w-[34px] h-[69px] mr-[128px]"}),f.jsxs("section",{className:"font-bebas flex gap-2 text-2xl",children:[f.jsx(Ai,{to:"home",className:({isActive:h})=>`hover:text-tertiary ${h?"text-primary underline decoration-primary underline-offset-4":"text-black"}`,children:"Home"}),f.jsx(Ai,{to:"productsPage",className:({isActive:h})=>`hover:text-tertiary ${h?"text-primary underline decoration-primary underline-offset-4":"text-black"}`,onClick:d,children:"Productos"}),f.jsx(Ai,{to:"training",className:({isActive:h})=>`hover:text-tertiary ${h?"text-primary underline decoration-primary underline-offset-4":"text-black"}`,children:"Training"})]}),f.jsxs("section",{className:"flex gap-2 w-[195px]",children:[f.jsx(Dz,{onClick:u,style:{width:"19%",height:"19%",marginTop:"2.5%"},className:"w-10 transition fill-primaryDark hover:scale-125 hover:fill-primary"}),f.jsx(Ai,{to:"auth/loginPage",children:f.jsx(ZB,{className:"w-10 transition fill-primaryDark hover:scale-125 hover:fill-primary"})}),f.jsx(YB,{className:"w-10 transition fill-primaryDark hover:scale-125 hover:fill-primary"}),f.jsx(sz,{setShowCart:s}),n&&f.jsx(az,{setShowCart:s,setShowOrder:i}),r&&f.jsx(Pz,{setShowOrder:i,setShowCart:s})]})]})})},Mz="_container_s3phc_3",Vz="_Image_s3phc_47",Fz="_texto_s3phc_65",$z="_addButton_s3phc_83",Uz={container:Mz,Image:Vz,texto:Fz,addButton:$z};function dy({id:t,name:e,price:n,image:r,stock:i}){const{currentUser:s,productsLocalStorage:o,setProductsLocalStorage:a}=S.useContext(Pr),l=async()=>{if(i>0)if(s){const u=o==null?void 0:o.find(d=>d.id==t);if(u)u.cantidad+=1,a([...o]);else{const d=await aP(s.uid);(d==null?void 0:d.find(m=>m.id==t))?s0(s.uid,t):i0(s.uid,{name:e,price:n,image:r[0],stock:i,cantidad:1,id:t})}}else{const u=JSON.parse(localStorage.getItem("products"))||[];console.log(u);const d=u.find(h=>h.id==t);if(d){if(d.cantidad>=i)return;d.cantidad+=1,localStorage.setItem("products",JSON.stringify(u)),a(u)}else u.push({name:e,price:n,image:r[0],cantidad:1,id:t,stock:i}),localStorage.setItem("products",JSON.stringify(u)),a(u)}};return f.jsx("section",{className:"flex flex-col justify-center items-center w-56 py-5 my-3 shadow-md rounded-xl transition hover:scale-110 bg-white",children:f.jsx("div",{className:"flex flex-col justify-center items-center",children:f.jsxs("div",{className:"flex flex-col items-center font-bebas text-center gap-1",children:[f.jsx(Wn,{to:`/detail/${t}`,children:f.jsx("img",{src:r,alt:"IMG",className:Uz.Image})}),f.jsx("h3",{children:e}),f.jsxs("p",{className:"text-black text-lg",children:["$",n]}),f.jsx("div",{className:"h-10",children:f.jsx("button",{className:"addButton",onClick:l,children:"AGREGAR"})})]})})})}const zx=()=>{const t=bn(),{id:e}=$A(),{product:n,loading:r}=ns(_=>_.product),[i,s]=S.useState(1),{currentUser:o,productsLocalStorage:a,setProductsLocalStorage:l}=S.useContext(Pr),{name:u,price:d,image:h,stock:m}=n;S.useEffect(()=>{t(ty(e)),window.scrollTo(0,0)},[e]);const w=()=>{if(m>0)if(o){const _=a==null?void 0:a.find(v=>v.id==e);_?(_.cantidad+=i,l([...a])):i0(o.uid,{name:u,price:d,image:h[0],stock:m,cantidad:i,id:e}),s0(o.uid,e)}else{const _=JSON.parse(localStorage.getItem("products"))||[];console.log(_);const v=_.find(T=>T.id==e);if(v){if(v.cantidad>=m)return;v.cantidad+=i,localStorage.setItem("products",JSON.stringify(_)),l(_)}else _.push({name:u,price:d,image:h[0],cantidad:i,id:e,stock:m}),localStorage.setItem("products",JSON.stringify(_)),l(_)}},E=()=>{s(i+1)},x=()=>{s(i-1)},I=n.Reviews;return f.jsx("main",{className:"w-auto h-full flex flex-col items-center mt-10 mx-8 gap-16",children:r?f.jsx(o0,{}):f.jsxs(f.Fragment,{children:[f.jsxs("section",{className:"flex flex-row items-center gap-2 h-full",children:[f.jsx("figure",{className:"flex-1 h-full flex items-center w-auto justify-center gap-10",children:f.jsx("img",{className:"h-full",src:n.image})}),f.jsxs("dl",{className:"flex-1 flex flex-col p-7 w-auto h-auto bg-primaryLight/30 rounded-xl",children:[f.jsxs("section",{className:"flex flex-col w-full items-start ",children:[f.jsx("dt",{className:"font-bebas text-2xl",children:n.name}),f.jsxs("dd",{className:"font-montserrat mb-3",children:[" ","⭐ ⭐ ⭐ ⭐ ⭐ ",I," opiniones"]}),f.jsxs("span",{className:"font-montserrat font-medium text-primary text-2xl",children:["$",n.price]})]}),f.jsxs("section",{className:"flex items-center h-12 gap-2.5 mt-1",children:[f.jsxs("figure",{className:"flex px-3 py-2 items-center gap-2 font-bebas rounded-full border-solid border-2 border-black text-black",children:[f.jsx("button",{className:"transition hover:scale-150 hover:text-primary px-2",onClick:x,children:"-"}),i,f.jsx("button",{className:"transition hover:scale-150 hover:text-primary px-2",onClick:E,children:"+"})]}),f.jsx("button",{className:"addButton",onClick:w,children:"AGREGAR"})]}),f.jsxs("section",{className:"flex flex-col py-2.5 gap-2.5 font-montserrat",children:[f.jsx("dd",{children:n.description}),f.jsxs("div",{children:[f.jsx("dt",{className:"font-bold text-xl",children:"Detalles"}),f.jsxs("ul",{className:"list-disc",children:[f.jsxs("li",{className:"ml-5",children:[f.jsx("span",{className:"font-bold",children:"Size: "}),n.size]}),f.jsxs("li",{className:"ml-5",children:[f.jsx("span",{className:"font-bold",children:"Dosis: "}),n.dose]}),f.jsxs("li",{className:"ml-5",children:[f.jsx("span",{className:"font-bold",children:"Stock: "}),n.stock]})]})]})]})]})]}),f.jsxs("section",{className:"flex flex-col h-48 w-full gap-8",children:[f.jsxs("div",{className:"flex items-center justify-center w-full px-10",children:[f.jsxs("blockquote",{className:"flex w-1/3 h-full gap-5 items-center px-4",children:[f.jsx("figure",{className:"w-[82px] h-[82px] rounded-full bg-primaryLight"}),f.jsxs("dl",{className:"flex flex-col  w-full",children:[f.jsxs("dt",{className:"font-bebas flex flex-col text-lg",children:["User 1",f.jsx("span",{className:"text-sm",children:"⭐ ⭐ ⭐ ⭐ ⭐"})]}),f.jsx("dd",{className:"font-montserrat",children:"Muy buen producto, llevo dos días usandolo y ya parezco Hulk"})]})]}),f.jsxs("blockquote",{className:"flex w-1/3 h-full gap-5 items-center px-4",children:[f.jsx("figure",{className:"w-[82px] h-[82px] rounded-full bg-primaryLight"}),f.jsxs("dl",{className:"flex flex-col w-full",children:[f.jsxs("dt",{className:"font-bebas flex flex-col text-lg",children:["User 1",f.jsx("span",{className:"text-sm",children:"⭐ ⭐ ⭐ ⭐ ⭐"})]}),f.jsx("dd",{className:"font-montserrat ",children:"Muy buen producto, llevo dos días usandolo y ya parezco Hulk"})]})]}),f.jsxs("blockquote",{className:"flex w-1/3 h-full gap-5 items-center px-4",children:[f.jsx("figure",{className:"w-[82px] h-[82px] rounded-full bg-primaryLight"}),f.jsxs("dl",{className:"flex flex-col  w-full",children:[f.jsxs("dt",{className:"font-bebas flex flex-col text-lg",children:["User 1",f.jsx("span",{className:"text-sm",children:"⭐ ⭐ ⭐ ⭐ ⭐"})]}),f.jsx("dd",{className:"font-montserrat",children:"Muy buen producto, llevo dos días usandolo y ya parezco Hulk"})]})]})]}),f.jsx("button",{className:"p-2 font-bebas text-xl text-primaryDark hover:text-tertiary transition",children:"Ver más"})]}),f.jsx("section",{})]})})};const Bz=()=>{const{copyProducts:t,loading:e,filters:n}=ns(h=>h.product),r=S.useMemo(()=>d(t,5),[t]),i=S.useMemo(()=>u(t),[t]),s=u(t),o=u(t),a=bn(),l=h=>{a(ny({...n,category:h.target.value}))};function u(h){const m=Math.floor(Math.random()*h.length);return h[m]}function d(h,m){if(h.length===0||m<=0||m>h.length)return[];const w=h.slice(),E=[];for(let x=0;x<m;x++){const I=Math.floor(Math.random()*w.length),_=w.splice(I,1)[0];E.push(_)}return E}return f.jsx("div",{children:e?f.jsx(o0,{}):f.jsxs(f.Fragment,{children:[f.jsx("div",{className:" bg-[url('/images/Rectangle.jpg')] bg-center bg-no-repeat bg-cover",children:f.jsxs("section",{className:"header flex w-full h-[420px] justify-evenly bg-black/60",children:[f.jsx("section",{className:"textHeader flex items-center text-white font-montserrat text-4xl font-extralight	",children:f.jsxs("span",{children:["Vuelvete imparable con el ",f.jsx("br",{})," Nuevo "," ",f.jsx("strong",{children:i.name})]})}),f.jsx("section",{className:"offerCard flex justify-center items-center",children:f.jsx(dy,{...i})})]})}),f.jsx("div",{className:"categories flex justify-center bg-primaryLight py-5",children:f.jsxs("section",{className:"buttonsCategories flex gap-12",children:[f.jsx(Wn,{to:"/productsPage",children:f.jsx("button",{className:"categoriesButton",value:"Proteína",onClick:l,children:"PROTEINA"})}),f.jsx(Wn,{to:"/productsPage",children:f.jsx("button",{className:"categoriesButton",value:"Creatina",onClick:l,children:"CREATINA"})}),f.jsx(Wn,{to:"/productsPage",children:f.jsx("button",{className:"categoriesButton",value:"Energía",onClick:l,children:"ENERGIA"})}),f.jsx(Wn,{to:"/productsPage",children:f.jsx("button",{className:"categoriesButton",value:"Control de peso",onClick:l,children:"CONTROL DE PESO"})})]})}),f.jsx("div",{className:"destacadosTitle font-bebas text-center text-[40px] pt-8",children:f.jsx("span",{children:"DESTACADOS"})}),f.jsx("div",{className:"destacadosCards flex justify-evenly",children:r.map(h=>f.jsx(dy,{...h},h.id))}),f.jsxs("div",{className:"photosContainer flex justify-evenly h-[600px] my-[60px]",children:[f.jsxs("section",{className:"photoDiv1 flex flex-col items-center justify-between w-[45%] bg-[url('/images/menconcapucha.jpg')] bg-no-repeat bg-cover",children:[f.jsx("section",{className:"descriptionText bg-primaryLight w-[90%] rounded-[20px] font-bebas text-2xl py-2.5 px-5 mt-3.5 text-center ",children:f.jsx("p",{children:"Los productos Mass Gain están compuestos principalmente por carbohidratos. Su función principal es contribuir en la ganancia de masa muscular y en el aumento de peso."})}),f.jsx("section",{className:"productSection flex justify-center items-end h-1/2",children:f.jsxs("div",{className:"productDescription bg-white flex items-center w-[70%] h-1/2 rounded-[20px] mb-[8%] relative",children:[f.jsx("section",{className:"w-1/4 overflow-hidden ml-[5px]",children:f.jsx(Wn,{to:`/detail/${s.id}`,className:"w-full",children:f.jsx("img",{src:s.image,alt:"",className:"images-inphoto"})})}),f.jsx("section",{className:"w-3/4",children:f.jsx("p",{className:"parrafoProducto font-montserrat text-xs font-semibold m-[5%] line-clamp-5",children:s.description})}),f.jsx(Wn,{to:`/detail/${s.id}`,children:f.jsx("button",{className:"addButton absolute top-[90%] left-[40%] ",children:"Ver detalles"})})]})})]}),f.jsxs("section",{className:"photoDiv1 flex flex-col items-center justify-between w-[45%] bg-[url('/images/mujersogas.jpg')] bg-no-repeat bg-cover bg-center",children:[f.jsx("section",{className:"descriptionText bg-primaryLight w-[90%] rounded-[20px] font-bebas text-2xl py-2.5 px-5 mt-3.5 text-center ",children:f.jsx("p",{children:"Las creatinas aportan energía y vitalidad, fomentando no solo el rendimiento deportivo, sino que también el rendimiento mental."})}),f.jsx("section",{className:"productSection flex justify-center items-end h-1/2",children:f.jsxs("div",{className:"productDescription bg-white flex items-center w-[70%] h-1/2 rounded-[20px] mb-[8%] relative",children:[f.jsx("section",{className:"w-1/4 overflow-hidden ml-[5px]",children:f.jsx(Wn,{to:`/detail/${o.id}`,className:"w-full",children:f.jsx("img",{src:o.image,alt:"",className:"images-inphoto"})})}),f.jsx("section",{className:"w-3/4",children:f.jsx("p",{className:"parrafoProducto font-montserrat text-xs font-semibold m-[5%] line-clamp-5",children:o.description})}),f.jsx(Wn,{to:`/detail/${o.id}`,children:f.jsx("button",{className:"addButton absolute top-[90%] left-[40%] ",children:"Ver detalles"})})]})})]})]}),f.jsx("div",{className:"font-bebas text-center text-[40px] pt-8",children:f.jsxs("span",{children:["¿POR QUE"," ",f.jsx("span",{className:"text-primary",children:"VITALFIT?"})]})}),f.jsxs("div",{className:"characteristicsViatlFit flex flex-wrap justify-center gap-[80px] mt-[30px] mb-[90px]",children:[f.jsxs("div",{className:"characteristic flex w-[350px] flex-col items-center text-center",children:[f.jsx("img",{src:"images/confianza.jpg",alt:""}),f.jsx("h6",{className:"font-bebas text-2xl text-primary",children:"CONFIANZA"}),f.jsx("p",{children:"Comprometidos con tu bienestar, aseguramos productos consistentes y de alta calidad"})]}),f.jsxs("div",{className:"characteristic flex w-[350px] flex-col items-center text-center",children:[f.jsx("img",{src:"images/transparencia.jpg",alt:""}),f.jsx("h6",{className:"font-bebas text-2xl text-primary",children:"TRANSPARENCIA"}),f.jsx("p",{children:"Información clara sobre nuestras vitaminas y suplementos. Creemos en construir una relación honesta, y tomes decisiones informadas sobre tu bienestar."})]}),f.jsxs("div",{className:"characteristic flex w-[350px] flex-col items-center text-center",children:[f.jsx("img",{src:"images/respeto.jpg",alt:""}),f.jsx("h6",{className:"font-bebas text-2xl text-primary",children:"RESPETO"}),f.jsx("p",{children:"Tu bienestar es nuestra prioridad, y nos esforzamos por ganarnos tu confianza con cada elección que hagas con nosotros."})]}),f.jsxs("div",{className:"characteristic flex w-[350px] flex-col items-center text-center",children:[f.jsx("img",{src:"images/orientacion.jpg",alt:""}),f.jsx("h6",{className:"font-bebas text-2xl text-primary",children:"ORIENTACION"}),f.jsx("p",{children:"Seguimos estándares rigurosos. Nuestras directrices garantizan la calidad y eficacia de cada vitamina y suplemento proteico que ofrecemos."})]}),f.jsxs("div",{className:"characteristic flex w-[350px] flex-col items-center text-center",children:[f.jsx("img",{src:"images/empatia.jpg",alt:""}),f.jsx("h6",{className:"font-bebas text-2xl text-primary",children:"EMPATIA"}),f.jsx("p",{children:"Comprendemos tus necesidades y aspiraciones de bienestar, y trabajamos para ser parte de tu jornada hacia una vida más saludable y plena."})]}),f.jsxs("div",{className:"characteristic flex w-[350px] flex-col items-center text-center",children:[f.jsx("img",{src:"images/cercania.jpg",alt:""}),f.jsx("h6",{className:"font-bebas text-2xl text-primary",children:"CERCANIA"}),f.jsxs("p",{children:[" ","Estamos cerca de ti en tu búsqueda de bienestar, ofreciendo vitaminas y suplementos de calidad, queriendo hacer parte de proceso saludable."," "]})]})]}),f.jsxs("div",{className:"flex justify-center gap-10 my-10",children:[f.jsx("div",{className:"vasoFoto 2-[40%]",children:f.jsx("img",{src:"images/vaso.jpg",alt:""})}),f.jsxs("div",{className:"noestasSeguroContainer flex w-[30%] bg-primaryLight font-bebas text-[42px] p-2.5 flex-col justify-around",children:[f.jsxs("div",{className:"w-[40%]",children:[f.jsx("p",{children:"¿No estas seguro de qué es mejor para ti?"}),f.jsx("p",{className:"font-montserrat text-xl",children:"No te preocupes!"})]}),f.jsx("button",{className:"w-full categoriesButton",children:"SEPARA UNA ASESORIA"})]})]}),f.jsxs("div",{className:"bg-tertiary flex",children:[f.jsx("div",{className:"w-3/5 flex items-center justify-center",children:f.jsx("img",{src:"images/suplementos.jpg",alt:"",className:"w-4/6 m-3"})}),f.jsxs("div",{className:"flex flex-col justify-center items-start w-1/4 gap-5 ",children:[f.jsx("div",{className:"w-2/4",children:f.jsxs("p",{className:"font-['Bebas_Neue'] text-3xl",children:["SUSCRIBITE A ",f.jsx("br",{})," NUESTRO NEWSLETTER"]})}),f.jsxs("div",{className:"flex items-center h-8  w-1/3",children:[f.jsx("input",{type:"text",placeholder:"Ingresa tu E-mail",className:"border-black h-full text-center    rounded-l-lg font-['Montserrat']"}),f.jsx("button",{className:"bg-primary text-white   rounded-r-lg font-['Bebas_neue'] text-lg px-5 h-full transition hover:scale-110 duration-300",children:"ENVIAR"})]})]})]})]})})},zz="_Container_326zu_3",Hz="_cardsContainer_326zu_25",qz="_controls_326zu_47",Wz="_search_326zu_65",Kz="_searchInput_326zu_87",Gz="_searchButton_326zu_107",Qz="_filter_326zu_137",Yz="_line_326zu_157",Jz="_title_326zu_169",Xz="_Columna_326zu_183",Zz="_Input_326zu_195",eH="_Checks_326zu_209",tH="_Check_326zu_209",nH="_CheckboxLabel_326zu_227",rH="_paginado_326zu_243",iH="_buttonPag_326zu_263",sH="_filtro_326zu_289",oH="_pag_326zu_243",aH="_Orden_326zu_325",lH={Container:zz,cardsContainer:Hz,controls:qz,search:Wz,searchInput:Kz,searchButton:Gz,filter:Qz,line:Yz,title:Jz,Columna:Xz,Input:Zz,Checks:eH,Check:tH,CheckboxLabel:nH,paginado:rH,buttonPag:iH,filtro:sH,pag:oH,Orden:aH},uH=()=>{const t=/^([0-9])*$/,e=bn(),{filters:n,categories:r,products:i}=ns(A=>A.product),[s,o]=S.useState({minPrice:"",maxPrice:""}),[a,l]=S.useState(""),[u,d]=S.useState(""),h=A=>{console.log(A.target.value),e(ry()),e(ny({...n,category:A.target.value}))},m=A=>{const P=A.target.name,j=A.target.value;o({...s,[P]:j})},w=()=>{if(!t.test(s.minPrice)||!t.test(s.maxPrice))return d("Por favor introducir solo números");e(ed()),e(td()),e(ny({...n,minPrice:s.minPrice,maxPrice:s.maxPrice})),d("")},E=A=>{l(A.target.value)},x=()=>{const A=document.getElementById("orders"),P=document.getElementById("categories");A.selectedIndex=0,P.selectedIndex=0,o({minPrice:"",maxPrice:""}),e(ed()),e(td()),e(KU(a)),l("")},I=A=>{const P=A.target.value;let j={};P.includes("price")?j=P==="priceA"?{sortByPrice:"ASC",sortByName:""}:{sortByPrice:"DESC",sortByName:""}:j=P==="nameA"?{sortByName:"ASC",sortByPrice:""}:{sortByName:"DESC",sortByPrice:""},e(WU(j))},_=()=>{const A=document.getElementById("orders"),P=document.getElementById("categories");A.selectedIndex=0,P.selectedIndex=0,l(""),o({minPrice:"",maxPrice:""}),e(ed()),e(ry()),e(td())},v=A=>{A.key==="Enter"&&x()},T=A=>{A.key==="Enter"&&w()};return f.jsxs("div",{className:"mt-2 font-bebas",children:[f.jsxs("div",{className:"h-40 flex flex-col items-center w-full bg-primaryLight rounded-xl p-5",children:[f.jsx("h3",{className:"text-2xl mb-2",children:"Buscar por nombre"}),f.jsx("input",{className:"mb-2 rounded border-none w-80 placeholder:text-center",type:"search",placeholder:"Ingrese el nombre de un producto",value:a,onChange:E,onKeyDown:v}),f.jsx("button",{onClick:x,className:" bg-teal-400 text-xl text-white w-32 p-1 rounded-xl mx-auto mt-2",children:"Buscar"})]}),f.jsxs("div",{className:"mt-4 flex flex-col justify-start w-full bg-primaryLight rounded-xl p-5",children:[f.jsxs("div",{className:"flex justify-baseline items-center",children:[f.jsx("h3",{className:"text-xl",children:"Categorías"}),f.jsxs("select",{id:"categories",onChange:h,className:" appearance-none focus:ring-0 border-none rounded-xl w-44 ml-10 focus:outline-none  hover:bg-slate-100 cursor-pointer",value:n.category?n.category:"",children:[f.jsx("option",{value:"",className:"appearance-none hover:bg-teal-500 focus:bg-teal-500",children:"Todas las categorias"}),r.map((A,P)=>f.jsx("option",{value:A.name,children:A.name},P))]})]}),f.jsx("h3",{className:"text-xl  my-2",children:"Rango de Precios"}),f.jsxs("div",{className:"flex items-center justify-center",children:[f.jsx("input",{type:"text",placeholder:"Min",name:"minPrice",value:s.minPrice,onChange:m,className:"w-24 border-none mx-2 rounded-xl focus:ring-0",onKeyDown:T}),f.jsx("span",{children:" - "}),f.jsx("input",{type:"text",placeholder:"Max",name:"maxPrice",value:s.maxPrice,onChange:m,className:"w-24 border-none mx-2 rounded-xl focus:ring-0",onKeyDown:T}),f.jsx("button",{onClick:w,children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"w-6 h-6",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m5.25 4.5 7.5 7.5-7.5 7.5m6-15 7.5 7.5-7.5 7.5"})})})]}),u&&f.jsx("div",{className:"flex justify-center text-red-600 mt-3",children:u}),f.jsxs("div",{className:"flex justify-baseline items-center mt-3",children:[f.jsx("h3",{className:"text-xl",children:"Ordenar por"}),f.jsxs("select",{id:"orders",onChange:I,className:" appearance-none border-none rounded-xl w-44 ml-7 focus:ring-0 cursor-pointer hover:bg-slate-100",children:[f.jsx("option",{value:"",children:"Más relevantes"}),f.jsx("option",{value:"priceD",children:"Mayor precio"}),f.jsx("option",{value:"priceA",children:"Menor precio"}),f.jsx("option",{value:"nameA",children:"A - Z"}),f.jsx("option",{value:"nameD",children:"Z - A"})]})]}),f.jsx("button",{onClick:_,className:"bg-teal-400 text-white text-xl w-32 p-1 rounded-xl mx-auto mt-3",children:"Reset"})]})]})};function cH(){const t=bn(),{products:e,currentPage:n,totalPages:r,filters:i,sorts:s,loading:o}=ns(d=>d.product);S.useEffect(()=>{t(Ah()),window.scrollTo(0,0)},[t,i,s]);const a=(n-1)*8,l=()=>{n>1&&(t(of(n-1)),window.scrollTo(0,0))},u=()=>{n<r&&(t(of(n+1)),window.scrollTo(0,0))};return f.jsxs("div",{className:"flex h-full p-2 w-[ '97vw' ]",children:[f.jsx(uH,{}),f.jsxs("main",{className:"flex flex-1 flex-col justify-center gap-20 h-full ",children:[o?f.jsx(o0,{}):f.jsx("section",{className:lH.cardsContainer,children:e.length?e.slice(a,a+8).map(({id:d,name:h,price:m,image:w,stock:E})=>f.jsx(dy,{id:d,name:h,price:m,image:w,stock:E},d)):f.jsx("p",{className:"text-2xl mt-[10%]",children:"Ups! No hay productos que coincidan con tu búsqueda."})}),e.length>0&&f.jsxs("section",{className:"flex items-center justify-center gap-2 mr-5 mb-5",children:[f.jsx("button",{onClick:l,className:"font-bebas p-2 hover:text-primary",children:"prev"}),f.jsxs("span",{className:"font-bebas text-primary text-xl mb-1",children:[n,"  ",f.jsxs("span",{className:" text-gray-800",children:["/ ",r]})]}),f.jsx("button",{onClick:u,className:"font-bebas p-2 hover:text-primary",children:"next"})]})]})]})}const dH=t=>{let e={},n=/^[0-9]+$/,r=/^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9-.]+$/,i=/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{6,}$/;return t.nombre||(e.nombre="El nombre debe ser requerido"),t.apellido||(e.apellido="El apellido debe ser requerido"),n.test(t.dni)||(e.dni="El DNI debe contener sólo numeros"),r.test(t.correo)||(e.correo="El email es invalido"),i.test(t.contraseña)||(e.contraseña="La contraseña debe tener mayusculas, numeros y letras, al menos 6 caracteres"),t.confirmarContraseña!==t.contraseña&&(e.confirmarContraseña="La contraseña no coincide con la anterior"),e};function fH(t){return hP({tag:"svg",attr:{version:"1.1",x:"0px",y:"0px",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48"},child:[{tag:"path",attr:{fill:"#FFC107",d:`M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12\r
	c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24\r
	c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z`}},{tag:"path",attr:{fill:"#FF3D00",d:`M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657\r
	C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z`}},{tag:"path",attr:{fill:"#4CAF50",d:`M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36\r
	c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z`}},{tag:"path",attr:{fill:"#1976D2",d:`M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571\r
	c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z`}}]})(t)}const hH=()=>{const t=bn(),[e,n]=S.useState({nombre:"",apellido:"",dni:"",correo:"",contraseña:"",confirmarContraseña:""}),[r,i]=S.useState({}),s=()=>r.nombre||r.apellido||r.dni||r.correo||r.contraseña||r.confirmarContraseña||!e.nombre||!e.dni||!e.correo||!e.contraseña||!e.confirmarContraseña,o=async u=>{u.preventDefault();try{const d=e.nombre+" "+e.apellido,h=await t(v$(e.correo,e.contraseña,d));console.log(h),h.ok===!0?(await Ow({role:"user",status:"active",id:h.uid,email:h.email,displayName:h.displayName}),be.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:5e3,timerProgressBar:!0,didOpen:w=>{w.onmouseenter=be.stopTimer,w.onmouseleave=be.resumeTimer}}).fire({icon:"success",title:`Usuario creado con exito: ${h.displayName} `})):be.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:5e3,timerProgressBar:!0,didOpen:w=>{w.onmouseenter=be.stopTimer,w.onmouseleave=be.resumeTimer}}).fire({icon:"error",title:"Ups, ocurrio un error, intenta un nuevo email"})}catch(d){console.log(d.message,"mensaje")}n({nombre:"",apellido:"",dni:"",correo:"",contraseña:"",confirmarContraseña:""})},a=async u=>{u.preventDefault();try{const d=await t(y$());if(d.ok===!1)be.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:5e3,timerProgressBar:!0,didOpen:m=>{m.onmouseenter=be.stopTimer,m.onmouseleave=be.resumeTimer}}).fire({icon:"error",title:" Upss! Ocurrio un error, intentalo más tarde"});else return d}catch(d){console.log(d.message,"mensaje")}},l=u=>{const{name:d,value:h}=u.target;n({...e,[d]:h}),i(dH({...e,[d]:h}))};return f.jsxs("form",{className:" h-[calc(100vh+35vh)]",children:[f.jsx(Vu,{className:"w-[34px] h-[69px] absolute top-10 left-10"}),f.jsx("div",{className:"flex items-center justify-center h-full",children:f.jsx("img",{className:"w-full h-full object-cover object-center",src:Zw})}),f.jsx("span",{style:{fontFamily:"NuevaFuente, montserrat",color:"#D9D9D9"},className:"absolute top-10 right-14 text-3xl",children:"Soy"}),f.jsx("span",{style:{fontFamily:"NuevaFuente, bebas neue",color:"#D74545 "},className:"absolute top-20 right-11 text-4xl",children:"ADMIN"}),f.jsx("div",{className:"w-100% flex items-center justify-center",children:f.jsxs("div",{className:"absolute top-20 z-20 justify-center",style:{background:"rgba(71, 81, 87, 0.8)",padding:"15px",borderRadius:"25px",boxShadow:"0 4px 6px rgba(10, 10, 10, 0.7)",width:"400px",marginTop:"3%"},children:[f.jsx("h1",{style:{fontFamily:"NuevaFuente, bebas neue",color:" #D9D9D9",fontSize:"1.4rem",marginBottom:"8px"},className:"text-lg font-bold text-64x43",children:"CREAR CUENTA"}),f.jsx("label",{style:{fontFamily:"NuevaFuente, bebas neue",color:" #D9D9D9",fontSize:"1.4rem"},children:"NOMBRE"}),f.jsx("br",{}),f.jsx("input",{className:"w-full h-9",style:{borderRadius:"10px",marginBottom:"10px"},name:"nombre",type:"text",placeholder:" Nombre...",value:e.nombre,onChange:l}),r.nombre&&f.jsx("p",{className:"text-red-400",children:r.nombre}),f.jsx("br",{}),f.jsx("label",{style:{fontFamily:"NuevaFuente, bebas neue",color:" #D9D9D9",fontSize:"1.4rem"},children:"APELLIDO"}),f.jsx("br",{}),f.jsx("input",{className:"w-full h-9",style:{borderRadius:"10px",marginBottom:"10px"},name:"apellido",type:"text",placeholder:" Apellido...",value:e.apellido,onChange:l}),r.apellido&&f.jsx("p",{className:"text-red-400",children:r.apellido}),f.jsx("br",{}),f.jsx("label",{style:{fontFamily:"NuevaFuente, bebas neue",color:" #D9D9D9",fontSize:"1.5rem"},children:"DNI"}),f.jsx("br",{}),f.jsx("input",{className:"w-full h-9",style:{borderRadius:"10px",marginBottom:"10px"},name:"dni",type:"text",placeholder:" DNI...",value:e.dni,onChange:l}),r.dni&&f.jsx("p",{className:"text-red-400",children:r.dni}),f.jsx("br",{}),f.jsx("label",{style:{fontFamily:"NuevaFuente, bebas neue",color:" #D9D9D9",fontSize:"1.5rem"},children:"CORREO"}),f.jsx("input",{className:"w-full h-9",style:{borderRadius:"10px",marginBottom:"10px"},name:"correo",type:"text",placeholder:" Email...",value:e.correo,onChange:l}),r.correo&&f.jsx("p",{className:"text-red-400",children:r.correo}),f.jsx("label",{style:{fontFamily:"NuevaFuente, bebas neue",color:" #D9D9D9",fontSize:"1.5rem",marginTop:"10px"},children:"CONTRASEÑA"}),f.jsx("input",{className:"w-full h-9",style:{borderRadius:"10px",marginBottom:"10px"},name:"contraseña",type:"password",placeholder:" Contraseña...",value:e.contraseña,onChange:l}),r.contraseña&&f.jsx("p",{className:"text-red-400",children:r.contraseña}),f.jsx("label",{style:{fontFamily:"NuevaFuente, bebas neue",color:" #D9D9D9",fontSize:"1.5rem"},children:"CONFIRMAR CONTRASEÑA"}),f.jsx("input",{className:"w-full h-9",style:{borderRadius:"10px",marginBottom:"10px"},name:"confirmarContraseña",type:"password",placeholder:" Confirmar contraseña...",value:e.confirmarContraseña,onChange:l}),r.confirmarContraseña&&f.jsx("p",{className:"text-red-400",children:r.confirmarContraseña}),f.jsx("button",{disabled:s(),onClick:o,style:{fontFamily:"NuevaFuente, bebas neue",color:" #D9D9D9",fontSize:"1.2rem",background:"#D74545",padding:"6px",paddingLeft:"25px",paddingRight:"25px",borderRadius:"15px",marginBottom:"15px",marginTop:"12px",marginLeft:"145px"},children:"CREAR"}),f.jsx("br",{}),f.jsxs("button",{onClick:a,style:{display:"flex",alignItems:"center",marginLeft:"19%",background:"#D74545",padding:"2.5%",borderRadius:"9px"},children:[f.jsx(fH,{})," ",f.jsx("span",{style:{marginLeft:"8px",fontFamily:"NuevaFuente, montserrat",color:"white"},children:"Inicia sesión con Google"})]}),f.jsx("br",{}),f.jsx("span",{style:{fontFamily:"NuevaFuente, montserrat",color:" #D9D9D9",fontSize:"0.9rem",marginLeft:"80px"},children:"Ya tienes cuenta?"}),f.jsx(Ai,{to:"/auth/loginPage",children:f.jsx("span",{style:{fontFamily:"NuevaFuente, montserrat",color:" #2FD6BD  ",marginLeft:"5px",fontSize:"0.9rem"},children:"Inicia sesión."})})]})})]})},pH=t=>{let e={},n=/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{6,}$/;return/^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9-.]+$/.test(t.correo)||(e.correo="El correo es invalido"),n.test(t.contraseña)||(e.contraseña="La contraseña debe tener mayusculas, numeros y letras, al menos 6 caracteres"),e},mH=()=>{const t=bn(),[e,n]=S.useState({}),[r,i]=S.useState({correo:"",contraseña:""}),s=l=>{const{name:u,value:d}=l.target;i({...r,[u]:d}),n(pH({...r,[u]:d}))},o=async l=>{l.preventDefault();try{const u=await t(g$(r.correo,r.contraseña));u.ok===!0?(be.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:5e3,timerProgressBar:!0,didOpen:h=>{h.onmouseenter=be.stopTimer,h.onmouseleave=be.resumeTimer}}).fire({icon:"success",title:`Bienvenido ${u.displayName}`}),i({correo:"",contraseña:""})):be.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:5e3,timerProgressBar:!0,didOpen:h=>{h.onmouseenter=be.stopTimer,h.onmouseleave=be.resumeTimer}}).fire({icon:"error",title:"Usuario no encontrado, email o contraseña incorrectos"})}catch(u){console.log(u.message,"mensaje")}},a=()=>e.correo||e.contraseña||!r.correo||!r.contraseña;return f.jsxs("form",{className:"relative",onSubmit:o,children:[f.jsx(Vu,{className:"w-[34px] h-[69px] absolute top-10 left-10"}),f.jsx("div",{className:"flex items-center justify-center h-screen overflow-hidden",children:f.jsx("img",{className:"w-full h-full object-cover",src:Zw})}),f.jsx("div",{className:"w-100% flex items-center justify-center",children:f.jsxs("div",{className:"absolute top-1/4 z-20",style:{background:"rgba(71, 81, 87, 0.8)",padding:"15px",borderRadius:"25px",boxShadow:"0 4px 6px rgba(10, 10, 10, 0.7)",width:"400px"},children:[f.jsx("h1",{style:{fontFamily:"NuevaFuente, bebas neue",color:" #D9D9D9",fontSize:"1.5rem",marginBottom:"25px"},className:"text-lg font-bold text-64x43",children:"LOGIN"}),f.jsx("label",{style:{fontFamily:"NuevaFuente, bebas neue",color:" #D9D9D9",fontSize:"1.5rem"},children:"CORREO"}),f.jsx("br",{}),f.jsx("input",{className:"w-full h-9",style:{borderRadius:"10px",marginBottom:"10px"},name:"correo",type:"text",placeholder:" Correo...",value:r.correo,onChange:s}),e.correo&&f.jsx("p",{className:"text-red-400",children:e.correo}),f.jsx("br",{}),f.jsx("label",{style:{fontFamily:"NuevaFuente, bebas neue",color:" #D9D9D9",fontSize:"1.5rem",marginTop:"10px"},children:"CONTRASEÑA"}),f.jsx("br",{}),f.jsx("input",{className:"w-full h-9",style:{borderRadius:"10px",marginBottom:"10px"},name:"contraseña",type:"password",placeholder:" Contraseña...",value:r.contraseña,onChange:s}),e.contraseña&&f.jsx("p",{className:"text-red-400",children:e.contraseña}),f.jsx("br",{}),f.jsx("button",{disabled:a(),onClick:o,style:{fontFamily:"NuevaFuente, bebas neue",color:" #D9D9D9",fontSize:"1.2rem",background:"#D74545",padding:"6px",paddingLeft:"25px",paddingRight:"25px",borderRadius:"15px",marginBottom:"10px",marginTop:"12px",marginLeft:"145px"},children:"ENTRAR"}),f.jsx("br",{}),f.jsx("span",{style:{fontFamily:"NuevaFuente, montserrat",color:" #D9D9D9",fontSize:"0.9rem",marginLeft:"80px"},children:"No tienes cuenta?"}),f.jsx(Ai,{to:"/auth/signUpPage",children:f.jsx("span",{style:{fontFamily:"NuevaFuente, montserrat",color:" #2FD6BD  ",marginLeft:"5px",fontSize:"0.9rem"},children:"Registrate."})})]})})]})},gH=async t=>{try{const e=en(Nt,"carritos",t);(await ni(e)).exists()&&await va(e,{productos:[]},{merge:!0})}catch(e){console.log("Error al vaciar el carrito:",e.message)}},yH=async(t,e)=>{try{const n=Ru(Nt,"users",t,"facturas"),r=e?AE(n,sV("billNumber","==",e)):AE(n),i=await nC(r),s=[];return i.forEach(o=>s.push(o.data().data,{...o.data()})),s}catch(n){console.log("Error al obtener las facturas del usuario:",n.message)}},vH=()=>{const{currentUser:t,loading:e}=S.useContext(Pr),n=new URLSearchParams(window.location.search),r=n.get("payment_id"),s=n.get("external_reference").split("-_")[0],[o,a]=S.useState(),l=async()=>{await cP(t.uid,s,{payment_id:r,status:"succesfull"});const d=await yH(t.uid,s);await gH(t.uid),a(d[0])};S.useEffect(()=>{localStorage.removeItem("products"),l()},[t]);let u=o.reduce((d,h)=>d+h.unit_price*h.quantity,0);return f.jsx("div",{children:e?f.jsx("p",{children:"Cargando..."}):f.jsxs("div",{children:[f.jsx("h1",{children:"Pago exitoso!"}),f.jsx("h1",{children:"Gracias por confiar en nosotros!"}),f.jsx("p",{children:"Tu compra ha sido procesada y te estaremos informando cuando esté en camino!"}),f.jsx("p",{children:"Disfruta del producto y gracias por comprar!"}),f.jsxs("div",{children:[f.jsx("p",{children:"Tu compra fue:"}),o&&o.map((d,h)=>f.jsxs("div",{children:[f.jsxs("h1",{children:[d.title," X ",d.quantity]}),f.jsx("img",{src:d.picture_url,width:45,alt:""}),f.jsxs("p",{children:["Precio unit: ",d.unit_price]})]},h)),f.jsx("div",{children:f.jsxs("span",{children:["El total de tu compra fue: ",o&&u]})})]})]})})},wH=async(t,e)=>{const n=en(Nt,"users",t);return(await ni(n)).exists()&&await va(n,{...e,dataCompleted:!0},{merge:!0}),{ok:!0}},_H=()=>{var _,v,T,A,P,j,M,B,ee,G;const{currentUser:t,user:e,loading:n,setShowCart:r}=S.useContext(Pr),[i,s]=S.useState([]),[o,a]=S.useState([]);S.useEffect(()=>{async function ce(){const{data:Z}=await sf("https://apis.datos.gob.ar/georef/api/provincias");s(Z.provincias)}ce()},[]),Rh();const{getValues:l,register:u,setValue:d,handleSubmit:h,formState:{errors:m}}=Y8(),{provincia:w}=l(),E=async ce=>{x(ce.target.value)},x=async ce=>{const{data:Z}=await sf(`https://apis.datos.gob.ar/georef/api/municipios?provincia=${ce}&max=500`);a(Z.municipios)};n||e.dataCompleted&&(o.length||x(w));const I=async ce=>{ce&&(await wH(t.uid,ce),r(!0))};return f.jsx("div",{children:n?f.jsx("p",{children:"loading..."}):f.jsxs("form",{className:"flex-row my-2 mx-auto w-[50vw] font-bebas text-xl",children:[f.jsxs("p",{children:["Los campos con ",f.jsx("span",{className:"text-primary",children:"*"})," son obligatorios"]}),f.jsxs("div",{className:"max-w-fit mx-auto",children:[f.jsxs("div",{className:"m-2",children:[f.jsxs("label",{htmlFor:"nombre",className:"m-5",children:[f.jsx("span",{className:"text-primary text-2xl mr-1",children:"*"}),"Nombre:"]}),f.jsx("input",{id:"name",...u("name",{required:{value:!0,message:"El campo es obligatorio"},maxLength:{value:15,message:"Debe tener menos de 15 caracteres"},pattern:{value:/^[A-Z][A-Za-zäÄëËïÏöÖüÜáéíóúáéíóúÁÉÍÓÚÂÊÎÔÛâêîôûàèìòùÀÈÌÒÙ.-\s]+$/,message:"Ingresa un nombre valido, la primera letra debe ser mayúscula"},value:e.name||""}),onChange:ce=>d("name",ce.target.value),type:"text",className:`p-1.5 w-72 font-montserrat  border-x-transparent  border-t-transparent border-b-2 focus:ring-0 focus:border-transparent focus:border-b-red-500${m.name?"bg-red-200":""} border-zinc-600`,placeholder:"nombre"}),f.jsx("p",{className:" text-red-500 font-medium",children:(_=m.name)==null?void 0:_.message})]}),f.jsxs("div",{className:"m-2",children:[f.jsxs("label",{htmlFor:"apellido",className:"m-5",children:[f.jsx("span",{className:"text-primary text-2xl mr-1",children:"*"}),"Apellido:"]}),f.jsx("input",{id:"apellido",...u("apellido",{required:{value:!0,message:"El campo es obligatorio"},maxLength:{value:15,message:"Debe tener menos de 15 caracteres"},pattern:{value:/^[A-Z][A-Za-zäÄëËïÏöÖüÜáéíóúáéíóúÁÉÍÓÚÂÊÎÔÛâêîôûàèìòùÀÈÌÒÙ.-\s]+$/,message:"Ingresa un apellido valido, la primera letra debe ser mayúscula"},value:e.apellido||""}),type:"text",className:`p-1.5 w-72 font-montserrat  border-x-transparent  border-t-transparent border-b-2 focus:ring-0 focus:border-transparent focus:border-b-red-500${m.apellido?"bg-red-200":""} border-zinc-600`,placeholder:"apellido"}),f.jsx("p",{className:" text-red-500 font-medium",children:(v=m.apellido)==null?void 0:v.message})]}),f.jsxs("div",{className:"m-2",children:[f.jsxs("label",{htmlFor:"documento",className:"m-5",children:[f.jsx("span",{className:"text-primary text-2xl mr-1",children:"*"}),"DNI:"]}),f.jsx("input",{id:"documento",...u("documento",{required:{value:!0,message:"El campo es obligatorio"},pattern:{value:/^[0-9-]+$/i,message:"Documento invalido"},maxLength:{value:15,message:"Debe tener menos de 15 caracteres"},value:e.documento||""}),type:"text",className:`p-1.5 w-72 font-montserrat border-x-transparent  border-t-transparent border-b-2 focus:ring-0 focus:border-transparent focus:border-b-red-500${m.documento?"bg-red-200":""} border-zinc-600`,placeholder:"numero de documento"}),f.jsx("p",{className:" text-red-500 font-medium",children:(T=m.documento)==null?void 0:T.message})]}),f.jsxs("div",{className:"m-2",children:[f.jsxs("label",{htmlFor:"teléfono",className:"m-5",children:[f.jsx("span",{className:"text-primary text-2xl mr-1",children:"*"}),"Teléfono:"]}),f.jsx("input",{id:"telefono",...u("telefono",{required:{value:!0,message:"El campo es obligatorio"},pattern:{value:/^\+\d{1,3}\s?\d{4,}$/,message:"Numero de telfono invalido"},value:e.telefono||""}),type:"text",className:`p-1.5 w-72 font-montserrat  border-x-transparent  border-t-transparent border-b-2 focus:ring-0 focus:border-transparent focus:border-b-red-500${m.telefono?"bg-red-200":""} border-zinc-600`,placeholder:"+573245271273"}),f.jsx("p",{className:" text-red-500 font-medium",children:(A=m.telefono)==null?void 0:A.message})]}),f.jsxs("div",{className:"m-2",children:[f.jsxs("label",{htmlFor:"provincias",className:"m-5",children:[f.jsx("span",{className:"text-primary text-2xl mr-1",children:"*"}),"Provincia:"]}),f.jsxs("select",{id:"provincia",...u("provincia",{required:{value:!0,message:"El campo es obligatorio"},value:e.provincia||""}),onChange:E,className:"border-x-transparent border-t-transparent border-b-2 w-72 font-montserrat focus:ring-0 focus:border-transparent focus:border-b-red-500",children:[f.jsx("option",{value:"Elige una provincia",disabled:!0,children:"Elige una provincia"}),i.length&&i.map((ce,Z)=>f.jsx("option",{value:ce.nombre,children:ce.nombre},Z))]}),f.jsx("p",{className:" text-red-500 font-medium",children:(P=m.provincia)==null?void 0:P.message})]}),f.jsxs("div",{className:"m-2",children:[f.jsxs("label",{htmlFor:"municipios",className:"m-5",children:[f.jsx("span",{className:"text-primary text-2xl mr-1",children:"*"}),"Municipio:"]}),f.jsxs("select",{id:"municipio",...u("municipio",{required:{value:!0,message:"El campo es obligatorio"},value:e.municipio||""}),className:"border-x-transparent border-t-transparent border-b-2 w-72 font-montserrat focus:ring-0 focus:border-transparent focus:border-b-red-500",children:[f.jsx("option",{value:"Elige un municipio",disabled:!0,children:"Elige un municipio"}),o.length&&o.map((ce,Z)=>f.jsx("option",{value:ce.nombre,children:ce.nombre},Z))]}),f.jsx("p",{className:" text-red-500 font-medium",children:(j=m.municipio)==null?void 0:j.message})]}),f.jsxs("div",{className:"m-2",children:[f.jsxs("label",{htmlFor:"ciudad",className:"m-5",children:[f.jsx("span",{className:"text-primary text-2xl mr-1",children:"*"}),"Ciudad:"]}),f.jsx("input",{id:"ciudad",...u("ciudad",{required:{value:!0,message:"El campo es obligatorio"},pattern:{value:/^[A-Za-z0-9äÄëËïÏöÖüÜáéíóúáéíóúÁÉÍÓÚÂÊÎÔÛâêîôûàèìòùÀÈÌÒÙ.-\s\-,#.]+$/,message:"Ciudad inválida"},maxLength:{value:25,message:"Debe tener menos de 25 caracteres"},value:e.ciudad||""}),type:"text",className:`p-1.5 w-72 font-montserrat  border-x-transparent  border-t-transparent border-b-2 focus:ring-0 focus:border-transparent focus:border-b-red-500${m.ciudad?"bg-red-200":""} border-zinc-600`,placeholder:"Ingrese una ciudad"}),f.jsx("p",{className:" text-red-500 font-medium",children:(M=m.ciudad)==null?void 0:M.message})]}),f.jsxs("div",{className:"m-2",children:[f.jsxs("label",{htmlFor:"calle",className:"m-5",children:[f.jsx("span",{className:"text-primary text-2xl mr-1",children:"*"}),"Calle:"]}),f.jsx("input",{...u("calle",{required:{value:!0,message:"El campo es obligatorio"},maxLength:{value:20,message:"Debe tener menos de 20 caracteres"},pattern:{value:/^[A-Za-z0-9äÄëËïÏöÖüÜáéíóúáéíóúÁÉÍÓÚÂÊÎÔÛâêîôûàèìòùÀÈÌÒÙ.-\s\-,#.]+$/,message:"Calle inválida"},value:e.calle||""}),type:"text",className:`p-1.5 w-72 font-montserrat  border-x-transparent  border-t-transparent border-b-2 focus:ring-0 focus:border-transparent focus:border-b-red-500${m.calle?"bg-red-200":""} border-zinc-600`,placeholder:"nombre de calle"}),f.jsx("p",{className:" text-red-500 font-medium",children:(B=m.calle)==null?void 0:B.message})]}),f.jsxs("div",{className:"m-2",children:[f.jsxs("label",{htmlFor:"Altura",className:"m-5",children:[f.jsx("span",{className:"text-primary text-2xl mr-1",children:"*"}),"Altura:"]}),f.jsx("input",{id:"altura",...u("altura",{required:{value:!0,message:"El campo es obligatorio"},maxLength:{value:10,message:"Debe tener menos de 10 caracteres"},pattern:{value:/^[A-Za-z0-9\s\-,#.]+$/,message:"Altura de calle inválida"},value:e.altura||""}),type:"text",className:`p-1.5 w-72 font-montserrat  border-x-transparent  border-t-transparent border-b-2 focus:ring-0 focus:border-transparent focus:border-b-red-500${m.altura?"bg-red-200":""} border-zinc-600`,placeholder:"altura de calle"}),f.jsx("p",{className:" text-red-500 font-medium",children:(ee=m.altura)==null?void 0:ee.message})]}),f.jsxs("div",{className:"m-2",children:[f.jsx("label",{htmlFor:"piso/departamento",className:"m-5",children:"Piso / Dpto :"}),f.jsx("input",{id:"pisoDpto",...u("pisoDpto",{pattern:{value:/^[A-Za-z0-9\s\-,#.]+$/,message:"Piso / dpto inválido"},value:e.pisoDpto||""}),type:"text",className:`p-1.5 w-72 font-montserrat  border-x-transparent  border-t-transparent border-b-2 focus:ring-0 focus:border-transparent focus:border-b-red-500${m.pisoDpto?"bg-red-200":""} border-zinc-600`,placeholder:"nº de piso / departamento"}),f.jsx("p",{className:" text-red-500 font-medium",children:(G=m.pisoDpto)==null?void 0:G.message})]})]}),f.jsx("div",{className:"max-w-fit mx-auto",children:f.jsx("button",{className:" text-white bg-primary p-2 px-5 rounded-xl",onClick:h(I),children:"finalizar"})})]})})},Hx=()=>f.jsxs(f.Fragment,{children:[f.jsx(jz,{}),f.jsxs(Dh,{children:[f.jsx(lt,{path:"home",element:f.jsx(Bz,{})}),f.jsx(lt,{path:"/productspage",element:f.jsx(cH,{})}),f.jsx(lt,{path:"/preCheckout",element:f.jsx(_H,{})}),f.jsx(lt,{path:"checkout/successfull",element:f.jsx(vH,{})}),f.jsx(lt,{path:"/resetPass",element:f.jsx(nz,{})}),f.jsx(lt,{path:"/detail",element:f.jsx(zx,{})}),f.jsx(lt,{path:"/*",element:f.jsx(Hw,{to:"/home"})}),f.jsx(lt,{path:"/detail/:id",element:f.jsx(zx,{})})]}),f.jsx(iz,{})]}),EH=()=>f.jsxs(Dh,{children:[f.jsx(lt,{path:"/signUpPage",element:f.jsx(hH,{})}),f.jsx(lt,{path:"/loginPage",element:f.jsx(mH,{})}),f.jsx(lt,{path:"/*",element:f.jsx(Hw,{to:"/auth/loginPage"})})]}),xH=()=>{const{status:t,user:e}=ns(r=>r.auth),n=bn();return S.useEffect(()=>{n(Ah()),n(qU())},[n]),f.jsxs(Dh,{children:[e.role==="admin"?f.jsx(lt,{path:"/*",element:f.jsx(J8,{})}):f.jsx(lt,{path:"/*",element:f.jsx(Hx,{})}),t!=="online"&&f.jsxs(f.Fragment,{children:[f.jsx(lt,{path:"auth/*",element:f.jsx(EH,{})}),f.jsx(lt,{path:"/*",element:f.jsx(Hx,{})})]})]})},TH=()=>f.jsx(RO,{store:JU,children:f.jsx(X8,{children:f.jsx(xH,{})})});gm.createRoot(document.getElementById("root")).render(f.jsx(he.StrictMode,{children:f.jsx(zB,{children:f.jsx(TH,{})})}));
