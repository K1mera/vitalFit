function LN(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var yi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function TT(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var bT={exports:{}},kf={},IT={exports:{}},pe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xu=Symbol.for("react.element"),MN=Symbol.for("react.portal"),VN=Symbol.for("react.fragment"),FN=Symbol.for("react.strict_mode"),UN=Symbol.for("react.profiler"),$N=Symbol.for("react.provider"),BN=Symbol.for("react.context"),zN=Symbol.for("react.forward_ref"),HN=Symbol.for("react.suspense"),qN=Symbol.for("react.memo"),WN=Symbol.for("react.lazy"),A_=Symbol.iterator;function KN(t){return t===null||typeof t!="object"?null:(t=A_&&t[A_]||t["@@iterator"],typeof t=="function"?t:null)}var ST={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},CT=Object.assign,AT={};function va(t,e,n){this.props=t,this.context=e,this.refs=AT,this.updater=n||ST}va.prototype.isReactComponent={};va.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};va.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function RT(){}RT.prototype=va.prototype;function Ny(t,e,n){this.props=t,this.context=e,this.refs=AT,this.updater=n||ST}var Dy=Ny.prototype=new RT;Dy.constructor=Ny;CT(Dy,va.prototype);Dy.isPureReactComponent=!0;var R_=Array.isArray,PT=Object.prototype.hasOwnProperty,Oy={current:null},kT={key:!0,ref:!0,__self:!0,__source:!0};function NT(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)PT.call(e,r)&&!kT.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:xu,type:t,key:s,ref:o,props:i,_owner:Oy.current}}function GN(t,e){return{$$typeof:xu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function jy(t){return typeof t=="object"&&t!==null&&t.$$typeof===xu}function QN(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var P_=/\/+/g;function gp(t,e){return typeof t=="object"&&t!==null&&t.key!=null?QN(""+t.key):e.toString(36)}function Wc(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case xu:case MN:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+gp(o,0):r,R_(i)?(n="",t!=null&&(n=t.replace(P_,"$&/")+"/"),Wc(i,e,n,"",function(u){return u})):i!=null&&(jy(i)&&(i=GN(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(P_,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",R_(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+gp(s,a);o+=Wc(s,e,n,l,i)}else if(l=KN(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+gp(s,a++),o+=Wc(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function dc(t,e,n){if(t==null)return t;var r=[],i=0;return Wc(t,r,"","",function(s){return e.call(n,s,i++)}),r}function YN(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var rn={current:null},Kc={transition:null},XN={ReactCurrentDispatcher:rn,ReactCurrentBatchConfig:Kc,ReactCurrentOwner:Oy};pe.Children={map:dc,forEach:function(t,e,n){dc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return dc(t,function(){e++}),e},toArray:function(t){return dc(t,function(e){return e})||[]},only:function(t){if(!jy(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};pe.Component=va;pe.Fragment=VN;pe.Profiler=UN;pe.PureComponent=Ny;pe.StrictMode=FN;pe.Suspense=HN;pe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=XN;pe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=CT({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Oy.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)PT.call(e,l)&&!kT.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:xu,type:t.type,key:i,ref:s,props:r,_owner:o}};pe.createContext=function(t){return t={$$typeof:BN,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:$N,_context:t},t.Consumer=t};pe.createElement=NT;pe.createFactory=function(t){var e=NT.bind(null,t);return e.type=t,e};pe.createRef=function(){return{current:null}};pe.forwardRef=function(t){return{$$typeof:zN,render:t}};pe.isValidElement=jy;pe.lazy=function(t){return{$$typeof:WN,_payload:{_status:-1,_result:t},_init:YN}};pe.memo=function(t,e){return{$$typeof:qN,type:t,compare:e===void 0?null:e}};pe.startTransition=function(t){var e=Kc.transition;Kc.transition={};try{t()}finally{Kc.transition=e}};pe.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};pe.useCallback=function(t,e){return rn.current.useCallback(t,e)};pe.useContext=function(t){return rn.current.useContext(t)};pe.useDebugValue=function(){};pe.useDeferredValue=function(t){return rn.current.useDeferredValue(t)};pe.useEffect=function(t,e){return rn.current.useEffect(t,e)};pe.useId=function(){return rn.current.useId()};pe.useImperativeHandle=function(t,e,n){return rn.current.useImperativeHandle(t,e,n)};pe.useInsertionEffect=function(t,e){return rn.current.useInsertionEffect(t,e)};pe.useLayoutEffect=function(t,e){return rn.current.useLayoutEffect(t,e)};pe.useMemo=function(t,e){return rn.current.useMemo(t,e)};pe.useReducer=function(t,e,n){return rn.current.useReducer(t,e,n)};pe.useRef=function(t){return rn.current.useRef(t)};pe.useState=function(t){return rn.current.useState(t)};pe.useSyncExternalStore=function(t,e,n){return rn.current.useSyncExternalStore(t,e,n)};pe.useTransition=function(){return rn.current.useTransition()};pe.version="18.2.0";IT.exports=pe;var S=IT.exports;const fe=TT(S),Dl=LN({__proto__:null,default:fe},[S]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JN=S,ZN=Symbol.for("react.element"),eD=Symbol.for("react.fragment"),tD=Object.prototype.hasOwnProperty,nD=JN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,rD={key:!0,ref:!0,__self:!0,__source:!0};function DT(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)tD.call(e,r)&&!rD.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:ZN,type:t,key:s,ref:o,props:i,_owner:nD.current}}kf.Fragment=eD;kf.jsx=DT;kf.jsxs=DT;bT.exports=kf;var f=bT.exports,Om={},OT={exports:{}},Pn={},jT={exports:{}},LT={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(K,ne){var $=K.length;K.push(ne);e:for(;0<$;){var Te=$-1>>>1,Ee=K[Te];if(0<i(Ee,ne))K[Te]=ne,K[$]=Ee,$=Te;else break e}}function n(K){return K.length===0?null:K[0]}function r(K){if(K.length===0)return null;var ne=K[0],$=K.pop();if($!==ne){K[0]=$;e:for(var Te=0,Ee=K.length,Nn=Ee>>>1;Te<Nn;){var Ze=2*(Te+1)-1,N=K[Ze],Dn=Ze+1,Xn=K[Dn];if(0>i(N,$))Dn<Ee&&0>i(Xn,N)?(K[Te]=Xn,K[Dn]=$,Te=Dn):(K[Te]=N,K[Ze]=$,Te=Ze);else if(Dn<Ee&&0>i(Xn,$))K[Te]=Xn,K[Dn]=$,Te=Dn;else break e}}return ne}function i(K,ne){var $=K.sortIndex-ne.sortIndex;return $!==0?$:K.id-ne.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,h=null,m=3,w=!1,_=!1,x=!1,T=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(K){for(var ne=n(u);ne!==null;){if(ne.callback===null)r(u);else if(ne.startTime<=K)r(u),ne.sortIndex=ne.expirationTime,e(l,ne);else break;ne=n(u)}}function C(K){if(x=!1,b(K),!_)if(n(l)!==null)_=!0,mt(R);else{var ne=n(u);ne!==null&&$e(C,ne.startTime-K)}}function R(K,ne){_=!1,x&&(x=!1,E(F),F=-1),w=!0;var $=m;try{for(b(ne),h=n(l);h!==null&&(!(h.expirationTime>ne)||K&&!Me());){var Te=h.callback;if(typeof Te=="function"){h.callback=null,m=h.priorityLevel;var Ee=Te(h.expirationTime<=ne);ne=t.unstable_now(),typeof Ee=="function"?h.callback=Ee:h===n(l)&&r(l),b(ne)}else r(l);h=n(l)}if(h!==null)var Nn=!0;else{var Ze=n(u);Ze!==null&&$e(C,Ze.startTime-ne),Nn=!1}return Nn}finally{h=null,m=$,w=!1}}var O=!1,L=null,F=-1,z=5,q=-1;function Me(){return!(t.unstable_now()-q<z)}function ie(){if(L!==null){var K=t.unstable_now();q=K;var ne=!0;try{ne=L(!0,K)}finally{ne?ce():(O=!1,L=null)}}else O=!1}var ce;if(typeof v=="function")ce=function(){v(ie)};else if(typeof MessageChannel<"u"){var ve=new MessageChannel,Ue=ve.port2;ve.port1.onmessage=ie,ce=function(){Ue.postMessage(null)}}else ce=function(){T(ie,0)};function mt(K){L=K,O||(O=!0,ce())}function $e(K,ne){F=T(function(){K(t.unstable_now())},ne)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(K){K.callback=null},t.unstable_continueExecution=function(){_||w||(_=!0,mt(R))},t.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<K?Math.floor(1e3/K):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(K){switch(m){case 1:case 2:case 3:var ne=3;break;default:ne=m}var $=m;m=ne;try{return K()}finally{m=$}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(K,ne){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var $=m;m=K;try{return ne()}finally{m=$}},t.unstable_scheduleCallback=function(K,ne,$){var Te=t.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?Te+$:Te):$=Te,K){case 1:var Ee=-1;break;case 2:Ee=250;break;case 5:Ee=1073741823;break;case 4:Ee=1e4;break;default:Ee=5e3}return Ee=$+Ee,K={id:c++,callback:ne,priorityLevel:K,startTime:$,expirationTime:Ee,sortIndex:-1},$>Te?(K.sortIndex=$,e(u,K),n(l)===null&&K===n(u)&&(x?(E(F),F=-1):x=!0,$e(C,$-Te))):(K.sortIndex=Ee,e(l,K),_||w||(_=!0,mt(R))),K},t.unstable_shouldYield=Me,t.unstable_wrapCallback=function(K){var ne=m;return function(){var $=m;m=ne;try{return K.apply(this,arguments)}finally{m=$}}}})(LT);jT.exports=LT;var iD=jT.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MT=S,Sn=iD;function U(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var VT=new Set,Ol={};function to(t,e){Jo(t,e),Jo(t+"Capture",e)}function Jo(t,e){for(Ol[t]=e,t=0;t<e.length;t++)VT.add(e[t])}var Xr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),jm=Object.prototype.hasOwnProperty,sD=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,k_={},N_={};function oD(t){return jm.call(N_,t)?!0:jm.call(k_,t)?!1:sD.test(t)?N_[t]=!0:(k_[t]=!0,!1)}function aD(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function lD(t,e,n,r){if(e===null||typeof e>"u"||aD(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function sn(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var jt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){jt[t]=new sn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];jt[e]=new sn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){jt[t]=new sn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){jt[t]=new sn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){jt[t]=new sn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){jt[t]=new sn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){jt[t]=new sn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){jt[t]=new sn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){jt[t]=new sn(t,5,!1,t.toLowerCase(),null,!1,!1)});var Ly=/[\-:]([a-z])/g;function My(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Ly,My);jt[e]=new sn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Ly,My);jt[e]=new sn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Ly,My);jt[e]=new sn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){jt[t]=new sn(t,1,!1,t.toLowerCase(),null,!1,!1)});jt.xlinkHref=new sn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){jt[t]=new sn(t,1,!1,t.toLowerCase(),null,!0,!0)});function Vy(t,e,n,r){var i=jt.hasOwnProperty(e)?jt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(lD(e,n,i,r)&&(n=null),r||i===null?oD(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ai=MT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,fc=Symbol.for("react.element"),Co=Symbol.for("react.portal"),Ao=Symbol.for("react.fragment"),Fy=Symbol.for("react.strict_mode"),Lm=Symbol.for("react.profiler"),FT=Symbol.for("react.provider"),UT=Symbol.for("react.context"),Uy=Symbol.for("react.forward_ref"),Mm=Symbol.for("react.suspense"),Vm=Symbol.for("react.suspense_list"),$y=Symbol.for("react.memo"),xi=Symbol.for("react.lazy"),$T=Symbol.for("react.offscreen"),D_=Symbol.iterator;function Ba(t){return t===null||typeof t!="object"?null:(t=D_&&t[D_]||t["@@iterator"],typeof t=="function"?t:null)}var qe=Object.assign,yp;function rl(t){if(yp===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);yp=e&&e[1]||""}return`
`+yp+t}var vp=!1;function wp(t,e){if(!t||vp)return"";vp=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{vp=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?rl(t):""}function uD(t){switch(t.tag){case 5:return rl(t.type);case 16:return rl("Lazy");case 13:return rl("Suspense");case 19:return rl("SuspenseList");case 0:case 2:case 15:return t=wp(t.type,!1),t;case 11:return t=wp(t.type.render,!1),t;case 1:return t=wp(t.type,!0),t;default:return""}}function Fm(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ao:return"Fragment";case Co:return"Portal";case Lm:return"Profiler";case Fy:return"StrictMode";case Mm:return"Suspense";case Vm:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case UT:return(t.displayName||"Context")+".Consumer";case FT:return(t._context.displayName||"Context")+".Provider";case Uy:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case $y:return e=t.displayName||null,e!==null?e:Fm(t.type)||"Memo";case xi:e=t._payload,t=t._init;try{return Fm(t(e))}catch{}}return null}function cD(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Fm(e);case 8:return e===Fy?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ji(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function BT(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function dD(t){var e=BT(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function hc(t){t._valueTracker||(t._valueTracker=dD(t))}function zT(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=BT(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function vd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Um(t,e){var n=e.checked;return qe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function O_(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ji(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function HT(t,e){e=e.checked,e!=null&&Vy(t,"checked",e,!1)}function $m(t,e){HT(t,e);var n=Ji(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Bm(t,e.type,n):e.hasOwnProperty("defaultValue")&&Bm(t,e.type,Ji(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function j_(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Bm(t,e,n){(e!=="number"||vd(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var il=Array.isArray;function $o(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ji(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function zm(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(U(91));return qe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function L_(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(U(92));if(il(n)){if(1<n.length)throw Error(U(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ji(n)}}function qT(t,e){var n=Ji(e.value),r=Ji(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function M_(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function WT(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Hm(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?WT(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var pc,KT=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(pc=pc||document.createElement("div"),pc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=pc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function jl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ml={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fD=["Webkit","ms","Moz","O"];Object.keys(ml).forEach(function(t){fD.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ml[e]=ml[t]})});function GT(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ml.hasOwnProperty(t)&&ml[t]?(""+e).trim():e+"px"}function QT(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=GT(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var hD=qe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function qm(t,e){if(e){if(hD[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(U(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(U(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(U(61))}if(e.style!=null&&typeof e.style!="object")throw Error(U(62))}}function Wm(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Km=null;function By(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Gm=null,Bo=null,zo=null;function V_(t){if(t=Iu(t)){if(typeof Gm!="function")throw Error(U(280));var e=t.stateNode;e&&(e=Lf(e),Gm(t.stateNode,t.type,e))}}function YT(t){Bo?zo?zo.push(t):zo=[t]:Bo=t}function XT(){if(Bo){var t=Bo,e=zo;if(zo=Bo=null,V_(t),e)for(t=0;t<e.length;t++)V_(e[t])}}function JT(t,e){return t(e)}function ZT(){}var _p=!1;function eb(t,e,n){if(_p)return t(e,n);_p=!0;try{return JT(t,e,n)}finally{_p=!1,(Bo!==null||zo!==null)&&(ZT(),XT())}}function Ll(t,e){var n=t.stateNode;if(n===null)return null;var r=Lf(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(U(231,e,typeof n));return n}var Qm=!1;if(Xr)try{var za={};Object.defineProperty(za,"passive",{get:function(){Qm=!0}}),window.addEventListener("test",za,za),window.removeEventListener("test",za,za)}catch{Qm=!1}function pD(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var gl=!1,wd=null,_d=!1,Ym=null,mD={onError:function(t){gl=!0,wd=t}};function gD(t,e,n,r,i,s,o,a,l){gl=!1,wd=null,pD.apply(mD,arguments)}function yD(t,e,n,r,i,s,o,a,l){if(gD.apply(this,arguments),gl){if(gl){var u=wd;gl=!1,wd=null}else throw Error(U(198));_d||(_d=!0,Ym=u)}}function no(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function tb(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function F_(t){if(no(t)!==t)throw Error(U(188))}function vD(t){var e=t.alternate;if(!e){if(e=no(t),e===null)throw Error(U(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return F_(i),t;if(s===r)return F_(i),e;s=s.sibling}throw Error(U(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(U(189))}}if(n.alternate!==r)throw Error(U(190))}if(n.tag!==3)throw Error(U(188));return n.stateNode.current===n?t:e}function nb(t){return t=vD(t),t!==null?rb(t):null}function rb(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=rb(t);if(e!==null)return e;t=t.sibling}return null}var ib=Sn.unstable_scheduleCallback,U_=Sn.unstable_cancelCallback,wD=Sn.unstable_shouldYield,_D=Sn.unstable_requestPaint,rt=Sn.unstable_now,ED=Sn.unstable_getCurrentPriorityLevel,zy=Sn.unstable_ImmediatePriority,sb=Sn.unstable_UserBlockingPriority,Ed=Sn.unstable_NormalPriority,xD=Sn.unstable_LowPriority,ob=Sn.unstable_IdlePriority,Nf=null,Sr=null;function TD(t){if(Sr&&typeof Sr.onCommitFiberRoot=="function")try{Sr.onCommitFiberRoot(Nf,t,void 0,(t.current.flags&128)===128)}catch{}}var or=Math.clz32?Math.clz32:SD,bD=Math.log,ID=Math.LN2;function SD(t){return t>>>=0,t===0?32:31-(bD(t)/ID|0)|0}var mc=64,gc=4194304;function sl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function xd(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=sl(a):(s&=o,s!==0&&(r=sl(s)))}else o=n&~i,o!==0?r=sl(o):s!==0&&(r=sl(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-or(e),i=1<<n,r|=t[n],e&=~i;return r}function CD(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function AD(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-or(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=CD(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Xm(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function ab(){var t=mc;return mc<<=1,!(mc&4194240)&&(mc=64),t}function Ep(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Tu(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-or(e),t[e]=n}function RD(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-or(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Hy(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-or(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Se=0;function lb(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var ub,qy,cb,db,fb,Jm=!1,yc=[],Mi=null,Vi=null,Fi=null,Ml=new Map,Vl=new Map,bi=[],PD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function $_(t,e){switch(t){case"focusin":case"focusout":Mi=null;break;case"dragenter":case"dragleave":Vi=null;break;case"mouseover":case"mouseout":Fi=null;break;case"pointerover":case"pointerout":Ml.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vl.delete(e.pointerId)}}function Ha(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Iu(e),e!==null&&qy(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function kD(t,e,n,r,i){switch(e){case"focusin":return Mi=Ha(Mi,t,e,n,r,i),!0;case"dragenter":return Vi=Ha(Vi,t,e,n,r,i),!0;case"mouseover":return Fi=Ha(Fi,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Ml.set(s,Ha(Ml.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Vl.set(s,Ha(Vl.get(s)||null,t,e,n,r,i)),!0}return!1}function hb(t){var e=bs(t.target);if(e!==null){var n=no(e);if(n!==null){if(e=n.tag,e===13){if(e=tb(n),e!==null){t.blockedOn=e,fb(t.priority,function(){cb(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Gc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Zm(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Km=r,n.target.dispatchEvent(r),Km=null}else return e=Iu(n),e!==null&&qy(e),t.blockedOn=n,!1;e.shift()}return!0}function B_(t,e,n){Gc(t)&&n.delete(e)}function ND(){Jm=!1,Mi!==null&&Gc(Mi)&&(Mi=null),Vi!==null&&Gc(Vi)&&(Vi=null),Fi!==null&&Gc(Fi)&&(Fi=null),Ml.forEach(B_),Vl.forEach(B_)}function qa(t,e){t.blockedOn===e&&(t.blockedOn=null,Jm||(Jm=!0,Sn.unstable_scheduleCallback(Sn.unstable_NormalPriority,ND)))}function Fl(t){function e(i){return qa(i,t)}if(0<yc.length){qa(yc[0],t);for(var n=1;n<yc.length;n++){var r=yc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Mi!==null&&qa(Mi,t),Vi!==null&&qa(Vi,t),Fi!==null&&qa(Fi,t),Ml.forEach(e),Vl.forEach(e),n=0;n<bi.length;n++)r=bi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<bi.length&&(n=bi[0],n.blockedOn===null);)hb(n),n.blockedOn===null&&bi.shift()}var Ho=ai.ReactCurrentBatchConfig,Td=!0;function DD(t,e,n,r){var i=Se,s=Ho.transition;Ho.transition=null;try{Se=1,Wy(t,e,n,r)}finally{Se=i,Ho.transition=s}}function OD(t,e,n,r){var i=Se,s=Ho.transition;Ho.transition=null;try{Se=4,Wy(t,e,n,r)}finally{Se=i,Ho.transition=s}}function Wy(t,e,n,r){if(Td){var i=Zm(t,e,n,r);if(i===null)kp(t,e,r,bd,n),$_(t,r);else if(kD(i,t,e,n,r))r.stopPropagation();else if($_(t,r),e&4&&-1<PD.indexOf(t)){for(;i!==null;){var s=Iu(i);if(s!==null&&ub(s),s=Zm(t,e,n,r),s===null&&kp(t,e,r,bd,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else kp(t,e,r,null,n)}}var bd=null;function Zm(t,e,n,r){if(bd=null,t=By(r),t=bs(t),t!==null)if(e=no(t),e===null)t=null;else if(n=e.tag,n===13){if(t=tb(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return bd=t,null}function pb(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ED()){case zy:return 1;case sb:return 4;case Ed:case xD:return 16;case ob:return 536870912;default:return 16}default:return 16}}var Pi=null,Ky=null,Qc=null;function mb(){if(Qc)return Qc;var t,e=Ky,n=e.length,r,i="value"in Pi?Pi.value:Pi.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Qc=i.slice(t,1<r?1-r:void 0)}function Yc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function vc(){return!0}function z_(){return!1}function kn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?vc:z_,this.isPropagationStopped=z_,this}return qe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=vc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=vc)},persist:function(){},isPersistent:vc}),e}var wa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gy=kn(wa),bu=qe({},wa,{view:0,detail:0}),jD=kn(bu),xp,Tp,Wa,Df=qe({},bu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qy,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Wa&&(Wa&&t.type==="mousemove"?(xp=t.screenX-Wa.screenX,Tp=t.screenY-Wa.screenY):Tp=xp=0,Wa=t),xp)},movementY:function(t){return"movementY"in t?t.movementY:Tp}}),H_=kn(Df),LD=qe({},Df,{dataTransfer:0}),MD=kn(LD),VD=qe({},bu,{relatedTarget:0}),bp=kn(VD),FD=qe({},wa,{animationName:0,elapsedTime:0,pseudoElement:0}),UD=kn(FD),$D=qe({},wa,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),BD=kn($D),zD=qe({},wa,{data:0}),q_=kn(zD),HD={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qD={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},WD={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function KD(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=WD[t])?!!e[t]:!1}function Qy(){return KD}var GD=qe({},bu,{key:function(t){if(t.key){var e=HD[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Yc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?qD[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qy,charCode:function(t){return t.type==="keypress"?Yc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Yc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),QD=kn(GD),YD=qe({},Df,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),W_=kn(YD),XD=qe({},bu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qy}),JD=kn(XD),ZD=qe({},wa,{propertyName:0,elapsedTime:0,pseudoElement:0}),eO=kn(ZD),tO=qe({},Df,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),nO=kn(tO),rO=[9,13,27,32],Yy=Xr&&"CompositionEvent"in window,yl=null;Xr&&"documentMode"in document&&(yl=document.documentMode);var iO=Xr&&"TextEvent"in window&&!yl,gb=Xr&&(!Yy||yl&&8<yl&&11>=yl),K_=String.fromCharCode(32),G_=!1;function yb(t,e){switch(t){case"keyup":return rO.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function vb(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ro=!1;function sO(t,e){switch(t){case"compositionend":return vb(e);case"keypress":return e.which!==32?null:(G_=!0,K_);case"textInput":return t=e.data,t===K_&&G_?null:t;default:return null}}function oO(t,e){if(Ro)return t==="compositionend"||!Yy&&yb(t,e)?(t=mb(),Qc=Ky=Pi=null,Ro=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return gb&&e.locale!=="ko"?null:e.data;default:return null}}var aO={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Q_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!aO[t.type]:e==="textarea"}function wb(t,e,n,r){YT(r),e=Id(e,"onChange"),0<e.length&&(n=new Gy("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var vl=null,Ul=null;function lO(t){Pb(t,0)}function Of(t){var e=No(t);if(zT(e))return t}function uO(t,e){if(t==="change")return e}var _b=!1;if(Xr){var Ip;if(Xr){var Sp="oninput"in document;if(!Sp){var Y_=document.createElement("div");Y_.setAttribute("oninput","return;"),Sp=typeof Y_.oninput=="function"}Ip=Sp}else Ip=!1;_b=Ip&&(!document.documentMode||9<document.documentMode)}function X_(){vl&&(vl.detachEvent("onpropertychange",Eb),Ul=vl=null)}function Eb(t){if(t.propertyName==="value"&&Of(Ul)){var e=[];wb(e,Ul,t,By(t)),eb(lO,e)}}function cO(t,e,n){t==="focusin"?(X_(),vl=e,Ul=n,vl.attachEvent("onpropertychange",Eb)):t==="focusout"&&X_()}function dO(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Of(Ul)}function fO(t,e){if(t==="click")return Of(e)}function hO(t,e){if(t==="input"||t==="change")return Of(e)}function pO(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ur=typeof Object.is=="function"?Object.is:pO;function $l(t,e){if(ur(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!jm.call(e,i)||!ur(t[i],e[i]))return!1}return!0}function J_(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Z_(t,e){var n=J_(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=J_(n)}}function xb(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?xb(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Tb(){for(var t=window,e=vd();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=vd(t.document)}return e}function Xy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function mO(t){var e=Tb(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&xb(n.ownerDocument.documentElement,n)){if(r!==null&&Xy(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=Z_(n,s);var o=Z_(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var gO=Xr&&"documentMode"in document&&11>=document.documentMode,Po=null,eg=null,wl=null,tg=!1;function e1(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;tg||Po==null||Po!==vd(r)||(r=Po,"selectionStart"in r&&Xy(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),wl&&$l(wl,r)||(wl=r,r=Id(eg,"onSelect"),0<r.length&&(e=new Gy("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Po)))}function wc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ko={animationend:wc("Animation","AnimationEnd"),animationiteration:wc("Animation","AnimationIteration"),animationstart:wc("Animation","AnimationStart"),transitionend:wc("Transition","TransitionEnd")},Cp={},bb={};Xr&&(bb=document.createElement("div").style,"AnimationEvent"in window||(delete ko.animationend.animation,delete ko.animationiteration.animation,delete ko.animationstart.animation),"TransitionEvent"in window||delete ko.transitionend.transition);function jf(t){if(Cp[t])return Cp[t];if(!ko[t])return t;var e=ko[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in bb)return Cp[t]=e[n];return t}var Ib=jf("animationend"),Sb=jf("animationiteration"),Cb=jf("animationstart"),Ab=jf("transitionend"),Rb=new Map,t1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ss(t,e){Rb.set(t,e),to(e,[t])}for(var Ap=0;Ap<t1.length;Ap++){var Rp=t1[Ap],yO=Rp.toLowerCase(),vO=Rp[0].toUpperCase()+Rp.slice(1);ss(yO,"on"+vO)}ss(Ib,"onAnimationEnd");ss(Sb,"onAnimationIteration");ss(Cb,"onAnimationStart");ss("dblclick","onDoubleClick");ss("focusin","onFocus");ss("focusout","onBlur");ss(Ab,"onTransitionEnd");Jo("onMouseEnter",["mouseout","mouseover"]);Jo("onMouseLeave",["mouseout","mouseover"]);Jo("onPointerEnter",["pointerout","pointerover"]);Jo("onPointerLeave",["pointerout","pointerover"]);to("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));to("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));to("onBeforeInput",["compositionend","keypress","textInput","paste"]);to("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));to("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));to("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ol="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wO=new Set("cancel close invalid load scroll toggle".split(" ").concat(ol));function n1(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,yD(r,e,void 0,t),t.currentTarget=null}function Pb(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;n1(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;n1(i,a,u),s=l}}}if(_d)throw t=Ym,_d=!1,Ym=null,t}function Oe(t,e){var n=e[og];n===void 0&&(n=e[og]=new Set);var r=t+"__bubble";n.has(r)||(kb(e,t,2,!1),n.add(r))}function Pp(t,e,n){var r=0;e&&(r|=4),kb(n,t,r,e)}var _c="_reactListening"+Math.random().toString(36).slice(2);function Bl(t){if(!t[_c]){t[_c]=!0,VT.forEach(function(n){n!=="selectionchange"&&(wO.has(n)||Pp(n,!1,t),Pp(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[_c]||(e[_c]=!0,Pp("selectionchange",!1,e))}}function kb(t,e,n,r){switch(pb(e)){case 1:var i=DD;break;case 4:i=OD;break;default:i=Wy}n=i.bind(null,e,n,t),i=void 0,!Qm||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function kp(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=bs(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}eb(function(){var u=s,c=By(n),h=[];e:{var m=Rb.get(t);if(m!==void 0){var w=Gy,_=t;switch(t){case"keypress":if(Yc(n)===0)break e;case"keydown":case"keyup":w=QD;break;case"focusin":_="focus",w=bp;break;case"focusout":_="blur",w=bp;break;case"beforeblur":case"afterblur":w=bp;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":w=H_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":w=MD;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":w=JD;break;case Ib:case Sb:case Cb:w=UD;break;case Ab:w=eO;break;case"scroll":w=jD;break;case"wheel":w=nO;break;case"copy":case"cut":case"paste":w=BD;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":w=W_}var x=(e&4)!==0,T=!x&&t==="scroll",E=x?m!==null?m+"Capture":null:m;x=[];for(var v=u,b;v!==null;){b=v;var C=b.stateNode;if(b.tag===5&&C!==null&&(b=C,E!==null&&(C=Ll(v,E),C!=null&&x.push(zl(v,C,b)))),T)break;v=v.return}0<x.length&&(m=new w(m,_,null,n,c),h.push({event:m,listeners:x}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",w=t==="mouseout"||t==="pointerout",m&&n!==Km&&(_=n.relatedTarget||n.fromElement)&&(bs(_)||_[Jr]))break e;if((w||m)&&(m=c.window===c?c:(m=c.ownerDocument)?m.defaultView||m.parentWindow:window,w?(_=n.relatedTarget||n.toElement,w=u,_=_?bs(_):null,_!==null&&(T=no(_),_!==T||_.tag!==5&&_.tag!==6)&&(_=null)):(w=null,_=u),w!==_)){if(x=H_,C="onMouseLeave",E="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(x=W_,C="onPointerLeave",E="onPointerEnter",v="pointer"),T=w==null?m:No(w),b=_==null?m:No(_),m=new x(C,v+"leave",w,n,c),m.target=T,m.relatedTarget=b,C=null,bs(c)===u&&(x=new x(E,v+"enter",_,n,c),x.target=b,x.relatedTarget=T,C=x),T=C,w&&_)t:{for(x=w,E=_,v=0,b=x;b;b=Eo(b))v++;for(b=0,C=E;C;C=Eo(C))b++;for(;0<v-b;)x=Eo(x),v--;for(;0<b-v;)E=Eo(E),b--;for(;v--;){if(x===E||E!==null&&x===E.alternate)break t;x=Eo(x),E=Eo(E)}x=null}else x=null;w!==null&&r1(h,m,w,x,!1),_!==null&&T!==null&&r1(h,T,_,x,!0)}}e:{if(m=u?No(u):window,w=m.nodeName&&m.nodeName.toLowerCase(),w==="select"||w==="input"&&m.type==="file")var R=uO;else if(Q_(m))if(_b)R=hO;else{R=dO;var O=cO}else(w=m.nodeName)&&w.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(R=fO);if(R&&(R=R(t,u))){wb(h,R,n,c);break e}O&&O(t,m,u),t==="focusout"&&(O=m._wrapperState)&&O.controlled&&m.type==="number"&&Bm(m,"number",m.value)}switch(O=u?No(u):window,t){case"focusin":(Q_(O)||O.contentEditable==="true")&&(Po=O,eg=u,wl=null);break;case"focusout":wl=eg=Po=null;break;case"mousedown":tg=!0;break;case"contextmenu":case"mouseup":case"dragend":tg=!1,e1(h,n,c);break;case"selectionchange":if(gO)break;case"keydown":case"keyup":e1(h,n,c)}var L;if(Yy)e:{switch(t){case"compositionstart":var F="onCompositionStart";break e;case"compositionend":F="onCompositionEnd";break e;case"compositionupdate":F="onCompositionUpdate";break e}F=void 0}else Ro?yb(t,n)&&(F="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(F="onCompositionStart");F&&(gb&&n.locale!=="ko"&&(Ro||F!=="onCompositionStart"?F==="onCompositionEnd"&&Ro&&(L=mb()):(Pi=c,Ky="value"in Pi?Pi.value:Pi.textContent,Ro=!0)),O=Id(u,F),0<O.length&&(F=new q_(F,t,null,n,c),h.push({event:F,listeners:O}),L?F.data=L:(L=vb(n),L!==null&&(F.data=L)))),(L=iO?sO(t,n):oO(t,n))&&(u=Id(u,"onBeforeInput"),0<u.length&&(c=new q_("onBeforeInput","beforeinput",null,n,c),h.push({event:c,listeners:u}),c.data=L))}Pb(h,e)})}function zl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Id(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Ll(t,n),s!=null&&r.unshift(zl(t,s,i)),s=Ll(t,e),s!=null&&r.push(zl(t,s,i))),t=t.return}return r}function Eo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function r1(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Ll(n,s),l!=null&&o.unshift(zl(n,l,a))):i||(l=Ll(n,s),l!=null&&o.push(zl(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var _O=/\r\n?/g,EO=/\u0000|\uFFFD/g;function i1(t){return(typeof t=="string"?t:""+t).replace(_O,`
`).replace(EO,"")}function Ec(t,e,n){if(e=i1(e),i1(t)!==e&&n)throw Error(U(425))}function Sd(){}var ng=null,rg=null;function ig(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var sg=typeof setTimeout=="function"?setTimeout:void 0,xO=typeof clearTimeout=="function"?clearTimeout:void 0,s1=typeof Promise=="function"?Promise:void 0,TO=typeof queueMicrotask=="function"?queueMicrotask:typeof s1<"u"?function(t){return s1.resolve(null).then(t).catch(bO)}:sg;function bO(t){setTimeout(function(){throw t})}function Np(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Fl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Fl(e)}function Ui(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function o1(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var _a=Math.random().toString(36).slice(2),vr="__reactFiber$"+_a,Hl="__reactProps$"+_a,Jr="__reactContainer$"+_a,og="__reactEvents$"+_a,IO="__reactListeners$"+_a,SO="__reactHandles$"+_a;function bs(t){var e=t[vr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Jr]||n[vr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=o1(t);t!==null;){if(n=t[vr])return n;t=o1(t)}return e}t=n,n=t.parentNode}return null}function Iu(t){return t=t[vr]||t[Jr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function No(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(U(33))}function Lf(t){return t[Hl]||null}var ag=[],Do=-1;function os(t){return{current:t}}function Le(t){0>Do||(t.current=ag[Do],ag[Do]=null,Do--)}function Pe(t,e){Do++,ag[Do]=t.current,t.current=e}var Zi={},Kt=os(Zi),un=os(!1),Fs=Zi;function Zo(t,e){var n=t.type.contextTypes;if(!n)return Zi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function cn(t){return t=t.childContextTypes,t!=null}function Cd(){Le(un),Le(Kt)}function a1(t,e,n){if(Kt.current!==Zi)throw Error(U(168));Pe(Kt,e),Pe(un,n)}function Nb(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(U(108,cD(t)||"Unknown",i));return qe({},n,r)}function Ad(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Zi,Fs=Kt.current,Pe(Kt,t),Pe(un,un.current),!0}function l1(t,e,n){var r=t.stateNode;if(!r)throw Error(U(169));n?(t=Nb(t,e,Fs),r.__reactInternalMemoizedMergedChildContext=t,Le(un),Le(Kt),Pe(Kt,t)):Le(un),Pe(un,n)}var Ur=null,Mf=!1,Dp=!1;function Db(t){Ur===null?Ur=[t]:Ur.push(t)}function CO(t){Mf=!0,Db(t)}function as(){if(!Dp&&Ur!==null){Dp=!0;var t=0,e=Se;try{var n=Ur;for(Se=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Ur=null,Mf=!1}catch(i){throw Ur!==null&&(Ur=Ur.slice(t+1)),ib(zy,as),i}finally{Se=e,Dp=!1}}return null}var Oo=[],jo=0,Rd=null,Pd=0,Mn=[],Vn=0,Us=null,zr=1,Hr="";function _s(t,e){Oo[jo++]=Pd,Oo[jo++]=Rd,Rd=t,Pd=e}function Ob(t,e,n){Mn[Vn++]=zr,Mn[Vn++]=Hr,Mn[Vn++]=Us,Us=t;var r=zr;t=Hr;var i=32-or(r)-1;r&=~(1<<i),n+=1;var s=32-or(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,zr=1<<32-or(e)+i|n<<i|r,Hr=s+t}else zr=1<<s|n<<i|r,Hr=t}function Jy(t){t.return!==null&&(_s(t,1),Ob(t,1,0))}function Zy(t){for(;t===Rd;)Rd=Oo[--jo],Oo[jo]=null,Pd=Oo[--jo],Oo[jo]=null;for(;t===Us;)Us=Mn[--Vn],Mn[Vn]=null,Hr=Mn[--Vn],Mn[Vn]=null,zr=Mn[--Vn],Mn[Vn]=null}var Tn=null,vn=null,Fe=!1,nr=null;function jb(t,e){var n=Un(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function u1(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Tn=t,vn=Ui(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Tn=t,vn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Us!==null?{id:zr,overflow:Hr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Un(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Tn=t,vn=null,!0):!1;default:return!1}}function lg(t){return(t.mode&1)!==0&&(t.flags&128)===0}function ug(t){if(Fe){var e=vn;if(e){var n=e;if(!u1(t,e)){if(lg(t))throw Error(U(418));e=Ui(n.nextSibling);var r=Tn;e&&u1(t,e)?jb(r,n):(t.flags=t.flags&-4097|2,Fe=!1,Tn=t)}}else{if(lg(t))throw Error(U(418));t.flags=t.flags&-4097|2,Fe=!1,Tn=t}}}function c1(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Tn=t}function xc(t){if(t!==Tn)return!1;if(!Fe)return c1(t),Fe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!ig(t.type,t.memoizedProps)),e&&(e=vn)){if(lg(t))throw Lb(),Error(U(418));for(;e;)jb(t,e),e=Ui(e.nextSibling)}if(c1(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(U(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){vn=Ui(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}vn=null}}else vn=Tn?Ui(t.stateNode.nextSibling):null;return!0}function Lb(){for(var t=vn;t;)t=Ui(t.nextSibling)}function ea(){vn=Tn=null,Fe=!1}function ev(t){nr===null?nr=[t]:nr.push(t)}var AO=ai.ReactCurrentBatchConfig;function er(t,e){if(t&&t.defaultProps){e=qe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var kd=os(null),Nd=null,Lo=null,tv=null;function nv(){tv=Lo=Nd=null}function rv(t){var e=kd.current;Le(kd),t._currentValue=e}function cg(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function qo(t,e){Nd=t,tv=Lo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ln=!0),t.firstContext=null)}function Hn(t){var e=t._currentValue;if(tv!==t)if(t={context:t,memoizedValue:e,next:null},Lo===null){if(Nd===null)throw Error(U(308));Lo=t,Nd.dependencies={lanes:0,firstContext:t}}else Lo=Lo.next=t;return e}var Is=null;function iv(t){Is===null?Is=[t]:Is.push(t)}function Mb(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,iv(e)):(n.next=i.next,i.next=n),e.interleaved=n,Zr(t,r)}function Zr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ti=!1;function sv(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Vb(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Gr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function $i(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,_e&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Zr(t,n)}return i=r.interleaved,i===null?(e.next=e,iv(r)):(e.next=i.next,i.next=e),r.interleaved=e,Zr(t,n)}function Xc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Hy(t,n)}}function d1(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Dd(t,e,n,r){var i=t.updateQueue;Ti=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,c=u=l=null,a=s;do{var m=a.lane,w=a.eventTime;if((r&m)===m){c!==null&&(c=c.next={eventTime:w,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var _=t,x=a;switch(m=e,w=n,x.tag){case 1:if(_=x.payload,typeof _=="function"){h=_.call(w,h,m);break e}h=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=x.payload,m=typeof _=="function"?_.call(w,h,m):_,m==null)break e;h=qe({},h,m);break e;case 2:Ti=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,m=i.effects,m===null?i.effects=[a]:m.push(a))}else w={eventTime:w,lane:m,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=w,l=h):c=c.next=w,o|=m;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;m=a,a=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(1);if(c===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Bs|=o,t.lanes=o,t.memoizedState=h}}function f1(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(U(191,i));i.call(r)}}}var Fb=new MT.Component().refs;function dg(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:qe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Vf={isMounted:function(t){return(t=t._reactInternals)?no(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=nn(),i=zi(t),s=Gr(r,i);s.payload=e,n!=null&&(s.callback=n),e=$i(t,s,i),e!==null&&(ar(e,t,i,r),Xc(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=nn(),i=zi(t),s=Gr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=$i(t,s,i),e!==null&&(ar(e,t,i,r),Xc(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=nn(),r=zi(t),i=Gr(n,r);i.tag=2,e!=null&&(i.callback=e),e=$i(t,i,r),e!==null&&(ar(e,t,r,n),Xc(e,t,r))}};function h1(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!$l(n,r)||!$l(i,s):!0}function Ub(t,e,n){var r=!1,i=Zi,s=e.contextType;return typeof s=="object"&&s!==null?s=Hn(s):(i=cn(e)?Fs:Kt.current,r=e.contextTypes,s=(r=r!=null)?Zo(t,i):Zi),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Vf,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function p1(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Vf.enqueueReplaceState(e,e.state,null)}function fg(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=Fb,sv(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Hn(s):(s=cn(e)?Fs:Kt.current,i.context=Zo(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(dg(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Vf.enqueueReplaceState(i,i.state,null),Dd(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Ka(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(U(309));var r=n.stateNode}if(!r)throw Error(U(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===Fb&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(U(284));if(!n._owner)throw Error(U(290,t))}return t}function Tc(t,e){throw t=Object.prototype.toString.call(e),Error(U(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function m1(t){var e=t._init;return e(t._payload)}function $b(t){function e(E,v){if(t){var b=E.deletions;b===null?(E.deletions=[v],E.flags|=16):b.push(v)}}function n(E,v){if(!t)return null;for(;v!==null;)e(E,v),v=v.sibling;return null}function r(E,v){for(E=new Map;v!==null;)v.key!==null?E.set(v.key,v):E.set(v.index,v),v=v.sibling;return E}function i(E,v){return E=Hi(E,v),E.index=0,E.sibling=null,E}function s(E,v,b){return E.index=b,t?(b=E.alternate,b!==null?(b=b.index,b<v?(E.flags|=2,v):b):(E.flags|=2,v)):(E.flags|=1048576,v)}function o(E){return t&&E.alternate===null&&(E.flags|=2),E}function a(E,v,b,C){return v===null||v.tag!==6?(v=Up(b,E.mode,C),v.return=E,v):(v=i(v,b),v.return=E,v)}function l(E,v,b,C){var R=b.type;return R===Ao?c(E,v,b.props.children,C,b.key):v!==null&&(v.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===xi&&m1(R)===v.type)?(C=i(v,b.props),C.ref=Ka(E,v,b),C.return=E,C):(C=rd(b.type,b.key,b.props,null,E.mode,C),C.ref=Ka(E,v,b),C.return=E,C)}function u(E,v,b,C){return v===null||v.tag!==4||v.stateNode.containerInfo!==b.containerInfo||v.stateNode.implementation!==b.implementation?(v=$p(b,E.mode,C),v.return=E,v):(v=i(v,b.children||[]),v.return=E,v)}function c(E,v,b,C,R){return v===null||v.tag!==7?(v=Os(b,E.mode,C,R),v.return=E,v):(v=i(v,b),v.return=E,v)}function h(E,v,b){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Up(""+v,E.mode,b),v.return=E,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case fc:return b=rd(v.type,v.key,v.props,null,E.mode,b),b.ref=Ka(E,null,v),b.return=E,b;case Co:return v=$p(v,E.mode,b),v.return=E,v;case xi:var C=v._init;return h(E,C(v._payload),b)}if(il(v)||Ba(v))return v=Os(v,E.mode,b,null),v.return=E,v;Tc(E,v)}return null}function m(E,v,b,C){var R=v!==null?v.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return R!==null?null:a(E,v,""+b,C);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case fc:return b.key===R?l(E,v,b,C):null;case Co:return b.key===R?u(E,v,b,C):null;case xi:return R=b._init,m(E,v,R(b._payload),C)}if(il(b)||Ba(b))return R!==null?null:c(E,v,b,C,null);Tc(E,b)}return null}function w(E,v,b,C,R){if(typeof C=="string"&&C!==""||typeof C=="number")return E=E.get(b)||null,a(v,E,""+C,R);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case fc:return E=E.get(C.key===null?b:C.key)||null,l(v,E,C,R);case Co:return E=E.get(C.key===null?b:C.key)||null,u(v,E,C,R);case xi:var O=C._init;return w(E,v,b,O(C._payload),R)}if(il(C)||Ba(C))return E=E.get(b)||null,c(v,E,C,R,null);Tc(v,C)}return null}function _(E,v,b,C){for(var R=null,O=null,L=v,F=v=0,z=null;L!==null&&F<b.length;F++){L.index>F?(z=L,L=null):z=L.sibling;var q=m(E,L,b[F],C);if(q===null){L===null&&(L=z);break}t&&L&&q.alternate===null&&e(E,L),v=s(q,v,F),O===null?R=q:O.sibling=q,O=q,L=z}if(F===b.length)return n(E,L),Fe&&_s(E,F),R;if(L===null){for(;F<b.length;F++)L=h(E,b[F],C),L!==null&&(v=s(L,v,F),O===null?R=L:O.sibling=L,O=L);return Fe&&_s(E,F),R}for(L=r(E,L);F<b.length;F++)z=w(L,E,F,b[F],C),z!==null&&(t&&z.alternate!==null&&L.delete(z.key===null?F:z.key),v=s(z,v,F),O===null?R=z:O.sibling=z,O=z);return t&&L.forEach(function(Me){return e(E,Me)}),Fe&&_s(E,F),R}function x(E,v,b,C){var R=Ba(b);if(typeof R!="function")throw Error(U(150));if(b=R.call(b),b==null)throw Error(U(151));for(var O=R=null,L=v,F=v=0,z=null,q=b.next();L!==null&&!q.done;F++,q=b.next()){L.index>F?(z=L,L=null):z=L.sibling;var Me=m(E,L,q.value,C);if(Me===null){L===null&&(L=z);break}t&&L&&Me.alternate===null&&e(E,L),v=s(Me,v,F),O===null?R=Me:O.sibling=Me,O=Me,L=z}if(q.done)return n(E,L),Fe&&_s(E,F),R;if(L===null){for(;!q.done;F++,q=b.next())q=h(E,q.value,C),q!==null&&(v=s(q,v,F),O===null?R=q:O.sibling=q,O=q);return Fe&&_s(E,F),R}for(L=r(E,L);!q.done;F++,q=b.next())q=w(L,E,F,q.value,C),q!==null&&(t&&q.alternate!==null&&L.delete(q.key===null?F:q.key),v=s(q,v,F),O===null?R=q:O.sibling=q,O=q);return t&&L.forEach(function(ie){return e(E,ie)}),Fe&&_s(E,F),R}function T(E,v,b,C){if(typeof b=="object"&&b!==null&&b.type===Ao&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case fc:e:{for(var R=b.key,O=v;O!==null;){if(O.key===R){if(R=b.type,R===Ao){if(O.tag===7){n(E,O.sibling),v=i(O,b.props.children),v.return=E,E=v;break e}}else if(O.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===xi&&m1(R)===O.type){n(E,O.sibling),v=i(O,b.props),v.ref=Ka(E,O,b),v.return=E,E=v;break e}n(E,O);break}else e(E,O);O=O.sibling}b.type===Ao?(v=Os(b.props.children,E.mode,C,b.key),v.return=E,E=v):(C=rd(b.type,b.key,b.props,null,E.mode,C),C.ref=Ka(E,v,b),C.return=E,E=C)}return o(E);case Co:e:{for(O=b.key;v!==null;){if(v.key===O)if(v.tag===4&&v.stateNode.containerInfo===b.containerInfo&&v.stateNode.implementation===b.implementation){n(E,v.sibling),v=i(v,b.children||[]),v.return=E,E=v;break e}else{n(E,v);break}else e(E,v);v=v.sibling}v=$p(b,E.mode,C),v.return=E,E=v}return o(E);case xi:return O=b._init,T(E,v,O(b._payload),C)}if(il(b))return _(E,v,b,C);if(Ba(b))return x(E,v,b,C);Tc(E,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,v!==null&&v.tag===6?(n(E,v.sibling),v=i(v,b),v.return=E,E=v):(n(E,v),v=Up(b,E.mode,C),v.return=E,E=v),o(E)):n(E,v)}return T}var ta=$b(!0),Bb=$b(!1),Su={},Cr=os(Su),ql=os(Su),Wl=os(Su);function Ss(t){if(t===Su)throw Error(U(174));return t}function ov(t,e){switch(Pe(Wl,e),Pe(ql,t),Pe(Cr,Su),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Hm(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Hm(e,t)}Le(Cr),Pe(Cr,e)}function na(){Le(Cr),Le(ql),Le(Wl)}function zb(t){Ss(Wl.current);var e=Ss(Cr.current),n=Hm(e,t.type);e!==n&&(Pe(ql,t),Pe(Cr,n))}function av(t){ql.current===t&&(Le(Cr),Le(ql))}var Be=os(0);function Od(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Op=[];function lv(){for(var t=0;t<Op.length;t++)Op[t]._workInProgressVersionPrimary=null;Op.length=0}var Jc=ai.ReactCurrentDispatcher,jp=ai.ReactCurrentBatchConfig,$s=0,ze=null,dt=null,wt=null,jd=!1,_l=!1,Kl=0,RO=0;function Vt(){throw Error(U(321))}function uv(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ur(t[n],e[n]))return!1;return!0}function cv(t,e,n,r,i,s){if($s=s,ze=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Jc.current=t===null||t.memoizedState===null?DO:OO,t=n(r,i),_l){s=0;do{if(_l=!1,Kl=0,25<=s)throw Error(U(301));s+=1,wt=dt=null,e.updateQueue=null,Jc.current=jO,t=n(r,i)}while(_l)}if(Jc.current=Ld,e=dt!==null&&dt.next!==null,$s=0,wt=dt=ze=null,jd=!1,e)throw Error(U(300));return t}function dv(){var t=Kl!==0;return Kl=0,t}function yr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wt===null?ze.memoizedState=wt=t:wt=wt.next=t,wt}function qn(){if(dt===null){var t=ze.alternate;t=t!==null?t.memoizedState:null}else t=dt.next;var e=wt===null?ze.memoizedState:wt.next;if(e!==null)wt=e,dt=t;else{if(t===null)throw Error(U(310));dt=t,t={memoizedState:dt.memoizedState,baseState:dt.baseState,baseQueue:dt.baseQueue,queue:dt.queue,next:null},wt===null?ze.memoizedState=wt=t:wt=wt.next=t}return wt}function Gl(t,e){return typeof e=="function"?e(t):e}function Lp(t){var e=qn(),n=e.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=t;var r=dt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if(($s&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,ze.lanes|=c,Bs|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,ur(r,e.memoizedState)||(ln=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,ze.lanes|=s,Bs|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Mp(t){var e=qn(),n=e.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);ur(s,e.memoizedState)||(ln=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function Hb(){}function qb(t,e){var n=ze,r=qn(),i=e(),s=!ur(r.memoizedState,i);if(s&&(r.memoizedState=i,ln=!0),r=r.queue,fv(Gb.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||wt!==null&&wt.memoizedState.tag&1){if(n.flags|=2048,Ql(9,Kb.bind(null,n,r,i,e),void 0,null),_t===null)throw Error(U(349));$s&30||Wb(n,e,i)}return i}function Wb(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ze.updateQueue,e===null?(e={lastEffect:null,stores:null},ze.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Kb(t,e,n,r){e.value=n,e.getSnapshot=r,Qb(e)&&Yb(t)}function Gb(t,e,n){return n(function(){Qb(e)&&Yb(t)})}function Qb(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ur(t,n)}catch{return!0}}function Yb(t){var e=Zr(t,1);e!==null&&ar(e,t,1,-1)}function g1(t){var e=yr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Gl,lastRenderedState:t},e.queue=t,t=t.dispatch=NO.bind(null,ze,t),[e.memoizedState,t]}function Ql(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ze.updateQueue,e===null?(e={lastEffect:null,stores:null},ze.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Xb(){return qn().memoizedState}function Zc(t,e,n,r){var i=yr();ze.flags|=t,i.memoizedState=Ql(1|e,n,void 0,r===void 0?null:r)}function Ff(t,e,n,r){var i=qn();r=r===void 0?null:r;var s=void 0;if(dt!==null){var o=dt.memoizedState;if(s=o.destroy,r!==null&&uv(r,o.deps)){i.memoizedState=Ql(e,n,s,r);return}}ze.flags|=t,i.memoizedState=Ql(1|e,n,s,r)}function y1(t,e){return Zc(8390656,8,t,e)}function fv(t,e){return Ff(2048,8,t,e)}function Jb(t,e){return Ff(4,2,t,e)}function Zb(t,e){return Ff(4,4,t,e)}function e2(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function t2(t,e,n){return n=n!=null?n.concat([t]):null,Ff(4,4,e2.bind(null,e,t),n)}function hv(){}function n2(t,e){var n=qn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&uv(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function r2(t,e){var n=qn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&uv(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function i2(t,e,n){return $s&21?(ur(n,e)||(n=ab(),ze.lanes|=n,Bs|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ln=!0),t.memoizedState=n)}function PO(t,e){var n=Se;Se=n!==0&&4>n?n:4,t(!0);var r=jp.transition;jp.transition={};try{t(!1),e()}finally{Se=n,jp.transition=r}}function s2(){return qn().memoizedState}function kO(t,e,n){var r=zi(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},o2(t))a2(e,n);else if(n=Mb(t,e,n,r),n!==null){var i=nn();ar(n,t,r,i),l2(n,e,r)}}function NO(t,e,n){var r=zi(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(o2(t))a2(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,ur(a,o)){var l=e.interleaved;l===null?(i.next=i,iv(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=Mb(t,e,i,r),n!==null&&(i=nn(),ar(n,t,r,i),l2(n,e,r))}}function o2(t){var e=t.alternate;return t===ze||e!==null&&e===ze}function a2(t,e){_l=jd=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function l2(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Hy(t,n)}}var Ld={readContext:Hn,useCallback:Vt,useContext:Vt,useEffect:Vt,useImperativeHandle:Vt,useInsertionEffect:Vt,useLayoutEffect:Vt,useMemo:Vt,useReducer:Vt,useRef:Vt,useState:Vt,useDebugValue:Vt,useDeferredValue:Vt,useTransition:Vt,useMutableSource:Vt,useSyncExternalStore:Vt,useId:Vt,unstable_isNewReconciler:!1},DO={readContext:Hn,useCallback:function(t,e){return yr().memoizedState=[t,e===void 0?null:e],t},useContext:Hn,useEffect:y1,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Zc(4194308,4,e2.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Zc(4194308,4,t,e)},useInsertionEffect:function(t,e){return Zc(4,2,t,e)},useMemo:function(t,e){var n=yr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=yr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=kO.bind(null,ze,t),[r.memoizedState,t]},useRef:function(t){var e=yr();return t={current:t},e.memoizedState=t},useState:g1,useDebugValue:hv,useDeferredValue:function(t){return yr().memoizedState=t},useTransition:function(){var t=g1(!1),e=t[0];return t=PO.bind(null,t[1]),yr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ze,i=yr();if(Fe){if(n===void 0)throw Error(U(407));n=n()}else{if(n=e(),_t===null)throw Error(U(349));$s&30||Wb(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,y1(Gb.bind(null,r,s,t),[t]),r.flags|=2048,Ql(9,Kb.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=yr(),e=_t.identifierPrefix;if(Fe){var n=Hr,r=zr;n=(r&~(1<<32-or(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Kl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=RO++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},OO={readContext:Hn,useCallback:n2,useContext:Hn,useEffect:fv,useImperativeHandle:t2,useInsertionEffect:Jb,useLayoutEffect:Zb,useMemo:r2,useReducer:Lp,useRef:Xb,useState:function(){return Lp(Gl)},useDebugValue:hv,useDeferredValue:function(t){var e=qn();return i2(e,dt.memoizedState,t)},useTransition:function(){var t=Lp(Gl)[0],e=qn().memoizedState;return[t,e]},useMutableSource:Hb,useSyncExternalStore:qb,useId:s2,unstable_isNewReconciler:!1},jO={readContext:Hn,useCallback:n2,useContext:Hn,useEffect:fv,useImperativeHandle:t2,useInsertionEffect:Jb,useLayoutEffect:Zb,useMemo:r2,useReducer:Mp,useRef:Xb,useState:function(){return Mp(Gl)},useDebugValue:hv,useDeferredValue:function(t){var e=qn();return dt===null?e.memoizedState=t:i2(e,dt.memoizedState,t)},useTransition:function(){var t=Mp(Gl)[0],e=qn().memoizedState;return[t,e]},useMutableSource:Hb,useSyncExternalStore:qb,useId:s2,unstable_isNewReconciler:!1};function ra(t,e){try{var n="",r=e;do n+=uD(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Vp(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function hg(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var LO=typeof WeakMap=="function"?WeakMap:Map;function u2(t,e,n){n=Gr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Vd||(Vd=!0,Tg=r),hg(t,e)},n}function c2(t,e,n){n=Gr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){hg(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){hg(t,e),typeof r!="function"&&(Bi===null?Bi=new Set([this]):Bi.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function v1(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new LO;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=YO.bind(null,t,e,n),e.then(t,t))}function w1(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function _1(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Gr(-1,1),e.tag=2,$i(n,e,1))),n.lanes|=1),t)}var MO=ai.ReactCurrentOwner,ln=!1;function Zt(t,e,n,r){e.child=t===null?Bb(e,null,n,r):ta(e,t.child,n,r)}function E1(t,e,n,r,i){n=n.render;var s=e.ref;return qo(e,i),r=cv(t,e,n,r,s,i),n=dv(),t!==null&&!ln?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ei(t,e,i)):(Fe&&n&&Jy(e),e.flags|=1,Zt(t,e,r,i),e.child)}function x1(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Ev(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,d2(t,e,s,r,i)):(t=rd(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:$l,n(o,r)&&t.ref===e.ref)return ei(t,e,i)}return e.flags|=1,t=Hi(s,r),t.ref=e.ref,t.return=e,e.child=t}function d2(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if($l(s,r)&&t.ref===e.ref)if(ln=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(ln=!0);else return e.lanes=t.lanes,ei(t,e,i)}return pg(t,e,n,r,i)}function f2(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Pe(Vo,gn),gn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Pe(Vo,gn),gn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Pe(Vo,gn),gn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Pe(Vo,gn),gn|=r;return Zt(t,e,i,n),e.child}function h2(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function pg(t,e,n,r,i){var s=cn(n)?Fs:Kt.current;return s=Zo(e,s),qo(e,i),n=cv(t,e,n,r,s,i),r=dv(),t!==null&&!ln?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ei(t,e,i)):(Fe&&r&&Jy(e),e.flags|=1,Zt(t,e,n,i),e.child)}function T1(t,e,n,r,i){if(cn(n)){var s=!0;Ad(e)}else s=!1;if(qo(e,i),e.stateNode===null)ed(t,e),Ub(e,n,r),fg(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Hn(u):(u=cn(n)?Fs:Kt.current,u=Zo(e,u));var c=n.getDerivedStateFromProps,h=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&p1(e,o,r,u),Ti=!1;var m=e.memoizedState;o.state=m,Dd(e,r,o,i),l=e.memoizedState,a!==r||m!==l||un.current||Ti?(typeof c=="function"&&(dg(e,n,c,r),l=e.memoizedState),(a=Ti||h1(e,n,a,r,m,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Vb(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:er(e.type,a),o.props=u,h=e.pendingProps,m=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Hn(l):(l=cn(n)?Fs:Kt.current,l=Zo(e,l));var w=n.getDerivedStateFromProps;(c=typeof w=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||m!==l)&&p1(e,o,r,l),Ti=!1,m=e.memoizedState,o.state=m,Dd(e,r,o,i);var _=e.memoizedState;a!==h||m!==_||un.current||Ti?(typeof w=="function"&&(dg(e,n,w,r),_=e.memoizedState),(u=Ti||h1(e,n,u,r,m,_,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,_,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,_,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=_),o.props=r,o.state=_,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return mg(t,e,n,r,s,i)}function mg(t,e,n,r,i,s){h2(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&l1(e,n,!1),ei(t,e,s);r=e.stateNode,MO.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=ta(e,t.child,null,s),e.child=ta(e,null,a,s)):Zt(t,e,a,s),e.memoizedState=r.state,i&&l1(e,n,!0),e.child}function p2(t){var e=t.stateNode;e.pendingContext?a1(t,e.pendingContext,e.pendingContext!==e.context):e.context&&a1(t,e.context,!1),ov(t,e.containerInfo)}function b1(t,e,n,r,i){return ea(),ev(i),e.flags|=256,Zt(t,e,n,r),e.child}var gg={dehydrated:null,treeContext:null,retryLane:0};function yg(t){return{baseLanes:t,cachePool:null,transitions:null}}function m2(t,e,n){var r=e.pendingProps,i=Be.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Pe(Be,i&1),t===null)return ug(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Bf(o,r,0,null),t=Os(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=yg(n),e.memoizedState=gg,t):pv(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return VO(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Hi(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Hi(a,s):(s=Os(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?yg(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=gg,r}return s=t.child,t=s.sibling,r=Hi(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function pv(t,e){return e=Bf({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function bc(t,e,n,r){return r!==null&&ev(r),ta(e,t.child,null,n),t=pv(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function VO(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Vp(Error(U(422))),bc(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Bf({mode:"visible",children:r.children},i,0,null),s=Os(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&ta(e,t.child,null,o),e.child.memoizedState=yg(o),e.memoizedState=gg,s);if(!(e.mode&1))return bc(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(U(419)),r=Vp(s,r,void 0),bc(t,e,o,r)}if(a=(o&t.childLanes)!==0,ln||a){if(r=_t,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Zr(t,i),ar(r,t,i,-1))}return _v(),r=Vp(Error(U(421))),bc(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=XO.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,vn=Ui(i.nextSibling),Tn=e,Fe=!0,nr=null,t!==null&&(Mn[Vn++]=zr,Mn[Vn++]=Hr,Mn[Vn++]=Us,zr=t.id,Hr=t.overflow,Us=e),e=pv(e,r.children),e.flags|=4096,e)}function I1(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),cg(t.return,e,n)}function Fp(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function g2(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Zt(t,e,r.children,n),r=Be.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&I1(t,n,e);else if(t.tag===19)I1(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Pe(Be,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Od(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Fp(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Od(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Fp(e,!0,n,null,s);break;case"together":Fp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ed(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ei(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Bs|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(U(153));if(e.child!==null){for(t=e.child,n=Hi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Hi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function FO(t,e,n){switch(e.tag){case 3:p2(e),ea();break;case 5:zb(e);break;case 1:cn(e.type)&&Ad(e);break;case 4:ov(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Pe(kd,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Pe(Be,Be.current&1),e.flags|=128,null):n&e.child.childLanes?m2(t,e,n):(Pe(Be,Be.current&1),t=ei(t,e,n),t!==null?t.sibling:null);Pe(Be,Be.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return g2(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Pe(Be,Be.current),r)break;return null;case 22:case 23:return e.lanes=0,f2(t,e,n)}return ei(t,e,n)}var y2,vg,v2,w2;y2=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};vg=function(){};v2=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Ss(Cr.current);var s=null;switch(n){case"input":i=Um(t,i),r=Um(t,r),s=[];break;case"select":i=qe({},i,{value:void 0}),r=qe({},r,{value:void 0}),s=[];break;case"textarea":i=zm(t,i),r=zm(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Sd)}qm(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ol.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ol.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Oe("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};w2=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ga(t,e){if(!Fe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ft(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function UO(t,e,n){var r=e.pendingProps;switch(Zy(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ft(e),null;case 1:return cn(e.type)&&Cd(),Ft(e),null;case 3:return r=e.stateNode,na(),Le(un),Le(Kt),lv(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(xc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,nr!==null&&(Sg(nr),nr=null))),vg(t,e),Ft(e),null;case 5:av(e);var i=Ss(Wl.current);if(n=e.type,t!==null&&e.stateNode!=null)v2(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(U(166));return Ft(e),null}if(t=Ss(Cr.current),xc(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[vr]=e,r[Hl]=s,t=(e.mode&1)!==0,n){case"dialog":Oe("cancel",r),Oe("close",r);break;case"iframe":case"object":case"embed":Oe("load",r);break;case"video":case"audio":for(i=0;i<ol.length;i++)Oe(ol[i],r);break;case"source":Oe("error",r);break;case"img":case"image":case"link":Oe("error",r),Oe("load",r);break;case"details":Oe("toggle",r);break;case"input":O_(r,s),Oe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Oe("invalid",r);break;case"textarea":L_(r,s),Oe("invalid",r)}qm(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Ec(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Ec(r.textContent,a,t),i=["children",""+a]):Ol.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Oe("scroll",r)}switch(n){case"input":hc(r),j_(r,s,!0);break;case"textarea":hc(r),M_(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Sd)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=WT(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[vr]=e,t[Hl]=r,y2(t,e,!1,!1),e.stateNode=t;e:{switch(o=Wm(n,r),n){case"dialog":Oe("cancel",t),Oe("close",t),i=r;break;case"iframe":case"object":case"embed":Oe("load",t),i=r;break;case"video":case"audio":for(i=0;i<ol.length;i++)Oe(ol[i],t);i=r;break;case"source":Oe("error",t),i=r;break;case"img":case"image":case"link":Oe("error",t),Oe("load",t),i=r;break;case"details":Oe("toggle",t),i=r;break;case"input":O_(t,r),i=Um(t,r),Oe("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=qe({},r,{value:void 0}),Oe("invalid",t);break;case"textarea":L_(t,r),i=zm(t,r),Oe("invalid",t);break;default:i=r}qm(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?QT(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&KT(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&jl(t,l):typeof l=="number"&&jl(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Ol.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Oe("scroll",t):l!=null&&Vy(t,s,l,o))}switch(n){case"input":hc(t),j_(t,r,!1);break;case"textarea":hc(t),M_(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ji(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?$o(t,!!r.multiple,s,!1):r.defaultValue!=null&&$o(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Sd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ft(e),null;case 6:if(t&&e.stateNode!=null)w2(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(U(166));if(n=Ss(Wl.current),Ss(Cr.current),xc(e)){if(r=e.stateNode,n=e.memoizedProps,r[vr]=e,(s=r.nodeValue!==n)&&(t=Tn,t!==null))switch(t.tag){case 3:Ec(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ec(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[vr]=e,e.stateNode=r}return Ft(e),null;case 13:if(Le(Be),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Fe&&vn!==null&&e.mode&1&&!(e.flags&128))Lb(),ea(),e.flags|=98560,s=!1;else if(s=xc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(U(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(U(317));s[vr]=e}else ea(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ft(e),s=!1}else nr!==null&&(Sg(nr),nr=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Be.current&1?ft===0&&(ft=3):_v())),e.updateQueue!==null&&(e.flags|=4),Ft(e),null);case 4:return na(),vg(t,e),t===null&&Bl(e.stateNode.containerInfo),Ft(e),null;case 10:return rv(e.type._context),Ft(e),null;case 17:return cn(e.type)&&Cd(),Ft(e),null;case 19:if(Le(Be),s=e.memoizedState,s===null)return Ft(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Ga(s,!1);else{if(ft!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Od(t),o!==null){for(e.flags|=128,Ga(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Pe(Be,Be.current&1|2),e.child}t=t.sibling}s.tail!==null&&rt()>ia&&(e.flags|=128,r=!0,Ga(s,!1),e.lanes=4194304)}else{if(!r)if(t=Od(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ga(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Fe)return Ft(e),null}else 2*rt()-s.renderingStartTime>ia&&n!==1073741824&&(e.flags|=128,r=!0,Ga(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=rt(),e.sibling=null,n=Be.current,Pe(Be,r?n&1|2:n&1),e):(Ft(e),null);case 22:case 23:return wv(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?gn&1073741824&&(Ft(e),e.subtreeFlags&6&&(e.flags|=8192)):Ft(e),null;case 24:return null;case 25:return null}throw Error(U(156,e.tag))}function $O(t,e){switch(Zy(e),e.tag){case 1:return cn(e.type)&&Cd(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return na(),Le(un),Le(Kt),lv(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return av(e),null;case 13:if(Le(Be),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(U(340));ea()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Le(Be),null;case 4:return na(),null;case 10:return rv(e.type._context),null;case 22:case 23:return wv(),null;case 24:return null;default:return null}}var Ic=!1,Bt=!1,BO=typeof WeakSet=="function"?WeakSet:Set,Y=null;function Mo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ge(t,e,r)}else n.current=null}function wg(t,e,n){try{n()}catch(r){Ge(t,e,r)}}var S1=!1;function zO(t,e){if(ng=Td,t=Tb(),Xy(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,h=t,m=null;t:for(;;){for(var w;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(w=h.firstChild)!==null;)m=h,h=w;for(;;){if(h===t)break t;if(m===n&&++u===i&&(a=o),m===s&&++c===r&&(l=o),(w=h.nextSibling)!==null)break;h=m,m=h.parentNode}h=w}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(rg={focusedElem:t,selectionRange:n},Td=!1,Y=e;Y!==null;)if(e=Y,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Y=t;else for(;Y!==null;){e=Y;try{var _=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var x=_.memoizedProps,T=_.memoizedState,E=e.stateNode,v=E.getSnapshotBeforeUpdate(e.elementType===e.type?x:er(e.type,x),T);E.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(U(163))}}catch(C){Ge(e,e.return,C)}if(t=e.sibling,t!==null){t.return=e.return,Y=t;break}Y=e.return}return _=S1,S1=!1,_}function El(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&wg(e,n,s)}i=i.next}while(i!==r)}}function Uf(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function _g(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function _2(t){var e=t.alternate;e!==null&&(t.alternate=null,_2(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[vr],delete e[Hl],delete e[og],delete e[IO],delete e[SO])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function E2(t){return t.tag===5||t.tag===3||t.tag===4}function C1(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||E2(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Eg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Sd));else if(r!==4&&(t=t.child,t!==null))for(Eg(t,e,n),t=t.sibling;t!==null;)Eg(t,e,n),t=t.sibling}function xg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(xg(t,e,n),t=t.sibling;t!==null;)xg(t,e,n),t=t.sibling}var Ct=null,tr=!1;function vi(t,e,n){for(n=n.child;n!==null;)x2(t,e,n),n=n.sibling}function x2(t,e,n){if(Sr&&typeof Sr.onCommitFiberUnmount=="function")try{Sr.onCommitFiberUnmount(Nf,n)}catch{}switch(n.tag){case 5:Bt||Mo(n,e);case 6:var r=Ct,i=tr;Ct=null,vi(t,e,n),Ct=r,tr=i,Ct!==null&&(tr?(t=Ct,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ct.removeChild(n.stateNode));break;case 18:Ct!==null&&(tr?(t=Ct,n=n.stateNode,t.nodeType===8?Np(t.parentNode,n):t.nodeType===1&&Np(t,n),Fl(t)):Np(Ct,n.stateNode));break;case 4:r=Ct,i=tr,Ct=n.stateNode.containerInfo,tr=!0,vi(t,e,n),Ct=r,tr=i;break;case 0:case 11:case 14:case 15:if(!Bt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&wg(n,e,o),i=i.next}while(i!==r)}vi(t,e,n);break;case 1:if(!Bt&&(Mo(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ge(n,e,a)}vi(t,e,n);break;case 21:vi(t,e,n);break;case 22:n.mode&1?(Bt=(r=Bt)||n.memoizedState!==null,vi(t,e,n),Bt=r):vi(t,e,n);break;default:vi(t,e,n)}}function A1(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new BO),e.forEach(function(r){var i=JO.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Zn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Ct=a.stateNode,tr=!1;break e;case 3:Ct=a.stateNode.containerInfo,tr=!0;break e;case 4:Ct=a.stateNode.containerInfo,tr=!0;break e}a=a.return}if(Ct===null)throw Error(U(160));x2(s,o,i),Ct=null,tr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Ge(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)T2(e,t),e=e.sibling}function T2(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Zn(e,t),gr(t),r&4){try{El(3,t,t.return),Uf(3,t)}catch(x){Ge(t,t.return,x)}try{El(5,t,t.return)}catch(x){Ge(t,t.return,x)}}break;case 1:Zn(e,t),gr(t),r&512&&n!==null&&Mo(n,n.return);break;case 5:if(Zn(e,t),gr(t),r&512&&n!==null&&Mo(n,n.return),t.flags&32){var i=t.stateNode;try{jl(i,"")}catch(x){Ge(t,t.return,x)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&HT(i,s),Wm(a,o);var u=Wm(a,s);for(o=0;o<l.length;o+=2){var c=l[o],h=l[o+1];c==="style"?QT(i,h):c==="dangerouslySetInnerHTML"?KT(i,h):c==="children"?jl(i,h):Vy(i,c,h,u)}switch(a){case"input":$m(i,s);break;case"textarea":qT(i,s);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var w=s.value;w!=null?$o(i,!!s.multiple,w,!1):m!==!!s.multiple&&(s.defaultValue!=null?$o(i,!!s.multiple,s.defaultValue,!0):$o(i,!!s.multiple,s.multiple?[]:"",!1))}i[Hl]=s}catch(x){Ge(t,t.return,x)}}break;case 6:if(Zn(e,t),gr(t),r&4){if(t.stateNode===null)throw Error(U(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(x){Ge(t,t.return,x)}}break;case 3:if(Zn(e,t),gr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Fl(e.containerInfo)}catch(x){Ge(t,t.return,x)}break;case 4:Zn(e,t),gr(t);break;case 13:Zn(e,t),gr(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(yv=rt())),r&4&&A1(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(Bt=(u=Bt)||c,Zn(e,t),Bt=u):Zn(e,t),gr(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(Y=t,c=t.child;c!==null;){for(h=Y=c;Y!==null;){switch(m=Y,w=m.child,m.tag){case 0:case 11:case 14:case 15:El(4,m,m.return);break;case 1:Mo(m,m.return);var _=m.stateNode;if(typeof _.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,_.props=e.memoizedProps,_.state=e.memoizedState,_.componentWillUnmount()}catch(x){Ge(r,n,x)}}break;case 5:Mo(m,m.return);break;case 22:if(m.memoizedState!==null){P1(h);continue}}w!==null?(w.return=m,Y=w):P1(h)}c=c.sibling}e:for(c=null,h=t;;){if(h.tag===5){if(c===null){c=h;try{i=h.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=GT("display",o))}catch(x){Ge(t,t.return,x)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(x){Ge(t,t.return,x)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Zn(e,t),gr(t),r&4&&A1(t);break;case 21:break;default:Zn(e,t),gr(t)}}function gr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(E2(n)){var r=n;break e}n=n.return}throw Error(U(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(jl(i,""),r.flags&=-33);var s=C1(t);xg(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=C1(t);Eg(t,a,o);break;default:throw Error(U(161))}}catch(l){Ge(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function HO(t,e,n){Y=t,b2(t)}function b2(t,e,n){for(var r=(t.mode&1)!==0;Y!==null;){var i=Y,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Ic;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Bt;a=Ic;var u=Bt;if(Ic=o,(Bt=l)&&!u)for(Y=i;Y!==null;)o=Y,l=o.child,o.tag===22&&o.memoizedState!==null?k1(i):l!==null?(l.return=o,Y=l):k1(i);for(;s!==null;)Y=s,b2(s),s=s.sibling;Y=i,Ic=a,Bt=u}R1(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Y=s):R1(t)}}function R1(t){for(;Y!==null;){var e=Y;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Bt||Uf(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Bt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:er(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&f1(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}f1(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&Fl(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(U(163))}Bt||e.flags&512&&_g(e)}catch(m){Ge(e,e.return,m)}}if(e===t){Y=null;break}if(n=e.sibling,n!==null){n.return=e.return,Y=n;break}Y=e.return}}function P1(t){for(;Y!==null;){var e=Y;if(e===t){Y=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Y=n;break}Y=e.return}}function k1(t){for(;Y!==null;){var e=Y;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Uf(4,e)}catch(l){Ge(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Ge(e,i,l)}}var s=e.return;try{_g(e)}catch(l){Ge(e,s,l)}break;case 5:var o=e.return;try{_g(e)}catch(l){Ge(e,o,l)}}}catch(l){Ge(e,e.return,l)}if(e===t){Y=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Y=a;break}Y=e.return}}var qO=Math.ceil,Md=ai.ReactCurrentDispatcher,mv=ai.ReactCurrentOwner,$n=ai.ReactCurrentBatchConfig,_e=0,_t=null,at=null,Nt=0,gn=0,Vo=os(0),ft=0,Yl=null,Bs=0,$f=0,gv=0,xl=null,on=null,yv=0,ia=1/0,Fr=null,Vd=!1,Tg=null,Bi=null,Sc=!1,ki=null,Fd=0,Tl=0,bg=null,td=-1,nd=0;function nn(){return _e&6?rt():td!==-1?td:td=rt()}function zi(t){return t.mode&1?_e&2&&Nt!==0?Nt&-Nt:AO.transition!==null?(nd===0&&(nd=ab()),nd):(t=Se,t!==0||(t=window.event,t=t===void 0?16:pb(t.type)),t):1}function ar(t,e,n,r){if(50<Tl)throw Tl=0,bg=null,Error(U(185));Tu(t,n,r),(!(_e&2)||t!==_t)&&(t===_t&&(!(_e&2)&&($f|=n),ft===4&&Ii(t,Nt)),dn(t,r),n===1&&_e===0&&!(e.mode&1)&&(ia=rt()+500,Mf&&as()))}function dn(t,e){var n=t.callbackNode;AD(t,e);var r=xd(t,t===_t?Nt:0);if(r===0)n!==null&&U_(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&U_(n),e===1)t.tag===0?CO(N1.bind(null,t)):Db(N1.bind(null,t)),TO(function(){!(_e&6)&&as()}),n=null;else{switch(lb(r)){case 1:n=zy;break;case 4:n=sb;break;case 16:n=Ed;break;case 536870912:n=ob;break;default:n=Ed}n=N2(n,I2.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function I2(t,e){if(td=-1,nd=0,_e&6)throw Error(U(327));var n=t.callbackNode;if(Wo()&&t.callbackNode!==n)return null;var r=xd(t,t===_t?Nt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Ud(t,r);else{e=r;var i=_e;_e|=2;var s=C2();(_t!==t||Nt!==e)&&(Fr=null,ia=rt()+500,Ds(t,e));do try{GO();break}catch(a){S2(t,a)}while(1);nv(),Md.current=s,_e=i,at!==null?e=0:(_t=null,Nt=0,e=ft)}if(e!==0){if(e===2&&(i=Xm(t),i!==0&&(r=i,e=Ig(t,i))),e===1)throw n=Yl,Ds(t,0),Ii(t,r),dn(t,rt()),n;if(e===6)Ii(t,r);else{if(i=t.current.alternate,!(r&30)&&!WO(i)&&(e=Ud(t,r),e===2&&(s=Xm(t),s!==0&&(r=s,e=Ig(t,s))),e===1))throw n=Yl,Ds(t,0),Ii(t,r),dn(t,rt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(U(345));case 2:Es(t,on,Fr);break;case 3:if(Ii(t,r),(r&130023424)===r&&(e=yv+500-rt(),10<e)){if(xd(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){nn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=sg(Es.bind(null,t,on,Fr),e);break}Es(t,on,Fr);break;case 4:if(Ii(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-or(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=rt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*qO(r/1960))-r,10<r){t.timeoutHandle=sg(Es.bind(null,t,on,Fr),r);break}Es(t,on,Fr);break;case 5:Es(t,on,Fr);break;default:throw Error(U(329))}}}return dn(t,rt()),t.callbackNode===n?I2.bind(null,t):null}function Ig(t,e){var n=xl;return t.current.memoizedState.isDehydrated&&(Ds(t,e).flags|=256),t=Ud(t,e),t!==2&&(e=on,on=n,e!==null&&Sg(e)),t}function Sg(t){on===null?on=t:on.push.apply(on,t)}function WO(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!ur(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ii(t,e){for(e&=~gv,e&=~$f,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-or(e),r=1<<n;t[n]=-1,e&=~r}}function N1(t){if(_e&6)throw Error(U(327));Wo();var e=xd(t,0);if(!(e&1))return dn(t,rt()),null;var n=Ud(t,e);if(t.tag!==0&&n===2){var r=Xm(t);r!==0&&(e=r,n=Ig(t,r))}if(n===1)throw n=Yl,Ds(t,0),Ii(t,e),dn(t,rt()),n;if(n===6)throw Error(U(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Es(t,on,Fr),dn(t,rt()),null}function vv(t,e){var n=_e;_e|=1;try{return t(e)}finally{_e=n,_e===0&&(ia=rt()+500,Mf&&as())}}function zs(t){ki!==null&&ki.tag===0&&!(_e&6)&&Wo();var e=_e;_e|=1;var n=$n.transition,r=Se;try{if($n.transition=null,Se=1,t)return t()}finally{Se=r,$n.transition=n,_e=e,!(_e&6)&&as()}}function wv(){gn=Vo.current,Le(Vo)}function Ds(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,xO(n)),at!==null)for(n=at.return;n!==null;){var r=n;switch(Zy(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Cd();break;case 3:na(),Le(un),Le(Kt),lv();break;case 5:av(r);break;case 4:na();break;case 13:Le(Be);break;case 19:Le(Be);break;case 10:rv(r.type._context);break;case 22:case 23:wv()}n=n.return}if(_t=t,at=t=Hi(t.current,null),Nt=gn=e,ft=0,Yl=null,gv=$f=Bs=0,on=xl=null,Is!==null){for(e=0;e<Is.length;e++)if(n=Is[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Is=null}return t}function S2(t,e){do{var n=at;try{if(nv(),Jc.current=Ld,jd){for(var r=ze.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}jd=!1}if($s=0,wt=dt=ze=null,_l=!1,Kl=0,mv.current=null,n===null||n.return===null){ft=1,Yl=e,at=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Nt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var m=c.alternate;m?(c.updateQueue=m.updateQueue,c.memoizedState=m.memoizedState,c.lanes=m.lanes):(c.updateQueue=null,c.memoizedState=null)}var w=w1(o);if(w!==null){w.flags&=-257,_1(w,o,a,s,e),w.mode&1&&v1(s,u,e),e=w,l=u;var _=e.updateQueue;if(_===null){var x=new Set;x.add(l),e.updateQueue=x}else _.add(l);break e}else{if(!(e&1)){v1(s,u,e),_v();break e}l=Error(U(426))}}else if(Fe&&a.mode&1){var T=w1(o);if(T!==null){!(T.flags&65536)&&(T.flags|=256),_1(T,o,a,s,e),ev(ra(l,a));break e}}s=l=ra(l,a),ft!==4&&(ft=2),xl===null?xl=[s]:xl.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var E=u2(s,l,e);d1(s,E);break e;case 1:a=l;var v=s.type,b=s.stateNode;if(!(s.flags&128)&&(typeof v.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Bi===null||!Bi.has(b)))){s.flags|=65536,e&=-e,s.lanes|=e;var C=c2(s,a,e);d1(s,C);break e}}s=s.return}while(s!==null)}R2(n)}catch(R){e=R,at===n&&n!==null&&(at=n=n.return);continue}break}while(1)}function C2(){var t=Md.current;return Md.current=Ld,t===null?Ld:t}function _v(){(ft===0||ft===3||ft===2)&&(ft=4),_t===null||!(Bs&268435455)&&!($f&268435455)||Ii(_t,Nt)}function Ud(t,e){var n=_e;_e|=2;var r=C2();(_t!==t||Nt!==e)&&(Fr=null,Ds(t,e));do try{KO();break}catch(i){S2(t,i)}while(1);if(nv(),_e=n,Md.current=r,at!==null)throw Error(U(261));return _t=null,Nt=0,ft}function KO(){for(;at!==null;)A2(at)}function GO(){for(;at!==null&&!wD();)A2(at)}function A2(t){var e=k2(t.alternate,t,gn);t.memoizedProps=t.pendingProps,e===null?R2(t):at=e,mv.current=null}function R2(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=$O(n,e),n!==null){n.flags&=32767,at=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ft=6,at=null;return}}else if(n=UO(n,e,gn),n!==null){at=n;return}if(e=e.sibling,e!==null){at=e;return}at=e=t}while(e!==null);ft===0&&(ft=5)}function Es(t,e,n){var r=Se,i=$n.transition;try{$n.transition=null,Se=1,QO(t,e,n,r)}finally{$n.transition=i,Se=r}return null}function QO(t,e,n,r){do Wo();while(ki!==null);if(_e&6)throw Error(U(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(U(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(RD(t,s),t===_t&&(at=_t=null,Nt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Sc||(Sc=!0,N2(Ed,function(){return Wo(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=$n.transition,$n.transition=null;var o=Se;Se=1;var a=_e;_e|=4,mv.current=null,zO(t,n),T2(n,t),mO(rg),Td=!!ng,rg=ng=null,t.current=n,HO(n),_D(),_e=a,Se=o,$n.transition=s}else t.current=n;if(Sc&&(Sc=!1,ki=t,Fd=i),s=t.pendingLanes,s===0&&(Bi=null),TD(n.stateNode),dn(t,rt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Vd)throw Vd=!1,t=Tg,Tg=null,t;return Fd&1&&t.tag!==0&&Wo(),s=t.pendingLanes,s&1?t===bg?Tl++:(Tl=0,bg=t):Tl=0,as(),null}function Wo(){if(ki!==null){var t=lb(Fd),e=$n.transition,n=Se;try{if($n.transition=null,Se=16>t?16:t,ki===null)var r=!1;else{if(t=ki,ki=null,Fd=0,_e&6)throw Error(U(331));var i=_e;for(_e|=4,Y=t.current;Y!==null;){var s=Y,o=s.child;if(Y.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(Y=u;Y!==null;){var c=Y;switch(c.tag){case 0:case 11:case 15:El(8,c,s)}var h=c.child;if(h!==null)h.return=c,Y=h;else for(;Y!==null;){c=Y;var m=c.sibling,w=c.return;if(_2(c),c===u){Y=null;break}if(m!==null){m.return=w,Y=m;break}Y=w}}}var _=s.alternate;if(_!==null){var x=_.child;if(x!==null){_.child=null;do{var T=x.sibling;x.sibling=null,x=T}while(x!==null)}}Y=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Y=o;else e:for(;Y!==null;){if(s=Y,s.flags&2048)switch(s.tag){case 0:case 11:case 15:El(9,s,s.return)}var E=s.sibling;if(E!==null){E.return=s.return,Y=E;break e}Y=s.return}}var v=t.current;for(Y=v;Y!==null;){o=Y;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,Y=b;else e:for(o=v;Y!==null;){if(a=Y,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Uf(9,a)}}catch(R){Ge(a,a.return,R)}if(a===o){Y=null;break e}var C=a.sibling;if(C!==null){C.return=a.return,Y=C;break e}Y=a.return}}if(_e=i,as(),Sr&&typeof Sr.onPostCommitFiberRoot=="function")try{Sr.onPostCommitFiberRoot(Nf,t)}catch{}r=!0}return r}finally{Se=n,$n.transition=e}}return!1}function D1(t,e,n){e=ra(n,e),e=u2(t,e,1),t=$i(t,e,1),e=nn(),t!==null&&(Tu(t,1,e),dn(t,e))}function Ge(t,e,n){if(t.tag===3)D1(t,t,n);else for(;e!==null;){if(e.tag===3){D1(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Bi===null||!Bi.has(r))){t=ra(n,t),t=c2(e,t,1),e=$i(e,t,1),t=nn(),e!==null&&(Tu(e,1,t),dn(e,t));break}}e=e.return}}function YO(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=nn(),t.pingedLanes|=t.suspendedLanes&n,_t===t&&(Nt&n)===n&&(ft===4||ft===3&&(Nt&130023424)===Nt&&500>rt()-yv?Ds(t,0):gv|=n),dn(t,e)}function P2(t,e){e===0&&(t.mode&1?(e=gc,gc<<=1,!(gc&130023424)&&(gc=4194304)):e=1);var n=nn();t=Zr(t,e),t!==null&&(Tu(t,e,n),dn(t,n))}function XO(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),P2(t,n)}function JO(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(U(314))}r!==null&&r.delete(e),P2(t,n)}var k2;k2=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||un.current)ln=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return ln=!1,FO(t,e,n);ln=!!(t.flags&131072)}else ln=!1,Fe&&e.flags&1048576&&Ob(e,Pd,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;ed(t,e),t=e.pendingProps;var i=Zo(e,Kt.current);qo(e,n),i=cv(null,e,r,t,i,n);var s=dv();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,cn(r)?(s=!0,Ad(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,sv(e),i.updater=Vf,e.stateNode=i,i._reactInternals=e,fg(e,r,t,n),e=mg(null,e,r,!0,s,n)):(e.tag=0,Fe&&s&&Jy(e),Zt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(ed(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=e5(r),t=er(r,t),i){case 0:e=pg(null,e,r,t,n);break e;case 1:e=T1(null,e,r,t,n);break e;case 11:e=E1(null,e,r,t,n);break e;case 14:e=x1(null,e,r,er(r.type,t),n);break e}throw Error(U(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:er(r,i),pg(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:er(r,i),T1(t,e,r,i,n);case 3:e:{if(p2(e),t===null)throw Error(U(387));r=e.pendingProps,s=e.memoizedState,i=s.element,Vb(t,e),Dd(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=ra(Error(U(423)),e),e=b1(t,e,r,n,i);break e}else if(r!==i){i=ra(Error(U(424)),e),e=b1(t,e,r,n,i);break e}else for(vn=Ui(e.stateNode.containerInfo.firstChild),Tn=e,Fe=!0,nr=null,n=Bb(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ea(),r===i){e=ei(t,e,n);break e}Zt(t,e,r,n)}e=e.child}return e;case 5:return zb(e),t===null&&ug(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,ig(r,i)?o=null:s!==null&&ig(r,s)&&(e.flags|=32),h2(t,e),Zt(t,e,o,n),e.child;case 6:return t===null&&ug(e),null;case 13:return m2(t,e,n);case 4:return ov(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ta(e,null,r,n):Zt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:er(r,i),E1(t,e,r,i,n);case 7:return Zt(t,e,e.pendingProps,n),e.child;case 8:return Zt(t,e,e.pendingProps.children,n),e.child;case 12:return Zt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Pe(kd,r._currentValue),r._currentValue=o,s!==null)if(ur(s.value,o)){if(s.children===i.children&&!un.current){e=ei(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Gr(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),cg(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(U(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),cg(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Zt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,qo(e,n),i=Hn(i),r=r(i),e.flags|=1,Zt(t,e,r,n),e.child;case 14:return r=e.type,i=er(r,e.pendingProps),i=er(r.type,i),x1(t,e,r,i,n);case 15:return d2(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:er(r,i),ed(t,e),e.tag=1,cn(r)?(t=!0,Ad(e)):t=!1,qo(e,n),Ub(e,r,i),fg(e,r,i,n),mg(null,e,r,!0,t,n);case 19:return g2(t,e,n);case 22:return f2(t,e,n)}throw Error(U(156,e.tag))};function N2(t,e){return ib(t,e)}function ZO(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Un(t,e,n,r){return new ZO(t,e,n,r)}function Ev(t){return t=t.prototype,!(!t||!t.isReactComponent)}function e5(t){if(typeof t=="function")return Ev(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Uy)return 11;if(t===$y)return 14}return 2}function Hi(t,e){var n=t.alternate;return n===null?(n=Un(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function rd(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Ev(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ao:return Os(n.children,i,s,e);case Fy:o=8,i|=8;break;case Lm:return t=Un(12,n,e,i|2),t.elementType=Lm,t.lanes=s,t;case Mm:return t=Un(13,n,e,i),t.elementType=Mm,t.lanes=s,t;case Vm:return t=Un(19,n,e,i),t.elementType=Vm,t.lanes=s,t;case $T:return Bf(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case FT:o=10;break e;case UT:o=9;break e;case Uy:o=11;break e;case $y:o=14;break e;case xi:o=16,r=null;break e}throw Error(U(130,t==null?t:typeof t,""))}return e=Un(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Os(t,e,n,r){return t=Un(7,t,r,e),t.lanes=n,t}function Bf(t,e,n,r){return t=Un(22,t,r,e),t.elementType=$T,t.lanes=n,t.stateNode={isHidden:!1},t}function Up(t,e,n){return t=Un(6,t,null,e),t.lanes=n,t}function $p(t,e,n){return e=Un(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function t5(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ep(0),this.expirationTimes=Ep(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ep(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function xv(t,e,n,r,i,s,o,a,l){return t=new t5(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Un(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},sv(s),t}function n5(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Co,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function D2(t){if(!t)return Zi;t=t._reactInternals;e:{if(no(t)!==t||t.tag!==1)throw Error(U(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(cn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(U(171))}if(t.tag===1){var n=t.type;if(cn(n))return Nb(t,n,e)}return e}function O2(t,e,n,r,i,s,o,a,l){return t=xv(n,r,!0,t,i,s,o,a,l),t.context=D2(null),n=t.current,r=nn(),i=zi(n),s=Gr(r,i),s.callback=e??null,$i(n,s,i),t.current.lanes=i,Tu(t,i,r),dn(t,r),t}function zf(t,e,n,r){var i=e.current,s=nn(),o=zi(i);return n=D2(n),e.context===null?e.context=n:e.pendingContext=n,e=Gr(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=$i(i,e,o),t!==null&&(ar(t,i,o,s),Xc(t,i,o)),o}function $d(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function O1(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Tv(t,e){O1(t,e),(t=t.alternate)&&O1(t,e)}function r5(){return null}var j2=typeof reportError=="function"?reportError:function(t){console.error(t)};function bv(t){this._internalRoot=t}Hf.prototype.render=bv.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(U(409));zf(t,e,null,null)};Hf.prototype.unmount=bv.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;zs(function(){zf(null,t,null,null)}),e[Jr]=null}};function Hf(t){this._internalRoot=t}Hf.prototype.unstable_scheduleHydration=function(t){if(t){var e=db();t={blockedOn:null,target:t,priority:e};for(var n=0;n<bi.length&&e!==0&&e<bi[n].priority;n++);bi.splice(n,0,t),n===0&&hb(t)}};function Iv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function qf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function j1(){}function i5(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=$d(o);s.call(u)}}var o=O2(e,r,t,0,null,!1,!1,"",j1);return t._reactRootContainer=o,t[Jr]=o.current,Bl(t.nodeType===8?t.parentNode:t),zs(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=$d(l);a.call(u)}}var l=xv(t,0,!1,null,null,!1,!1,"",j1);return t._reactRootContainer=l,t[Jr]=l.current,Bl(t.nodeType===8?t.parentNode:t),zs(function(){zf(e,l,n,r)}),l}function Wf(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=$d(o);a.call(l)}}zf(e,o,t,i)}else o=i5(n,e,t,i,r);return $d(o)}ub=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=sl(e.pendingLanes);n!==0&&(Hy(e,n|1),dn(e,rt()),!(_e&6)&&(ia=rt()+500,as()))}break;case 13:zs(function(){var r=Zr(t,1);if(r!==null){var i=nn();ar(r,t,1,i)}}),Tv(t,1)}};qy=function(t){if(t.tag===13){var e=Zr(t,134217728);if(e!==null){var n=nn();ar(e,t,134217728,n)}Tv(t,134217728)}};cb=function(t){if(t.tag===13){var e=zi(t),n=Zr(t,e);if(n!==null){var r=nn();ar(n,t,e,r)}Tv(t,e)}};db=function(){return Se};fb=function(t,e){var n=Se;try{return Se=t,e()}finally{Se=n}};Gm=function(t,e,n){switch(e){case"input":if($m(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Lf(r);if(!i)throw Error(U(90));zT(r),$m(r,i)}}}break;case"textarea":qT(t,n);break;case"select":e=n.value,e!=null&&$o(t,!!n.multiple,e,!1)}};JT=vv;ZT=zs;var s5={usingClientEntryPoint:!1,Events:[Iu,No,Lf,YT,XT,vv]},Qa={findFiberByHostInstance:bs,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},o5={bundleType:Qa.bundleType,version:Qa.version,rendererPackageName:Qa.rendererPackageName,rendererConfig:Qa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ai.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=nb(t),t===null?null:t.stateNode},findFiberByHostInstance:Qa.findFiberByHostInstance||r5,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cc.isDisabled&&Cc.supportsFiber)try{Nf=Cc.inject(o5),Sr=Cc}catch{}}Pn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=s5;Pn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Iv(e))throw Error(U(200));return n5(t,e,null,n)};Pn.createRoot=function(t,e){if(!Iv(t))throw Error(U(299));var n=!1,r="",i=j2;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=xv(t,1,!1,null,null,n,!1,r,i),t[Jr]=e.current,Bl(t.nodeType===8?t.parentNode:t),new bv(e)};Pn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(U(188)):(t=Object.keys(t).join(","),Error(U(268,t)));return t=nb(e),t=t===null?null:t.stateNode,t};Pn.flushSync=function(t){return zs(t)};Pn.hydrate=function(t,e,n){if(!qf(e))throw Error(U(200));return Wf(null,t,e,!0,n)};Pn.hydrateRoot=function(t,e,n){if(!Iv(t))throw Error(U(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=j2;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=O2(e,null,t,1,n??null,i,!1,s,o),t[Jr]=e.current,Bl(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Hf(e)};Pn.render=function(t,e,n){if(!qf(e))throw Error(U(200));return Wf(null,t,e,!1,n)};Pn.unmountComponentAtNode=function(t){if(!qf(t))throw Error(U(40));return t._reactRootContainer?(zs(function(){Wf(null,null,t,!1,function(){t._reactRootContainer=null,t[Jr]=null})}),!0):!1};Pn.unstable_batchedUpdates=vv;Pn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!qf(n))throw Error(U(200));if(t==null||t._reactInternals===void 0)throw Error(U(38));return Wf(t,e,n,!1,r)};Pn.version="18.2.0-next-9e3b772b8-20220608";function L2(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(L2)}catch(t){console.error(t)}}L2(),OT.exports=Pn;var a5=OT.exports,L1=a5;Om.createRoot=L1.createRoot,Om.hydrateRoot=L1.hydrateRoot;var M2={exports:{}},V2={};/**
 * @license React
 * use-sync-external-store-with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cu=S;function l5(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var u5=typeof Object.is=="function"?Object.is:l5,c5=Cu.useSyncExternalStore,d5=Cu.useRef,f5=Cu.useEffect,h5=Cu.useMemo,p5=Cu.useDebugValue;V2.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=d5(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=h5(function(){function l(w){if(!u){if(u=!0,c=w,w=r(w),i!==void 0&&o.hasValue){var _=o.value;if(i(_,w))return h=_}return h=w}if(_=h,u5(c,w))return _;var x=r(w);return i!==void 0&&i(_,x)?_:(c=w,h=x)}var u=!1,c,h,m=n===void 0?null:n;return[function(){return l(e())},m===null?void 0:function(){return l(m())}]},[e,n,r,i]);var a=c5(t,s[0],s[1]);return f5(function(){o.hasValue=!0,o.value=a},[a]),p5(a),a};M2.exports=V2;var m5=M2.exports,wn="default"in Dl?fe:Dl,M1=Symbol.for("react-redux-context"),V1=typeof globalThis<"u"?globalThis:{};function g5(){if(!wn.createContext)return{};const t=V1[M1]??(V1[M1]=new Map);let e=t.get(wn.createContext);return e||(e=wn.createContext(null),t.set(wn.createContext,e)),e}var es=g5(),y5=()=>{throw new Error("uSES not initialized!")};function Sv(t=es){return function(){return wn.useContext(t)}}var F2=Sv(),U2=y5,v5=t=>{U2=t},w5=(t,e)=>t===e;function _5(t=es){const e=t===es?F2:Sv(t);return function(r,i={}){const{equalityFn:s=w5,devModeChecks:o={}}=typeof i=="function"?{equalityFn:i}:i,{store:a,subscription:l,getServerState:u,stabilityCheck:c,identityFunctionCheck:h}=e();wn.useRef(!0);const m=wn.useCallback({[r.name](_){return r(_)}}[r.name],[r,c,o.stabilityCheck]),w=U2(l.addNestedSub,a.getState,u||a.getState,m,s);return wn.useDebugValue(w),w}}var ls=_5();function E5(t){t()}function x5(){let t=null,e=null;return{clear(){t=null,e=null},notify(){E5(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){let n=[],r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0,i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var F1={notify(){},get:()=>[]};function T5(t,e){let n,r=F1,i=0,s=!1;function o(x){c();const T=r.subscribe(x);let E=!1;return()=>{E||(E=!0,T(),h())}}function a(){r.notify()}function l(){_.onStateChange&&_.onStateChange()}function u(){return s}function c(){i++,n||(n=e?e.addNestedSub(l):t.subscribe(l),r=x5())}function h(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=F1)}function m(){s||(s=!0,c())}function w(){s&&(s=!1,h())}const _={addNestedSub:o,notifyNestedSubs:a,handleChangeWrapper:l,isSubscribed:u,trySubscribe:m,tryUnsubscribe:w,getListeners:()=>r};return _}var b5=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",I5=b5?wn.useLayoutEffect:wn.useEffect;function S5({store:t,context:e,children:n,serverState:r,stabilityCheck:i="once",identityFunctionCheck:s="once"}){const o=wn.useMemo(()=>{const u=T5(t);return{store:t,subscription:u,getServerState:r?()=>r:void 0,stabilityCheck:i,identityFunctionCheck:s}},[t,r,i,s]),a=wn.useMemo(()=>t.getState(),[t]);I5(()=>{const{subscription:u}=o;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),a!==t.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[o,a]);const l=e||es;return wn.createElement(l.Provider,{value:o},n)}var C5=S5;function $2(t=es){const e=t===es?F2:Sv(t);return function(){const{store:r}=e();return r}}var A5=$2();function R5(t=es){const e=t===es?A5:$2(t);return function(){return e().dispatch}}var Gn=R5();v5(m5.useSyncExternalStoreWithSelector);function St(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var P5=(()=>typeof Symbol=="function"&&Symbol.observable||"@@observable")(),U1=P5,Bp=()=>Math.random().toString(36).substring(7).split("").join("."),k5={INIT:`@@redux/INIT${Bp()}`,REPLACE:`@@redux/REPLACE${Bp()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Bp()}`},Bd=k5;function Cv(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function B2(t,e,n){if(typeof t!="function")throw new Error(St(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(St(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(St(1));return n(B2)(t,e)}let r=t,i=e,s=new Map,o=s,a=0,l=!1;function u(){o===s&&(o=new Map,s.forEach((T,E)=>{o.set(E,T)}))}function c(){if(l)throw new Error(St(3));return i}function h(T){if(typeof T!="function")throw new Error(St(4));if(l)throw new Error(St(5));let E=!0;u();const v=a++;return o.set(v,T),function(){if(E){if(l)throw new Error(St(6));E=!1,u(),o.delete(v),s=null}}}function m(T){if(!Cv(T))throw new Error(St(7));if(typeof T.type>"u")throw new Error(St(8));if(typeof T.type!="string")throw new Error(St(17));if(l)throw new Error(St(9));try{l=!0,i=r(i,T)}finally{l=!1}return(s=o).forEach(v=>{v()}),T}function w(T){if(typeof T!="function")throw new Error(St(10));r=T,m({type:Bd.REPLACE})}function _(){const T=h;return{subscribe(E){if(typeof E!="object"||E===null)throw new Error(St(11));function v(){const C=E;C.next&&C.next(c())}return v(),{unsubscribe:T(v)}},[U1](){return this}}}return m({type:Bd.INIT}),{dispatch:m,subscribe:h,getState:c,replaceReducer:w,[U1]:_}}function N5(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:Bd.INIT})>"u")throw new Error(St(12));if(typeof n(void 0,{type:Bd.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(St(13))})}function D5(t){const e=Object.keys(t),n={};for(let s=0;s<e.length;s++){const o=e[s];typeof t[o]=="function"&&(n[o]=t[o])}const r=Object.keys(n);let i;try{N5(n)}catch(s){i=s}return function(o={},a){if(i)throw i;let l=!1;const u={};for(let c=0;c<r.length;c++){const h=r[c],m=n[h],w=o[h],_=m(w,a);if(typeof _>"u")throw a&&a.type,new Error(St(14));u[h]=_,l=l||_!==w}return l=l||r.length!==Object.keys(o).length,l?u:o}}function zd(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function O5(...t){return e=>(n,r)=>{const i=e(n,r);let s=()=>{throw new Error(St(15))};const o={getState:i.getState,dispatch:(l,...u)=>s(l,...u)},a=t.map(l=>l(o));return s=zd(...a)(i.dispatch),{...i,dispatch:s}}}function j5(t){return Cv(t)&&"type"in t&&typeof t.type=="string"}var z2=Symbol.for("immer-nothing"),$1=Symbol.for("immer-draftable"),Cn=Symbol.for("immer-state");function rr(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var sa=Object.getPrototypeOf;function ts(t){return!!t&&!!t[Cn]}function ti(t){var e;return t?H2(t)||Array.isArray(t)||!!t[$1]||!!((e=t.constructor)!=null&&e[$1])||Gf(t)||Qf(t):!1}var L5=Object.prototype.constructor.toString();function H2(t){if(!t||typeof t!="object")return!1;const e=sa(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===L5}function Xl(t,e){Kf(t)===0?Object.entries(t).forEach(([n,r])=>{e(n,r,t)}):t.forEach((n,r)=>e(r,n,t))}function Kf(t){const e=t[Cn];return e?e.type_:Array.isArray(t)?1:Gf(t)?2:Qf(t)?3:0}function Cg(t,e){return Kf(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function q2(t,e,n){const r=Kf(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function M5(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Gf(t){return t instanceof Map}function Qf(t){return t instanceof Set}function xs(t){return t.copy_||t.base_}function Ag(t,e){if(Gf(t))return new Map(t);if(Qf(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);if(!e&&H2(t))return sa(t)?{...t}:Object.assign(Object.create(null),t);const n=Object.getOwnPropertyDescriptors(t);delete n[Cn];let r=Reflect.ownKeys(n);for(let i=0;i<r.length;i++){const s=r[i],o=n[s];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(n[s]={configurable:!0,writable:!0,enumerable:o.enumerable,value:t[s]})}return Object.create(sa(t),n)}function Av(t,e=!1){return Yf(t)||ts(t)||!ti(t)||(Kf(t)>1&&(t.set=t.add=t.clear=t.delete=V5),Object.freeze(t),e&&Xl(t,(n,r)=>Av(r,!0))),t}function V5(){rr(2)}function Yf(t){return Object.isFrozen(t)}var F5={};function Hs(t){const e=F5[t];return e||rr(0,t),e}var Jl;function W2(){return Jl}function U5(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function B1(t,e){e&&(Hs("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function Rg(t){Pg(t),t.drafts_.forEach($5),t.drafts_=null}function Pg(t){t===Jl&&(Jl=t.parent_)}function z1(t){return Jl=U5(Jl,t)}function $5(t){const e=t[Cn];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function H1(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[Cn].modified_&&(Rg(e),rr(4)),ti(t)&&(t=Hd(e,t),e.parent_||qd(e,t)),e.patches_&&Hs("Patches").generateReplacementPatches_(n[Cn].base_,t,e.patches_,e.inversePatches_)):t=Hd(e,n,[]),Rg(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==z2?t:void 0}function Hd(t,e,n){if(Yf(e))return e;const r=e[Cn];if(!r)return Xl(e,(i,s)=>q1(t,r,e,i,s,n)),e;if(r.scope_!==t)return e;if(!r.modified_)return qd(t,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let s=i,o=!1;r.type_===3&&(s=new Set(i),i.clear(),o=!0),Xl(s,(a,l)=>q1(t,r,i,a,l,n,o)),qd(t,i,!1),n&&t.patches_&&Hs("Patches").generatePatches_(r,n,t.patches_,t.inversePatches_)}return r.copy_}function q1(t,e,n,r,i,s,o){if(ts(i)){const a=s&&e&&e.type_!==3&&!Cg(e.assigned_,r)?s.concat(r):void 0,l=Hd(t,i,a);if(q2(n,r,l),ts(l))t.canAutoFreeze_=!1;else return}else o&&n.add(i);if(ti(i)&&!Yf(i)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;Hd(t,i),(!e||!e.scope_.parent_)&&qd(t,i)}}function qd(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&Av(e,n)}function B5(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:W2(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=Rv;n&&(i=[r],s=Zl);const{revoke:o,proxy:a}=Proxy.revocable(i,s);return r.draft_=a,r.revoke_=o,a}var Rv={get(t,e){if(e===Cn)return t;const n=xs(t);if(!Cg(n,e))return z5(t,n,e);const r=n[e];return t.finalized_||!ti(r)?r:r===zp(t.base_,e)?(Hp(t),t.copy_[e]=Ng(r,t)):r},has(t,e){return e in xs(t)},ownKeys(t){return Reflect.ownKeys(xs(t))},set(t,e,n){const r=K2(xs(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=zp(xs(t),e),s=i==null?void 0:i[Cn];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(M5(n,i)&&(n!==void 0||Cg(t.base_,e)))return!0;Hp(t),kg(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return zp(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,Hp(t),kg(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=xs(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){rr(11)},getPrototypeOf(t){return sa(t.base_)},setPrototypeOf(){rr(12)}},Zl={};Xl(Rv,(t,e)=>{Zl[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Zl.deleteProperty=function(t,e){return Zl.set.call(this,t,e,void 0)};Zl.set=function(t,e,n){return Rv.set.call(this,t[0],e,n,t[0])};function zp(t,e){const n=t[Cn];return(n?xs(n):t)[e]}function z5(t,e,n){var i;const r=K2(e,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function K2(t,e){if(!(e in t))return;let n=sa(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=sa(n)}}function kg(t){t.modified_||(t.modified_=!0,t.parent_&&kg(t.parent_))}function Hp(t){t.copy_||(t.copy_=Ag(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var H5=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const s=n;n=e;const o=this;return function(l=s,...u){return o.produce(l,c=>n.call(this,c,...u))}}typeof n!="function"&&rr(6),r!==void 0&&typeof r!="function"&&rr(7);let i;if(ti(e)){const s=z1(this),o=Ng(e,void 0);let a=!0;try{i=n(o),a=!1}finally{a?Rg(s):Pg(s)}return B1(s,r),H1(i,s)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===z2&&(i=void 0),this.autoFreeze_&&Av(i,!0),r){const s=[],o=[];Hs("Patches").generateReplacementPatches_(e,i,s,o),r(s,o)}return i}else rr(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(o,...a)=>this.produceWithPatches(o,l=>e(l,...a));let r,i;return[this.produce(e,n,(o,a)=>{r=o,i=a}),r,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){ti(t)||rr(8),ts(t)&&(t=G2(t));const e=z1(this),n=Ng(t,void 0);return n[Cn].isManual_=!0,Pg(e),n}finishDraft(t,e){const n=t&&t[Cn];(!n||!n.isManual_)&&rr(9);const{scope_:r}=n;return B1(r,e),H1(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=Hs("Patches").applyPatches_;return ts(t)?r(t,e):this.produce(t,i=>r(i,e))}};function Ng(t,e){const n=Gf(t)?Hs("MapSet").proxyMap_(t,e):Qf(t)?Hs("MapSet").proxySet_(t,e):B5(t,e);return(e?e.scope_:W2()).drafts_.push(n),n}function G2(t){return ts(t)||rr(10,t),Q2(t)}function Q2(t){if(!ti(t)||Yf(t))return t;const e=t[Cn];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=Ag(t,e.scope_.immer_.useStrictShallowCopy_)}else n=Ag(t,!0);return Xl(n,(r,i)=>{q2(n,r,Q2(i))}),e&&(e.finalized_=!1),n}var An=new H5,Y2=An.produce;An.produceWithPatches.bind(An);An.setAutoFreeze.bind(An);An.setUseStrictShallowCopy.bind(An);An.applyPatches.bind(An);An.createDraft.bind(An);An.finishDraft.bind(An);function q5(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function W5(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var W1=t=>Array.isArray(t)?t:[t];function K5(t){const e=Array.isArray(t[0])?t[0]:t;return W5(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function G5(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var Q5=class{constructor(t){this.value=t}deref(){return this.value}},Y5=typeof WeakRef<"u"?WeakRef:Q5,X5=0,K1=1;function Ac(){return{s:X5,v:void 0,o:null,p:null}}function X2(t,e={}){let n=Ac();const{resultEqualityCheck:r}=e;let i,s=0;function o(){let a=n;const{length:l}=arguments;for(let h=0,m=l;h<m;h++){const w=arguments[h];if(typeof w=="function"||typeof w=="object"&&w!==null){let _=a.o;_===null&&(a.o=_=new WeakMap);const x=_.get(w);x===void 0?(a=Ac(),_.set(w,a)):a=x}else{let _=a.p;_===null&&(a.p=_=new Map);const x=_.get(w);x===void 0?(a=Ac(),_.set(w,a)):a=x}}const u=a;let c;if(a.s===K1?c=a.v:(c=t.apply(null,arguments),s++),u.s=K1,r){const h=(i==null?void 0:i.deref())??i;h!=null&&r(h,c)&&(c=h,s!==0&&s--),i=typeof c=="object"&&c!==null||typeof c=="function"?new Y5(c):c}return u.v=c,c}return o.clearCache=()=>{n=Ac(),o.resetResultsCount()},o.resultsCount=()=>s,o.resetResultsCount=()=>{s=0},o}function J5(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t;return(...i)=>{let s=0,o=0,a,l={},u=i.pop();typeof u=="object"&&(l=u,u=i.pop()),q5(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const c={...n,...l},{memoize:h,memoizeOptions:m=[],argsMemoize:w=X2,argsMemoizeOptions:_=[],devModeChecks:x={}}=c,T=W1(m),E=W1(_),v=K5(i),b=h(function(){return s++,u.apply(null,arguments)},...T),C=w(function(){o++;const O=G5(v,arguments);return a=b.apply(null,O),a},...E);return Object.assign(C,{resultFunc:u,memoizedResultFunc:b,dependencies:v,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>a,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:h,argsMemoize:w})}}function J2(t){return({dispatch:n,getState:r})=>i=>s=>typeof s=="function"?s(n,r,t):i(s)}var Z5=J2(),e4=J2,t4=(...t)=>{const e=J5(...t);return(...n)=>{const r=e(...n),i=(s,...o)=>r(ts(s)?G2(s):s,...o);return Object.assign(i,r),i}};t4(X2);var n4=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?zd:zd.apply(null,arguments)};function eu(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(lr(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>j5(r)&&r.type===t,n}var Z2=class al extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,al.prototype)}static get[Symbol.species](){return al}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new al(...e[0].concat(this)):new al(...e.concat(this))}};function G1(t){return ti(t)?Y2(t,()=>{}):t}function Q1(t,e,n){if(t.has(e)){let i=t.get(e);return n.update&&(i=n.update(i,e,t),t.set(e,i)),i}if(!n.insert)throw new Error(lr(10));const r=n.insert(e,t);return t.set(e,r),r}function r4(t){return typeof t=="boolean"}var i4=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=e??{};let o=new Z2;return n&&(r4(n)?o.push(Z5):o.push(e4(n.extraArgument))),o},s4="RTK_autoBatch",eI=t=>e=>{setTimeout(e,t)},o4=typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:eI(10),a4=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,s=!1,o=!1;const a=new Set,l=t.type==="tick"?queueMicrotask:t.type==="raf"?o4:t.type==="callback"?t.queueNotification:eI(t.timeout),u=()=>{o=!1,s&&(s=!1,a.forEach(c=>c()))};return Object.assign({},r,{subscribe(c){const h=()=>i&&c(),m=r.subscribe(h);return a.add(c),()=>{m(),a.delete(c)}},dispatch(c){var h;try{return i=!((h=c==null?void 0:c.meta)!=null&&h[s4]),s=!i,s&&(o||(o=!0,l(u))),r.dispatch(c)}finally{i=!0}}})},l4=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new Z2(t);return r&&i.push(a4(typeof r=="object"?r:void 0)),i},u4=!0;function c4(t){const e=i4(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:s=void 0,enhancers:o=void 0}=t||{};let a;if(typeof n=="function")a=n;else if(Cv(n))a=D5(n);else throw new Error(lr(1));let l;typeof r=="function"?l=r(e):l=e();let u=zd;i&&(u=n4({trace:!u4,...typeof i=="object"&&i}));const c=O5(...l),h=l4(c);let m=typeof o=="function"?o(h):h();const w=u(...m);return B2(a,s,w)}function tI(t){const e={},n=[];let r;const i={addCase(s,o){const a=typeof s=="string"?s:s.type;if(!a)throw new Error(lr(28));if(a in e)throw new Error(lr(29));return e[a]=o,i},addMatcher(s,o){return n.push({matcher:s,reducer:o}),i},addDefaultCase(s){return r=s,i}};return t(i),[e,n,r]}function d4(t){return typeof t=="function"}function f4(t,e){let[n,r,i]=tI(e),s;if(d4(t))s=()=>G1(t());else{const a=G1(t);s=()=>a}function o(a=s(),l){let u=[n[l.type],...r.filter(({matcher:c})=>c(l)).map(({reducer:c})=>c)];return u.filter(c=>!!c).length===0&&(u=[i]),u.reduce((c,h)=>{if(h)if(ts(c)){const w=h(c,l);return w===void 0?c:w}else{if(ti(c))return Y2(c,m=>h(m,l));{const m=h(c,l);if(m===void 0){if(c===null)return c;throw new Error(lr(9))}return m}}return c},a)}return o.getInitialState=s,o}var h4=Symbol.for("rtk-slice-createasyncthunk");function p4(t,e){return`${t}/${e}`}function m4({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[h4];return function(i){const{name:s,reducerPath:o=s}=i;if(!s)throw new Error(lr(11));typeof process<"u";const a=(typeof i.reducers=="function"?i.reducers(y4()):i.reducers)||{},l=Object.keys(a),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},c={addCase(T,E){const v=typeof T=="string"?T:T.type;if(!v)throw new Error(lr(12));if(v in u.sliceCaseReducersByType)throw new Error(lr(13));return u.sliceCaseReducersByType[v]=E,c},addMatcher(T,E){return u.sliceMatchers.push({matcher:T,reducer:E}),c},exposeAction(T,E){return u.actionCreators[T]=E,c},exposeCaseReducer(T,E){return u.sliceCaseReducersByName[T]=E,c}};l.forEach(T=>{const E=a[T],v={reducerName:T,type:p4(s,T),createNotation:typeof i.reducers=="function"};w4(E)?E4(v,E,c,e):v4(v,E,c)});function h(){const[T={},E=[],v=void 0]=typeof i.extraReducers=="function"?tI(i.extraReducers):[i.extraReducers],b={...T,...u.sliceCaseReducersByType};return f4(i.initialState,C=>{for(let R in b)C.addCase(R,b[R]);for(let R of u.sliceMatchers)C.addMatcher(R.matcher,R.reducer);for(let R of E)C.addMatcher(R.matcher,R.reducer);v&&C.addDefaultCase(v)})}const m=T=>T,w=new WeakMap;let _;const x={name:s,reducerPath:o,reducer(T,E){return _||(_=h()),_(T,E)},actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState(){return _||(_=h()),_.getInitialState()},getSelectors(T=m){const E=Q1(w,this,{insert:()=>new WeakMap});return Q1(E,T,{insert:()=>{const v={};for(const[b,C]of Object.entries(i.selectors??{}))v[b]=g4(this,C,T,this!==x);return v}})},selectSlice(T){let E=T[this.reducerPath];return typeof E>"u"&&this!==x&&(E=this.getInitialState()),E},get selectors(){return this.getSelectors(this.selectSlice)},injectInto(T,{reducerPath:E,...v}={}){const b=E??this.reducerPath;return T.inject({reducerPath:b,reducer:this.reducer},v),{...this,reducerPath:b}}};return x}}function g4(t,e,n,r){function i(s,...o){let a=n.call(t,s);return typeof a>"u"&&r&&(a=t.getInitialState()),e(a,...o)}return i.unwrapped=e,i}var Pv=m4();function y4(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function v4({type:t,reducerName:e,createNotation:n},r,i){let s,o;if("reducer"in r){if(n&&!_4(r))throw new Error(lr(17));s=r.reducer,o=r.prepare}else s=r;i.addCase(t,s).exposeCaseReducer(e,s).exposeAction(e,o?eu(t,o):eu(t))}function w4(t){return t._reducerDefinitionType==="asyncThunk"}function _4(t){return t._reducerDefinitionType==="reducerWithPrepare"}function E4({type:t,reducerName:e},n,r,i){if(!i)throw new Error(lr(18));const{payloadCreator:s,fulfilled:o,pending:a,rejected:l,settled:u,options:c}=n,h=i(t,s,c);r.exposeAction(e,h),o&&r.addCase(h.fulfilled,o),a&&r.addCase(h.pending,a),l&&r.addCase(h.rejected,l),u&&r.addMatcher(h.settled,u),r.exposeCaseReducer(e,{fulfilled:o||Rc,pending:a||Rc,rejected:l||Rc,settled:u||Rc})}function Rc(){}var kv="listenerMiddleware";eu(`${kv}/add`);eu(`${kv}/removeAll`);eu(`${kv}/remove`);function lr(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}const nI=Pv({name:"auth",initialState:{status:"offline",user:{},errorMessage:null,resetPasswordMessage:null},reducers:{login:(t,e)=>{t.status="online",t.user=e.payload},logout:(t,e)=>{t.status="offline",t.user={},t.errorMessage=e.payload},checkingCredentials:(t,e)=>{t.status="checking"},checkingGoogleCredentials:(t,e)=>{t.status="checking"},resetPasswordEmail:(t,e)=>{t.resetPasswordMessage=e.payload}}}),{login:Nv,logout:rI,checkingCredentials:iI,checkingGoogleCredentials:x4,resetPasswordEmail:qW}=nI.actions;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sI=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},T4=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},oI={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=s>>2,h=(s&3)<<4|a>>4;let m=(a&15)<<2|u>>6,w=u&63;l||(w=64,o||(m=64)),r.push(n[c],n[h],n[m],n[w])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(sI(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):T4(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||h==null)throw new b4;const m=s<<2|a>>4;if(r.push(m),u!==64){const w=a<<4&240|u>>2;if(r.push(w),h!==64){const _=u<<6&192|h;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class b4 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const I4=function(t){const e=sI(t);return oI.encodeByteArray(e,!0)},Wd=function(t){return I4(t).replace(/\./g,"")},aI=function(t){try{return oI.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S4(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C4=()=>S4().__FIREBASE_DEFAULTS__,A4=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},R4=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&aI(t[1]);return e&&JSON.parse(e)},Dv=()=>{try{return C4()||A4()||R4()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},lI=t=>{var e,n;return(n=(e=Dv())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},uI=t=>{const e=lI(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},cI=()=>{var t;return(t=Dv())===null||t===void 0?void 0:t.config},dI=t=>{var e;return(e=Dv())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P4{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fI(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[Wd(JSON.stringify(n)),Wd(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function k4(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Gt())}function hI(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function N4(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function D4(){const t=Gt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function pI(){try{return typeof indexedDB=="object"}catch{return!1}}function mI(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}function O4(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j4="FirebaseError";class Qn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=j4,Object.setPrototypeOf(this,Qn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ro.prototype.create)}}class ro{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?L4(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Qn(i,a,r)}}function L4(t,e){return t.replace(M4,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const M4=/\{\$([^}]+)}/g;function V4(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function tu(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(Y1(s)&&Y1(o)){if(!tu(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Y1(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Au(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ll(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function ul(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function F4(t,e){const n=new U4(t,e);return n.subscribe.bind(n)}class U4{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");$4(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=qp),i.error===void 0&&(i.error=qp),i.complete===void 0&&(i.complete=qp);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function $4(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function qp(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B4=1e3,z4=2,H4=4*60*60*1e3,q4=.5;function X1(t,e=B4,n=z4){const r=e*Math.pow(n,t),i=Math.round(q4*r*(Math.random()-.5)*2);return Math.min(H4,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ne(t){return t&&t._delegate?t._delegate:t}class Wn{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ts="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W4{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new P4;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(G4(e))try{this.getOrInitializeService({instanceIdentifier:Ts})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Ts){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ts){return this.instances.has(e)}getOptions(e=Ts){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:K4(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ts){return this.component?this.component.multipleInstances?e:Ts:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function K4(t){return t===Ts?void 0:t}function G4(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q4{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new W4(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var me;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(me||(me={}));const Y4={debug:me.DEBUG,verbose:me.VERBOSE,info:me.INFO,warn:me.WARN,error:me.ERROR,silent:me.SILENT},X4=me.INFO,J4={[me.DEBUG]:"log",[me.VERBOSE]:"log",[me.INFO]:"info",[me.WARN]:"warn",[me.ERROR]:"error"},Z4=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=J4[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Xf{constructor(e){this.name=e,this._logLevel=X4,this._logHandler=Z4,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Y4[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,me.DEBUG,...e),this._logHandler(this,me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,me.VERBOSE,...e),this._logHandler(this,me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,me.INFO,...e),this._logHandler(this,me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,me.WARN,...e),this._logHandler(this,me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,me.ERROR,...e),this._logHandler(this,me.ERROR,...e)}}const ej=(t,e)=>e.some(n=>t instanceof n);let J1,Z1;function tj(){return J1||(J1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function nj(){return Z1||(Z1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const gI=new WeakMap,Dg=new WeakMap,yI=new WeakMap,Wp=new WeakMap,Ov=new WeakMap;function rj(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(qi(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&gI.set(n,t)}).catch(()=>{}),Ov.set(e,t),e}function ij(t){if(Dg.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Dg.set(t,e)}let Og={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Dg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||yI.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return qi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function sj(t){Og=t(Og)}function oj(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Kp(this),e,...n);return yI.set(r,e.sort?e.sort():[e]),qi(r)}:nj().includes(t)?function(...e){return t.apply(Kp(this),e),qi(gI.get(this))}:function(...e){return qi(t.apply(Kp(this),e))}}function aj(t){return typeof t=="function"?oj(t):(t instanceof IDBTransaction&&ij(t),ej(t,tj())?new Proxy(t,Og):t)}function qi(t){if(t instanceof IDBRequest)return rj(t);if(Wp.has(t))return Wp.get(t);const e=aj(t);return e!==t&&(Wp.set(t,e),Ov.set(e,t)),e}const Kp=t=>Ov.get(t);function lj(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=qi(o);return r&&o.addEventListener("upgradeneeded",l=>{r(qi(o.result),l.oldVersion,l.newVersion,qi(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const uj=["get","getKey","getAll","getAllKeys","count"],cj=["put","add","delete","clear"],Gp=new Map;function eE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Gp.get(e))return Gp.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=cj.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||uj.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return Gp.set(e,s),s}sj(t=>({...t,get:(e,n,r)=>eE(e,n)||t.get(e,n,r),has:(e,n)=>!!eE(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dj{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(fj(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function fj(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const jg="@firebase/app",tE="0.9.25";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qs=new Xf("@firebase/app"),hj="@firebase/app-compat",pj="@firebase/analytics-compat",mj="@firebase/analytics",gj="@firebase/app-check-compat",yj="@firebase/app-check",vj="@firebase/auth",wj="@firebase/auth-compat",_j="@firebase/database",Ej="@firebase/database-compat",xj="@firebase/functions",Tj="@firebase/functions-compat",bj="@firebase/installations",Ij="@firebase/installations-compat",Sj="@firebase/messaging",Cj="@firebase/messaging-compat",Aj="@firebase/performance",Rj="@firebase/performance-compat",Pj="@firebase/remote-config",kj="@firebase/remote-config-compat",Nj="@firebase/storage",Dj="@firebase/storage-compat",Oj="@firebase/firestore",jj="@firebase/firestore-compat",Lj="firebase",Mj="10.7.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lg="[DEFAULT]",Vj={[jg]:"fire-core",[hj]:"fire-core-compat",[mj]:"fire-analytics",[pj]:"fire-analytics-compat",[yj]:"fire-app-check",[gj]:"fire-app-check-compat",[vj]:"fire-auth",[wj]:"fire-auth-compat",[_j]:"fire-rtdb",[Ej]:"fire-rtdb-compat",[xj]:"fire-fn",[Tj]:"fire-fn-compat",[bj]:"fire-iid",[Ij]:"fire-iid-compat",[Sj]:"fire-fcm",[Cj]:"fire-fcm-compat",[Aj]:"fire-perf",[Rj]:"fire-perf-compat",[Pj]:"fire-rc",[kj]:"fire-rc-compat",[Nj]:"fire-gcs",[Dj]:"fire-gcs-compat",[Oj]:"fire-fst",[jj]:"fire-fst-compat","fire-js":"fire-js",[Lj]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kd=new Map,Mg=new Map;function Fj(t,e){try{t.container.addComponent(e)}catch(n){qs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function cr(t){const e=t.name;if(Mg.has(e))return qs.debug(`There were multiple attempts to register component ${e}.`),!1;Mg.set(e,t);for(const n of Kd.values())Fj(n,t);return!0}function us(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uj={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Wi=new ro("app","Firebase",Uj);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $j{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Wn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Wi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const io=Mj;function vI(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Lg,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Wi.create("bad-app-name",{appName:String(i)});if(n||(n=cI()),!n)throw Wi.create("no-options");const s=Kd.get(i);if(s){if(tu(n,s.options)&&tu(r,s.config))return s;throw Wi.create("duplicate-app",{appName:i})}const o=new Q4(i);for(const l of Mg.values())o.addComponent(l);const a=new $j(n,r,o);return Kd.set(i,a),a}function Jf(t=Lg){const e=Kd.get(t);if(!e&&t===Lg&&cI())return vI();if(!e)throw Wi.create("no-app",{appName:t});return e}function fn(t,e,n){var r;let i=(r=Vj[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),qs.warn(a.join(" "));return}cr(new Wn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bj="firebase-heartbeat-database",zj=1,nu="firebase-heartbeat-store";let Qp=null;function wI(){return Qp||(Qp=lj(Bj,zj,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(nu)}}}).catch(t=>{throw Wi.create("idb-open",{originalErrorMessage:t.message})})),Qp}async function Hj(t){try{return await(await wI()).transaction(nu).objectStore(nu).get(_I(t))}catch(e){if(e instanceof Qn)qs.warn(e.message);else{const n=Wi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});qs.warn(n.message)}}}async function nE(t,e){try{const r=(await wI()).transaction(nu,"readwrite");await r.objectStore(nu).put(e,_I(t)),await r.done}catch(n){if(n instanceof Qn)qs.warn(n.message);else{const r=Wi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});qs.warn(r.message)}}}function _I(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qj=1024,Wj=30*24*60*60*1e3;class Kj{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Qj(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=rE();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=Wj}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=rE(),{heartbeatsToSend:r,unsentEntries:i}=Gj(this._heartbeatsCache.heartbeats),s=Wd(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function rE(){return new Date().toISOString().substring(0,10)}function Gj(t,e=qj){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),iE(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),iE(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Qj{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return pI()?mI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Hj(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return nE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return nE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function iE(t){return Wd(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yj(t){cr(new Wn("platform-logger",e=>new dj(e),"PRIVATE")),cr(new Wn("heartbeat",e=>new Kj(e),"PRIVATE")),fn(jg,tE,t),fn(jg,tE,"esm2017"),fn("fire-js","")}Yj("");var Xj=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},W,jv=jv||{},oe=Xj||self;function Zf(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Ru(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function Jj(t){return Object.prototype.hasOwnProperty.call(t,Yp)&&t[Yp]||(t[Yp]=++Zj)}var Yp="closure_uid_"+(1e9*Math.random()>>>0),Zj=0;function eL(t,e,n){return t.call.apply(t.bind,arguments)}function tL(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Ht(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Ht=eL:Ht=tL,Ht.apply(null,arguments)}function Pc(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function xt(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function cs(){this.s=this.s,this.o=this.o}var nL=0;cs.prototype.s=!1;cs.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),nL!=0)&&Jj(this)};cs.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const EI=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Lv(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function sE(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Zf(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function qt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}qt.prototype.h=function(){this.defaultPrevented=!0};var rL=function(){if(!oe.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const n=()=>{};oe.addEventListener("test",n,e),oe.removeEventListener("test",n,e)}catch{}return t}();function ru(t){return/^[\s\xa0]*$/.test(t)}function eh(){var t=oe.navigator;return t&&(t=t.userAgent)?t:""}function wr(t){return eh().indexOf(t)!=-1}function Mv(t){return Mv[" "](t),t}Mv[" "]=function(){};function iL(t,e){var n=YL;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var sL=wr("Opera"),oa=wr("Trident")||wr("MSIE"),xI=wr("Edge"),Vg=xI||oa,TI=wr("Gecko")&&!(eh().toLowerCase().indexOf("webkit")!=-1&&!wr("Edge"))&&!(wr("Trident")||wr("MSIE"))&&!wr("Edge"),oL=eh().toLowerCase().indexOf("webkit")!=-1&&!wr("Edge");function bI(){var t=oe.document;return t?t.documentMode:void 0}var Fg;e:{var Xp="",Jp=function(){var t=eh();if(TI)return/rv:([^\);]+)(\)|;)/.exec(t);if(xI)return/Edge\/([\d\.]+)/.exec(t);if(oa)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(oL)return/WebKit\/(\S+)/.exec(t);if(sL)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Jp&&(Xp=Jp?Jp[1]:""),oa){var Zp=bI();if(Zp!=null&&Zp>parseFloat(Xp)){Fg=String(Zp);break e}}Fg=Xp}var Ug;if(oe.document&&oa){var oE=bI();Ug=oE||parseInt(Fg,10)||void 0}else Ug=void 0;var aL=Ug;function iu(t,e){if(qt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(TI){e:{try{Mv(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:lL[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&iu.$.h.call(this)}}xt(iu,qt);var lL={2:"touch",3:"pen",4:"mouse"};iu.prototype.h=function(){iu.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Pu="closure_listenable_"+(1e6*Math.random()|0),uL=0;function cL(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++uL,this.fa=this.ia=!1}function th(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Vv(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function dL(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function II(t){const e={};for(const n in t)e[n]=t[n];return e}const aE="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function SI(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<aE.length;s++)n=aE[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function nh(t){this.src=t,this.g={},this.h=0}nh.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=Bg(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new cL(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function $g(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=EI(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(th(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Bg(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var Fv="closure_lm_"+(1e6*Math.random()|0),em={};function CI(t,e,n,r,i){if(r&&r.once)return RI(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)CI(t,e[s],n,r,i);return null}return n=Bv(n),t&&t[Pu]?t.O(e,n,Ru(r)?!!r.capture:!!r,i):AI(t,e,n,!1,r,i)}function AI(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Ru(i)?!!i.capture:!!i,a=$v(t);if(a||(t[Fv]=a=new nh(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=fL(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)rL||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(kI(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function fL(){function t(n){return e.call(t.src,t.listener,n)}const e=hL;return t}function RI(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)RI(t,e[s],n,r,i);return null}return n=Bv(n),t&&t[Pu]?t.P(e,n,Ru(r)?!!r.capture:!!r,i):AI(t,e,n,!0,r,i)}function PI(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)PI(t,e[s],n,r,i);else r=Ru(r)?!!r.capture:!!r,n=Bv(n),t&&t[Pu]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=Bg(s,n,r,i),-1<n&&(th(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=$v(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Bg(e,n,r,i)),(n=-1<t?e[t]:null)&&Uv(n))}function Uv(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Pu])$g(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(kI(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=$v(e))?($g(n,t),n.h==0&&(n.src=null,e[Fv]=null)):th(t)}}}function kI(t){return t in em?em[t]:em[t]="on"+t}function hL(t,e){if(t.fa)t=!0;else{e=new iu(e,this);var n=t.listener,r=t.la||t.src;t.ia&&Uv(t),t=n.call(r,e)}return t}function $v(t){return t=t[Fv],t instanceof nh?t:null}var tm="__closure_events_fn_"+(1e9*Math.random()>>>0);function Bv(t){return typeof t=="function"?t:(t[tm]||(t[tm]=function(e){return t.handleEvent(e)}),t[tm])}function Et(){cs.call(this),this.i=new nh(this),this.S=this,this.J=null}xt(Et,cs);Et.prototype[Pu]=!0;Et.prototype.removeEventListener=function(t,e,n,r){PI(this,t,e,n,r)};function Dt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new qt(e,t);else if(e instanceof qt)e.target=e.target||t;else{var i=e;e=new qt(r,t),SI(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=kc(o,r,!0,e)&&i}if(o=e.g=t,i=kc(o,r,!0,e)&&i,i=kc(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=kc(o,r,!1,e)&&i}Et.prototype.N=function(){if(Et.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)th(n[r]);delete t.g[e],t.h--}}this.J=null};Et.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};Et.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function kc(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&$g(t.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var zv=oe.JSON.stringify;class pL{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function mL(){var t=Hv;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class gL{constructor(){this.h=this.g=null}add(e,n){const r=NI.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var NI=new pL(()=>new yL,t=>t.reset());class yL{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function vL(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function wL(t){oe.setTimeout(()=>{throw t},0)}let su,ou=!1,Hv=new gL,DI=()=>{const t=oe.Promise.resolve(void 0);su=()=>{t.then(_L)}};var _L=()=>{for(var t;t=mL();){try{t.h.call(t.g)}catch(n){wL(n)}var e=NI;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}ou=!1};function rh(t,e){Et.call(this),this.h=t||1,this.g=e||oe,this.j=Ht(this.qb,this),this.l=Date.now()}xt(rh,Et);W=rh.prototype;W.ga=!1;W.T=null;W.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Dt(this,"tick"),this.ga&&(qv(this),this.start()))}};W.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function qv(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}W.N=function(){rh.$.N.call(this),qv(this),delete this.g};function Wv(t,e,n){if(typeof t=="function")n&&(t=Ht(t,n));else if(t&&typeof t.handleEvent=="function")t=Ht(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:oe.setTimeout(t,e||0)}function OI(t){t.g=Wv(()=>{t.g=null,t.i&&(t.i=!1,OI(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class EL extends cs{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:OI(this)}N(){super.N(),this.g&&(oe.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function au(t){cs.call(this),this.h=t,this.g={}}xt(au,cs);var lE=[];function jI(t,e,n,r){Array.isArray(n)||(n&&(lE[0]=n.toString()),n=lE);for(var i=0;i<n.length;i++){var s=CI(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function LI(t){Vv(t.g,function(e,n){this.g.hasOwnProperty(n)&&Uv(e)},t),t.g={}}au.prototype.N=function(){au.$.N.call(this),LI(this)};au.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function ih(){this.g=!0}ih.prototype.Ea=function(){this.g=!1};function xL(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var h=c.split("_");o=2<=h.length&&h[1]=="type"?o+(c+"="+u+"&"):o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function TL(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function Fo(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+IL(t,n)+(r?" "+r:"")})}function bL(t,e){t.info(function(){return"TIMEOUT: "+e})}ih.prototype.info=function(){};function IL(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return zv(n)}catch{return e}}var so={},uE=null;function sh(){return uE=uE||new Et}so.Ta="serverreachability";function MI(t){qt.call(this,so.Ta,t)}xt(MI,qt);function lu(t){const e=sh();Dt(e,new MI(e))}so.STAT_EVENT="statevent";function VI(t,e){qt.call(this,so.STAT_EVENT,t),this.stat=e}xt(VI,qt);function tn(t){const e=sh();Dt(e,new VI(e,t))}so.Ua="timingevent";function FI(t,e){qt.call(this,so.Ua,t),this.size=e}xt(FI,qt);function ku(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return oe.setTimeout(function(){t()},e)}var oh={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},UI={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Kv(){}Kv.prototype.h=null;function cE(t){return t.h||(t.h=t.i())}function $I(){}var Nu={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Gv(){qt.call(this,"d")}xt(Gv,qt);function Qv(){qt.call(this,"c")}xt(Qv,qt);var zg;function ah(){}xt(ah,Kv);ah.prototype.g=function(){return new XMLHttpRequest};ah.prototype.i=function(){return{}};zg=new ah;function Du(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new au(this),this.P=SL,t=Vg?125:void 0,this.V=new rh(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new BI}function BI(){this.i=null,this.g="",this.h=!1}var SL=45e3,zI={},Hg={};W=Du.prototype;W.setTimeout=function(t){this.P=t};function qg(t,e,n){t.L=1,t.A=uh(ni(e)),t.u=n,t.S=!0,HI(t,null)}function HI(t,e){t.G=Date.now(),Ou(t),t.B=ni(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),JI(n.i,"t",r),t.o=0,n=t.l.J,t.h=new BI,t.g=wS(t.l,n?e:null,!t.u),0<t.O&&(t.M=new EL(Ht(t.Pa,t,t.g),t.O)),jI(t.U,t.g,"readystatechange",t.nb),e=t.I?II(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),lu(),xL(t.j,t.v,t.B,t.m,t.W,t.u)}W.nb=function(t){t=t.target;const e=this.M;e&&Er(t)==3?e.l():this.Pa(t)};W.Pa=function(t){try{if(t==this.g)e:{const c=Er(this.g);var e=this.g.Ia();const h=this.g.da();if(!(3>c)&&(c!=3||Vg||this.g&&(this.h.h||this.g.ja()||pE(this.g)))){this.J||c!=4||e==7||(e==8||0>=h?lu(3):lu(2)),lh(this);var n=this.g.da();this.ca=n;t:if(qI(this)){var r=pE(this.g);t="";var i=r.length,s=Er(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Cs(this),bl(this);var o="";break t}this.h.i=new oe.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.length=0,this.h.g+=t,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,TL(this.j,this.v,this.B,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ru(a)){var u=a;break t}}u=null}if(n=u)Fo(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Wg(this,n);else{this.i=!1,this.s=3,tn(12),Cs(this),bl(this);break e}}this.S?(WI(this,c,o),Vg&&this.i&&c==3&&(jI(this.U,this.V,"tick",this.mb),this.V.start())):(Fo(this.j,this.m,o,null),Wg(this,o)),c==4&&Cs(this),this.i&&!this.J&&(c==4?mS(this.l,this):(this.i=!1,Ou(this)))}else KL(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.s=3,tn(12)):(this.s=0,tn(13)),Cs(this),bl(this)}}}catch{}finally{}};function qI(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function WI(t,e,n){let r=!0,i;for(;!t.J&&t.o<n.length;)if(i=CL(t,n),i==Hg){e==4&&(t.s=4,tn(14),r=!1),Fo(t.j,t.m,null,"[Incomplete Response]");break}else if(i==zI){t.s=4,tn(15),Fo(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Fo(t.j,t.m,i,null),Wg(t,i);qI(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,tn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),tw(e),e.M=!0,tn(11))):(Fo(t.j,t.m,n,"[Invalid Chunked Response]"),Cs(t),bl(t))}W.mb=function(){if(this.g){var t=Er(this.g),e=this.g.ja();this.o<e.length&&(lh(this),WI(this,t,e),this.i&&t!=4&&Ou(this))}};function CL(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?Hg:(n=Number(e.substring(n,r)),isNaN(n)?zI:(r+=1,r+n>e.length?Hg:(e=e.slice(r,r+n),t.o=r+n,e)))}W.cancel=function(){this.J=!0,Cs(this)};function Ou(t){t.Y=Date.now()+t.P,KI(t,t.P)}function KI(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=ku(Ht(t.lb,t),e)}function lh(t){t.C&&(oe.clearTimeout(t.C),t.C=null)}W.lb=function(){this.C=null;const t=Date.now();0<=t-this.Y?(bL(this.j,this.B),this.L!=2&&(lu(),tn(17)),Cs(this),this.s=2,bl(this)):KI(this,this.Y-t)};function bl(t){t.l.H==0||t.J||mS(t.l,t)}function Cs(t){lh(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,qv(t.V),LI(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Wg(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Kg(n.i,t))){if(!t.K&&Kg(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Yd(n),hh(n);else break e;ew(n),tn(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=ku(Ht(n.ib,n),6e3));if(1>=tS(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else As(n,11)}else if((t.K||n.g==t)&&Yd(n),!ru(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];const c=u[3];c!=null&&(n.ra=c,n.l.info("VER="+n.ra));const h=u[4];h!=null&&(n.Ga=h,n.l.info("SVER="+n.Ga));const m=u[5];m!=null&&typeof m=="number"&&0<m&&(r=1.5*m,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const w=t.g;if(w){const _=w.g?w.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_){var s=r.i;s.g||_.indexOf("spdy")==-1&&_.indexOf("quic")==-1&&_.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(Yv(s,s.h),s.h=null))}if(r.F){const x=w.g?w.g.getResponseHeader("X-HTTP-Session-Id"):null;x&&(r.Da=x,je(r.I,r.F,x))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=vS(r,r.J?r.pa:null,r.Y),o.K){nS(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.C&&(lh(a),Ou(a)),r.g=o}else hS(r);0<n.j.length&&ph(n)}else u[0]!="stop"&&u[0]!="close"||As(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?As(n,7):Zv(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}lu(4)}catch{}}function AL(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Zf(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function RL(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Zf(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function GI(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Zf(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=RL(t),r=AL(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var QI=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function PL(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function js(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof js){this.h=t.h,Gd(this,t.j),this.s=t.s,this.g=t.g,Qd(this,t.m),this.l=t.l;var e=t.i,n=new uu;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),dE(this,n),this.o=t.o}else t&&(e=String(t).match(QI))?(this.h=!1,Gd(this,e[1]||"",!0),this.s=cl(e[2]||""),this.g=cl(e[3]||"",!0),Qd(this,e[4]),this.l=cl(e[5]||"",!0),dE(this,e[6]||"",!0),this.o=cl(e[7]||"")):(this.h=!1,this.i=new uu(null,this.h))}js.prototype.toString=function(){var t=[],e=this.j;e&&t.push(dl(e,fE,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(dl(e,fE,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(dl(n,n.charAt(0)=="/"?DL:NL,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",dl(n,jL)),t.join("")};function ni(t){return new js(t)}function Gd(t,e,n){t.j=n?cl(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Qd(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function dE(t,e,n){e instanceof uu?(t.i=e,LL(t.i,t.h)):(n||(e=dl(e,OL)),t.i=new uu(e,t.h))}function je(t,e,n){t.i.set(e,n)}function uh(t){return je(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function cl(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function dl(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,kL),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function kL(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var fE=/[#\/\?@]/g,NL=/[#\?:]/g,DL=/[#\?]/g,OL=/[#\?@]/g,jL=/#/g;function uu(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function ds(t){t.g||(t.g=new Map,t.h=0,t.i&&PL(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}W=uu.prototype;W.add=function(t,e){ds(this),this.i=null,t=Ea(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function YI(t,e){ds(t),e=Ea(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function XI(t,e){return ds(t),e=Ea(t,e),t.g.has(e)}W.forEach=function(t,e){ds(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};W.ta=function(){ds(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};W.Z=function(t){ds(this);let e=[];if(typeof t=="string")XI(this,t)&&(e=e.concat(this.g.get(Ea(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};W.set=function(t,e){return ds(this),this.i=null,t=Ea(this,t),XI(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};W.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function JI(t,e,n){YI(t,e),0<n.length&&(t.i=null,t.g.set(Ea(t,e),Lv(n)),t.h+=n.length)}W.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function Ea(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function LL(t,e){e&&!t.j&&(ds(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(YI(this,r),JI(this,i,n))},t)),t.j=e}var ML=class{constructor(t,e){this.g=t,this.map=e}};function ZI(t){this.l=t||VL,oe.PerformanceNavigationTiming?(t=oe.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(oe.g&&oe.g.Ka&&oe.g.Ka()&&oe.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var VL=10;function eS(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function tS(t){return t.h?1:t.g?t.g.size:0}function Kg(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Yv(t,e){t.g?t.g.add(e):t.h=e}function nS(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}ZI.prototype.cancel=function(){if(this.i=rS(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function rS(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return Lv(t.i)}var FL=class{stringify(t){return oe.JSON.stringify(t,void 0)}parse(t){return oe.JSON.parse(t,void 0)}};function UL(){this.g=new FL}function $L(t,e,n){const r=n||"";try{GI(t,function(i,s){let o=i;Ru(i)&&(o=zv(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function BL(t,e){const n=new ih;if(oe.Image){const r=new Image;r.onload=Pc(Nc,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Pc(Nc,n,r,"TestLoadImage: error",!1,e),r.onabort=Pc(Nc,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Pc(Nc,n,r,"TestLoadImage: timeout",!1,e),oe.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Nc(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function ch(t){this.l=t.ec||null,this.j=t.ob||!1}xt(ch,Kv);ch.prototype.g=function(){return new dh(this.l,this.j)};ch.prototype.i=function(t){return function(){return t}}({});function dh(t,e){Et.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Xv,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}xt(dh,Et);var Xv=0;W=dh.prototype;W.open=function(t,e){if(this.readyState!=Xv)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,cu(this)};W.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||oe).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};W.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ju(this)),this.readyState=Xv};W.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,cu(this)),this.g&&(this.readyState=3,cu(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof oe.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;iS(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function iS(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}W.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?ju(this):cu(this),this.readyState==3&&iS(this)}};W.Za=function(t){this.g&&(this.response=this.responseText=t,ju(this))};W.Ya=function(t){this.g&&(this.response=t,ju(this))};W.ka=function(){this.g&&ju(this)};function ju(t){t.readyState=4,t.l=null,t.j=null,t.A=null,cu(t)}W.setRequestHeader=function(t,e){this.v.append(t,e)};W.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};W.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function cu(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(dh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var zL=oe.JSON.parse;function Ye(t){Et.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=sS,this.L=this.M=!1}xt(Ye,Et);var sS="",HL=/^https?$/i,qL=["POST","PUT"];W=Ye.prototype;W.Oa=function(t){this.M=t};W.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():zg.g(),this.C=this.u?cE(this.u):cE(zg),this.g.onreadystatechange=Ht(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){hE(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=oe.FormData&&t instanceof oe.FormData,!(0<=EI(qL,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{lS(this),0<this.B&&((this.L=WL(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ht(this.ua,this)):this.A=Wv(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){hE(this,s)}};function WL(t){return oa&&typeof t.timeout=="number"&&t.ontimeout!==void 0}W.ua=function(){typeof jv<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Dt(this,"timeout"),this.abort(8))};function hE(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,oS(t),fh(t)}function oS(t){t.F||(t.F=!0,Dt(t,"complete"),Dt(t,"error"))}W.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Dt(this,"complete"),Dt(this,"abort"),fh(this))};W.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),fh(this,!0)),Ye.$.N.call(this)};W.La=function(){this.s||(this.G||this.v||this.l?aS(this):this.kb())};W.kb=function(){aS(this)};function aS(t){if(t.h&&typeof jv<"u"&&(!t.C[1]||Er(t)!=4||t.da()!=2)){if(t.v&&Er(t)==4)Wv(t.La,0,t);else if(Dt(t,"readystatechange"),Er(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(QI)[1]||null;!i&&oe.self&&oe.self.location&&(i=oe.self.location.protocol.slice(0,-1)),r=!HL.test(i?i.toLowerCase():"")}n=r}if(n)Dt(t,"complete"),Dt(t,"success");else{t.m=6;try{var s=2<Er(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",oS(t)}}finally{fh(t)}}}}function fh(t,e){if(t.g){lS(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Dt(t,"ready");try{n.onreadystatechange=r}catch{}}}function lS(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(oe.clearTimeout(t.A),t.A=null)}W.isActive=function(){return!!this.g};function Er(t){return t.g?t.g.readyState:0}W.da=function(){try{return 2<Er(this)?this.g.status:-1}catch{return-1}};W.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};W.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),zL(e)}};function pE(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case sS:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function KL(t){const e={};t=(t.g&&2<=Er(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(ru(t[r]))continue;var n=vL(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}dL(e,function(r){return r.join(", ")})}W.Ia=function(){return this.m};W.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function uS(t){let e="";return Vv(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function Jv(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=uS(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):je(t,e,n))}function Ya(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function cS(t){this.Ga=0,this.j=[],this.l=new ih,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Ya("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Ya("baseRetryDelayMs",5e3,t),this.hb=Ya("retryDelaySeedMs",1e4,t),this.eb=Ya("forwardChannelMaxRetries",2,t),this.xa=Ya("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new ZI(t&&t.concurrentRequestLimit),this.Ja=new UL,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}W=cS.prototype;W.ra=8;W.H=1;function Zv(t){if(dS(t),t.H==3){var e=t.W++,n=ni(t.I);if(je(n,"SID",t.K),je(n,"RID",e),je(n,"TYPE","terminate"),Lu(t,n),e=new Du(t,t.l,e),e.L=2,e.A=uh(ni(n)),n=!1,oe.navigator&&oe.navigator.sendBeacon)try{n=oe.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&oe.Image&&(new Image().src=e.A,n=!0),n||(e.g=wS(e.l,null),e.g.ha(e.A)),e.G=Date.now(),Ou(e)}yS(t)}function hh(t){t.g&&(tw(t),t.g.cancel(),t.g=null)}function dS(t){hh(t),t.u&&(oe.clearTimeout(t.u),t.u=null),Yd(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&oe.clearTimeout(t.m),t.m=null)}function ph(t){if(!eS(t.i)&&!t.m){t.m=!0;var e=t.Na;su||DI(),ou||(su(),ou=!0),Hv.add(e,t),t.C=0}}function GL(t,e){return tS(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=ku(Ht(t.Na,t,e),gS(t,t.C)),t.C++,!0)}W.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new Du(this,this.l,t);let s=this.s;if(this.U&&(s?(s=II(s),SI(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=fS(this,i,e),n=ni(this.I),je(n,"RID",t),je(n,"CVER",22),this.F&&je(n,"X-HTTP-Session-Id",this.F),Lu(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(uS(s)))+"&"+e:this.o&&Jv(n,this.o,s)),Yv(this.i,i),this.bb&&je(n,"TYPE","init"),this.P?(je(n,"$req",e),je(n,"SID","null"),i.aa=!0,qg(i,n,null)):qg(i,n,e),this.H=2}}else this.H==3&&(t?mE(this,t):this.j.length==0||eS(this.i)||mE(this))};function mE(t,e){var n;e?n=e.m:n=t.W++;const r=ni(t.I);je(r,"SID",t.K),je(r,"RID",n),je(r,"AID",t.V),Lu(t,r),t.o&&t.s&&Jv(r,t.o,t.s),n=new Du(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=fS(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Yv(t.i,n),qg(n,r,e)}function Lu(t,e){t.na&&Vv(t.na,function(n,r){je(e,r,n)}),t.h&&GI({},function(n,r){je(e,r,n)})}function fS(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Ht(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let u=i[l].g;const c=i[l].map;if(u-=s,0>u)s=Math.max(0,i[l].g-100),a=!1;else try{$L(c,o,"req"+u+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function hS(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;su||DI(),ou||(su(),ou=!0),Hv.add(e,t),t.A=0}}function ew(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=ku(Ht(t.Ma,t),gS(t,t.A)),t.A++,!0)}W.Ma=function(){if(this.u=null,pS(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=ku(Ht(this.jb,this),t)}};W.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,tn(10),hh(this),pS(this))};function tw(t){t.B!=null&&(oe.clearTimeout(t.B),t.B=null)}function pS(t){t.g=new Du(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=ni(t.wa);je(e,"RID","rpc"),je(e,"SID",t.K),je(e,"AID",t.V),je(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&je(e,"TO",t.qa),je(e,"TYPE","xmlhttp"),Lu(t,e),t.o&&t.s&&Jv(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=uh(ni(e)),n.u=null,n.S=!0,HI(n,t)}W.ib=function(){this.v!=null&&(this.v=null,hh(this),ew(this),tn(19))};function Yd(t){t.v!=null&&(oe.clearTimeout(t.v),t.v=null)}function mS(t,e){var n=null;if(t.g==e){Yd(t),tw(t),t.g=null;var r=2}else if(Kg(t.i,e))n=e.F,nS(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;r=sh(),Dt(r,new FI(r,n)),ph(t)}else hS(t);else if(i=e.s,i==3||i==0&&0<e.ca||!(r==1&&GL(t,e)||r==2&&ew(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:As(t,5);break;case 4:As(t,10);break;case 3:As(t,6);break;default:As(t,2)}}}function gS(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function As(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=Ht(t.pb,t);n||(n=new js("//www.google.com/images/cleardot.gif"),oe.location&&oe.location.protocol=="http"||Gd(n,"https"),uh(n)),BL(n.toString(),r)}else tn(2);t.H=0,t.h&&t.h.za(e),yS(t),dS(t)}W.pb=function(t){t?(this.l.info("Successfully pinged google.com"),tn(2)):(this.l.info("Failed to ping google.com"),tn(1))};function yS(t){if(t.H=0,t.ma=[],t.h){const e=rS(t.i);(e.length!=0||t.j.length!=0)&&(sE(t.ma,e),sE(t.ma,t.j),t.i.i.length=0,Lv(t.j),t.j.length=0),t.h.ya()}}function vS(t,e,n){var r=n instanceof js?ni(n):new js(n);if(r.g!="")e&&(r.g=e+"."+r.g),Qd(r,r.m);else{var i=oe.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new js(null);r&&Gd(s,r),e&&(s.g=e),i&&Qd(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&je(r,n,e),je(r,"VER",t.ra),Lu(t,r),r}function wS(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new Ye(new ch({ob:n})):new Ye(t.va),e.Oa(t.J),e}W.isActive=function(){return!!this.h&&this.h.isActive(this)};function _S(){}W=_S.prototype;W.Ba=function(){};W.Aa=function(){};W.za=function(){};W.ya=function(){};W.isActive=function(){return!0};W.Va=function(){};function Xd(){if(oa&&!(10<=Number(aL)))throw Error("Environmental error: no available transport.")}Xd.prototype.g=function(t,e){return new Rn(t,e)};function Rn(t,e){Et.call(this),this.g=new cS(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!ru(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!ru(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new xa(this)}xt(Rn,Et);Rn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;tn(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=vS(t,null,t.Y),ph(t)};Rn.prototype.close=function(){Zv(this.g)};Rn.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=zv(t),t=n);e.j.push(new ML(e.fb++,t)),e.H==3&&ph(e)};Rn.prototype.N=function(){this.g.h=null,delete this.j,Zv(this.g),delete this.g,Rn.$.N.call(this)};function ES(t){Gv.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}xt(ES,Gv);function xS(){Qv.call(this),this.status=1}xt(xS,Qv);function xa(t){this.g=t}xt(xa,_S);xa.prototype.Ba=function(){Dt(this.g,"a")};xa.prototype.Aa=function(t){Dt(this.g,new ES(t))};xa.prototype.za=function(t){Dt(this.g,new xS)};xa.prototype.ya=function(){Dt(this.g,"b")};function QL(){this.blockSize=-1}function dr(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}xt(dr,QL);dr.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function nm(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}dr.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)nm(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){nm(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){nm(this,r),i=0;break}}this.h=i,this.i+=e};dr.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function Ce(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var YL={};function nw(t){return-128<=t&&128>t?iL(t,function(e){return new Ce([e|0],0>e?-1:0)}):new Ce([t|0],0>t?-1:0)}function xr(t){if(isNaN(t)||!isFinite(t))return Ko;if(0>t)return Pt(xr(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=Gg;return new Ce(e,0)}function TS(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Pt(TS(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=xr(Math.pow(e,8)),r=Ko,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=xr(Math.pow(e,s)),r=r.R(s).add(xr(o))):(r=r.R(n),r=r.add(xr(o)))}return r}var Gg=4294967296,Ko=nw(0),Qg=nw(1),gE=nw(16777216);W=Ce.prototype;W.ea=function(){if(Fn(this))return-Pt(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:Gg+r)*e,e*=Gg}return t};W.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(qr(this))return"0";if(Fn(this))return"-"+Pt(this).toString(t);for(var e=xr(Math.pow(t,6)),n=this,r="";;){var i=Zd(n,e).g;n=Jd(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,qr(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};W.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function qr(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Fn(t){return t.h==-1}W.X=function(t){return t=Jd(this,t),Fn(t)?-1:qr(t)?0:1};function Pt(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Ce(n,~t.h).add(Qg)}W.abs=function(){return Fn(this)?Pt(this):this};W.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new Ce(n,n[n.length-1]&-2147483648?-1:0)};function Jd(t,e){return t.add(Pt(e))}W.R=function(t){if(qr(this)||qr(t))return Ko;if(Fn(this))return Fn(t)?Pt(this).R(Pt(t)):Pt(Pt(this).R(t));if(Fn(t))return Pt(this.R(Pt(t)));if(0>this.X(gE)&&0>t.X(gE))return xr(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(i)>>>16,l=t.D(i)&65535;n[2*r+2*i]+=o*l,Dc(n,2*r+2*i),n[2*r+2*i+1]+=s*l,Dc(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,Dc(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,Dc(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Ce(n,0)};function Dc(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Xa(t,e){this.g=t,this.h=e}function Zd(t,e){if(qr(e))throw Error("division by zero");if(qr(t))return new Xa(Ko,Ko);if(Fn(t))return e=Zd(Pt(t),e),new Xa(Pt(e.g),Pt(e.h));if(Fn(e))return e=Zd(t,Pt(e)),new Xa(Pt(e.g),e.h);if(30<t.g.length){if(Fn(t)||Fn(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Qg,r=e;0>=r.X(t);)n=yE(n),r=yE(r);var i=xo(n,1),s=xo(r,1);for(r=xo(r,2),n=xo(n,2);!qr(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=xo(r,1),n=xo(n,1)}return e=Jd(t,i.R(e)),new Xa(i,e)}for(i=Ko;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=xr(n),o=s.R(e);Fn(o)||0<o.X(t);)n-=r,s=xr(n),o=s.R(e);qr(s)&&(s=Qg),i=i.add(s),t=Jd(t,o)}return new Xa(i,t)}W.gb=function(t){return Zd(this,t).h};W.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Ce(n,this.h&t.h)};W.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Ce(n,this.h|t.h)};W.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Ce(n,this.h^t.h)};function yE(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Ce(n,t.h)}function xo(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new Ce(i,t.h)}Xd.prototype.createWebChannel=Xd.prototype.g;Rn.prototype.send=Rn.prototype.u;Rn.prototype.open=Rn.prototype.m;Rn.prototype.close=Rn.prototype.close;oh.NO_ERROR=0;oh.TIMEOUT=8;oh.HTTP_ERROR=6;UI.COMPLETE="complete";$I.EventType=Nu;Nu.OPEN="a";Nu.CLOSE="b";Nu.ERROR="c";Nu.MESSAGE="d";Et.prototype.listen=Et.prototype.O;Ye.prototype.listenOnce=Ye.prototype.P;Ye.prototype.getLastError=Ye.prototype.Sa;Ye.prototype.getLastErrorCode=Ye.prototype.Ia;Ye.prototype.getStatus=Ye.prototype.da;Ye.prototype.getResponseJson=Ye.prototype.Wa;Ye.prototype.getResponseText=Ye.prototype.ja;Ye.prototype.send=Ye.prototype.ha;Ye.prototype.setWithCredentials=Ye.prototype.Oa;dr.prototype.digest=dr.prototype.l;dr.prototype.reset=dr.prototype.reset;dr.prototype.update=dr.prototype.j;Ce.prototype.add=Ce.prototype.add;Ce.prototype.multiply=Ce.prototype.R;Ce.prototype.modulo=Ce.prototype.gb;Ce.prototype.compare=Ce.prototype.X;Ce.prototype.toNumber=Ce.prototype.ea;Ce.prototype.toString=Ce.prototype.toString;Ce.prototype.getBits=Ce.prototype.D;Ce.fromNumber=xr;Ce.fromString=TS;var XL=function(){return new Xd},JL=function(){return sh()},rm=oh,ZL=UI,e3=so,vE={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Oc=$I,t3=Ye,n3=dr,Go=Ce;const wE="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}$t.UNAUTHENTICATED=new $t(null),$t.GOOGLE_CREDENTIALS=new $t("google-credentials-uid"),$t.FIRST_PARTY=new $t("first-party-uid"),$t.MOCK_USER=new $t("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ta="10.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ws=new Xf("@firebase/firestore");function Ja(){return Ws.logLevel}function J(t,...e){if(Ws.logLevel<=me.DEBUG){const n=e.map(rw);Ws.debug(`Firestore (${Ta}): ${t}`,...n)}}function ri(t,...e){if(Ws.logLevel<=me.ERROR){const n=e.map(rw);Ws.error(`Firestore (${Ta}): ${t}`,...n)}}function aa(t,...e){if(Ws.logLevel<=me.WARN){const n=e.map(rw);Ws.warn(`Firestore (${Ta}): ${t}`,...n)}}function rw(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function se(t="Unexpected state"){const e=`FIRESTORE (${Ta}) INTERNAL ASSERTION FAILED: `+t;throw ri(e),new Error(e)}function ke(t,e){t||se()}function ue(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class X extends Qn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class r3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n($t.UNAUTHENTICATED))}shutdown(){}}class i3{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class s3{constructor(e){this.t=e,this.currentUser=$t.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Qr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Qr,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{J("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(J("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Qr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(J("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ke(typeof r.accessToken=="string"),new bS(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ke(e===null||typeof e=="string"),new $t(e)}}class o3{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=$t.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class a3{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new o3(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n($t.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class l3{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class u3{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&J("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,J("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{J("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):J("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ke(typeof n.token=="string"),this.R=n.token,new l3(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c3(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=c3(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function xe(t,e){return t<e?-1:t>e?1:0}function la(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new X(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new X(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new X(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new X(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ht.fromMillis(Date.now())}static fromDate(e){return ht.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new ht(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?xe(this.nanoseconds,e.nanoseconds):xe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(e){this.timestamp=e}static fromTimestamp(e){return new le(e)}static min(){return new le(new ht(0,0))}static max(){return new le(new ht(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du{constructor(e,n,r){n===void 0?n=0:n>e.length&&se(),r===void 0?r=e.length-n:r>e.length-n&&se(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return du.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof du?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Re extends du{construct(e,n,r){return new Re(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new X(M.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Re(n)}static emptyPath(){return new Re([])}}const d3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class kt extends du{construct(e,n,r){return new kt(e,n,r)}static isValidIdentifier(e){return d3.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),kt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new kt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new X(M.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new X(M.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new X(M.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new X(M.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new kt(n)}static emptyPath(){return new kt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.path=e}static fromPath(e){return new te(Re.fromString(e))}static fromName(e){return new te(Re.fromString(e).popFirst(5))}static empty(){return new te(Re.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Re.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Re.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new te(new Re(e.slice()))}}function f3(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=le.fromTimestamp(r===1e9?new ht(n+1,0):new ht(n,r));return new ns(i,te.empty(),e)}function h3(t){return new ns(t.readTime,t.key,-1)}class ns{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ns(le.min(),te.empty(),-1)}static max(){return new ns(le.max(),te.empty(),-1)}}function p3(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=te.comparator(t.documentKey,e.documentKey),n!==0?n:xe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class g3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mu(t){if(t.code!==M.FAILED_PRECONDITION||t.message!==m3)throw t;J("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&se(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new V((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof V?n:V.resolve(n)}catch(n){return V.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):V.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):V.reject(n)}static resolve(e){return new V((n,r)=>{n(e)})}static reject(e){return new V((n,r)=>{r(e)})}static waitFor(e){return new V((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=V.resolve(!1);for(const r of e)n=n.next(i=>i?V.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new V((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(c=>{o[u]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(e,n){return new V((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function Vu(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iw{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.se(r),this.oe=r=>n.writeSequenceNumber(r))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}iw._e=-1;function mh(t){return t==null}function ef(t){return t===0&&1/t==-1/0}function y3(t){return typeof t=="number"&&Number.isInteger(t)&&!ef(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _E(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function oo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function SS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{constructor(e,n){this.comparator=e,this.root=n||Rt.EMPTY}insert(e,n){return new We(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Rt.BLACK,null,null))}remove(e){return new We(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Rt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new jc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new jc(this.root,e,this.comparator,!1)}getReverseIterator(){return new jc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new jc(this.root,e,this.comparator,!0)}}class jc{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Rt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Rt.RED,this.left=i??Rt.EMPTY,this.right=s??Rt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Rt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Rt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Rt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Rt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Rt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw se();const e=this.left.check();if(e!==this.right.check())throw se();return e+(this.isRed()?0:1)}}Rt.EMPTY=null,Rt.RED=!0,Rt.BLACK=!1;Rt.EMPTY=new class{constructor(){this.size=0}get key(){throw se()}get value(){throw se()}get color(){throw se()}get left(){throw se()}get right(){throw se()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Rt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e){this.comparator=e,this.data=new We(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new EE(this.data.getIterator())}getIteratorFrom(e){return new EE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Ot)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ot(this.comparator);return n.data=e,n}}class EE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e){this.fields=e,e.sort(kt.comparator)}static empty(){return new _n([])}unionWith(e){let n=new Ot(kt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new _n(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return la(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new CS("Invalid base64 string: "+s):s}}(e);return new Qt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Qt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return xe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Qt.EMPTY_BYTE_STRING=new Qt("");const v3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function rs(t){if(ke(!!t),typeof t=="string"){let e=0;const n=v3.exec(t);if(ke(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ot(t.seconds),nanos:ot(t.nanos)}}function ot(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ks(t){return typeof t=="string"?Qt.fromBase64String(t):Qt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sw(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function ow(t){const e=t.mapValue.fields.__previous_value__;return sw(e)?ow(e):e}function fu(t){const e=rs(t.mapValue.fields.__local_write_time__.timestampValue);return new ht(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w3{constructor(e,n,r,i,s,o,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class hu{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new hu("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof hu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Gs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?sw(t)?4:_3(t)?9007199254740991:10:se()}function Dr(t,e){if(t===e)return!0;const n=Gs(t);if(n!==Gs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return fu(t).isEqual(fu(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=rs(i.timestampValue),a=rs(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Ks(i.bytesValue).isEqual(Ks(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return ot(i.geoPointValue.latitude)===ot(s.geoPointValue.latitude)&&ot(i.geoPointValue.longitude)===ot(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return ot(i.integerValue)===ot(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=ot(i.doubleValue),a=ot(s.doubleValue);return o===a?ef(o)===ef(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return la(t.arrayValue.values||[],e.arrayValue.values||[],Dr);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(_E(o)!==_E(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Dr(o[l],a[l])))return!1;return!0}(t,e);default:return se()}}function pu(t,e){return(t.values||[]).find(n=>Dr(n,e))!==void 0}function ua(t,e){if(t===e)return 0;const n=Gs(t),r=Gs(e);if(n!==r)return xe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return xe(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=ot(s.integerValue||s.doubleValue),l=ot(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return xE(t.timestampValue,e.timestampValue);case 4:return xE(fu(t),fu(e));case 5:return xe(t.stringValue,e.stringValue);case 6:return function(s,o){const a=Ks(s),l=Ks(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=xe(a[u],l[u]);if(c!==0)return c}return xe(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=xe(ot(s.latitude),ot(o.latitude));return a!==0?a:xe(ot(s.longitude),ot(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const a=s.values||[],l=o.values||[];for(let u=0;u<a.length&&u<l.length;++u){const c=ua(a[u],l[u]);if(c)return c}return xe(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===Lc.mapValue&&o===Lc.mapValue)return 0;if(s===Lc.mapValue)return 1;if(o===Lc.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let h=0;h<l.length&&h<c.length;++h){const m=xe(l[h],c[h]);if(m!==0)return m;const w=ua(a[l[h]],u[c[h]]);if(w!==0)return w}return xe(l.length,c.length)}(t.mapValue,e.mapValue);default:throw se()}}function xE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return xe(t,e);const n=rs(t),r=rs(e),i=xe(n.seconds,r.seconds);return i!==0?i:xe(n.nanos,r.nanos)}function ca(t){return Yg(t)}function Yg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=rs(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ks(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return te.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Yg(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Yg(n.fields[o])}`;return i+"}"}(t.mapValue):se()}function TE(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Xg(t){return!!t&&"integerValue"in t}function aw(t){return!!t&&"arrayValue"in t}function bE(t){return!!t&&"nullValue"in t}function IE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function id(t){return!!t&&"mapValue"in t}function Il(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return oo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Il(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Il(t.arrayValue.values[n]);return e}return Object.assign({},t)}function _3(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e){this.value=e}static empty(){return new an({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!id(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Il(n)}setAll(e){let n=kt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Il(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());id(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Dr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];id(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){oo(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new an(Il(this.value))}}function AS(t){const e=[];return oo(t.fields,(n,r)=>{const i=new kt([n]);if(id(r)){const s=AS(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new _n(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new zt(e,0,le.min(),le.min(),le.min(),an.empty(),0)}static newFoundDocument(e,n,r,i){return new zt(e,1,n,le.min(),r,i,0)}static newNoDocument(e,n){return new zt(e,2,n,le.min(),le.min(),an.empty(),0)}static newUnknownDocument(e,n){return new zt(e,3,n,le.min(),le.min(),an.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(le.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=an.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=an.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=le.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof zt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new zt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf{constructor(e,n){this.position=e,this.inclusive=n}}function SE(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=te.comparator(te.fromName(o.referenceValue),n.key):r=ua(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function CE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Dr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(e,n="asc"){this.field=e,this.dir=n}}function E3(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let RS=class{};class lt extends RS{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new T3(e,n,r):n==="array-contains"?new S3(e,r):n==="in"?new C3(e,r):n==="not-in"?new A3(e,r):n==="array-contains-any"?new R3(e,r):new lt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new b3(e,r):new I3(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ua(n,this.value)):n!==null&&Gs(this.value)===Gs(n)&&this.matchesComparison(ua(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return se()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class fr extends RS{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new fr(e,n)}matches(e){return PS(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function PS(t){return t.op==="and"}function kS(t){return x3(t)&&PS(t)}function x3(t){for(const e of t.filters)if(e instanceof fr)return!1;return!0}function Jg(t){if(t instanceof lt)return t.field.canonicalString()+t.op.toString()+ca(t.value);if(kS(t))return t.filters.map(e=>Jg(e)).join(",");{const e=t.filters.map(n=>Jg(n)).join(",");return`${t.op}(${e})`}}function NS(t,e){return t instanceof lt?function(r,i){return i instanceof lt&&r.op===i.op&&r.field.isEqual(i.field)&&Dr(r.value,i.value)}(t,e):t instanceof fr?function(r,i){return i instanceof fr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&NS(o,i.filters[a]),!0):!1}(t,e):void se()}function DS(t){return t instanceof lt?function(n){return`${n.field.canonicalString()} ${n.op} ${ca(n.value)}`}(t):t instanceof fr?function(n){return n.op.toString()+" {"+n.getFilters().map(DS).join(" ,")+"}"}(t):"Filter"}class T3 extends lt{constructor(e,n,r){super(e,n,r),this.key=te.fromName(r.referenceValue)}matches(e){const n=te.comparator(e.key,this.key);return this.matchesComparison(n)}}class b3 extends lt{constructor(e,n){super(e,"in",n),this.keys=OS("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class I3 extends lt{constructor(e,n){super(e,"not-in",n),this.keys=OS("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function OS(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>te.fromName(r.referenceValue))}class S3 extends lt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return aw(n)&&pu(n.arrayValue,this.value)}}class C3 extends lt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&pu(this.value.arrayValue,n)}}class A3 extends lt{constructor(e,n){super(e,"not-in",n)}matches(e){if(pu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!pu(this.value.arrayValue,n)}}class R3 extends lt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!aw(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>pu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P3{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ce=null}}function AE(t,e=null,n=[],r=[],i=null,s=null,o=null){return new P3(t,e,n,r,i,s,o)}function lw(t){const e=ue(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Jg(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),mh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ca(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ca(r)).join(",")),e.ce=n}return e.ce}function uw(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!E3(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!NS(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!CE(t.startAt,e.startAt)&&CE(t.endAt,e.endAt)}function Zg(t){return te.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function k3(t,e,n,r,i,s,o,a){return new ba(t,e,n,r,i,s,o,a)}function gh(t){return new ba(t)}function RE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function jS(t){return t.collectionGroup!==null}function Sl(t){const e=ue(t);if(e.le===null){e.le=[];const n=new Set;for(const s of e.explicitOrderBy)e.le.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Ot(kt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.le.push(new nf(s,r))}),n.has(kt.keyField().canonicalString())||e.le.push(new nf(kt.keyField(),r))}return e.le}function Ar(t){const e=ue(t);return e.he||(e.he=N3(e,Sl(t))),e.he}function N3(t,e){if(t.limitType==="F")return AE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new nf(i.field,s)});const n=t.endAt?new tf(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new tf(t.startAt.position,t.startAt.inclusive):null;return AE(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function ey(t,e){const n=t.filters.concat([e]);return new ba(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function ty(t,e,n){return new ba(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function yh(t,e){return uw(Ar(t),Ar(e))&&t.limitType===e.limitType}function LS(t){return`${lw(Ar(t))}|lt:${t.limitType}`}function bo(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>DS(i)).join(", ")}]`),mh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>ca(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>ca(i)).join(",")),`Target(${r})`}(Ar(t))}; limitType=${t.limitType})`}function vh(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):te.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Sl(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const u=SE(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,Sl(r),i)||r.endAt&&!function(o,a,l){const u=SE(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,Sl(r),i))}(t,e)}function D3(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function MS(t){return(e,n)=>{let r=!1;for(const i of Sl(t)){const s=O3(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function O3(t,e,n){const r=t.field.isKeyField()?te.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?ua(l,u):se()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return se()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){oo(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return SS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j3=new We(te.comparator);function ii(){return j3}const VS=new We(te.comparator);function fl(...t){let e=VS;for(const n of t)e=e.insert(n.key,n);return e}function FS(t){let e=VS;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Rs(){return Cl()}function US(){return Cl()}function Cl(){return new Ia(t=>t.toString(),(t,e)=>t.isEqual(e))}const L3=new We(te.comparator),M3=new Ot(te.comparator);function he(...t){let e=M3;for(const n of t)e=e.add(n);return e}const V3=new Ot(xe);function F3(){return V3}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $S(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ef(e)?"-0":e}}function BS(t){return{integerValue:""+t}}function U3(t,e){return y3(e)?BS(e):$S(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(){this._=void 0}}function $3(t,e,n){return t instanceof rf?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&sw(s)&&(s=ow(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof da?HS(t,e):t instanceof mu?qS(t,e):function(i,s){const o=zS(i,s),a=PE(o)+PE(i.Ie);return Xg(o)&&Xg(i.Ie)?BS(a):$S(i.serializer,a)}(t,e)}function B3(t,e,n){return t instanceof da?HS(t,e):t instanceof mu?qS(t,e):n}function zS(t,e){return t instanceof sf?function(r){return Xg(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class rf extends wh{}class da extends wh{constructor(e){super(),this.elements=e}}function HS(t,e){const n=WS(e);for(const r of t.elements)n.some(i=>Dr(i,r))||n.push(r);return{arrayValue:{values:n}}}class mu extends wh{constructor(e){super(),this.elements=e}}function qS(t,e){let n=WS(e);for(const r of t.elements)n=n.filter(i=>!Dr(i,r));return{arrayValue:{values:n}}}class sf extends wh{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function PE(t){return ot(t.integerValue||t.doubleValue)}function WS(t){return aw(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z3{constructor(e,n){this.field=e,this.transform=n}}function H3(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof da&&i instanceof da||r instanceof mu&&i instanceof mu?la(r.elements,i.elements,Dr):r instanceof sf&&i instanceof sf?Dr(r.Ie,i.Ie):r instanceof rf&&i instanceof rf}(t.transform,e.transform)}class q3{constructor(e,n){this.version=e,this.transformResults=n}}class Rr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Rr}static exists(e){return new Rr(void 0,e)}static updateTime(e){return new Rr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function sd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class _h{}function KS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new QS(t.key,Rr.none()):new Fu(t.key,t.data,Rr.none());{const n=t.data,r=an.empty();let i=new Ot(kt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new fs(t.key,r,new _n(i.toArray()),Rr.none())}}function W3(t,e,n){t instanceof Fu?function(i,s,o){const a=i.value.clone(),l=NE(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof fs?function(i,s,o){if(!sd(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=NE(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(GS(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Al(t,e,n,r){return t instanceof Fu?function(s,o,a,l){if(!sd(s.precondition,o))return a;const u=s.value.clone(),c=DE(s.fieldTransforms,l,o);return u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof fs?function(s,o,a,l){if(!sd(s.precondition,o))return a;const u=DE(s.fieldTransforms,l,o),c=o.data;return c.setAll(GS(s)),c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(s,o,a){return sd(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function K3(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=zS(r.transform,i||null);s!=null&&(n===null&&(n=an.empty()),n.set(r.field,s))}return n||null}function kE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&la(r,i,(s,o)=>H3(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Fu extends _h{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class fs extends _h{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function GS(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function NE(t,e,n){const r=new Map;ke(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,B3(o,a,n[i]))}return r}function DE(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,$3(s,o,e))}return r}class QS extends _h{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class G3 extends _h{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q3{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&W3(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Al(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Al(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=US();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=KS(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(le.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),he())}isEqual(e){return this.batchId===e.batchId&&la(this.mutations,e.mutations,(n,r)=>kE(n,r))&&la(this.baseMutations,e.baseMutations,(n,r)=>kE(n,r))}}class cw{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ke(e.mutations.length===r.length);let i=function(){return L3}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new cw(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y3{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X3{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var it,ge;function J3(t){switch(t){default:return se();case M.CANCELLED:case M.UNKNOWN:case M.DEADLINE_EXCEEDED:case M.RESOURCE_EXHAUSTED:case M.INTERNAL:case M.UNAVAILABLE:case M.UNAUTHENTICATED:return!1;case M.INVALID_ARGUMENT:case M.NOT_FOUND:case M.ALREADY_EXISTS:case M.PERMISSION_DENIED:case M.FAILED_PRECONDITION:case M.ABORTED:case M.OUT_OF_RANGE:case M.UNIMPLEMENTED:case M.DATA_LOSS:return!0}}function YS(t){if(t===void 0)return ri("GRPC error has no .code"),M.UNKNOWN;switch(t){case it.OK:return M.OK;case it.CANCELLED:return M.CANCELLED;case it.UNKNOWN:return M.UNKNOWN;case it.DEADLINE_EXCEEDED:return M.DEADLINE_EXCEEDED;case it.RESOURCE_EXHAUSTED:return M.RESOURCE_EXHAUSTED;case it.INTERNAL:return M.INTERNAL;case it.UNAVAILABLE:return M.UNAVAILABLE;case it.UNAUTHENTICATED:return M.UNAUTHENTICATED;case it.INVALID_ARGUMENT:return M.INVALID_ARGUMENT;case it.NOT_FOUND:return M.NOT_FOUND;case it.ALREADY_EXISTS:return M.ALREADY_EXISTS;case it.PERMISSION_DENIED:return M.PERMISSION_DENIED;case it.FAILED_PRECONDITION:return M.FAILED_PRECONDITION;case it.ABORTED:return M.ABORTED;case it.OUT_OF_RANGE:return M.OUT_OF_RANGE;case it.UNIMPLEMENTED:return M.UNIMPLEMENTED;case it.DATA_LOSS:return M.DATA_LOSS;default:return se()}}(ge=it||(it={}))[ge.OK=0]="OK",ge[ge.CANCELLED=1]="CANCELLED",ge[ge.UNKNOWN=2]="UNKNOWN",ge[ge.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ge[ge.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ge[ge.NOT_FOUND=5]="NOT_FOUND",ge[ge.ALREADY_EXISTS=6]="ALREADY_EXISTS",ge[ge.PERMISSION_DENIED=7]="PERMISSION_DENIED",ge[ge.UNAUTHENTICATED=16]="UNAUTHENTICATED",ge[ge.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ge[ge.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ge[ge.ABORTED=10]="ABORTED",ge[ge.OUT_OF_RANGE=11]="OUT_OF_RANGE",ge[ge.UNIMPLEMENTED=12]="UNIMPLEMENTED",ge[ge.INTERNAL=13]="INTERNAL",ge[ge.UNAVAILABLE=14]="UNAVAILABLE",ge[ge.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z3(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eM=new Go([4294967295,4294967295],0);function OE(t){const e=Z3().encode(t),n=new n3;return n.update(e),new Uint8Array(n.digest())}function jE(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Go([n,r],0),new Go([i,s],0)]}class dw{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new hl(`Invalid padding: ${n}`);if(r<0)throw new hl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new hl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new hl(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=Go.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(Go.fromNumber(r)));return i.compare(eM)===1&&(i=new Go([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=OE(e),[r,i]=jE(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);if(!this.Ae(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new dw(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Te===0)return;const n=OE(e),[r,i]=jE(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);this.Re(o)}}Re(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class hl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Uu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Eh(le.min(),i,new We(xe),ii(),he())}}class Uu{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Uu(r,n,he(),he(),he())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}}class XS{constructor(e,n){this.targetId=e,this.fe=n}}class JS{constructor(e,n,r=Qt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class LE{constructor(){this.ge=0,this.pe=VE(),this.ye=Qt.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=he(),n=he(),r=he();return this.pe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:se()}}),new Uu(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=VE()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,ke(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class tM{constructor(e){this.Le=e,this.ke=new Map,this.qe=ii(),this.Qe=ME(),this.Ke=new We(xe)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:se()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){const n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){const s=i.target;if(Zg(s))if(r===0){const o=new te(s.path);this.We(n,o,zt.newNoDocument(o,le.min()))}else ke(r===1);else{const o=this.Ze(n);if(o!==r){const a=this.Xe(e),l=a?this.et(a,e,o):1;if(l!==0){this.He(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,u)}}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Ks(r).toUint8Array()}catch(l){if(l instanceof CS)return aa("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new dw(o,i,s)}catch(l){return aa(l instanceof hl?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Te===0?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.We(n,s,null),i++)}),i}it(e){const n=new Map;this.ke.forEach((s,o)=>{const a=this.Ye(o);if(a){if(s.current&&Zg(a.target)){const l=new te(a.target.path);this.qe.get(l)!==null||this.st(o,l)||this.We(o,l,zt.newNoDocument(l,e))}s.De&&(n.set(o,s.ve()),s.Fe())}});let r=he();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Ye(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(e));const i=new Eh(e,n,this.Ke,this.qe,r);return this.qe=ii(),this.Qe=ME(),this.Ke=new We(xe),i}Ue(e,n){if(!this.je(e))return;const r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new LE,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new Ot(xe),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||J("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new LE),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function ME(){return new We(te.comparator)}function VE(){return new We(te.comparator)}const nM=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),rM=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),iM=(()=>({and:"AND",or:"OR"}))();class sM{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function ny(t,e){return t.useProto3Json||mh(e)?e:{value:e}}function of(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ZS(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function oM(t,e){return of(t,e.toTimestamp())}function Pr(t){return ke(!!t),le.fromTimestamp(function(n){const r=rs(n);return new ht(r.seconds,r.nanos)}(t))}function fw(t,e){return function(r){return new Re(["projects",r.projectId,"databases",r.database])}(t).child("documents").child(e).canonicalString()}function eC(t){const e=Re.fromString(t);return ke(iC(e)),e}function ry(t,e){return fw(t.databaseId,e.path)}function im(t,e){const n=eC(e);if(n.get(1)!==t.databaseId.projectId)throw new X(M.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new X(M.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new te(tC(n))}function iy(t,e){return fw(t.databaseId,e)}function aM(t){const e=eC(t);return e.length===4?Re.emptyPath():tC(e)}function sy(t){return new Re(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function tC(t){return ke(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function FE(t,e,n){return{name:ry(t,e),fields:n.value.mapValue.fields}}function lM(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:se()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,c){return u.useProto3Json?(ke(c===void 0||typeof c=="string"),Qt.fromBase64String(c||"")):(ke(c===void 0||c instanceof Uint8Array),Qt.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=u.code===void 0?M.UNKNOWN:YS(u.code);return new X(c,u.message||"")}(o);n=new JS(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=im(t,r.document.name),s=Pr(r.document.updateTime),o=r.document.createTime?Pr(r.document.createTime):le.min(),a=new an({mapValue:{fields:r.document.fields}}),l=zt.newFoundDocument(i,s,o,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new od(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=im(t,r.document),s=r.readTime?Pr(r.readTime):le.min(),o=zt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new od([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=im(t,r.document),s=r.removedTargetIds||[];n=new od([],s,i,null)}else{if(!("filter"in e))return se();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new X3(i,s),a=r.targetId;n=new XS(a,o)}}return n}function uM(t,e){let n;if(e instanceof Fu)n={update:FE(t,e.key,e.value)};else if(e instanceof QS)n={delete:ry(t,e.key)};else if(e instanceof fs)n={update:FE(t,e.key,e.data),updateMask:vM(e.fieldMask)};else{if(!(e instanceof G3))return se();n={verify:ry(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof rf)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof da)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof mu)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof sf)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw se()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:oM(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:se()}(t,e.precondition)),n}function cM(t,e){return t&&t.length>0?(ke(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Pr(i.updateTime):Pr(s);return o.isEqual(le.min())&&(o=Pr(s)),new q3(o,i.transformResults||[])}(n,e))):[]}function dM(t,e){return{documents:[iy(t,e.path)]}}function fM(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=iy(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=iy(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length!==0)return rC(fr.create(l,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(l){if(l.length!==0)return l.map(u=>function(h){return{field:Io(h.field),direction:mM(h.dir)}}(u))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=ny(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function hM(t){let e=aM(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ke(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];n.where&&(s=function(h){const m=nC(h);return m instanceof fr&&kS(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(m=>function(_){return new nf(So(_.field),function(T){switch(T){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(h){let m;return m=typeof h=="object"?h.value:h,mh(m)?null:m}(n.limit));let l=null;n.startAt&&(l=function(h){const m=!!h.before,w=h.values||[];return new tf(w,m)}(n.startAt));let u=null;return n.endAt&&(u=function(h){const m=!h.before,w=h.values||[];return new tf(w,m)}(n.endAt)),k3(e,i,o,s,a,"F",l,u)}function pM(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return se()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function nC(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=So(n.unaryFilter.field);return lt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=So(n.unaryFilter.field);return lt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=So(n.unaryFilter.field);return lt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=So(n.unaryFilter.field);return lt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return se()}}(t):t.fieldFilter!==void 0?function(n){return lt.create(So(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return se()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return fr.create(n.compositeFilter.filters.map(r=>nC(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return se()}}(n.compositeFilter.op))}(t):se()}function mM(t){return nM[t]}function gM(t){return rM[t]}function yM(t){return iM[t]}function Io(t){return{fieldPath:t.canonicalString()}}function So(t){return kt.fromServerFormat(t.fieldPath)}function rC(t){return t instanceof lt?function(n){if(n.op==="=="){if(IE(n.value))return{unaryFilter:{field:Io(n.field),op:"IS_NAN"}};if(bE(n.value))return{unaryFilter:{field:Io(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(IE(n.value))return{unaryFilter:{field:Io(n.field),op:"IS_NOT_NAN"}};if(bE(n.value))return{unaryFilter:{field:Io(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Io(n.field),op:gM(n.op),value:n.value}}}(t):t instanceof fr?function(n){const r=n.getFilters().map(i=>rC(i));return r.length===1?r[0]:{compositeFilter:{op:yM(n.op),filters:r}}}(t):se()}function vM(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function iC(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(e,n,r,i,s=le.min(),o=le.min(),a=Qt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Ni(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ni(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ni(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ni(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wM{constructor(e){this.ut=e}}function _M(t){const e=hM({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?ty(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EM{constructor(){this.on=new xM}addToCollectionParentIndex(e,n){return this.on.add(n),V.resolve()}getCollectionParents(e,n){return V.resolve(this.on.getEntries(n))}addFieldIndex(e,n){return V.resolve()}deleteFieldIndex(e,n){return V.resolve()}deleteAllFieldIndexes(e){return V.resolve()}createTargetIndexes(e,n){return V.resolve()}getDocumentsMatchingTarget(e,n){return V.resolve(null)}getIndexType(e,n){return V.resolve(0)}getFieldIndexes(e,n){return V.resolve([])}getNextCollectionGroupToUpdate(e){return V.resolve(null)}getMinOffset(e,n){return V.resolve(ns.min())}getMinOffsetFromCollectionGroup(e,n){return V.resolve(ns.min())}updateCollectionGroup(e,n,r){return V.resolve()}updateIndexEntries(e,n){return V.resolve()}}class xM{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ot(Re.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ot(Re.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new fa(0)}static Nn(){return new fa(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TM{constructor(){this.changes=new Ia(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,zt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?V.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bM{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IM{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Al(r.mutation,i,_n.empty(),ht.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,he()).next(()=>r))}getLocalViewOfDocuments(e,n,r=he()){const i=Rs();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=fl();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Rs();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,he()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=ii();const o=Cl(),a=function(){return Cl()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof fs)?s=s.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),Al(c.mutation,u,c.mutation.getFieldMask(),ht.now())):o.set(u.key,_n.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var h;return a.set(u,new bM(c,(h=o.get(u))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Cl();let i=new We((o,a)=>o-a),s=he();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||_n.empty();c=a.applyToLocalView(u,c),r.set(l,c);const h=(i.get(a.batchId)||he()).add(l);i=i.insert(a.batchId,h)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,h=US();c.forEach(m=>{if(!s.has(m)){const w=KS(n.get(m),r.get(m));w!==null&&h.set(m,w),s=s.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,h))}return V.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return te.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):jS(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):V.resolve(Rs());let a=-1,l=s;return o.next(u=>V.forEach(u,(c,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(c)?V.resolve():this.remoteDocumentCache.getEntry(e,c).next(m=>{l=l.insert(c,m)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,he())).next(c=>({batchId:a,changes:FS(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new te(n)).next(r=>{let i=fl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=fl();return this.indexManager.getCollectionParents(e,s).next(a=>V.forEach(a,l=>{const u=function(h,m){return new ba(m,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(c=>{c.forEach((h,m)=>{o=o.insert(h,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,u)=>{const c=u.getKey();o.get(c)===null&&(o=o.insert(c,zt.newInvalidDocument(c)))});let a=fl();return o.forEach((l,u)=>{const c=s.get(l);c!==void 0&&Al(c.mutation,u,_n.empty(),ht.now()),vh(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SM{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,n){return V.resolve(this.ur.get(n))}saveBundleMetadata(e,n){return this.ur.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Pr(i.createTime)}}(n)),V.resolve()}getNamedQuery(e,n){return V.resolve(this.cr.get(n))}saveNamedQuery(e,n){return this.cr.set(n.name,function(i){return{name:i.name,query:_M(i.bundledQuery),readTime:Pr(i.readTime)}}(n)),V.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CM{constructor(){this.overlays=new We(te.comparator),this.lr=new Map}getOverlay(e,n){return V.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Rs();return V.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.lt(e,n,s)}),V.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.lr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.lr.delete(r)),V.resolve()}getOverlaysForCollection(e,n,r){const i=Rs(),s=n.length+1,o=new te(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return V.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new We((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=s.get(u.largestBatchId);c===null&&(c=Rs(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=Rs(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return V.resolve(a)}lt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.lr.get(i.largestBatchId).delete(r.key);this.lr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Y3(n,r));let s=this.lr.get(n);s===void 0&&(s=he(),this.lr.set(n,s)),this.lr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hw{constructor(){this.hr=new Ot(vt.Pr),this.Ir=new Ot(vt.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,n){const r=new vt(e,n);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.dr(new vt(e,n))}Ar(e,n){e.forEach(r=>this.removeReference(r,n))}Rr(e){const n=new te(new Re([])),r=new vt(n,e),i=new vt(n,e+1),s=[];return this.Ir.forEachInRange([r,i],o=>{this.dr(o),s.push(o.key)}),s}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const n=new te(new Re([])),r=new vt(n,e),i=new vt(n,e+1);let s=he();return this.Ir.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new vt(e,0),r=this.hr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class vt{constructor(e,n){this.key=e,this.gr=n}static Pr(e,n){return te.comparator(e.key,n.key)||xe(e.gr,n.gr)}static Tr(e,n){return xe(e.gr,n.gr)||te.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AM{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new Ot(vt.Pr)}checkEmpty(e){return V.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Q3(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.yr=this.yr.add(new vt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return V.resolve(o)}lookupMutationBatch(e,n){return V.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Sr(r),s=i<0?0:i;return V.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return V.resolve(this.mutationQueue.length===0?-1:this.pr-1)}getAllMutationBatches(e){return V.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new vt(n,0),i=new vt(n,Number.POSITIVE_INFINITY),s=[];return this.yr.forEachInRange([r,i],o=>{const a=this.wr(o.gr);s.push(a)}),V.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ot(xe);return n.forEach(i=>{const s=new vt(i,0),o=new vt(i,Number.POSITIVE_INFINITY);this.yr.forEachInRange([s,o],a=>{r=r.add(a.gr)})}),V.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;te.isDocumentKey(s)||(s=s.child(""));const o=new vt(new te(s),0);let a=new Ot(xe);return this.yr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.gr)),!0)},o),V.resolve(this.br(a))}br(e){const n=[];return e.forEach(r=>{const i=this.wr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ke(this.Dr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.yr;return V.forEach(n.mutations,i=>{const s=new vt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.yr=r})}Fn(e){}containsKey(e,n){const r=new vt(n,0),i=this.yr.firstAfterOrEqual(r);return V.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,V.resolve()}Dr(e,n){return this.Sr(e)}Sr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}wr(e){const n=this.Sr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RM{constructor(e){this.Cr=e,this.docs=function(){return new We(te.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Cr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return V.resolve(r?r.document.mutableCopy():zt.newInvalidDocument(n))}getEntries(e,n){let r=ii();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():zt.newInvalidDocument(i))}),V.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=ii();const o=n.path,a=new te(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||p3(h3(c),r)<=0||(i.has(c.key)||vh(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return V.resolve(s)}getAllFromCollectionGroup(e,n,r,i){se()}vr(e,n){return V.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new PM(this)}getSize(e){return V.resolve(this.size)}}class PM extends TM{constructor(e){super(),this._r=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this._r.addEntry(e,i)):this._r.removeEntry(r)}),V.waitFor(n)}getFromCache(e,n){return this._r.getEntry(e,n)}getAllFromCache(e,n){return this._r.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kM{constructor(e){this.persistence=e,this.Fr=new Ia(n=>lw(n),uw),this.lastRemoteSnapshotVersion=le.min(),this.highestTargetId=0,this.Mr=0,this.Or=new hw,this.targetCount=0,this.Nr=fa.On()}forEachTarget(e,n){return this.Fr.forEach((r,i)=>n(i)),V.resolve()}getLastRemoteSnapshotVersion(e){return V.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return V.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),V.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Mr&&(this.Mr=n),V.resolve()}kn(e){this.Fr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Nr=new fa(n),this.highestTargetId=n),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,n){return this.kn(n),this.targetCount+=1,V.resolve()}updateTargetData(e,n){return this.kn(n),V.resolve()}removeTargetData(e,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,V.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Fr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Fr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),V.waitFor(s).next(()=>i)}getTargetCount(e){return V.resolve(this.targetCount)}getTargetData(e,n){const r=this.Fr.get(n)||null;return V.resolve(r)}addMatchingKeys(e,n,r){return this.Or.Er(n,r),V.resolve()}removeMatchingKeys(e,n,r){this.Or.Ar(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),V.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Or.Rr(n),V.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Or.mr(n);return V.resolve(r)}containsKey(e,n){return V.resolve(this.Or.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NM{constructor(e,n){this.Br={},this.overlays={},this.Lr=new iw(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new kM(this),this.indexManager=new EM,this.remoteDocumentCache=function(i){return new RM(i)}(r=>this.referenceDelegate.Qr(r)),this.serializer=new wM(n),this.Kr=new SM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new CM,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new AM(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,n,r){J("MemoryPersistence","Starting transaction:",e);const i=new DM(this.Lr.next());return this.referenceDelegate.$r(),r(i).next(s=>this.referenceDelegate.Ur(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Wr(e,n){return V.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class DM extends g3{constructor(e){super(),this.currentSequenceNumber=e}}class pw{constructor(e){this.persistence=e,this.Gr=new hw,this.zr=null}static jr(e){return new pw(e)}get Hr(){if(this.zr)return this.zr;throw se()}addReference(e,n,r){return this.Gr.addReference(r,n),this.Hr.delete(r.toString()),V.resolve()}removeReference(e,n,r){return this.Gr.removeReference(r,n),this.Hr.add(r.toString()),V.resolve()}markPotentiallyOrphaned(e,n){return this.Hr.add(n.toString()),V.resolve()}removeTarget(e,n){this.Gr.Rr(n.targetId).forEach(i=>this.Hr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Hr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}$r(){this.zr=new Set}Ur(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return V.forEach(this.Hr,r=>{const i=te.fromPath(r);return this.Jr(e,i).next(s=>{s||n.removeEntry(i,le.min())})}).next(()=>(this.zr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Jr(e,n).next(r=>{r?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(e){return 0}Jr(e,n){return V.or([()=>V.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Wr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mw{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ki=r,this.qi=i}static Qi(e,n){let r=he(),i=he();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new mw(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jM{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,n){this.Gi=e,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.zi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ji(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new OM;return this.Hi(e,n,o).next(a=>{if(s.result=a,this.$i)return this.Ji(e,n,o,a.size)})}).next(()=>s.result)}Ji(e,n,r,i){return r.documentReadCount<this.Ui?(Ja()<=me.DEBUG&&J("QueryEngine","SDK will not create cache indexes for query:",bo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),V.resolve()):(Ja()<=me.DEBUG&&J("QueryEngine","Query:",bo(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Wi*i?(Ja()<=me.DEBUG&&J("QueryEngine","The SDK decides to create cache indexes for query:",bo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ar(n))):V.resolve())}zi(e,n){if(RE(n))return V.resolve(null);let r=Ar(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=ty(n,null,"F"),r=Ar(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=he(...s);return this.Gi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Yi(n,a);return this.Zi(n,u,o,l.readTime)?this.zi(e,ty(n,null,"F")):this.Xi(e,u,n,l)}))})))}ji(e,n,r,i){return RE(n)||i.isEqual(le.min())?V.resolve(null):this.Gi.getDocuments(e,r).next(s=>{const o=this.Yi(n,s);return this.Zi(n,o,r,i)?V.resolve(null):(Ja()<=me.DEBUG&&J("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),bo(n)),this.Xi(e,o,n,f3(i,-1)).next(a=>a))})}Yi(e,n){let r=new Ot(MS(e));return n.forEach((i,s)=>{vh(e,s)&&(r=r.add(s))}),r}Zi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Hi(e,n,r){return Ja()<=me.DEBUG&&J("QueryEngine","Using full collection scan to execute query:",bo(n)),this.Gi.getDocumentsMatchingQuery(e,n,ns.min(),r)}Xi(e,n,r,i){return this.Gi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LM{constructor(e,n,r,i){this.persistence=e,this.es=n,this.serializer=i,this.ts=new We(xe),this.ns=new Ia(s=>lw(s),uw),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(r)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new IM(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ts))}}function MM(t,e,n,r){return new LM(t,e,n,r)}async function sC(t,e){const n=ue(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.os(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=he();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({_s:u,removedBatchIds:o,addedBatchIds:a}))})})}function VM(t,e){const n=ue(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.ss.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const h=u.batch,m=h.keys();let w=V.resolve();return m.forEach(_=>{w=w.next(()=>c.getEntry(l,_)).next(x=>{const T=u.docVersions.get(_);ke(T!==null),x.version.compareTo(T)<0&&(h.applyToRemoteDocument(x,u),x.isValidDocument()&&(x.setReadTime(u.commitVersion),c.addEntry(x)))})}),w.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=he();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function oC(t){const e=ue(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.qr.getLastRemoteSnapshotVersion(n))}function FM(t,e){const n=ue(t),r=e.snapshotVersion;let i=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.ss.newChangeBuffer({trackRemovals:!0});i=n.ts;const a=[];e.targetChanges.forEach((c,h)=>{const m=i.get(h);if(!m)return;a.push(n.qr.removeMatchingKeys(s,c.removedDocuments,h).next(()=>n.qr.addMatchingKeys(s,c.addedDocuments,h)));let w=m.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?w=w.withResumeToken(Qt.EMPTY_BYTE_STRING,le.min()).withLastLimboFreeSnapshotVersion(le.min()):c.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(c.resumeToken,r)),i=i.insert(h,w),function(x,T,E){return x.resumeToken.approximateByteSize()===0||T.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=3e8?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0}(m,w,c)&&a.push(n.qr.updateTargetData(s,w))});let l=ii(),u=he();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(UM(s,o,e.documentUpdates).next(c=>{l=c.us,u=c.cs})),!r.isEqual(le.min())){const c=n.qr.getLastRemoteSnapshotVersion(s).next(h=>n.qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return V.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.ts=i,s))}function UM(t,e,n){let r=he(),i=he();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=ii();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(le.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):J("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{us:o,cs:i}})}function $M(t,e){const n=ue(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function BM(t,e){const n=ue(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.qr.getTargetData(r,e).next(s=>s?(i=s,V.resolve(i)):n.qr.allocateTargetId(r).next(o=>(i=new Ni(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ts=n.ts.insert(r.targetId,r),n.ns.set(e,r.targetId)),r})}async function oy(t,e,n){const r=ue(t),i=r.ts.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Vu(o))throw o;J("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ts=r.ts.remove(e),r.ns.delete(i.target)}function UE(t,e,n){const r=ue(t);let i=le.min(),s=he();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,c){const h=ue(l),m=h.ns.get(c);return m!==void 0?V.resolve(h.ts.get(m)):h.qr.getTargetData(u,c)}(r,o,Ar(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.es.getDocumentsMatchingQuery(o,e,n?i:le.min(),n?s:he())).next(a=>(zM(r,D3(e),a),{documents:a,ls:s})))}function zM(t,e,n){let r=t.rs.get(e)||le.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.rs.set(e,r)}class $E{constructor(){this.activeTargetIds=F3()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class HM{constructor(){this.eo=new $E,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,n,r){this.no[e]=n}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new $E,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qM{ro(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BE{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){J("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){J("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mc=null;function sm(){return Mc===null?Mc=function(){return 268435456+Math.round(2147483648*Math.random())}():Mc++,"0x"+Mc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KM{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ut="WebChannelConnection";class GM extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.mo=r+"://"+n.host,this.fo=`projects/${i}/databases/${s}`,this.po=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get yo(){return!1}wo(n,r,i,s,o){const a=sm(),l=this.So(n,r);J("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(u,s,o),this.Do(n,l,u,i).then(c=>(J("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw aa("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",l,"request:",i),c})}Co(n,r,i,s,o,a){return this.wo(n,r,i,s,o)}bo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ta}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}So(n,r){const i=WM[n];return`${this.mo}/v1/${r}:${i}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,n,r,i){const s=sm();return new Promise((o,a)=>{const l=new t3;l.setWithCredentials(!0),l.listenOnce(ZL.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case rm.NO_ERROR:const c=l.getResponseJson();J(Ut,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(c)),o(c);break;case rm.TIMEOUT:J(Ut,`RPC '${e}' ${s} timed out`),a(new X(M.DEADLINE_EXCEEDED,"Request time out"));break;case rm.HTTP_ERROR:const h=l.getStatus();if(J(Ut,`RPC '${e}' ${s} failed with status:`,h,"response text:",l.getResponseText()),h>0){let m=l.getResponseJson();Array.isArray(m)&&(m=m[0]);const w=m==null?void 0:m.error;if(w&&w.status&&w.message){const _=function(T){const E=T.toLowerCase().replace(/_/g,"-");return Object.values(M).indexOf(E)>=0?E:M.UNKNOWN}(w.status);a(new X(_,w.message))}else a(new X(M.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new X(M.UNAVAILABLE,"Connection failed."));break;default:se()}}finally{J(Ut,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);J(Ut,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}vo(e,n,r){const i=sm(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=XL(),a=JL(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.bo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=s.join("");J(Ut,`Creating RPC '${e}' stream ${i}: ${c}`,l);const h=o.createWebChannel(c,l);let m=!1,w=!1;const _=new KM({co:T=>{w?J(Ut,`Not sending because RPC '${e}' stream ${i} is closed:`,T):(m||(J(Ut,`Opening RPC '${e}' stream ${i} transport.`),h.open(),m=!0),J(Ut,`RPC '${e}' stream ${i} sending:`,T),h.send(T))},lo:()=>h.close()}),x=(T,E,v)=>{T.listen(E,b=>{try{v(b)}catch(C){setTimeout(()=>{throw C},0)}})};return x(h,Oc.EventType.OPEN,()=>{w||J(Ut,`RPC '${e}' stream ${i} transport opened.`)}),x(h,Oc.EventType.CLOSE,()=>{w||(w=!0,J(Ut,`RPC '${e}' stream ${i} transport closed`),_.Ro())}),x(h,Oc.EventType.ERROR,T=>{w||(w=!0,aa(Ut,`RPC '${e}' stream ${i} transport errored:`,T),_.Ro(new X(M.UNAVAILABLE,"The operation could not be completed")))}),x(h,Oc.EventType.MESSAGE,T=>{var E;if(!w){const v=T.data[0];ke(!!v);const b=v,C=b.error||((E=b[0])===null||E===void 0?void 0:E.error);if(C){J(Ut,`RPC '${e}' stream ${i} received error:`,C);const R=C.status;let O=function(z){const q=it[z];if(q!==void 0)return YS(q)}(R),L=C.message;O===void 0&&(O=M.INTERNAL,L="Unknown error status: "+R+" with message "+C.message),w=!0,_.Ro(new X(O,L)),h.close()}else J(Ut,`RPC '${e}' stream ${i} received:`,v),_.Vo(v)}}),x(a,e3.STAT_EVENT,T=>{T.stat===vE.PROXY?J(Ut,`RPC '${e}' stream ${i} detected buffering proxy`):T.stat===vE.NOPROXY&&J(Ut,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{_.Ao()},0),_}}function om(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xh(t){return new sM(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(e,n,r=1e3,i=1.5,s=6e4){this.si=e,this.timerId=n,this.Fo=r,this.Mo=i,this.xo=s,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const n=Math.floor(this.Oo+this.qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,n-r);i>0&&J("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Oo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){this.No!==null&&(this.No.skipDelay(),this.No=null)}cancel(){this.No!==null&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC{constructor(e,n,r,i,s,o,a,l){this.si=e,this.Ko=r,this.$o=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new aC(e,n)}jo(){return this.state===1||this.state===5||this.Ho()}Ho(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Jo()}async stop(){this.jo()&&await this.close(0)}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&this.Wo===null&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}async Xo(){if(this.Ho())return this.close(0)}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}async close(e,n){this.t_(),this.n_(),this.zo.cancel(),this.Uo++,e!==4?this.zo.reset():n&&n.code===M.RESOURCE_EXHAUSTED?(ri(n.toString()),ri("Using maximum backoff delay to prevent overloading the backend."),this.zo.Lo()):n&&n.code===M.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.r_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Io(n)}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Uo===n&&this.s_(r,i)},r=>{e(()=>{const i=new X(M.UNKNOWN,"Fetching auth token failed: "+r.message);return this.o_(i)})})}s_(e,n){const r=this.i_(this.Uo);this.stream=this.__(e,n),this.stream.ho(()=>{r(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(i=>{r(()=>this.o_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Jo(){this.state=5,this.zo.ko(async()=>{this.state=0,this.start()})}o_(e){return J("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return n=>{this.si.enqueueAndForget(()=>this.Uo===e?n():(J("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class QM extends lC{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}__(e,n){return this.connection.vo("Listen",e,n)}onMessage(e){this.zo.reset();const n=lM(this.serializer,e),r=function(s){if(!("targetChange"in s))return le.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?le.min():o.readTime?Pr(o.readTime):le.min()}(e);return this.listener.a_(n,r)}u_(e){const n={};n.database=sy(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=Zg(l)?{documents:dM(s,l)}:{query:fM(s,l)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=ZS(s,o.resumeToken);const u=ny(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(le.min())>0){a.readTime=of(s,o.snapshotVersion.toTimestamp());const u=ny(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=pM(this.serializer,e);r&&(n.labels=r),this.e_(n)}c_(e){const n={};n.database=sy(this.serializer),n.removeTarget=e,this.e_(n)}}class YM extends lC{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,n){return this.connection.vo("Write",e,n)}onMessage(e){if(ke(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const n=cM(e.writeResults,e.commitTime),r=Pr(e.commitTime);return this.listener.I_(r,n)}return ke(!e.writeResults||e.writeResults.length===0),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=sy(this.serializer),this.e_(e)}P_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>uM(this.serializer,r))};this.e_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XM extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.d_=!1}A_(){if(this.d_)throw new X(M.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,n,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.wo(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new X(M.UNKNOWN,i.toString())})}Co(e,n,r,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(e,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new X(M.UNKNOWN,s.toString())})}terminate(){this.d_=!0}}class JM{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){this.V_===0&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){this.state==="Online"?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,e==="Online"&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(ri(n),this.f_=!1):J("OnlineStateTracker",n)}S_(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZM{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=s,this.F_.ro(o=>{r.enqueueAndForget(async()=>{ao(this)&&(J("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=ue(l);u.C_.add(4),await $u(u),u.M_.set("Unknown"),u.C_.delete(4),await Th(u)}(this))})}),this.M_=new JM(r,i)}}async function Th(t){if(ao(t))for(const e of t.v_)await e(!0)}async function $u(t){for(const e of t.v_)await e(!1)}function uC(t,e){const n=ue(t);n.D_.has(e.targetId)||(n.D_.set(e.targetId,e),vw(n)?yw(n):Sa(n).Ho()&&gw(n,e))}function cC(t,e){const n=ue(t),r=Sa(n);n.D_.delete(e),r.Ho()&&dC(n,e),n.D_.size===0&&(r.Ho()?r.Zo():ao(n)&&n.M_.set("Unknown"))}function gw(t,e){if(t.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(le.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Sa(t).u_(e)}function dC(t,e){t.x_.Oe(e),Sa(t).c_(e)}function yw(t){t.x_=new tM({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.D_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),Sa(t).start(),t.M_.g_()}function vw(t){return ao(t)&&!Sa(t).jo()&&t.D_.size>0}function ao(t){return ue(t).C_.size===0}function fC(t){t.x_=void 0}async function eV(t){t.D_.forEach((e,n)=>{gw(t,e)})}async function tV(t,e){fC(t),vw(t)?(t.M_.w_(e),yw(t)):t.M_.set("Unknown")}async function nV(t,e,n){if(t.M_.set("Online"),e instanceof JS&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.D_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.D_.delete(a),i.x_.removeTarget(a))}(t,e)}catch(r){J("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await af(t,r)}else if(e instanceof od?t.x_.$e(e):e instanceof XS?t.x_.Je(e):t.x_.Ge(e),!n.isEqual(le.min()))try{const r=await oC(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.x_.it(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=s.D_.get(u);c&&s.D_.set(u,c.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const c=s.D_.get(l);if(!c)return;s.D_.set(l,c.withResumeToken(Qt.EMPTY_BYTE_STRING,c.snapshotVersion)),dC(s,l);const h=new Ni(c.target,l,u,c.sequenceNumber);gw(s,h)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){J("RemoteStore","Failed to raise snapshot:",r),await af(t,r)}}async function af(t,e,n){if(!Vu(e))throw e;t.C_.add(1),await $u(t),t.M_.set("Offline"),n||(n=()=>oC(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{J("RemoteStore","Retrying IndexedDB access"),await n(),t.C_.delete(1),await Th(t)})}function hC(t,e){return e().catch(n=>af(t,n,e))}async function bh(t){const e=ue(t),n=is(e);let r=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;rV(e);)try{const i=await $M(e.localStore,r);if(i===null){e.b_.length===0&&n.Zo();break}r=i.batchId,iV(e,i)}catch(i){await af(e,i)}pC(e)&&mC(e)}function rV(t){return ao(t)&&t.b_.length<10}function iV(t,e){t.b_.push(e);const n=is(t);n.Ho()&&n.h_&&n.P_(e.mutations)}function pC(t){return ao(t)&&!is(t).jo()&&t.b_.length>0}function mC(t){is(t).start()}async function sV(t){is(t).E_()}async function oV(t){const e=is(t);for(const n of t.b_)e.P_(n.mutations)}async function aV(t,e,n){const r=t.b_.shift(),i=cw.from(r,e,n);await hC(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await bh(t)}async function lV(t,e){e&&is(t).h_&&await async function(r,i){if(function(o){return J3(o)&&o!==M.ABORTED}(i.code)){const s=r.b_.shift();is(r).Yo(),await hC(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await bh(r)}}(t,e),pC(t)&&mC(t)}async function zE(t,e){const n=ue(t);n.asyncQueue.verifyOperationInProgress(),J("RemoteStore","RemoteStore received new credentials");const r=ao(n);n.C_.add(3),await $u(n),r&&n.M_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.C_.delete(3),await Th(n)}async function uV(t,e){const n=ue(t);e?(n.C_.delete(2),await Th(n)):e||(n.C_.add(2),await $u(n),n.M_.set("Unknown"))}function Sa(t){return t.O_||(t.O_=function(n,r,i){const s=ue(n);return s.A_(),new QM(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{ho:eV.bind(null,t),Io:tV.bind(null,t),a_:nV.bind(null,t)}),t.v_.push(async e=>{e?(t.O_.Yo(),vw(t)?yw(t):t.M_.set("Unknown")):(await t.O_.stop(),fC(t))})),t.O_}function is(t){return t.N_||(t.N_=function(n,r,i){const s=ue(n);return s.A_(),new YM(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{ho:sV.bind(null,t),Io:lV.bind(null,t),T_:oV.bind(null,t),I_:aV.bind(null,t)}),t.v_.push(async e=>{e?(t.N_.Yo(),await bh(t)):(await t.N_.stop(),t.b_.length>0&&(J("RemoteStore",`Stopping write stream with ${t.b_.length} pending writes`),t.b_=[]))})),t.N_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Qr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new ww(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new X(M.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function _w(t,e){if(ri("AsyncQueue",`${e}: ${t}`),Vu(t))return new X(M.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(e){this.comparator=e?(n,r)=>e(n,r)||te.comparator(n.key,r.key):(n,r)=>te.comparator(n.key,r.key),this.keyedMap=fl(),this.sortedSet=new We(this.comparator)}static emptySet(e){return new Qo(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Qo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Qo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HE{constructor(){this.B_=new We(te.comparator)}track(e){const n=e.doc.key,r=this.B_.get(n);r?e.type!==0&&r.type===3?this.B_=this.B_.insert(n,e):e.type===3&&r.type!==1?this.B_=this.B_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.B_=this.B_.remove(n):e.type===1&&r.type===2?this.B_=this.B_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):se():this.B_=this.B_.insert(n,e)}L_(){const e=[];return this.B_.inorderTraversal((n,r)=>{e.push(r)}),e}}class ha{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new ha(e,n,Qo.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&yh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cV{constructor(){this.k_=void 0,this.listeners=[]}}class dV{constructor(){this.queries=new Ia(e=>LS(e),yh),this.onlineState="Unknown",this.q_=new Set}}async function Ew(t,e){const n=ue(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new cV),i)try{s.k_=await n.onListen(r)}catch(o){const a=_w(o,`Initialization of query '${bo(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.Q_(n.onlineState),s.k_&&e.K_(s.k_)&&Tw(n)}async function xw(t,e){const n=ue(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function fV(t,e){const n=ue(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.K_(i)&&(r=!0);o.k_=i}}r&&Tw(n)}function hV(t,e,n){const r=ue(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function Tw(t){t.q_.forEach(e=>{e.next()})}class bw{constructor(e,n,r){this.query=e,this.U_=n,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=r||{}}K_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new ha(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.W_?this.z_(e)&&(this.U_.next(e),n=!0):this.j_(e,this.onlineState)&&(this.H_(e),n=!0),this.G_=e,n}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let n=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),n=!0),n}j_(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.J_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}z_(e){if(e.docChanges.length>0)return!0;const n=this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}H_(e){e=ha.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gC{constructor(e){this.key=e}}class yC{constructor(e){this.key=e}}class pV{constructor(e,n){this.query=e,this.ia=n,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=he(),this.mutatedKeys=he(),this._a=MS(e),this.aa=new Qo(this._a)}get ua(){return this.ia}ca(e,n){const r=n?n.la:new HE,i=n?n.aa:this.aa;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,h)=>{const m=i.get(c),w=vh(this.query,h)?h:null,_=!!m&&this.mutatedKeys.has(m.key),x=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let T=!1;m&&w?m.data.isEqual(w.data)?_!==x&&(r.track({type:3,doc:w}),T=!0):this.ha(m,w)||(r.track({type:2,doc:w}),T=!0,(l&&this._a(w,l)>0||u&&this._a(w,u)<0)&&(a=!0)):!m&&w?(r.track({type:0,doc:w}),T=!0):m&&!w&&(r.track({type:1,doc:m}),T=!0,(l||u)&&(a=!0)),T&&(w?(o=o.add(w),s=x?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{aa:o,la:r,Zi:a,mutatedKeys:s}}ha(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const o=e.la.L_();o.sort((c,h)=>function(w,_){const x=T=>{switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return se()}};return x(w)-x(_)}(c.type,h.type)||this._a(c.doc,h.doc)),this.Pa(r),i=i!=null&&i;const a=n&&!i?this.Ia():[],l=this.oa.size===0&&this.current&&!i?1:0,u=l!==this.sa;return this.sa=l,o.length!==0||u?{snapshot:new ha(this.query,e.aa,s,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ta:a}:{Ta:a}}Q_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({aa:this.aa,la:new HE,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(n=>this.ia=this.ia.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ia=this.ia.delete(n)),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=he(),this.aa.forEach(r=>{this.Ea(r.key)&&(this.oa=this.oa.add(r.key))});const n=[];return e.forEach(r=>{this.oa.has(r)||n.push(new yC(r))}),this.oa.forEach(r=>{e.has(r)||n.push(new gC(r))}),n}da(e){this.ia=e.ls,this.oa=he();const n=this.ca(e.documents);return this.applyChanges(n,!0)}Aa(){return ha.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,this.sa===0,this.hasCachedResults)}}class mV{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class gV{constructor(e){this.key=e,this.Ra=!1}}class yV{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Va={},this.ma=new Ia(a=>LS(a),yh),this.fa=new Map,this.ga=new Set,this.pa=new We(te.comparator),this.ya=new Map,this.wa=new hw,this.Sa={},this.ba=new Map,this.Da=fa.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return this.Ca===!0}}async function vV(t,e){const n=AV(t);let r,i;const s=n.ma.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Aa();else{const o=await BM(n.localStore,Ar(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await wV(n,e,r,a==="current",o.resumeToken),n.isPrimaryClient&&uC(n.remoteStore,o)}return i}async function wV(t,e,n,r,i){t.va=(h,m,w)=>async function(x,T,E,v){let b=T.view.ca(E);b.Zi&&(b=await UE(x.localStore,T.query,!1).then(({documents:L})=>T.view.ca(L,b)));const C=v&&v.targetChanges.get(T.targetId),R=v&&v.targetMismatches.get(T.targetId)!=null,O=T.view.applyChanges(b,x.isPrimaryClient,C,R);return WE(x,T.targetId,O.Ta),O.snapshot}(t,h,m,w);const s=await UE(t.localStore,e,!0),o=new pV(e,s.ls),a=o.ca(s.documents),l=Uu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);WE(t,n,u.Ta);const c=new mV(e,n,o);return t.ma.set(e,c),t.fa.has(n)?t.fa.get(n).push(e):t.fa.set(n,[e]),u.snapshot}async function _V(t,e){const n=ue(t),r=n.ma.get(e),i=n.fa.get(r.targetId);if(i.length>1)return n.fa.set(r.targetId,i.filter(s=>!yh(s,e))),void n.ma.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await oy(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),cC(n.remoteStore,r.targetId),ay(n,r.targetId)}).catch(Mu)):(ay(n,r.targetId),await oy(n.localStore,r.targetId,!0))}async function EV(t,e,n){const r=RV(t);try{const i=await function(o,a){const l=ue(o),u=ht.now(),c=a.reduce((w,_)=>w.add(_.key),he());let h,m;return l.persistence.runTransaction("Locally write mutations","readwrite",w=>{let _=ii(),x=he();return l.ss.getEntries(w,c).next(T=>{_=T,_.forEach((E,v)=>{v.isValidDocument()||(x=x.add(E))})}).next(()=>l.localDocuments.getOverlayedDocuments(w,_)).next(T=>{h=T;const E=[];for(const v of a){const b=K3(v,h.get(v.key).overlayedDocument);b!=null&&E.push(new fs(v.key,b,AS(b.value.mapValue),Rr.exists(!0)))}return l.mutationQueue.addMutationBatch(w,u,E,a)}).next(T=>{m=T;const E=T.applyToLocalDocumentSet(h,x);return l.documentOverlayCache.saveOverlays(w,T.batchId,E)})}).then(()=>({batchId:m.batchId,changes:FS(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let u=o.Sa[o.currentUser.toKey()];u||(u=new We(xe)),u=u.insert(a,l),o.Sa[o.currentUser.toKey()]=u}(r,i.batchId,n),await Bu(r,i.changes),await bh(r.remoteStore)}catch(i){const s=_w(i,"Failed to persist write");n.reject(s)}}async function vC(t,e){const n=ue(t);try{const r=await FM(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.ya.get(s);o&&(ke(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Ra=!0:i.modifiedDocuments.size>0?ke(o.Ra):i.removedDocuments.size>0&&(ke(o.Ra),o.Ra=!1))}),await Bu(n,r,e)}catch(r){await Mu(r)}}function qE(t,e,n){const r=ue(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ma.forEach((s,o)=>{const a=o.view.Q_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=ue(o);l.onlineState=a;let u=!1;l.queries.forEach((c,h)=>{for(const m of h.listeners)m.Q_(a)&&(u=!0)}),u&&Tw(l)}(r.eventManager,e),i.length&&r.Va.a_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function xV(t,e,n){const r=ue(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.ya.get(e),s=i&&i.key;if(s){let o=new We(te.comparator);o=o.insert(s,zt.newNoDocument(s,le.min()));const a=he().add(s),l=new Eh(le.min(),new Map,new We(xe),o,a);await vC(r,l),r.pa=r.pa.remove(s),r.ya.delete(e),Iw(r)}else await oy(r.localStore,e,!1).then(()=>ay(r,e,n)).catch(Mu)}async function TV(t,e){const n=ue(t),r=e.batch.batchId;try{const i=await VM(n.localStore,e);_C(n,r,null),wC(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Bu(n,i)}catch(i){await Mu(i)}}async function bV(t,e,n){const r=ue(t);try{const i=await function(o,a){const l=ue(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(h=>(ke(h!==null),c=h.keys(),l.mutationQueue.removeMutationBatch(u,h))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);_C(r,e,n),wC(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Bu(r,i)}catch(i){await Mu(i)}}function wC(t,e){(t.ba.get(e)||[]).forEach(n=>{n.resolve()}),t.ba.delete(e)}function _C(t,e,n){const r=ue(t);let i=r.Sa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Sa[r.currentUser.toKey()]=i}}function ay(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.fa.get(e))t.ma.delete(r),n&&t.Va.Fa(r,n);t.fa.delete(e),t.isPrimaryClient&&t.wa.Rr(e).forEach(r=>{t.wa.containsKey(r)||EC(t,r)})}function EC(t,e){t.ga.delete(e.path.canonicalString());const n=t.pa.get(e);n!==null&&(cC(t.remoteStore,n),t.pa=t.pa.remove(e),t.ya.delete(n),Iw(t))}function WE(t,e,n){for(const r of n)r instanceof gC?(t.wa.addReference(r.key,e),IV(t,r)):r instanceof yC?(J("SyncEngine","Document no longer in limbo: "+r.key),t.wa.removeReference(r.key,e),t.wa.containsKey(r.key)||EC(t,r.key)):se()}function IV(t,e){const n=e.key,r=n.path.canonicalString();t.pa.get(n)||t.ga.has(r)||(J("SyncEngine","New document in limbo: "+n),t.ga.add(r),Iw(t))}function Iw(t){for(;t.ga.size>0&&t.pa.size<t.maxConcurrentLimboResolutions;){const e=t.ga.values().next().value;t.ga.delete(e);const n=new te(Re.fromString(e)),r=t.Da.next();t.ya.set(r,new gV(n)),t.pa=t.pa.insert(n,r),uC(t.remoteStore,new Ni(Ar(gh(n.path)),r,"TargetPurposeLimboResolution",iw._e))}}async function Bu(t,e,n){const r=ue(t),i=[],s=[],o=[];r.ma.isEmpty()||(r.ma.forEach((a,l)=>{o.push(r.va(l,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const c=mw.Qi(l.targetId,u);s.push(c)}}))}),await Promise.all(o),r.Va.a_(i),await async function(l,u){const c=ue(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>V.forEach(u,m=>V.forEach(m.ki,w=>c.persistence.referenceDelegate.addReference(h,m.targetId,w)).next(()=>V.forEach(m.qi,w=>c.persistence.referenceDelegate.removeReference(h,m.targetId,w)))))}catch(h){if(!Vu(h))throw h;J("LocalStore","Failed to update sequence numbers: "+h)}for(const h of u){const m=h.targetId;if(!h.fromCache){const w=c.ts.get(m),_=w.snapshotVersion,x=w.withLastLimboFreeSnapshotVersion(_);c.ts=c.ts.insert(m,x)}}}(r.localStore,s))}async function SV(t,e){const n=ue(t);if(!n.currentUser.isEqual(e)){J("SyncEngine","User change. New user:",e.toKey());const r=await sC(n.localStore,e);n.currentUser=e,function(s,o){s.ba.forEach(a=>{a.forEach(l=>{l.reject(new X(M.CANCELLED,o))})}),s.ba.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Bu(n,r._s)}}function CV(t,e){const n=ue(t),r=n.ya.get(e);if(r&&r.Ra)return he().add(r.key);{let i=he();const s=n.fa.get(e);if(!s)return i;for(const o of s){const a=n.ma.get(o);i=i.unionWith(a.view.ua)}return i}}function AV(t){const e=ue(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=vC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=CV.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=xV.bind(null,e),e.Va.a_=fV.bind(null,e.eventManager),e.Va.Fa=hV.bind(null,e.eventManager),e}function RV(t){const e=ue(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=TV.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=bV.bind(null,e),e}class KE{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=xh(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return MM(this.persistence,new jM,e.initialUser,this.serializer)}createPersistence(e){return new NM(pw.jr,this.serializer)}createSharedClientState(e){return new HM}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class PV{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>qE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=SV.bind(null,this.syncEngine),await uV(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new dV}()}createDatastore(e){const n=xh(e.databaseInfo.databaseId),r=function(s){return new GM(s)}(e.databaseInfo);return function(s,o,a,l){return new XM(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new ZM(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>qE(this.syncEngine,n,0),function(){return BE.D()?new BE:new qM}())}createSyncEngine(e,n){return function(i,s,o,a,l,u,c){const h=new yV(i,s,o,a,l,u);return c&&(h.Ca=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(n){const r=ue(n);J("RemoteStore","RemoteStore shutting down."),r.C_.add(5),await $u(r),r.F_.shutdown(),r.M_.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sw{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):ri("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kV{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=$t.UNAUTHENTICATED,this.clientId=IS.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{J("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(J("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new X(M.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Qr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=_w(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function am(t,e){t.asyncQueue.verifyOperationInProgress(),J("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await sC(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function GE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await DV(t);J("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>zE(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>zE(e.remoteStore,s)),t._onlineComponents=e}function NV(t){return t.name==="FirebaseError"?t.code===M.FAILED_PRECONDITION||t.code===M.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function DV(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){J("FirestoreClient","Using user provided OfflineComponentProvider");try{await am(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!NV(n))throw n;aa("Error using user provided cache. Falling back to memory cache: "+n),await am(t,new KE)}}else J("FirestoreClient","Using default OfflineComponentProvider"),await am(t,new KE);return t._offlineComponents}async function xC(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(J("FirestoreClient","Using user provided OnlineComponentProvider"),await GE(t,t._uninitializedComponentsProvider._online)):(J("FirestoreClient","Using default OnlineComponentProvider"),await GE(t,new PV))),t._onlineComponents}function OV(t){return xC(t).then(e=>e.syncEngine)}async function lf(t){const e=await xC(t),n=e.eventManager;return n.onListen=vV.bind(null,e.syncEngine),n.onUnlisten=_V.bind(null,e.syncEngine),n}function jV(t,e,n={}){const r=new Qr;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const c=new Sw({next:m=>{o.enqueueAndForget(()=>xw(s,h));const w=m.docs.has(a);!w&&m.fromCache?u.reject(new X(M.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&m.fromCache&&l&&l.source==="server"?u.reject(new X(M.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(m)},error:m=>u.reject(m)}),h=new bw(gh(a.path),c,{includeMetadataChanges:!0,J_:!0});return Ew(s,h)}(await lf(t),t.asyncQueue,e,n,r)),r.promise}function LV(t,e,n={}){const r=new Qr;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const c=new Sw({next:m=>{o.enqueueAndForget(()=>xw(s,h)),m.fromCache&&l.source==="server"?u.reject(new X(M.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(m)},error:m=>u.reject(m)}),h=new bw(a,c,{includeMetadataChanges:!0,J_:!0});return Ew(s,h)}(await lf(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TC(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cw(t,e,n){if(!n)throw new X(M.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function MV(t,e,n,r){if(e===!0&&r===!0)throw new X(M.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function YE(t){if(!te.isDocumentKey(t))throw new X(M.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function XE(t){if(te.isDocumentKey(t))throw new X(M.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Ih(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":se()}function bn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new X(M.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ih(t);throw new X(M.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JE{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new X(M.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new X(M.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}MV("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=TC((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new X(M.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new X(M.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new X(M.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class zu{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new JE({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new X(M.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new X(M.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new JE(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new r3;switch(r.type){case"firstParty":return new a3(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new X(M.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=QE.get(n);r&&(J("ComponentProvider","Removing Datastore"),QE.delete(n),r.terminate())}(this),Promise.resolve()}}function VV(t,e,n,r={}){var i;const s=(t=bn(t,zu))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&aa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=$t.MOCK_USER;else{a=fI(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new X(M.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new $t(u)}t._authCredentials=new i3(new bS(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new hs(this.firestore,e,this._query)}}class Wt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ki(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Wt(this.firestore,e,this._key)}}class Ki extends hs{constructor(e,n,r){super(e,n,gh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Wt(this.firestore,null,new te(e))}withConverter(e){return new Ki(this.firestore,e,this._path)}}function Ca(t,e,...n){if(t=Ne(t),Cw("collection","path",e),t instanceof zu){const r=Re.fromString(e,...n);return XE(r),new Ki(t,null,r)}{if(!(t instanceof Wt||t instanceof Ki))throw new X(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Re.fromString(e,...n));return XE(r),new Ki(t.firestore,null,r)}}function FV(t,e){if(t=bn(t,zu),Cw("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new X(M.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new hs(t,null,function(r){return new ba(Re.emptyPath(),r)}(e))}function Yt(t,e,...n){if(t=Ne(t),arguments.length===1&&(e=IS.newId()),Cw("doc","path",e),t instanceof zu){const r=Re.fromString(e,...n);return YE(r),new Wt(t,null,new te(r))}{if(!(t instanceof Wt||t instanceof Ki))throw new X(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Re.fromString(e,...n));return YE(r),new Wt(t.firestore,t instanceof Ki?t.converter:null,new te(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UV{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new aC(this,"async_queue_retry"),this.iu=()=>{const n=om();n&&J("AsyncQueue","Visibility state changed to "+n.visibilityState),this.zo.Qo()};const e=om();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const n=om();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});const n=new Qr;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}async _u(){if(this.Ya.length!==0){try{await this.Ya[0](),this.Ya.shift(),this.zo.reset()}catch(e){if(!Vu(e))throw e;J("AsyncQueue","Operation failed with retryable error: "+e)}this.Ya.length>0&&this.zo.ko(()=>this._u())}}ou(e){const n=this.Ja.then(()=>(this.tu=!0,e().catch(r=>{this.eu=r,this.tu=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw ri("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.tu=!1,r))));return this.Ja=n,n}enqueueAfterDelay(e,n,r){this.su(),this.ru.indexOf(e)>-1&&(n=0);const i=ww.createAndSchedule(this,e,n,r,s=>this.au(s));return this.Xa.push(i),i}su(){this.eu&&se()}verifyOperationInProgress(){}async uu(){let e;do e=this.Ja,await e;while(e!==this.Ja)}cu(e){for(const n of this.Xa)if(n.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Xa)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){const n=this.Xa.indexOf(e);this.Xa.splice(n,1)}}function ZE(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class Qs extends zu{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new UV}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||bC(this),this._firestoreClient.terminate()}}function $V(t,e){const n=typeof t=="object"?t:Jf(),r=typeof t=="string"?t:e||"(default)",i=us(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=uI("firestore");s&&VV(i,...s)}return i}function Sh(t){return t._firestoreClient||bC(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function bC(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,u,c){return new w3(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,TC(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new kV(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new pa(Qt.fromBase64String(e))}catch(n){throw new X(M.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new pa(Qt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new X(M.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new kt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aw{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new X(M.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new X(M.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return xe(this._lat,e._lat)||xe(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BV=/^__.*__$/;class zV{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new fs(e,this.data,this.fieldMask,n,this.fieldTransforms):new Fu(e,this.data,n,this.fieldTransforms)}}class IC{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new fs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function SC(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw se()}}class Rh{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Pu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new Rh(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Tu({path:r,du:!1});return i.Au(e),i}Ru(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Tu({path:r,du:!1});return i.Pu(),i}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return uf(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(e.length===0)throw this.mu("Document fields must not be empty");if(SC(this.Iu)&&BV.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class HV{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||xh(e)}pu(e,n,r,i=!1){return new Rh({Iu:e,methodName:n,gu:r,path:kt.emptyPath(),du:!1,fu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Rw(t){const e=t._freezeSettings(),n=xh(t._databaseId);return new HV(t._databaseId,!!e.ignoreUndefinedProperties,n)}function qV(t,e,n,r,i,s={}){const o=t.pu(s.merge||s.mergeFields?2:0,e,n,i);Pw("Data must be an object, but it was:",o,r);const a=CC(r,o);let l,u;if(s.merge)l=new _n(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const h of s.mergeFields){const m=ly(e,h,n);if(!o.contains(m))throw new X(M.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);RC(c,m)||c.push(m)}l=new _n(c),u=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,u=o.fieldTransforms;return new zV(new an(a),l,u)}class Ph extends Ah{_toFieldTransform(e){if(e.Iu!==2)throw e.Iu===1?e.mu(`${this._methodName}() can only appear at the top level of your update data`):e.mu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ph}}function WV(t,e,n){return new Rh({Iu:3,gu:e.settings.gu,methodName:t._methodName,du:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class KV extends Ah{constructor(e,n){super(e),this.yu=n}_toFieldTransform(e){const n=WV(this,e,!0),r=this.yu.map(s=>Aa(s,n)),i=new da(r);return new z3(e.path,i)}isEqual(e){return this===e}}function GV(t,e,n,r){const i=t.pu(1,e,n);Pw("Data must be an object, but it was:",i,r);const s=[],o=an.empty();oo(r,(l,u)=>{const c=kw(e,l,n);u=Ne(u);const h=i.Ru(c);if(u instanceof Ph)s.push(c);else{const m=Aa(u,h);m!=null&&(s.push(c),o.set(c,m))}});const a=new _n(s);return new IC(o,a,i.fieldTransforms)}function QV(t,e,n,r,i,s){const o=t.pu(1,e,n),a=[ly(e,r,n)],l=[i];if(s.length%2!=0)throw new X(M.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<s.length;m+=2)a.push(ly(e,s[m])),l.push(s[m+1]);const u=[],c=an.empty();for(let m=a.length-1;m>=0;--m)if(!RC(u,a[m])){const w=a[m];let _=l[m];_=Ne(_);const x=o.Ru(w);if(_ instanceof Ph)u.push(w);else{const T=Aa(_,x);T!=null&&(u.push(w),c.set(w,T))}}const h=new _n(u);return new IC(c,h,o.fieldTransforms)}function YV(t,e,n,r=!1){return Aa(n,t.pu(r?4:3,e))}function Aa(t,e){if(AC(t=Ne(t)))return Pw("Unsupported field value:",e,t),CC(t,e);if(t instanceof Ah)return function(r,i){if(!SC(i.Iu))throw i.mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.mu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.du&&e.Iu!==4)throw e.mu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=Aa(a,i.Vu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Ne(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return U3(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=ht.fromDate(r);return{timestampValue:of(i.serializer,s)}}if(r instanceof ht){const s=new ht(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:of(i.serializer,s)}}if(r instanceof Aw)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof pa)return{bytesValue:ZS(i.serializer,r._byteString)};if(r instanceof Wt){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:fw(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.mu(`Unsupported field value: ${Ih(r)}`)}(t,e)}function CC(t,e){const n={};return SS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):oo(t,(r,i)=>{const s=Aa(i,e.Eu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function AC(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ht||t instanceof Aw||t instanceof pa||t instanceof Wt||t instanceof Ah)}function Pw(t,e,n){if(!AC(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Ih(n);throw r==="an object"?e.mu(t+" a custom object"):e.mu(t+" "+r)}}function ly(t,e,n){if((e=Ne(e))instanceof Ch)return e._internalPath;if(typeof e=="string")return kw(t,e);throw uf("Field path arguments must be of type string or ",t,!1,void 0,n)}const XV=new RegExp("[~\\*/\\[\\]]");function kw(t,e,n){if(e.search(XV)>=0)throw uf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ch(...e.split("."))._internalPath}catch{throw uf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function uf(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new X(M.INVALID_ARGUMENT,a+t+l)}function RC(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PC{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Wt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new JV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Nw("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class JV extends PC{data(){return super.data()}}function Nw(t,e){return typeof e=="string"?kw(t,e):e instanceof Ch?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kC(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new X(M.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Dw{}class ZV extends Dw{}function uy(t,e,...n){let r=[];e instanceof Dw&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof Ow).length,a=s.filter(l=>l instanceof kh).length;if(o>1||o>0&&a>0)throw new X(M.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class kh extends ZV{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new kh(e,n,r)}_apply(e){const n=this._parse(e);return NC(e._query,n),new hs(e.firestore,e.converter,ey(e._query,n))}_parse(e){const n=Rw(e.firestore);return function(s,o,a,l,u,c,h){let m;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new X(M.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){tx(h,c);const w=[];for(const _ of h)w.push(ex(l,s,_));m={arrayValue:{values:w}}}else m=ex(l,s,h)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||tx(h,c),m=YV(a,o,h,c==="in"||c==="not-in");return lt.create(u,c,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function eF(t,e,n){const r=e,i=Nw("where",t);return kh._create(i,r,n)}class Ow extends Dw{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Ow(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:fr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)NC(o,l),o=ey(o,l)}(e._query,n),new hs(e.firestore,e.converter,ey(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function ex(t,e,n){if(typeof(n=Ne(n))=="string"){if(n==="")throw new X(M.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!jS(e)&&n.indexOf("/")!==-1)throw new X(M.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Re.fromString(n));if(!te.isDocumentKey(r))throw new X(M.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return TE(t,new te(r))}if(n instanceof Wt)return TE(t,n._key);throw new X(M.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ih(n)}.`)}function tx(t,e){if(!Array.isArray(t)||t.length===0)throw new X(M.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function NC(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new X(M.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new X(M.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class tF{convertValue(e,n="none"){switch(Gs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ot(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ks(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw se()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return oo(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new Aw(ot(e.latitude),ot(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=ow(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(fu(e));default:return null}}convertTimestamp(e){const n=rs(e);return new ht(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Re.fromString(e);ke(iC(r));const i=new hu(r.get(1),r.get(3)),s=new te(r.popFirst(5));return i.isEqual(n)||ri(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nF(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class DC extends PC{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ad(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Nw("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class ad extends DC{data(e={}){return super.data(e)}}class OC{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new pl(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new ad(this._firestore,this._userDataWriter,r.key,r,new pl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new X(M.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new ad(i._firestore,i._userDataWriter,a.doc.key,a.doc,new pl(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new ad(i._firestore,i._userDataWriter,a.doc.key,a.doc,new pl(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),c=o.indexOf(a.doc.key)),{type:rF(a.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function rF(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return se()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function li(t){t=bn(t,Wt);const e=bn(t.firestore,Qs);return jV(Sh(e),t._key).then(n=>LC(e,t,n))}class jw extends tF{constructor(e){super(),this.firestore=e}convertBytes(e){return new pa(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Wt(this.firestore,null,n)}}function Nh(t){t=bn(t,hs);const e=bn(t.firestore,Qs),n=Sh(e),r=new jw(e);return kC(t._query),LV(n,t._query).then(i=>new OC(e,r,t,i))}function lo(t,e,n){t=bn(t,Wt);const r=bn(t.firestore,Qs),i=nF(t.converter,e,n);return jC(r,[qV(Rw(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Rr.none())])}function gu(t,e,n,...r){t=bn(t,Wt);const i=bn(t.firestore,Qs),s=Rw(i);let o;return o=typeof(e=Ne(e))=="string"||e instanceof Ch?QV(s,"updateDoc",t._key,e,n,r):GV(s,"updateDoc",t._key,e),jC(i,[o.toMutation(t._key,Rr.exists(!0))])}function Lw(t,...e){var n,r,i;t=Ne(t);let s={includeMetadataChanges:!1},o=0;typeof e[o]!="object"||ZE(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(ZE(e[o])){const h=e[o];e[o]=(n=h.next)===null||n===void 0?void 0:n.bind(h),e[o+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),e[o+2]=(i=h.complete)===null||i===void 0?void 0:i.bind(h)}let l,u,c;if(t instanceof Wt)u=bn(t.firestore,Qs),c=gh(t._key.path),l={next:h=>{e[o]&&e[o](LC(u,t,h))},error:e[o+1],complete:e[o+2]};else{const h=bn(t,hs);u=bn(h.firestore,Qs),c=h._query;const m=new jw(u);l={next:w=>{e[o]&&e[o](new OC(u,m,h,w))},error:e[o+1],complete:e[o+2]},kC(t._query)}return function(m,w,_,x){const T=new Sw(x),E=new bw(w,T,_);return m.asyncQueue.enqueueAndForget(async()=>Ew(await lf(m),E)),()=>{T.Na(),m.asyncQueue.enqueueAndForget(async()=>xw(await lf(m),E))}}(Sh(u),c,a,l)}function jC(t,e){return function(r,i){const s=new Qr;return r.asyncQueue.enqueueAndForget(async()=>EV(await OV(r),i,s)),s.promise}(Sh(t),e)}function LC(t,e,n){const r=n.docs.get(e._key),i=new jw(t);return new DC(t,i,e._key,r,new pl(n.hasPendingWrites,n.fromCache),e.converter)}function iF(...t){return new KV("arrayUnion",t)}(function(e,n=!0){(function(i){Ta=i})(io),cr(new Wn("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Qs(new s3(r.getProvider("auth-internal")),new u3(r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new X(M.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new hu(u.options.projectId,c)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),fn(wE,"4.4.0",e),fn(wE,"4.4.0","esm2017")})();function Mw(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function MC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const sF=MC,VC=new ro("auth","Firebase",MC());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cf=new Xf("@firebase/auth");function oF(t,...e){cf.logLevel<=me.WARN&&cf.warn(`Auth (${io}): ${t}`,...e)}function ld(t,...e){cf.logLevel<=me.ERROR&&cf.error(`Auth (${io}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kn(t,...e){throw Vw(t,...e)}function kr(t,...e){return Vw(t,...e)}function FC(t,e,n){const r=Object.assign(Object.assign({},sF()),{[e]:n});return new ro("auth","Firebase",r).create(e,{appName:t.name})}function aF(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Kn(t,"argument-error"),FC(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Vw(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return VC.create(t,...e)}function re(t,e,...n){if(!t)throw Vw(e,...n)}function Wr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw ld(e),new Error(e)}function si(t,e){t||Wr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cy(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function lF(){return nx()==="http:"||nx()==="https:"}function nx(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uF(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(lF()||hI()||"connection"in navigator)?navigator.onLine:!0}function cF(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu{constructor(e,n){this.shortDelay=e,this.longDelay=n,si(n>e,"Short delay should be less than long delay!"),this.isMobile=k4()||N4()}get(){return uF()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fw(t,e){si(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UC{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Wr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Wr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Wr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dF={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fF=new Hu(3e4,6e4);function ui(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Or(t,e,n,r,i={}){return $C(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=Au(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),UC.fetch()(BC(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function $C(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},dF),e);try{const i=new pF(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Vc(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Vc(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Vc(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Vc(t,"user-disabled",o);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw FC(t,c,u);Kn(t,c)}}catch(i){if(i instanceof Qn)throw i;Kn(t,"network-request-failed",{message:String(i)})}}async function qu(t,e,n,r,i={}){const s=await Or(t,e,n,r,i);return"mfaPendingCredential"in s&&Kn(t,"multi-factor-auth-required",{_serverResponse:s}),s}function BC(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Fw(t.config,i):`${t.config.apiScheme}://${i}`}function hF(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class pF{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(kr(this.auth,"network-request-failed")),fF.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Vc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=kr(t,e,r);return i.customData._tokenResponse=n,i}function rx(t){return t!==void 0&&t.enterprise!==void 0}class mF{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return hF(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function gF(t,e){return Or(t,"GET","/v2/recaptchaConfig",ui(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yF(t,e){return Or(t,"POST","/v1/accounts:delete",e)}async function vF(t,e){return Or(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function wF(t,e=!1){const n=Ne(t),r=await n.getIdToken(e),i=Uw(r);re(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Rl(lm(i.auth_time)),issuedAtTime:Rl(lm(i.iat)),expirationTime:Rl(lm(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function lm(t){return Number(t)*1e3}function Uw(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return ld("JWT malformed, contained fewer than 3 sections"),null;try{const i=aI(n);return i?JSON.parse(i):(ld("Failed to decode base64 JWT payload"),null)}catch(i){return ld("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function _F(t){const e=Uw(t);return re(e,"internal-error"),re(typeof e.exp<"u","internal-error"),re(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ma(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Qn&&EF(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function EF({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xF{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zC{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Rl(this.lastLoginAt),this.creationTime=Rl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function df(t){var e;const n=t.auth,r=await t.getIdToken(),i=await ma(t,vF(n,{idToken:r}));re(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?IF(s.providerUserInfo):[],a=bF(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new zC(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,h)}async function TF(t){const e=Ne(t);await df(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function bF(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function IF(t){return t.map(e=>{var{providerId:n}=e,r=Mw(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SF(t,e){const n=await $C(t,{},async()=>{const r=Au({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=BC(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",UC.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function CF(t,e){return Or(t,"POST","/v2/accounts:revokeToken",ui(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){re(e.idToken,"internal-error"),re(typeof e.idToken<"u","internal-error"),re(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):_F(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return re(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await SF(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new yu;return r&&(re(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(re(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(re(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new yu,this.toJSON())}_performRefresh(){return Wr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wi(t,e){re(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ls{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Mw(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new xF(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new zC(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await ma(this,this.stsTokenManager.getToken(this.auth,e));return re(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return wF(this,e)}reload(){return TF(this)}_assign(e){this!==e&&(re(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ls(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await df(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await ma(this,yF(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,c;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(i=n.email)!==null&&i!==void 0?i:void 0,w=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,_=(o=n.photoURL)!==null&&o!==void 0?o:void 0,x=(a=n.tenantId)!==null&&a!==void 0?a:void 0,T=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,E=(u=n.createdAt)!==null&&u!==void 0?u:void 0,v=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:b,emailVerified:C,isAnonymous:R,providerData:O,stsTokenManager:L}=n;re(b&&L,e,"internal-error");const F=yu.fromJSON(this.name,L);re(typeof b=="string",e,"internal-error"),wi(h,e.name),wi(m,e.name),re(typeof C=="boolean",e,"internal-error"),re(typeof R=="boolean",e,"internal-error"),wi(w,e.name),wi(_,e.name),wi(x,e.name),wi(T,e.name),wi(E,e.name),wi(v,e.name);const z=new Ls({uid:b,auth:e,email:m,emailVerified:C,displayName:h,isAnonymous:R,photoURL:_,phoneNumber:w,tenantId:x,stsTokenManager:F,createdAt:E,lastLoginAt:v});return O&&Array.isArray(O)&&(z.providerData=O.map(q=>Object.assign({},q))),T&&(z._redirectEventId=T),z}static async _fromIdTokenResponse(e,n,r=!1){const i=new yu;i.updateFromServerResponse(n);const s=new Ls({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await df(s),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ix=new Map;function Kr(t){si(t instanceof Function,"Expected a class definition");let e=ix.get(t);return e?(si(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,ix.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}HC.type="NONE";const sx=HC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ud(t,e,n){return`firebase:${t}:${e}:${n}`}class Yo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=ud(this.userKey,i.apiKey,s),this.fullPersistenceKey=ud("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ls._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Yo(Kr(sx),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||Kr(sx);const o=ud(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(o);if(c){const h=Ls._fromJSON(e,c);u!==s&&(a=h),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Yo(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new Yo(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ox(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(KC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(qC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(QC(e))return"Blackberry";if(YC(e))return"Webos";if($w(e))return"Safari";if((e.includes("chrome/")||WC(e))&&!e.includes("edge/"))return"Chrome";if(GC(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function qC(t=Gt()){return/firefox\//i.test(t)}function $w(t=Gt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function WC(t=Gt()){return/crios\//i.test(t)}function KC(t=Gt()){return/iemobile/i.test(t)}function GC(t=Gt()){return/android/i.test(t)}function QC(t=Gt()){return/blackberry/i.test(t)}function YC(t=Gt()){return/webos/i.test(t)}function Dh(t=Gt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function AF(t=Gt()){var e;return Dh(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function RF(){return D4()&&document.documentMode===10}function XC(t=Gt()){return Dh(t)||GC(t)||YC(t)||QC(t)||/windows phone/i.test(t)||KC(t)}function PF(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JC(t,e=[]){let n;switch(t){case"Browser":n=ox(Gt());break;case"Worker":n=`${ox(Gt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${io}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kF{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NF(t,e={}){return Or(t,"GET","/v2/passwordPolicy",ui(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DF=6;class OF{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:DF,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jF{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ax(this),this.idTokenSubscription=new ax(this),this.beforeStateQueue=new kF(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=VC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Kr(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Yo.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return re(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await df(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=cF()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?Ne(e):null;return n&&re(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&re(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Kr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await NF(this),n=new OF(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ro("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await CF(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Kr(e)||this._popupRedirectResolver;re(n,this,"argument-error"),this.redirectPersistenceManager=await Yo.create(this,[Kr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(re(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=JC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&oF(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ci(t){return Ne(t)}class ax{constructor(e){this.auth=e,this.observer=null,this.addObserver=F4(n=>this.observer=n)}get next(){return re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LF(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function ZC(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=kr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",LF().appendChild(r)})}function MF(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const VF="https://www.google.com/recaptcha/enterprise.js?render=",FF="recaptcha-enterprise",UF="NO_RECAPTCHA";class $F{constructor(e){this.type=FF,this.auth=ci(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{gF(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new mF(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;rx(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(UF)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&rx(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}ZC(VF+a).then(()=>{i(a,s,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})}}async function lx(t,e,n,r=!1){const i=new $F(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function ff(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await lx(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await lx(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BF(t,e){const n=us(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(tu(s,e??{}))return i;Kn(i,"already-initialized")}return n.initialize({options:e})}function zF(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Kr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function HF(t,e,n){const r=ci(t);re(r._canInitEmulator,r,"emulator-config-failed"),re(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=eA(e),{host:o,port:a}=qF(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||WF()}function eA(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function qF(t){const e=eA(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:ux(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:ux(o)}}}function ux(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function WF(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Wr("not implemented")}_getIdTokenResponse(e){return Wr("not implemented")}_linkToIdToken(e,n){return Wr("not implemented")}_getReauthenticationResolver(e){return Wr("not implemented")}}async function KF(t,e){return Or(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GF(t,e){return qu(t,"POST","/v1/accounts:signInWithPassword",ui(t,e))}async function QF(t,e){return Or(t,"POST","/v1/accounts:sendOobCode",ui(t,e))}async function YF(t,e){return QF(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XF(t,e){return qu(t,"POST","/v1/accounts:signInWithEmailLink",ui(t,e))}async function JF(t,e){return qu(t,"POST","/v1/accounts:signInWithEmailLink",ui(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu extends Bw{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new vu(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new vu(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ff(e,n,"signInWithPassword",GF);case"emailLink":return XF(e,{email:this._email,oobCode:this._password});default:Kn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ff(e,r,"signUpPassword",KF);case"emailLink":return JF(e,{idToken:n,email:this._email,oobCode:this._password});default:Kn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xo(t,e){return qu(t,"POST","/v1/accounts:signInWithIdp",ui(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZF="http://localhost";class Ys extends Bw{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ys(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Kn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Mw(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Ys(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Xo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Xo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Xo(e,n)}buildRequest(){const e={requestUri:ZF,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Au(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e6(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function t6(t){const e=ll(ul(t)).link,n=e?ll(ul(e)).deep_link_id:null,r=ll(ul(t)).deep_link_id;return(r?ll(ul(r)).link:null)||r||n||e||t}class zw{constructor(e){var n,r,i,s,o,a;const l=ll(ul(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,c=(r=l.oobCode)!==null&&r!==void 0?r:null,h=e6((i=l.mode)!==null&&i!==void 0?i:null);re(u&&c&&h,"argument-error"),this.apiKey=u,this.operation=h,this.code=c,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=t6(e);try{return new zw(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra{constructor(){this.providerId=Ra.PROVIDER_ID}static credential(e,n){return vu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=zw.parseLink(n);return re(r,"argument-error"),vu._fromEmailAndCode(e,r.code,r.tenantId)}}Ra.PROVIDER_ID="password";Ra.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ra.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hw{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu extends Hw{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si extends Wu{constructor(){super("facebook.com")}static credential(e){return Ys._fromParams({providerId:Si.PROVIDER_ID,signInMethod:Si.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Si.credentialFromTaggedObject(e)}static credentialFromError(e){return Si.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Si.credential(e.oauthAccessToken)}catch{return null}}}Si.FACEBOOK_SIGN_IN_METHOD="facebook.com";Si.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br extends Wu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ys._fromParams({providerId:Br.PROVIDER_ID,signInMethod:Br.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Br.credentialFromTaggedObject(e)}static credentialFromError(e){return Br.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Br.credential(n,r)}catch{return null}}}Br.GOOGLE_SIGN_IN_METHOD="google.com";Br.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci extends Wu{constructor(){super("github.com")}static credential(e){return Ys._fromParams({providerId:Ci.PROVIDER_ID,signInMethod:Ci.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ci.credentialFromTaggedObject(e)}static credentialFromError(e){return Ci.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ci.credential(e.oauthAccessToken)}catch{return null}}}Ci.GITHUB_SIGN_IN_METHOD="github.com";Ci.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai extends Wu{constructor(){super("twitter.com")}static credential(e,n){return Ys._fromParams({providerId:Ai.PROVIDER_ID,signInMethod:Ai.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ai.credentialFromTaggedObject(e)}static credentialFromError(e){return Ai.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ai.credential(n,r)}catch{return null}}}Ai.TWITTER_SIGN_IN_METHOD="twitter.com";Ai.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n6(t,e){return qu(t,"POST","/v1/accounts:signUp",ui(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Ls._fromIdTokenResponse(e,r,i),o=cx(r);return new Xs({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=cx(r);return new Xs({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function cx(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf extends Qn{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,hf.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new hf(e,n,r,i)}}function tA(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?hf._fromErrorAndOperation(t,s,e,r):s})}async function r6(t,e,n=!1){const r=await ma(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Xs._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i6(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await ma(t,tA(r,i,e,t),n);re(s.idToken,r,"internal-error");const o=Uw(s.idToken);re(o,r,"internal-error");const{sub:a}=o;return re(t.uid===a,r,"user-mismatch"),Xs._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Kn(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nA(t,e,n=!1){const r="signIn",i=await tA(t,r,e),s=await Xs._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function s6(t,e){return nA(ci(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o6(t,e,n){var r;re(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),re(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(re(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(re(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rA(t){const e=ci(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function a6(t,e,n){const r=ci(t),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&o6(r,i,n),await ff(r,i,"getOobCode",YF)}async function l6(t,e,n){const r=ci(t),o=await ff(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",n6).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&rA(t),l}),a=await Xs._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function u6(t,e,n){return s6(Ne(t),Ra.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&rA(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c6(t,e){return Or(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d6(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Ne(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await ma(r,c6(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function f6(t,e,n,r){return Ne(t).onIdTokenChanged(e,n,r)}function h6(t,e,n){return Ne(t).beforeAuthStateChanged(e,n)}function p6(t,e,n,r){return Ne(t).onAuthStateChanged(e,n,r)}function m6(t){return Ne(t).signOut()}const pf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iA{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(pf,"1"),this.storage.removeItem(pf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g6(){const t=Gt();return $w(t)||Dh(t)}const y6=1e3,v6=10;class sA extends iA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=g6()&&PF(),this.fallbackToPolling=XC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);RF()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,v6):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},y6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}sA.type="LOCAL";const w6=sA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oA extends iA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}oA.type="SESSION";const aA=oA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _6(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Oh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await _6(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Oh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qw(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E6{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=qw("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){const m=h;if(m.data.eventId===u)switch(m.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(m.data.response);break;default:clearTimeout(c),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nr(){return window}function x6(t){Nr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lA(){return typeof Nr().WorkerGlobalScope<"u"&&typeof Nr().importScripts=="function"}async function T6(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function b6(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function I6(){return lA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uA="firebaseLocalStorageDb",S6=1,mf="firebaseLocalStorage",cA="fbase_key";class Ku{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function jh(t,e){return t.transaction([mf],e?"readwrite":"readonly").objectStore(mf)}function C6(){const t=indexedDB.deleteDatabase(uA);return new Ku(t).toPromise()}function dy(){const t=indexedDB.open(uA,S6);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(mf,{keyPath:cA})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(mf)?e(r):(r.close(),await C6(),e(await dy()))})})}async function dx(t,e,n){const r=jh(t,!0).put({[cA]:e,value:n});return new Ku(r).toPromise()}async function A6(t,e){const n=jh(t,!1).get(e),r=await new Ku(n).toPromise();return r===void 0?null:r.value}function fx(t,e){const n=jh(t,!0).delete(e);return new Ku(n).toPromise()}const R6=800,P6=3;class dA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await dy(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>P6)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return lA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Oh._getInstance(I6()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await T6(),!this.activeServiceWorker)return;this.sender=new E6(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||b6()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await dy();return await dx(e,pf,"1"),await fx(e,pf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>dx(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>A6(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>fx(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=jh(i,!1).getAll();return new Ku(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),R6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}dA.type="LOCAL";const k6=dA;new Hu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fA(t,e){return e?Kr(e):(re(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ww extends Bw{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Xo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Xo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Xo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function N6(t){return nA(t.auth,new Ww(t),t.bypassAuthState)}function D6(t){const{auth:e,user:n}=t;return re(n,e,"internal-error"),i6(n,new Ww(t),t.bypassAuthState)}async function O6(t){const{auth:e,user:n}=t;return re(n,e,"internal-error"),r6(n,new Ww(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return N6;case"linkViaPopup":case"linkViaRedirect":return O6;case"reauthViaPopup":case"reauthViaRedirect":return D6;default:Kn(this.auth,"internal-error")}}resolve(e){si(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){si(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j6=new Hu(2e3,1e4);async function L6(t,e,n){const r=ci(t);aF(t,e,Hw);const i=fA(r,n);return new Ps(r,"signInViaPopup",e,i).executeNotNull()}class Ps extends hA{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Ps.currentPopupAction&&Ps.currentPopupAction.cancel(),Ps.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return re(e,this.auth,"internal-error"),e}async onExecution(){si(this.filter.length===1,"Popup operations only handle one event");const e=qw();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(kr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(kr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ps.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(kr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,j6.get())};e()}}Ps.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M6="pendingRedirect",cd=new Map;class V6 extends hA{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=cd.get(this.auth._key());if(!e){try{const r=await F6(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}cd.set(this.auth._key(),e)}return this.bypassAuthState||cd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function F6(t,e){const n=B6(e),r=$6(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function U6(t,e){cd.set(t._key(),e)}function $6(t){return Kr(t._redirectPersistence)}function B6(t){return ud(M6,t.config.apiKey,t.name)}async function z6(t,e,n=!1){const r=ci(t),i=fA(r,e),o=await new V6(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H6=10*60*1e3;class q6{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!W6(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!pA(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(kr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=H6&&this.cachedEventUids.clear(),this.cachedEventUids.has(hx(e))}saveEventToCache(e){this.cachedEventUids.add(hx(e)),this.lastProcessedEventTime=Date.now()}}function hx(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function pA({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function W6(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return pA(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K6(t,e={}){return Or(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G6=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Q6=/^https?/;async function Y6(t){if(t.config.emulator)return;const{authorizedDomains:e}=await K6(t);for(const n of e)try{if(X6(n))return}catch{}Kn(t,"unauthorized-domain")}function X6(t){const e=cy(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!Q6.test(n))return!1;if(G6.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J6=new Hu(3e4,6e4);function px(){const t=Nr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Z6(t){return new Promise((e,n)=>{var r,i,s;function o(){px(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{px(),n(kr(t,"network-request-failed"))},timeout:J6.get()})}if(!((i=(r=Nr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Nr().gapi)===null||s===void 0)&&s.load)o();else{const a=MF("iframefcb");return Nr()[a]=()=>{gapi.load?o():n(kr(t,"network-request-failed"))},ZC(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw dd=null,e})}let dd=null;function e9(t){return dd=dd||Z6(t),dd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t9=new Hu(5e3,15e3),n9="__/auth/iframe",r9="emulator/auth/iframe",i9={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},s9=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function o9(t){const e=t.config;re(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Fw(e,r9):`https://${t.config.authDomain}/${n9}`,r={apiKey:e.apiKey,appName:t.name,v:io},i=s9.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Au(r).slice(1)}`}async function a9(t){const e=await e9(t),n=Nr().gapi;return re(n,t,"internal-error"),e.open({where:document.body,url:o9(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:i9,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=kr(t,"network-request-failed"),a=Nr().setTimeout(()=>{s(o)},t9.get());function l(){Nr().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l9={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},u9=500,c9=600,d9="_blank",f9="http://localhost";class mx{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function h9(t,e,n,r=u9,i=c9){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},l9),{width:r.toString(),height:i.toString(),top:s,left:o}),u=Gt().toLowerCase();n&&(a=WC(u)?d9:n),qC(u)&&(e=e||f9,l.scrollbars="yes");const c=Object.entries(l).reduce((m,[w,_])=>`${m}${w}=${_},`,"");if(AF(u)&&a!=="_self")return p9(e||"",a),new mx(null);const h=window.open(e||"",a,c);re(h,t,"popup-blocked");try{h.focus()}catch{}return new mx(h)}function p9(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m9="__/auth/handler",g9="emulator/auth/handler",y9=encodeURIComponent("fac");async function gx(t,e,n,r,i,s){re(t.config.authDomain,t,"auth-domain-config-required"),re(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:io,eventId:i};if(e instanceof Hw){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",V4(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,h]of Object.entries(s||{}))o[c]=h}if(e instanceof Wu){const c=e.getScopes().filter(h=>h!=="");c.length>0&&(o.scopes=c.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await t._getAppCheckToken(),u=l?`#${y9}=${encodeURIComponent(l)}`:"";return`${v9(t)}?${Au(a).slice(1)}${u}`}function v9({config:t}){return t.emulator?Fw(t,g9):`https://${t.authDomain}/${m9}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const um="webStorageSupport";class w9{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=aA,this._completeRedirectFn=z6,this._overrideRedirectResult=U6}async _openPopup(e,n,r,i){var s;si((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await gx(e,n,r,cy(),i);return h9(e,o,qw())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await gx(e,n,r,cy(),i);return x6(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(si(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await a9(e),r=new q6(e);return n.register("authEvent",i=>(re(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(um,{type:um},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[um];o!==void 0&&n(!!o),Kn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Y6(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return XC()||$w()||Dh()}}const _9=w9;var yx="@firebase/auth",vx="1.5.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E9{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x9(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function T9(t){cr(new Wn("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;re(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:JC(t)},u=new jF(r,i,s,l);return zF(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),cr(new Wn("auth-internal",e=>{const n=ci(e.getProvider("auth").getImmediate());return(r=>new E9(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),fn(yx,vx,x9(t)),fn(yx,vx,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b9=5*60,I9=dI("authIdTokenMaxAge")||b9;let wx=null;const S9=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>I9)return;const i=n==null?void 0:n.token;wx!==i&&(wx=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function mA(t=Jf()){const e=us(t,"auth");if(e.isInitialized())return e.getImmediate();const n=BF(t,{popupRedirectResolver:_9,persistence:[k6,w6,aA]}),r=dI("authTokenSyncURL");if(r){const s=S9(r);h6(n,s,()=>s(n.currentUser)),f6(n,o=>s(o))}const i=lI("auth");return i&&HF(n,`http://${i}`),n}T9("Browser");var C9="firebase",A9="10.7.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fn(C9,A9,"app");const R9=(t,e)=>e.some(n=>t instanceof n);let _x,Ex;function P9(){return _x||(_x=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function k9(){return Ex||(Ex=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const gA=new WeakMap,fy=new WeakMap,yA=new WeakMap,cm=new WeakMap,Kw=new WeakMap;function N9(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Gi(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&gA.set(n,t)}).catch(()=>{}),Kw.set(e,t),e}function D9(t){if(fy.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});fy.set(t,e)}let hy={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return fy.get(t);if(e==="objectStoreNames")return t.objectStoreNames||yA.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Gi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function O9(t){hy=t(hy)}function j9(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(dm(this),e,...n);return yA.set(r,e.sort?e.sort():[e]),Gi(r)}:k9().includes(t)?function(...e){return t.apply(dm(this),e),Gi(gA.get(this))}:function(...e){return Gi(t.apply(dm(this),e))}}function L9(t){return typeof t=="function"?j9(t):(t instanceof IDBTransaction&&D9(t),R9(t,P9())?new Proxy(t,hy):t)}function Gi(t){if(t instanceof IDBRequest)return N9(t);if(cm.has(t))return cm.get(t);const e=L9(t);return e!==t&&(cm.set(t,e),Kw.set(e,t)),e}const dm=t=>Kw.get(t);function M9(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Gi(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Gi(o.result),l.oldVersion,l.newVersion,Gi(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}const V9=["get","getKey","getAll","getAllKeys","count"],F9=["put","add","delete","clear"],fm=new Map;function xx(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(fm.get(e))return fm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=F9.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||V9.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return fm.set(e,s),s}O9(t=>({...t,get:(e,n,r)=>xx(e,n)||t.get(e,n,r),has:(e,n)=>!!xx(e,n)||t.has(e,n)}));const vA="@firebase/installations",Gw="0.6.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wA=1e4,_A=`w:${Gw}`,EA="FIS_v2",U9="https://firebaseinstallations.googleapis.com/v1",$9=60*60*1e3,B9="installations",z9="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H9={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Js=new ro(B9,z9,H9);function xA(t){return t instanceof Qn&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TA({projectId:t}){return`${U9}/projects/${t}/installations`}function bA(t){return{token:t.token,requestStatus:2,expiresIn:W9(t.expiresIn),creationTime:Date.now()}}async function IA(t,e){const r=(await e.json()).error;return Js.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function SA({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function q9(t,{refreshToken:e}){const n=SA(t);return n.append("Authorization",K9(e)),n}async function CA(t){const e=await t();return e.status>=500&&e.status<600?t():e}function W9(t){return Number(t.replace("s","000"))}function K9(t){return`${EA} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G9({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=TA(t),i=SA(t),s=e.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={fid:n,authVersion:EA,appId:t.appId,sdkVersion:_A},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await CA(()=>fetch(r,a));if(l.ok){const u=await l.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:bA(u.authToken)}}else throw await IA("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AA(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q9(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y9=/^[cdef][\w-]{21}$/,py="";function X9(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=J9(t);return Y9.test(n)?n:py}catch{return py}}function J9(t){return Q9(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lh(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RA=new Map;function PA(t,e){const n=Lh(t);kA(n,e),Z9(n,e)}function kA(t,e){const n=RA.get(t);if(n)for(const r of n)r(e)}function Z9(t,e){const n=eU();n&&n.postMessage({key:t,fid:e}),tU()}let ks=null;function eU(){return!ks&&"BroadcastChannel"in self&&(ks=new BroadcastChannel("[Firebase] FID Change"),ks.onmessage=t=>{kA(t.data.key,t.data.fid)}),ks}function tU(){RA.size===0&&ks&&(ks.close(),ks=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nU="firebase-installations-database",rU=1,Zs="firebase-installations-store";let hm=null;function Qw(){return hm||(hm=M9(nU,rU,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Zs)}}})),hm}async function gf(t,e){const n=Lh(t),i=(await Qw()).transaction(Zs,"readwrite"),s=i.objectStore(Zs),o=await s.get(n);return await s.put(e,n),await i.done,(!o||o.fid!==e.fid)&&PA(t,e.fid),e}async function NA(t){const e=Lh(t),r=(await Qw()).transaction(Zs,"readwrite");await r.objectStore(Zs).delete(e),await r.done}async function Mh(t,e){const n=Lh(t),i=(await Qw()).transaction(Zs,"readwrite"),s=i.objectStore(Zs),o=await s.get(n),a=e(o);return a===void 0?await s.delete(n):await s.put(a,n),await i.done,a&&(!o||o.fid!==a.fid)&&PA(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yw(t){let e;const n=await Mh(t.appConfig,r=>{const i=iU(r),s=sU(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===py?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function iU(t){const e=t||{fid:X9(),registrationStatus:0};return DA(e)}function sU(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(Js.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=oU(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:aU(t)}:{installationEntry:e}}async function oU(t,e){try{const n=await G9(t,e);return gf(t.appConfig,n)}catch(n){throw xA(n)&&n.customData.serverCode===409?await NA(t.appConfig):await gf(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function aU(t){let e=await Tx(t.appConfig);for(;e.registrationStatus===1;)await AA(100),e=await Tx(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await Yw(t);return r||n}return e}function Tx(t){return Mh(t,e=>{if(!e)throw Js.create("installation-not-found");return DA(e)})}function DA(t){return lU(t)?{fid:t.fid,registrationStatus:0}:t}function lU(t){return t.registrationStatus===1&&t.registrationTime+wA<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uU({appConfig:t,heartbeatServiceProvider:e},n){const r=cU(t,n),i=q9(t,n),s=e.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={installation:{sdkVersion:_A,appId:t.appId}},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await CA(()=>fetch(r,a));if(l.ok){const u=await l.json();return bA(u)}else throw await IA("Generate Auth Token",l)}function cU(t,{fid:e}){return`${TA(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xw(t,e=!1){let n;const r=await Mh(t.appConfig,s=>{if(!OA(s))throw Js.create("not-registered");const o=s.authToken;if(!e&&hU(o))return s;if(o.requestStatus===1)return n=dU(t,e),s;{if(!navigator.onLine)throw Js.create("app-offline");const a=mU(s);return n=fU(t,a),a}});return n?await n:r.authToken}async function dU(t,e){let n=await bx(t.appConfig);for(;n.authToken.requestStatus===1;)await AA(100),n=await bx(t.appConfig);const r=n.authToken;return r.requestStatus===0?Xw(t,e):r}function bx(t){return Mh(t,e=>{if(!OA(e))throw Js.create("not-registered");const n=e.authToken;return gU(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function fU(t,e){try{const n=await uU(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await gf(t.appConfig,r),n}catch(n){if(xA(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await NA(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await gf(t.appConfig,r)}throw n}}function OA(t){return t!==void 0&&t.registrationStatus===2}function hU(t){return t.requestStatus===2&&!pU(t)}function pU(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+$9}function mU(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function gU(t){return t.requestStatus===1&&t.requestTime+wA<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yU(t){const e=t,{installationEntry:n,registrationPromise:r}=await Yw(e);return r?r.catch(console.error):Xw(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vU(t,e=!1){const n=t;return await wU(n),(await Xw(n,e)).token}async function wU(t){const{registrationPromise:e}=await Yw(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _U(t){if(!t||!t.options)throw pm("App Configuration");if(!t.name)throw pm("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw pm(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function pm(t){return Js.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jA="installations",EU="installations-internal",xU=t=>{const e=t.getProvider("app").getImmediate(),n=_U(e),r=us(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},TU=t=>{const e=t.getProvider("app").getImmediate(),n=us(e,jA).getImmediate();return{getId:()=>yU(n),getToken:i=>vU(n,i)}};function bU(){cr(new Wn(jA,xU,"PUBLIC")),cr(new Wn(EU,TU,"PRIVATE"))}bU();fn(vA,Gw);fn(vA,Gw,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yf="analytics",IU="firebase_id",SU="origin",CU=60*1e3,AU="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Jw="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hn=new Xf("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RU={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},In=new ro("analytics","Analytics",RU);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PU(t){if(!t.startsWith(Jw)){const e=In.create("invalid-gtag-resource",{gtagURL:t});return hn.warn(e.message),""}return t}function LA(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function kU(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function NU(t,e){const n=kU("firebase-js-sdk-policy",{createScriptURL:PU}),r=document.createElement("script"),i=`${Jw}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function DU(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function OU(t,e,n,r,i,s){const o=r[i];try{if(o)await e[o];else{const l=(await LA(n)).find(u=>u.measurementId===i);l&&await e[l.appId]}}catch(a){hn.error(a)}t("config",i,s)}async function jU(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=await LA(n);for(const l of o){const u=a.find(h=>h.measurementId===l),c=u&&e[u.appId];if(c)s.push(c);else{s=[];break}}}s.length===0&&(s=Object.values(e)),await Promise.all(s),t("event",r,i||{})}catch(s){hn.error(s)}}function LU(t,e,n,r){async function i(s,...o){try{if(s==="event"){const[a,l]=o;await jU(t,e,n,a,l)}else if(s==="config"){const[a,l]=o;await OU(t,e,n,r,a,l)}else if(s==="consent"){const[a]=o;t("consent","update",a)}else if(s==="get"){const[a,l,u]=o;t("get",a,l,u)}else if(s==="set"){const[a]=o;t("set",a)}else t(s,...o)}catch(a){hn.error(a)}}return i}function MU(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=LU(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}function VU(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Jw)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FU=30,UU=1e3;class $U{constructor(e={},n=UU){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const MA=new $U;function BU(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function zU(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:BU(r)},s=AU.replace("{app-id}",n),o=await fetch(s,i);if(o.status!==200&&o.status!==304){let a="";try{const l=await o.json();!((e=l.error)===null||e===void 0)&&e.message&&(a=l.error.message)}catch{}throw In.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}async function HU(t,e=MA,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw In.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw In.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new KU;return setTimeout(async()=>{a.abort()},n!==void 0?n:CU),VA({appId:r,apiKey:i,measurementId:s},o,a,e)}async function VA(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=MA){var s;const{appId:o,measurementId:a}=t;try{await qU(r,e)}catch(l){if(a)return hn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:o,measurementId:a};throw l}try{const l=await zU(t);return i.deleteThrottleMetadata(o),l}catch(l){const u=l;if(!WU(u)){if(i.deleteThrottleMetadata(o),a)return hn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:o,measurementId:a};throw l}const c=Number((s=u==null?void 0:u.customData)===null||s===void 0?void 0:s.httpStatus)===503?X1(n,i.intervalMillis,FU):X1(n,i.intervalMillis),h={throttleEndTimeMillis:Date.now()+c,backoffCount:n+1};return i.setThrottleMetadata(o,h),hn.debug(`Calling attemptFetch again in ${c} millis`),VA(t,h,r,i)}}function qU(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(In.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function WU(t){if(!(t instanceof Qn)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class KU{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function GU(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const s=await e,o=Object.assign(Object.assign({},r),{send_to:s});t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QU(){if(pI())try{await mI()}catch(t){return hn.warn(In.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return hn.warn(In.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function YU(t,e,n,r,i,s,o){var a;const l=HU(t);l.then(w=>{n[w.measurementId]=w.appId,t.options.measurementId&&w.measurementId!==t.options.measurementId&&hn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${w.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(w=>hn.error(w)),e.push(l);const u=QU().then(w=>{if(w)return r.getId()}),[c,h]=await Promise.all([l,u]);VU(s)||NU(s,c.measurementId),i("js",new Date);const m=(a=o==null?void 0:o.config)!==null&&a!==void 0?a:{};return m[SU]="firebase",m.update=!0,h!=null&&(m[IU]=h),i("config",c.measurementId,m),c.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XU{constructor(e){this.app=e}_delete(){return delete Pl[this.app.options.appId],Promise.resolve()}}let Pl={},Ix=[];const Sx={};let mm="dataLayer",JU="gtag",Cx,FA,Ax=!1;function ZU(){const t=[];if(hI()&&t.push("This is a browser extension environment."),O4()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=In.create("invalid-analytics-context",{errorInfo:e});hn.warn(n.message)}}function e$(t,e,n){ZU();const r=t.options.appId;if(!r)throw In.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)hn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw In.create("no-api-key");if(Pl[r]!=null)throw In.create("already-exists",{id:r});if(!Ax){DU(mm);const{wrappedGtag:s,gtagCore:o}=MU(Pl,Ix,Sx,mm,JU);FA=s,Cx=o,Ax=!0}return Pl[r]=YU(t,Ix,Sx,e,Cx,mm,n),new XU(t)}function t$(t=Jf()){t=Ne(t);const e=us(t,yf);return e.isInitialized()?e.getImmediate():n$(t)}function n$(t,e={}){const n=us(t,yf);if(n.isInitialized()){const i=n.getImmediate();if(tu(e,n.getOptions()))return i;throw In.create("already-initialized")}return n.initialize({options:e})}function r$(t,e,n,r){t=Ne(t),GU(FA,Pl[t.app.options.appId],e,n,r).catch(i=>hn.error(i))}const Rx="@firebase/analytics",Px="0.10.0";function i$(){cr(new Wn(yf,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return e$(r,i,n)},"PUBLIC")),cr(new Wn("analytics-internal",t,"PRIVATE")),fn(Rx,Px),fn(Rx,Px,"esm2017");function t(e){try{const n=e.getProvider(yf).getImmediate();return{logEvent:(r,i,s)=>r$(n,r,i,s)}}catch(n){throw In.create("interop-component-reg-failed",{reason:n})}}}i$();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UA="firebasestorage.googleapis.com",$A="storageBucket",s$=2*60*1e3,o$=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je extends Qn{constructor(e,n,r=0){super(gm(e),`Firebase Storage: ${n} (${gm(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Je.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return gm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Xe;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Xe||(Xe={}));function gm(t){return"storage/"+t}function Zw(){const t="An unknown error occurred, please check the error payload for server response.";return new Je(Xe.UNKNOWN,t)}function a$(t){return new Je(Xe.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function l$(t){return new Je(Xe.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function u$(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Je(Xe.UNAUTHENTICATED,t)}function c$(){return new Je(Xe.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function d$(t){return new Je(Xe.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function f$(){return new Je(Xe.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function h$(){return new Je(Xe.CANCELED,"User canceled the upload/download.")}function p$(t){return new Je(Xe.INVALID_URL,"Invalid URL '"+t+"'.")}function m$(t){return new Je(Xe.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function g$(){return new Je(Xe.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+$A+"' property when initializing the app?")}function y$(){return new Je(Xe.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function v$(){return new Je(Xe.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function w$(t){return new Je(Xe.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function my(t){return new Je(Xe.INVALID_ARGUMENT,t)}function BA(){return new Je(Xe.APP_DELETED,"The Firebase app was deleted.")}function _$(t){return new Je(Xe.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function kl(t,e){return new Je(Xe.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Za(t){throw new Je(Xe.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=En.makeFromUrl(e,n)}catch{return new En(e,"")}if(r.path==="")return r;throw m$(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(C){C.path.charAt(C.path.length-1)==="/"&&(C.path_=C.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function u(C){C.path_=decodeURIComponent(C.path)}const c="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),m="(/([^?#]*).*)?$",w=new RegExp(`^https?://${h}/${c}/b/${i}/o${m}`,"i"),_={bucket:1,path:3},x=n===UA?"(?:storage.googleapis.com|storage.cloud.google.com)":n,T="([^?#]*)",E=new RegExp(`^https?://${x}/${i}/${T}`,"i"),b=[{regex:a,indices:l,postModify:s},{regex:w,indices:_,postModify:u},{regex:E,indices:{bucket:1,path:2},postModify:u}];for(let C=0;C<b.length;C++){const R=b[C],O=R.regex.exec(e);if(O){const L=O[R.indices.bucket];let F=O[R.indices.path];F||(F=""),r=new En(L,F),R.postModify(r);break}}if(r==null)throw p$(e);return r}}class E${constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x$(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let u=!1;function c(...T){u||(u=!0,e.apply(null,T))}function h(T){i=setTimeout(()=>{i=null,t(w,l())},T)}function m(){s&&clearTimeout(s)}function w(T,...E){if(u){m();return}if(T){m(),c.call(null,T,...E);return}if(l()||o){m(),c.call(null,T,...E);return}r<64&&(r*=2);let b;a===1?(a=2,b=0):b=(r+Math.random())*1e3,h(b)}let _=!1;function x(T){_||(_=!0,m(),!u&&(i!==null?(T||(a=2),clearTimeout(i),h(0)):T||(a=1)))}return h(0),s=setTimeout(()=>{o=!0,x(!0)},n),x}function T$(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b$(t){return t!==void 0}function I$(t){return typeof t=="object"&&!Array.isArray(t)}function e0(t){return typeof t=="string"||t instanceof String}function kx(t){return t0()&&t instanceof Blob}function t0(){return typeof Blob<"u"}function Nx(t,e,n,r){if(r<e)throw my(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw my(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n0(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function zA(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ms;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Ms||(Ms={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S$(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C${constructor(e,n,r,i,s,o,a,l,u,c,h,m=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=c,this.connectionFactory_=h,this.retry=m,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((w,_)=>{this.resolve_=w,this.reject_=_,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Fc(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===Ms.NO_ERROR,l=s.getStatus();if(!a||S$(l,this.additionalRetryCodes_)&&this.retry){const c=s.getErrorCode()===Ms.ABORT;r(!1,new Fc(!1,null,c));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new Fc(u,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());b$(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=Zw();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?BA():h$();o(l)}else{const l=f$();o(l)}};this.canceled_?n(!1,new Fc(!1,null,!0)):this.backoffId_=x$(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&T$(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Fc{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function A$(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function R$(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function P$(t,e){e&&(t["X-Firebase-GMPID"]=e)}function k$(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function N$(t,e,n,r,i,s,o=!0){const a=zA(t.urlParams),l=t.url+a,u=Object.assign({},t.headers);return P$(u,e),A$(u,n),R$(u,s),k$(u,r),new C$(l,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D$(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function O$(...t){const e=D$();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(t0())return new Blob(t);throw new Je(Xe.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function j$(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L$(t){if(typeof atob>"u")throw w$("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class ym{constructor(e,n){this.data=e,this.contentType=n||null}}function M$(t,e){switch(t){case Tr.RAW:return new ym(HA(e));case Tr.BASE64:case Tr.BASE64URL:return new ym(qA(t,e));case Tr.DATA_URL:return new ym(F$(e),U$(e))}throw Zw()}function HA(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function V$(t){let e;try{e=decodeURIComponent(t)}catch{throw kl(Tr.DATA_URL,"Malformed data URL.")}return HA(e)}function qA(t,e){switch(t){case Tr.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw kl(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Tr.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw kl(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=L$(e)}catch(i){throw i.message.includes("polyfill")?i:kl(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class WA{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw kl(Tr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=$$(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function F$(t){const e=new WA(t);return e.base64?qA(Tr.BASE64,e.rest):V$(e.rest)}function U$(t){return new WA(t).contentType}function $$(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri{constructor(e,n){let r=0,i="";kx(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(kx(this.data_)){const r=this.data_,i=j$(r,e,n);return i===null?null:new Ri(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Ri(r,!0)}}static getBlob(...e){if(t0()){const n=e.map(r=>r instanceof Ri?r.data_:r);return new Ri(O$.apply(null,n))}else{const n=e.map(o=>e0(o)?M$(Tr.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new Ri(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KA(t){let e;try{e=JSON.parse(t)}catch{return null}return I$(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B$(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function z$(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function GA(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H$(t,e){return e}class Jt{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||H$}}let Uc=null;function q$(t){return!e0(t)||t.length<2?t:GA(t)}function QA(){if(Uc)return Uc;const t=[];t.push(new Jt("bucket")),t.push(new Jt("generation")),t.push(new Jt("metageneration")),t.push(new Jt("name","fullPath",!0));function e(s,o){return q$(o)}const n=new Jt("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new Jt("size");return i.xform=r,t.push(i),t.push(new Jt("timeCreated")),t.push(new Jt("updated")),t.push(new Jt("md5Hash",null,!0)),t.push(new Jt("cacheControl",null,!0)),t.push(new Jt("contentDisposition",null,!0)),t.push(new Jt("contentEncoding",null,!0)),t.push(new Jt("contentLanguage",null,!0)),t.push(new Jt("contentType",null,!0)),t.push(new Jt("metadata","customMetadata",!0)),Uc=t,Uc}function W$(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new En(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function K$(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return W$(r,t),r}function YA(t,e,n){const r=KA(e);return r===null?null:K$(t,r,n)}function G$(t,e,n,r){const i=KA(e);if(i===null||!e0(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(u=>{const c=t.bucket,h=t.fullPath,m="/b/"+o(c)+"/o/"+o(h),w=n0(m,n,r),_=zA({alt:"media",token:u});return w+_})[0]}function Q$(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class XA{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JA(t){if(!t)throw Zw()}function Y$(t,e){function n(r,i){const s=YA(t,i,e);return JA(s!==null),s}return n}function X$(t,e){function n(r,i){const s=YA(t,i,e);return JA(s!==null),G$(s,i,t.host,t._protocol)}return n}function ZA(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=c$():i=u$():n.getStatus()===402?i=l$(t.bucket):n.getStatus()===403?i=d$(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function J$(t){const e=ZA(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=a$(t.path)),s.serverResponse=i.serverResponse,s}return n}function Z$(t,e,n){const r=e.fullServerUrl(),i=n0(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new XA(i,s,X$(t,n),o);return a.errorHandler=J$(e),a}function eB(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function tB(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=eB(null,e)),r}function nB(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let b="";for(let C=0;C<2;C++)b=b+Math.random().toString().slice(2);return b}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const u=tB(e,r,i),c=Q$(u,n),h="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+c+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,m=`\r
--`+l+"--",w=Ri.getBlob(h,r,m);if(w===null)throw y$();const _={name:u.fullPath},x=n0(s,t.host,t._protocol),T="POST",E=t.maxUploadRetryTime,v=new XA(x,T,Y$(t,n),E);return v.urlParams=_,v.headers=o,v.body=w.uploadData(),v.errorHandler=ZA(e),v}class rB{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ms.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ms.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ms.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw Za("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Za("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Za("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Za("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Za("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class iB extends rB{initXhr(){this.xhr_.responseType="text"}}function eR(){return new iB}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(e,n){this._service=e,n instanceof En?this._location=n:this._location=En.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new eo(e,n)}get root(){const e=new En(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return GA(this._location.path)}get storage(){return this._service}get parent(){const e=B$(this._location.path);if(e===null)return null;const n=new En(this._location.bucket,e);return new eo(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw _$(e)}}function sB(t,e,n){t._throwIfRoot("uploadBytes");const r=nB(t.storage,t._location,QA(),new Ri(e,!0),n);return t.storage.makeRequestWithTokens(r,eR).then(i=>({metadata:i,ref:t}))}function oB(t){t._throwIfRoot("getDownloadURL");const e=Z$(t.storage,t._location,QA());return t.storage.makeRequestWithTokens(e,eR).then(n=>{if(n===null)throw v$();return n})}function aB(t,e){const n=z$(t._location.path,e),r=new En(t._location.bucket,n);return new eo(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lB(t){return/^[A-Za-z]+:\/\//.test(t)}function uB(t,e){return new eo(t,e)}function tR(t,e){if(t instanceof r0){const n=t;if(n._bucket==null)throw g$();const r=new eo(n,n._bucket);return e!=null?tR(r,e):r}else return e!==void 0?aB(t,e):t}function cB(t,e){if(e&&lB(e)){if(t instanceof r0)return uB(t,e);throw my("To use ref(service, url), the first argument must be a Storage instance.")}else return tR(t,e)}function Dx(t,e){const n=e==null?void 0:e[$A];return n==null?null:En.makeFromBucketSpec(n,t)}function dB(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:fI(i,t.app.options.projectId))}class r0{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=UA,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=s$,this._maxUploadRetryTime=o$,this._requests=new Set,i!=null?this._bucket=En.makeFromBucketSpec(i,this._host):this._bucket=Dx(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=En.makeFromBucketSpec(this._url,e):this._bucket=Dx(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Nx("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Nx("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new eo(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new E$(BA());{const o=N$(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const Ox="@firebase/storage",jx="0.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nR="storage";function fB(t,e,n){return t=Ne(t),sB(t,e,n)}function hB(t){return t=Ne(t),oB(t)}function pB(t,e){return t=Ne(t),cB(t,e)}function mB(t=Jf(),e){t=Ne(t);const r=us(t,nR).getImmediate({identifier:e}),i=uI("storage");return i&&gB(r,...i),r}function gB(t,e,n,r={}){dB(t,e,n,r)}function yB(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new r0(n,r,i,e,io)}function vB(){cr(new Wn(nR,yB,"PUBLIC").setMultipleInstances(!0)),fn(Ox,jx,""),fn(Ox,jx,"esm2017")}vB();let $c;const wB=new Uint8Array(16);function _B(){if(!$c&&($c=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!$c))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return $c(wB)}const bt=[];for(let t=0;t<256;++t)bt.push((t+256).toString(16).slice(1));function EB(t,e=0){return bt[t[e+0]]+bt[t[e+1]]+bt[t[e+2]]+bt[t[e+3]]+"-"+bt[t[e+4]]+bt[t[e+5]]+"-"+bt[t[e+6]]+bt[t[e+7]]+"-"+bt[t[e+8]]+bt[t[e+9]]+"-"+bt[t[e+10]]+bt[t[e+11]]+bt[t[e+12]]+bt[t[e+13]]+bt[t[e+14]]+bt[t[e+15]]}const xB=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Lx={randomUUID:xB};function TB(t,e,n){if(Lx.randomUUID&&!e&&!t)return Lx.randomUUID();t=t||{};const r=t.random||(t.rng||_B)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(let i=0;i<16;++i)e[n+i]=r[i];return e}return EB(r)}const bB={apiKey:"AIzaSyA_Mo2SKOIkWYyaDDw4iILnjdXb8Q_ZjKU",authDomain:"vitalfitapp-77225.firebaseapp.com",projectId:"vitalfitapp-77225",storageBucket:"vitalfitapp-77225.appspot.com",messagingSenderId:"558817686410",appId:"1:558817686410:web:b1cd87acbf95af845ace73",measurementId:"G-62Y0Q89LME"},Vh=vI(bB),ga=mA(Vh),ct=$V(Vh);t$(Vh);const IB=mB(Vh);async function gy(t){const e=pB(IB,TB());return await fB(e,t),await hB(e)}const SB=new Br,CB=async()=>{try{const t=await L6(ga,SB),{displayName:e,email:n,photoURL:r,uid:i}=t.user;return{ok:!0,displayName:e,email:n,photoURL:r,uid:i}}catch(t){return t.code,{ok:!1,errorMessage:t.message}}},AB=async(t,e,n)=>{try{const r=await l6(ga,t,e),{uid:i,photoURL:s}=r.user;return await d6(ga.currentUser,{displayName:n}),{ok:!0,displayName:n,email:t,photoURL:s,uid:i}}catch(r){const i=r.code;return{ok:!1,errorMessage:r.message,errorCode:i}}},RB=async(t,e)=>{try{const n=await u6(ga,t,e),{uid:r,displayName:i,photoURL:s}=n.user;return{ok:!0,uid:r,displayName:i,photoURL:s}}catch(n){const r=n.code;return{ok:!1,errorMessage:n.message,errorCode:r}}},PB=async t=>{try{const e=await a6(ga,t);return{ok:!0,successMessage:"Password reset email sent!"}}catch(e){const n=e.code;return{ok:!1,errorMessage:e.message,errorCode:n}}},i0=async t=>{try{const e=Yt(ct,"users",t.id);await lo(e,t)}catch(e){console.log(e)}},rR=async t=>{try{const e=Yt(ct,"users",t);return(await li(e)).data()}catch(e){console.log(e.message)}},kB=(t,e)=>async n=>{n(iI());const{ok:r,uid:i,photoURL:s,displayName:o,errorCode:a}=await RB(t,e),u=(await rR(i)).role||"user";if(!r)return n(rI(a));n(Nv({email:t,uid:i,photoURL:s,displayName:o,role:u}))},NB=()=>async t=>{t(x4());const e=await CB();t(Nv(e))},DB=(t,e,n,r="user")=>async i=>{i(iI());const{ok:s,uid:o,photoURL:a,errorCode:l}=await AB(t,e,n);if(await i0({email:t,id:o,photoURL:a,displayName:n,role:r}),!s)return i(rI(l));i(Nv({email:t,uid:o,photoURL:a,displayName:n,role:r}))},iR=Pv({name:"orders",initialState:{orders:[],currentOrder:[],onOrder:{},totalPriceOrder:0,orderWindow:!1},reducers:{checkOutOrder:(t,e)=>{t.currentOrder=e.payload,t.orderWindow=!0},getCurrentOrder:(t,e)=>{t.onOrder=e.payload},getOrders:(t,e)=>{t.orders=e.payload},saveOrder:(t,e)=>{t.orders=[e.payload,...t.orders]},passTotalPrice:(t,e)=>{t.totalPriceOrder=e.payload}}});iR.actions;const sR=Pv({name:"product",initialState:{products:[],copyProducts:[],categories:[],product:{},loading:!0,currentPage:1,itemsPerPage:8,totalPages:0,shopListOpen:!1,shoppingCart:[],countTotal:0,search:"",filters:{category:"",minPrice:"",maxPrice:""},sorts:{sortByName:"",sortByPrice:""}},reducers:{startLoading:t=>{t.loading=!0},setProducts:(t,e)=>{t.products=e.payload,t.copyProducts.length||(t.copyProducts=e.payload),t.totalPages=Math.ceil(e.payload.length/8),t.loading=!1},setCategories:(t,e)=>{t.categories=e.payload},setCurrentPage:(t,e)=>{t.currentPage=e.payload},findbyProductById:(t,e)=>{t.product=e.payload,t.loading=!1},itemsAdded:(t,e)=>{const n=e.payload,r=t.shoppingCart.find(i=>i.id===n.id);r?r.count++:t.shoppingCart.push({...n,count:1}),t.countTotal+=1},removeItem:(t,e)=>{const n=e.payload,r=t.shoppingCart.find(i=>i.id===n);r&&(r.count--,r.count===0&&(t.shoppingCart=t.shoppingCart.filter(i=>i.id!==n)),t.countTotal-=1)},handleShopList:(t,e)=>{t.shopListOpen=e.payload},cleanEverything:(t,e)=>{t.shoppingCart=[],t.countTotal=0},setFilters:(t,e)=>{t.filters=e.payload},setSorts:(t,e)=>{t.sorts=e.payload},setSearch:(t,e)=>{t.search=e.payload},resetFilters:(t,e)=>{t.filters={category:"",minPrice:"",maxPrice:""}},resetSearch:(t,e)=>{t.search=""},resetSorts:(t,e)=>{t.sorts={sortByName:"",sortByPrice:""}}}}),{setProducts:OB,setCategories:jB,startLoading:oR,findbyProductById:LB,handleShopList:YW,itemsAdded:XW,removeItem:JW,setCurrentPage:aR,cleanEverything:ZW,setFilters:MB,resetFilters:VB,setSorts:FB,setSearch:UB,resetSorts:$B,resetSearch:BB}=sR.actions;function lR(t,e){return function(){return t.apply(e,arguments)}}const{toString:zB}=Object.prototype,{getPrototypeOf:s0}=Object,Fh=(t=>e=>{const n=zB.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),jr=t=>(t=t.toLowerCase(),e=>Fh(e)===t),Uh=t=>e=>typeof e===t,{isArray:Pa}=Array,wu=Uh("undefined");function HB(t){return t!==null&&!wu(t)&&t.constructor!==null&&!wu(t.constructor)&&Bn(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const uR=jr("ArrayBuffer");function qB(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&uR(t.buffer),e}const WB=Uh("string"),Bn=Uh("function"),cR=Uh("number"),$h=t=>t!==null&&typeof t=="object",KB=t=>t===!0||t===!1,fd=t=>{if(Fh(t)!=="object")return!1;const e=s0(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},GB=jr("Date"),QB=jr("File"),YB=jr("Blob"),XB=jr("FileList"),JB=t=>$h(t)&&Bn(t.pipe),ZB=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Bn(t.append)&&((e=Fh(t))==="formdata"||e==="object"&&Bn(t.toString)&&t.toString()==="[object FormData]"))},e7=jr("URLSearchParams"),t7=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Gu(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),Pa(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{const s=n?Object.getOwnPropertyNames(t):Object.keys(t),o=s.length;let a;for(r=0;r<o;r++)a=s[r],e.call(null,t[a],a,t)}}function dR(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const fR=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),hR=t=>!wu(t)&&t!==fR;function yy(){const{caseless:t}=hR(this)&&this||{},e={},n=(r,i)=>{const s=t&&dR(e,i)||i;fd(e[s])&&fd(r)?e[s]=yy(e[s],r):fd(r)?e[s]=yy({},r):Pa(r)?e[s]=r.slice():e[s]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&Gu(arguments[r],n);return e}const n7=(t,e,n,{allOwnKeys:r}={})=>(Gu(e,(i,s)=>{n&&Bn(i)?t[s]=lR(i,n):t[s]=i},{allOwnKeys:r}),t),r7=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),i7=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},s7=(t,e,n,r)=>{let i,s,o;const a={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)o=i[s],(!r||r(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=n!==!1&&s0(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},o7=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},a7=t=>{if(!t)return null;if(Pa(t))return t;let e=t.length;if(!cR(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},l7=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&s0(Uint8Array)),u7=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},c7=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},d7=jr("HTMLFormElement"),f7=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),Mx=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),h7=jr("RegExp"),pR=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};Gu(n,(i,s)=>{let o;(o=e(i,s,t))!==!1&&(r[s]=o||i)}),Object.defineProperties(t,r)},p7=t=>{pR(t,(e,n)=>{if(Bn(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(Bn(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},m7=(t,e)=>{const n={},r=i=>{i.forEach(s=>{n[s]=!0})};return Pa(t)?r(t):r(String(t).split(e)),n},g7=()=>{},y7=(t,e)=>(t=+t,Number.isFinite(t)?t:e),vm="abcdefghijklmnopqrstuvwxyz",Vx="0123456789",mR={DIGIT:Vx,ALPHA:vm,ALPHA_DIGIT:vm+vm.toUpperCase()+Vx},v7=(t=16,e=mR.ALPHA_DIGIT)=>{let n="";const{length:r}=e;for(;t--;)n+=e[Math.random()*r|0];return n};function w7(t){return!!(t&&Bn(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const _7=t=>{const e=new Array(10),n=(r,i)=>{if($h(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const s=Pa(r)?[]:{};return Gu(r,(o,a)=>{const l=n(o,i+1);!wu(l)&&(s[a]=l)}),e[i]=void 0,s}}return r};return n(t,0)},E7=jr("AsyncFunction"),x7=t=>t&&($h(t)||Bn(t))&&Bn(t.then)&&Bn(t.catch),j={isArray:Pa,isArrayBuffer:uR,isBuffer:HB,isFormData:ZB,isArrayBufferView:qB,isString:WB,isNumber:cR,isBoolean:KB,isObject:$h,isPlainObject:fd,isUndefined:wu,isDate:GB,isFile:QB,isBlob:YB,isRegExp:h7,isFunction:Bn,isStream:JB,isURLSearchParams:e7,isTypedArray:l7,isFileList:XB,forEach:Gu,merge:yy,extend:n7,trim:t7,stripBOM:r7,inherits:i7,toFlatObject:s7,kindOf:Fh,kindOfTest:jr,endsWith:o7,toArray:a7,forEachEntry:u7,matchAll:c7,isHTMLForm:d7,hasOwnProperty:Mx,hasOwnProp:Mx,reduceDescriptors:pR,freezeMethods:p7,toObjectSet:m7,toCamelCase:f7,noop:g7,toFiniteNumber:y7,findKey:dR,global:fR,isContextDefined:hR,ALPHABET:mR,generateString:v7,isSpecCompliantForm:w7,toJSONObject:_7,isAsyncFn:E7,isThenable:x7};function ye(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}j.inherits(ye,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:j.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const gR=ye.prototype,yR={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{yR[t]={value:t}});Object.defineProperties(ye,yR);Object.defineProperty(gR,"isAxiosError",{value:!0});ye.from=(t,e,n,r,i,s)=>{const o=Object.create(gR);return j.toFlatObject(t,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),ye.call(o,t.message,e,n,r,i),o.cause=t,o.name=t.name,s&&Object.assign(o,s),o};const T7=null;function vy(t){return j.isPlainObject(t)||j.isArray(t)}function vR(t){return j.endsWith(t,"[]")?t.slice(0,-2):t}function Fx(t,e,n){return t?t.concat(e).map(function(i,s){return i=vR(i),!n&&s?"["+i+"]":i}).join(n?".":""):e}function b7(t){return j.isArray(t)&&!t.some(vy)}const I7=j.toFlatObject(j,{},null,function(e){return/^is[A-Z]/.test(e)});function Bh(t,e,n){if(!j.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=j.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(x,T){return!j.isUndefined(T[x])});const r=n.metaTokens,i=n.visitor||c,s=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&j.isSpecCompliantForm(e);if(!j.isFunction(i))throw new TypeError("visitor must be a function");function u(_){if(_===null)return"";if(j.isDate(_))return _.toISOString();if(!l&&j.isBlob(_))throw new ye("Blob is not supported. Use a Buffer instead.");return j.isArrayBuffer(_)||j.isTypedArray(_)?l&&typeof Blob=="function"?new Blob([_]):Buffer.from(_):_}function c(_,x,T){let E=_;if(_&&!T&&typeof _=="object"){if(j.endsWith(x,"{}"))x=r?x:x.slice(0,-2),_=JSON.stringify(_);else if(j.isArray(_)&&b7(_)||(j.isFileList(_)||j.endsWith(x,"[]"))&&(E=j.toArray(_)))return x=vR(x),E.forEach(function(b,C){!(j.isUndefined(b)||b===null)&&e.append(o===!0?Fx([x],C,s):o===null?x:x+"[]",u(b))}),!1}return vy(_)?!0:(e.append(Fx(T,x,s),u(_)),!1)}const h=[],m=Object.assign(I7,{defaultVisitor:c,convertValue:u,isVisitable:vy});function w(_,x){if(!j.isUndefined(_)){if(h.indexOf(_)!==-1)throw Error("Circular reference detected in "+x.join("."));h.push(_),j.forEach(_,function(E,v){(!(j.isUndefined(E)||E===null)&&i.call(e,E,j.isString(v)?v.trim():v,x,m))===!0&&w(E,x?x.concat(v):[v])}),h.pop()}}if(!j.isObject(t))throw new TypeError("data must be an object");return w(t),e}function Ux(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function o0(t,e){this._pairs=[],t&&Bh(t,this,e)}const wR=o0.prototype;wR.append=function(e,n){this._pairs.push([e,n])};wR.toString=function(e){const n=e?function(r){return e.call(this,r,Ux)}:Ux;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function S7(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function _R(t,e,n){if(!e)return t;const r=n&&n.encode||S7,i=n&&n.serialize;let s;if(i?s=i(e,n):s=j.isURLSearchParams(e)?e.toString():new o0(e,n).toString(r),s){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class C7{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){j.forEach(this.handlers,function(r){r!==null&&e(r)})}}const $x=C7,ER={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},A7=typeof URLSearchParams<"u"?URLSearchParams:o0,R7=typeof FormData<"u"?FormData:null,P7=typeof Blob<"u"?Blob:null,k7={isBrowser:!0,classes:{URLSearchParams:A7,FormData:R7,Blob:P7},protocols:["http","https","file","blob","url","data"]},xR=typeof window<"u"&&typeof document<"u",N7=(t=>xR&&["ReactNative","NativeScript","NS"].indexOf(t)<0)(typeof navigator<"u"&&navigator.product),D7=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),O7=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:xR,hasStandardBrowserEnv:N7,hasStandardBrowserWebWorkerEnv:D7},Symbol.toStringTag,{value:"Module"})),br={...O7,...k7};function j7(t,e){return Bh(t,new br.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,s){return br.isNode&&j.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function L7(t){return j.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function M7(t){const e={},n=Object.keys(t);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],e[s]=t[s];return e}function TR(t){function e(n,r,i,s){let o=n[s++];const a=Number.isFinite(+o),l=s>=n.length;return o=!o&&j.isArray(i)?i.length:o,l?(j.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!a):((!i[o]||!j.isObject(i[o]))&&(i[o]=[]),e(n,r,i[o],s)&&j.isArray(i[o])&&(i[o]=M7(i[o])),!a)}if(j.isFormData(t)&&j.isFunction(t.entries)){const n={};return j.forEachEntry(t,(r,i)=>{e(L7(r),i,n,0)}),n}return null}function V7(t,e,n){if(j.isString(t))try{return(e||JSON.parse)(t),j.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const a0={transitional:ER,adapter:["xhr","http"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,s=j.isObject(e);if(s&&j.isHTMLForm(e)&&(e=new FormData(e)),j.isFormData(e))return i&&i?JSON.stringify(TR(e)):e;if(j.isArrayBuffer(e)||j.isBuffer(e)||j.isStream(e)||j.isFile(e)||j.isBlob(e))return e;if(j.isArrayBufferView(e))return e.buffer;if(j.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return j7(e,this.formSerializer).toString();if((a=j.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Bh(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||i?(n.setContentType("application/json",!1),V7(e)):e}],transformResponse:[function(e){const n=this.transitional||a0.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(e&&j.isString(e)&&(r&&!this.responseType||i)){const o=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?ye.from(a,ye.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:br.classes.FormData,Blob:br.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};j.forEach(["delete","get","head","post","put","patch"],t=>{a0.headers[t]={}});const l0=a0,F7=j.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),U7=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(o){i=o.indexOf(":"),n=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!n||e[n]&&F7[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},Bx=Symbol("internals");function el(t){return t&&String(t).trim().toLowerCase()}function hd(t){return t===!1||t==null?t:j.isArray(t)?t.map(hd):String(t)}function $7(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const B7=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function wm(t,e,n,r,i){if(j.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!j.isString(e)){if(j.isString(r))return e.indexOf(r)!==-1;if(j.isRegExp(r))return r.test(e)}}function z7(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function H7(t,e){const n=j.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,s,o){return this[r].call(this,e,i,s,o)},configurable:!0})})}class zh{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function s(a,l,u){const c=el(l);if(!c)throw new Error("header name must be a non-empty string");const h=j.findKey(i,c);(!h||i[h]===void 0||u===!0||u===void 0&&i[h]!==!1)&&(i[h||l]=hd(a))}const o=(a,l)=>j.forEach(a,(u,c)=>s(u,c,l));return j.isPlainObject(e)||e instanceof this.constructor?o(e,n):j.isString(e)&&(e=e.trim())&&!B7(e)?o(U7(e),n):e!=null&&s(n,e,r),this}get(e,n){if(e=el(e),e){const r=j.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return $7(i);if(j.isFunction(n))return n.call(this,i,r);if(j.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=el(e),e){const r=j.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||wm(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function s(o){if(o=el(o),o){const a=j.findKey(r,o);a&&(!n||wm(r,r[a],a,n))&&(delete r[a],i=!0)}}return j.isArray(e)?e.forEach(s):s(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const s=n[r];(!e||wm(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const n=this,r={};return j.forEach(this,(i,s)=>{const o=j.findKey(r,s);if(o){n[o]=hd(i),delete n[s];return}const a=e?z7(s):String(s).trim();a!==s&&delete n[s],n[a]=hd(i),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return j.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&j.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[Bx]=this[Bx]={accessors:{}}).accessors,i=this.prototype;function s(o){const a=el(o);r[a]||(H7(i,o),r[a]=!0)}return j.isArray(e)?e.forEach(s):s(e),this}}zh.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);j.reduceDescriptors(zh.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});j.freezeMethods(zh);const Yr=zh;function _m(t,e){const n=this||l0,r=e||n,i=Yr.from(r.headers);let s=r.data;return j.forEach(t,function(a){s=a.call(n,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function bR(t){return!!(t&&t.__CANCEL__)}function Qu(t,e,n){ye.call(this,t??"canceled",ye.ERR_CANCELED,e,n),this.name="CanceledError"}j.inherits(Qu,ye,{__CANCEL__:!0});function q7(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new ye("Request failed with status code "+n.status,[ye.ERR_BAD_REQUEST,ye.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const W7=br.hasStandardBrowserEnv?{write(t,e,n,r,i,s){const o=[t+"="+encodeURIComponent(e)];j.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),j.isString(r)&&o.push("path="+r),j.isString(i)&&o.push("domain="+i),s===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function K7(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function G7(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}function IR(t,e){return t&&!K7(e)?G7(t,e):e}const Q7=br.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let r;function i(s){let o=s;return e&&(n.setAttribute("href",o),o=n.href),n.setAttribute("href",o),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=i(window.location.href),function(o){const a=j.isString(o)?i(o):o;return a.protocol===r.protocol&&a.host===r.host}}():function(){return function(){return!0}}();function Y7(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function X7(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,s=0,o;return e=e!==void 0?e:1e3,function(l){const u=Date.now(),c=r[s];o||(o=u),n[i]=l,r[i]=u;let h=s,m=0;for(;h!==i;)m+=n[h++],h=h%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),u-o<e)return;const w=c&&u-c;return w?Math.round(m*1e3/w):void 0}}function zx(t,e){let n=0;const r=X7(50,250);return i=>{const s=i.loaded,o=i.lengthComputable?i.total:void 0,a=s-n,l=r(a),u=s<=o;n=s;const c={loaded:s,total:o,progress:o?s/o:void 0,bytes:a,rate:l||void 0,estimated:l&&o&&u?(o-s)/l:void 0,event:i};c[e?"download":"upload"]=!0,t(c)}}const J7=typeof XMLHttpRequest<"u",Z7=J7&&function(t){return new Promise(function(n,r){let i=t.data;const s=Yr.from(t.headers).normalize();let{responseType:o,withXSRFToken:a}=t,l;function u(){t.cancelToken&&t.cancelToken.unsubscribe(l),t.signal&&t.signal.removeEventListener("abort",l)}let c;if(j.isFormData(i)){if(br.hasStandardBrowserEnv||br.hasStandardBrowserWebWorkerEnv)s.setContentType(!1);else if((c=s.getContentType())!==!1){const[x,...T]=c?c.split(";").map(E=>E.trim()).filter(Boolean):[];s.setContentType([x||"multipart/form-data",...T].join("; "))}}let h=new XMLHttpRequest;if(t.auth){const x=t.auth.username||"",T=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";s.set("Authorization","Basic "+btoa(x+":"+T))}const m=IR(t.baseURL,t.url);h.open(t.method.toUpperCase(),_R(m,t.params,t.paramsSerializer),!0),h.timeout=t.timeout;function w(){if(!h)return;const x=Yr.from("getAllResponseHeaders"in h&&h.getAllResponseHeaders()),E={data:!o||o==="text"||o==="json"?h.responseText:h.response,status:h.status,statusText:h.statusText,headers:x,config:t,request:h};q7(function(b){n(b),u()},function(b){r(b),u()},E),h=null}if("onloadend"in h?h.onloadend=w:h.onreadystatechange=function(){!h||h.readyState!==4||h.status===0&&!(h.responseURL&&h.responseURL.indexOf("file:")===0)||setTimeout(w)},h.onabort=function(){h&&(r(new ye("Request aborted",ye.ECONNABORTED,t,h)),h=null)},h.onerror=function(){r(new ye("Network Error",ye.ERR_NETWORK,t,h)),h=null},h.ontimeout=function(){let T=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const E=t.transitional||ER;t.timeoutErrorMessage&&(T=t.timeoutErrorMessage),r(new ye(T,E.clarifyTimeoutError?ye.ETIMEDOUT:ye.ECONNABORTED,t,h)),h=null},br.hasStandardBrowserEnv&&(a&&j.isFunction(a)&&(a=a(t)),a||a!==!1&&Q7(m))){const x=t.xsrfHeaderName&&t.xsrfCookieName&&W7.read(t.xsrfCookieName);x&&s.set(t.xsrfHeaderName,x)}i===void 0&&s.setContentType(null),"setRequestHeader"in h&&j.forEach(s.toJSON(),function(T,E){h.setRequestHeader(E,T)}),j.isUndefined(t.withCredentials)||(h.withCredentials=!!t.withCredentials),o&&o!=="json"&&(h.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&h.addEventListener("progress",zx(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&h.upload&&h.upload.addEventListener("progress",zx(t.onUploadProgress)),(t.cancelToken||t.signal)&&(l=x=>{h&&(r(!x||x.type?new Qu(null,t,h):x),h.abort(),h=null)},t.cancelToken&&t.cancelToken.subscribe(l),t.signal&&(t.signal.aborted?l():t.signal.addEventListener("abort",l)));const _=Y7(m);if(_&&br.protocols.indexOf(_)===-1){r(new ye("Unsupported protocol "+_+":",ye.ERR_BAD_REQUEST,t));return}h.send(i||null)})},wy={http:T7,xhr:Z7};j.forEach(wy,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const Hx=t=>`- ${t}`,e8=t=>j.isFunction(t)||t===null||t===!1,SR={getAdapter:t=>{t=j.isArray(t)?t:[t];const{length:e}=t;let n,r;const i={};for(let s=0;s<e;s++){n=t[s];let o;if(r=n,!e8(n)&&(r=wy[(o=String(n)).toLowerCase()],r===void 0))throw new ye(`Unknown adapter '${o}'`);if(r)break;i[o||"#"+s]=r}if(!r){const s=Object.entries(i).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=e?s.length>1?`since :
`+s.map(Hx).join(`
`):" "+Hx(s[0]):"as no adapter specified";throw new ye("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:wy};function Em(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Qu(null,t)}function qx(t){return Em(t),t.headers=Yr.from(t.headers),t.data=_m.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),SR.getAdapter(t.adapter||l0.adapter)(t).then(function(r){return Em(t),r.data=_m.call(t,t.transformResponse,r),r.headers=Yr.from(r.headers),r},function(r){return bR(r)||(Em(t),r&&r.response&&(r.response.data=_m.call(t,t.transformResponse,r.response),r.response.headers=Yr.from(r.response.headers))),Promise.reject(r)})}const Wx=t=>t instanceof Yr?t.toJSON():t;function ya(t,e){e=e||{};const n={};function r(u,c,h){return j.isPlainObject(u)&&j.isPlainObject(c)?j.merge.call({caseless:h},u,c):j.isPlainObject(c)?j.merge({},c):j.isArray(c)?c.slice():c}function i(u,c,h){if(j.isUndefined(c)){if(!j.isUndefined(u))return r(void 0,u,h)}else return r(u,c,h)}function s(u,c){if(!j.isUndefined(c))return r(void 0,c)}function o(u,c){if(j.isUndefined(c)){if(!j.isUndefined(u))return r(void 0,u)}else return r(void 0,c)}function a(u,c,h){if(h in e)return r(u,c);if(h in t)return r(void 0,u)}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(u,c)=>i(Wx(u),Wx(c),!0)};return j.forEach(Object.keys(Object.assign({},t,e)),function(c){const h=l[c]||i,m=h(t[c],e[c],c);j.isUndefined(m)&&h!==a||(n[c]=m)}),n}const CR="1.6.2",u0={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{u0[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const Kx={};u0.transitional=function(e,n,r){function i(s,o){return"[Axios v"+CR+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return(s,o,a)=>{if(e===!1)throw new ye(i(o," has been removed"+(n?" in "+n:"")),ye.ERR_DEPRECATED);return n&&!Kx[o]&&(Kx[o]=!0,console.warn(i(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,o,a):!0}};function t8(t,e,n){if(typeof t!="object")throw new ye("options must be an object",ye.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const s=r[i],o=e[s];if(o){const a=t[s],l=a===void 0||o(a,s,t);if(l!==!0)throw new ye("option "+s+" must be "+l,ye.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new ye("Unknown option "+s,ye.ERR_BAD_OPTION)}}const _y={assertOptions:t8,validators:u0},_i=_y.validators;class vf{constructor(e){this.defaults=e,this.interceptors={request:new $x,response:new $x}}request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=ya(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:s}=n;r!==void 0&&_y.assertOptions(r,{silentJSONParsing:_i.transitional(_i.boolean),forcedJSONParsing:_i.transitional(_i.boolean),clarifyTimeoutError:_i.transitional(_i.boolean)},!1),i!=null&&(j.isFunction(i)?n.paramsSerializer={serialize:i}:_y.assertOptions(i,{encode:_i.function,serialize:_i.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=s&&j.merge(s.common,s[n.method]);s&&j.forEach(["delete","get","head","post","put","patch","common"],_=>{delete s[_]}),n.headers=Yr.concat(o,s);const a=[];let l=!0;this.interceptors.request.forEach(function(x){typeof x.runWhen=="function"&&x.runWhen(n)===!1||(l=l&&x.synchronous,a.unshift(x.fulfilled,x.rejected))});const u=[];this.interceptors.response.forEach(function(x){u.push(x.fulfilled,x.rejected)});let c,h=0,m;if(!l){const _=[qx.bind(this),void 0];for(_.unshift.apply(_,a),_.push.apply(_,u),m=_.length,c=Promise.resolve(n);h<m;)c=c.then(_[h++],_[h++]);return c}m=a.length;let w=n;for(h=0;h<m;){const _=a[h++],x=a[h++];try{w=_(w)}catch(T){x.call(this,T);break}}try{c=qx.call(this,w)}catch(_){return Promise.reject(_)}for(h=0,m=u.length;h<m;)c=c.then(u[h++],u[h++]);return c}getUri(e){e=ya(this.defaults,e);const n=IR(e.baseURL,e.url);return _R(n,e.params,e.paramsSerializer)}}j.forEach(["delete","get","head","options"],function(e){vf.prototype[e]=function(n,r){return this.request(ya(r||{},{method:e,url:n,data:(r||{}).data}))}});j.forEach(["post","put","patch"],function(e){function n(r){return function(s,o,a){return this.request(ya(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}vf.prototype[e]=n(),vf.prototype[e+"Form"]=n(!0)});const pd=vf;class c0{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(a=>{r.subscribe(a),s=a}).then(i);return o.cancel=function(){r.unsubscribe(s)},o},e(function(s,o,a){r.reason||(r.reason=new Qu(s,o,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}static source(){let e;return{token:new c0(function(i){e=i}),cancel:e}}}const n8=c0;function r8(t){return function(n){return t.apply(null,n)}}function i8(t){return j.isObject(t)&&t.isAxiosError===!0}const Ey={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Ey).forEach(([t,e])=>{Ey[e]=t});const s8=Ey;function AR(t){const e=new pd(t),n=lR(pd.prototype.request,e);return j.extend(n,pd.prototype,e,{allOwnKeys:!0}),j.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return AR(ya(t,i))},n}const ut=AR(l0);ut.Axios=pd;ut.CanceledError=Qu;ut.CancelToken=n8;ut.isCancel=bR;ut.VERSION=CR;ut.toFormData=Bh;ut.AxiosError=ye;ut.Cancel=ut.CanceledError;ut.all=function(e){return Promise.all(e)};ut.spread=r8;ut.isAxiosError=i8;ut.mergeConfig=ya;ut.AxiosHeaders=Yr;ut.formToJSON=t=>TR(j.isHTMLForm(t)?new FormData(t):t);ut.getAdapter=SR.getAdapter;ut.HttpStatusCode=s8;ut.default=ut;const wf=ut,ka=wf.create({baseURL:"https://vitalfitapi.onrender.com"}),Hh=(t=1)=>async(e,n)=>{e(oR());const{filters:r,search:i,sorts:s}=n().product,{category:o,minPrice:a,maxPrice:l}=r,{sortByName:u,sortByPrice:c}=s,{data:h}=await ka.get("/",{params:{search:i,category:o,minPrice:a,maxPrice:l,sortByName:u,sortByPrice:c}});e(OB(h)),e(aR(t))},o8=t=>async e=>{e(oR());const{data:n}=await ka.get(`/product/${t}`);e(LB(n))},a8=()=>async t=>{const{data:e}=await ka.get("/category");t(jB(e))},_f=(t=1)=>async e=>{e(aR(t))},xy=t=>async e=>{e(MB(t))},md=()=>async t=>{t(VB())},Ty=()=>async t=>{t(BB())},gd=()=>async t=>{t($B())},l8=t=>async e=>{e(FB(t))},u8=t=>async e=>{e(UB(t))},c8=t=>async e=>{const n=await ka.delete(`/product/${t}`);console.log(n),e(Hh())},d8=t=>async e=>{try{const n=await ka.post("/",t);console.log(n)}catch(n){console.log("Error:",n.message)}},f8=(t,e)=>async n=>{try{const r=await ka.put(`/product/${e}`,t);console.log(r.data)}catch(r){console.log("Error:",r.message)}},h8=c4({reducer:{product:sR.reducer,orders:iR.reducer,auth:nI.reducer}});/**
 * @remix-run/router v1.13.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _u(){return _u=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_u.apply(this,arguments)}var Di;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Di||(Di={}));const Gx="popstate";function p8(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return by("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Ef(i)}return g8(e,n,null,t)}function He(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function d0(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function m8(){return Math.random().toString(36).substr(2,8)}function Qx(t,e){return{usr:t.state,key:t.key,idx:e}}function by(t,e,n,r){return n===void 0&&(n=null),_u({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Na(e):e,{state:n,key:e&&e.key||r||m8()})}function Ef(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Na(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function g8(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Di.Pop,l=null,u=c();u==null&&(u=0,o.replaceState(_u({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function h(){a=Di.Pop;let T=c(),E=T==null?null:T-u;u=T,l&&l({action:a,location:x.location,delta:E})}function m(T,E){a=Di.Push;let v=by(x.location,T,E);n&&n(v,T),u=c()+1;let b=Qx(v,u),C=x.createHref(v);try{o.pushState(b,"",C)}catch(R){if(R instanceof DOMException&&R.name==="DataCloneError")throw R;i.location.assign(C)}s&&l&&l({action:a,location:x.location,delta:1})}function w(T,E){a=Di.Replace;let v=by(x.location,T,E);n&&n(v,T),u=c();let b=Qx(v,u),C=x.createHref(v);o.replaceState(b,"",C),s&&l&&l({action:a,location:x.location,delta:0})}function _(T){let E=i.location.origin!=="null"?i.location.origin:i.location.href,v=typeof T=="string"?T:Ef(T);return He(E,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,E)}let x={get action(){return a},get location(){return t(i,o)},listen(T){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Gx,h),l=T,()=>{i.removeEventListener(Gx,h),l=null}},createHref(T){return e(i,T)},createURL:_,encodeLocation(T){let E=_(T);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:m,replace:w,go(T){return o.go(T)}};return x}var Yx;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Yx||(Yx={}));function y8(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?Na(e):e,i=Eu(r.pathname||"/",n);if(i==null)return null;let s=RR(t);v8(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=C8(s[a],R8(i));return o}function RR(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(He(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Qi([r,l.relativePath]),c=n.concat(l);s.children&&s.children.length>0&&(He(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),RR(s.children,e,c,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:I8(u,s.index),routesMeta:c})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of PR(s.path))i(s,o,l)}),e}function PR(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=PR(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function v8(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:S8(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const w8=/^:\w+$/,_8=3,E8=2,x8=1,T8=10,b8=-2,Xx=t=>t==="*";function I8(t,e){let n=t.split("/"),r=n.length;return n.some(Xx)&&(r+=b8),e&&(r+=E8),n.filter(i=>!Xx(i)).reduce((i,s)=>i+(w8.test(s)?_8:s===""?x8:T8),r)}function S8(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function C8(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,u=i==="/"?e:e.slice(i.length)||"/",c=Iy({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);let h=a.route;s.push({params:r,pathname:Qi([i,c.pathname]),pathnameBase:D8(Qi([i,c.pathnameBase])),route:h}),c.pathnameBase!=="/"&&(i=Qi([i,c.pathnameBase]))}return s}function Iy(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=A8(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,h)=>{let{paramName:m,isOptional:w}=c;if(m==="*"){let x=a[h]||"";o=s.slice(0,s.length-x.length).replace(/(.)\/+$/,"$1")}const _=a[h];return w&&!_?u[m]=void 0:u[m]=P8(_||"",m),u},{}),pathname:s,pathnameBase:o,pattern:t}}function A8(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),d0(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function R8(t){try{return decodeURI(t)}catch(e){return d0(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function P8(t,e){try{return decodeURIComponent(t)}catch(n){return d0(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function Eu(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function k8(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Na(t):t;return{pathname:n?n.startsWith("/")?n:N8(n,e):e,search:O8(r),hash:j8(i)}}function N8(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function xm(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function f0(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function h0(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Na(t):(i=_u({},t),He(!i.pathname||!i.pathname.includes("?"),xm("?","pathname","search",i)),He(!i.pathname||!i.pathname.includes("#"),xm("#","pathname","hash",i)),He(!i.search||!i.search.includes("#"),xm("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else if(r){let h=e[e.length-1].replace(/^\//,"").split("/");if(o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),h.pop();i.pathname=m.join("/")}a="/"+h.join("/")}else{let h=e.length-1;if(o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),h-=1;i.pathname=m.join("/")}a=h>=0?e[h]:"/"}let l=k8(i,a),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const Qi=t=>t.join("/").replace(/\/\/+/g,"/"),D8=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),O8=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,j8=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function L8(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const kR=["post","put","patch","delete"];new Set(kR);const M8=["get",...kR];new Set(M8);/**
 * React Router v6.20.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function xf(){return xf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xf.apply(this,arguments)}const qh=S.createContext(null),NR=S.createContext(null),uo=S.createContext(null),Wh=S.createContext(null),di=S.createContext({outlet:null,matches:[],isDataRoute:!1}),DR=S.createContext(null);function V8(t,e){let{relative:n}=e===void 0?{}:e;Da()||He(!1);let{basename:r,navigator:i}=S.useContext(uo),{hash:s,pathname:o,search:a}=Gh(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Qi([r,o])),i.createHref({pathname:l,search:a,hash:s})}function Da(){return S.useContext(Wh)!=null}function Oa(){return Da()||He(!1),S.useContext(Wh).location}function OR(t){S.useContext(uo).static||S.useLayoutEffect(t)}function Kh(){let{isDataRoute:t}=S.useContext(di);return t?X8():F8()}function F8(){Da()||He(!1);let t=S.useContext(qh),{basename:e,navigator:n}=S.useContext(uo),{matches:r}=S.useContext(di),{pathname:i}=Oa(),s=JSON.stringify(f0(r).map(l=>l.pathnameBase)),o=S.useRef(!1);return OR(()=>{o.current=!0}),S.useCallback(function(l,u){if(u===void 0&&(u={}),!o.current)return;if(typeof l=="number"){n.go(l);return}let c=h0(l,JSON.parse(s),i,u.relative==="path");t==null&&e!=="/"&&(c.pathname=c.pathname==="/"?e:Qi([e,c.pathname])),(u.replace?n.replace:n.push)(c,u.state,u)},[e,n,s,i,t])}function jR(){let{matches:t}=S.useContext(di),e=t[t.length-1];return e?e.params:{}}function Gh(t,e){let{relative:n}=e===void 0?{}:e,{matches:r}=S.useContext(di),{pathname:i}=Oa(),s=JSON.stringify(f0(r).map(o=>o.pathnameBase));return S.useMemo(()=>h0(t,JSON.parse(s),i,n==="path"),[t,s,i,n])}function U8(t,e){return $8(t,e)}function $8(t,e,n){Da()||He(!1);let{navigator:r}=S.useContext(uo),{matches:i}=S.useContext(di),s=i[i.length-1],o=s?s.params:{};s&&s.pathname;let a=s?s.pathnameBase:"/";s&&s.route;let l=Oa(),u;if(e){var c;let x=typeof e=="string"?Na(e):e;a==="/"||(c=x.pathname)!=null&&c.startsWith(a)||He(!1),u=x}else u=l;let h=u.pathname||"/",m=a==="/"?h:h.slice(a.length)||"/",w=y8(t,{pathname:m}),_=W8(w&&w.map(x=>Object.assign({},x,{params:Object.assign({},o,x.params),pathname:Qi([a,r.encodeLocation?r.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?a:Qi([a,r.encodeLocation?r.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),i,n);return e&&_?S.createElement(Wh.Provider,{value:{location:xf({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Di.Pop}},_):_}function B8(){let t=Y8(),e=L8(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},e),n?S.createElement("pre",{style:i},n):null,s)}const z8=S.createElement(B8,null);class H8 extends S.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?S.createElement(di.Provider,{value:this.props.routeContext},S.createElement(DR.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function q8(t){let{routeContext:e,match:n,children:r}=t,i=S.useContext(qh);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),S.createElement(di.Provider,{value:e},r)}function W8(t,e,n){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),t==null){var i;if((i=n)!=null&&i.errors)t=n.matches;else return null}let s=t,o=(r=n)==null?void 0:r.errors;if(o!=null){let a=s.findIndex(l=>l.route.id&&(o==null?void 0:o[l.route.id]));a>=0||He(!1),s=s.slice(0,Math.min(s.length,a+1))}return s.reduceRight((a,l,u)=>{let c=l.route.id?o==null?void 0:o[l.route.id]:null,h=null;n&&(h=l.route.errorElement||z8);let m=e.concat(s.slice(0,u+1)),w=()=>{let _;return c?_=h:l.route.Component?_=S.createElement(l.route.Component,null):l.route.element?_=l.route.element:_=a,S.createElement(q8,{match:l,routeContext:{outlet:a,matches:m,isDataRoute:n!=null},children:_})};return n&&(l.route.ErrorBoundary||l.route.errorElement||u===0)?S.createElement(H8,{location:n.location,revalidation:n.revalidation,component:h,error:c,children:w(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):w()},null)}var LR=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(LR||{}),Tf=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Tf||{});function K8(t){let e=S.useContext(qh);return e||He(!1),e}function G8(t){let e=S.useContext(NR);return e||He(!1),e}function Q8(t){let e=S.useContext(di);return e||He(!1),e}function MR(t){let e=Q8(),n=e.matches[e.matches.length-1];return n.route.id||He(!1),n.route.id}function Y8(){var t;let e=S.useContext(DR),n=G8(Tf.UseRouteError),r=MR(Tf.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function X8(){let{router:t}=K8(LR.UseNavigateStable),e=MR(Tf.UseNavigateStable),n=S.useRef(!1);return OR(()=>{n.current=!0}),S.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,xf({fromRouteId:e},s)))},[t,e])}function p0(t){let{to:e,replace:n,state:r,relative:i}=t;Da()||He(!1);let{matches:s}=S.useContext(di),{pathname:o}=Oa(),a=Kh(),l=h0(e,f0(s).map(c=>c.pathnameBase),o,i==="path"),u=JSON.stringify(l);return S.useEffect(()=>a(JSON.parse(u),{replace:n,state:r,relative:i}),[a,u,i,n,r]),null}function st(t){He(!1)}function J8(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Di.Pop,navigator:s,static:o=!1}=t;Da()&&He(!1);let a=e.replace(/^\/*/,"/"),l=S.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof r=="string"&&(r=Na(r));let{pathname:u="/",search:c="",hash:h="",state:m=null,key:w="default"}=r,_=S.useMemo(()=>{let x=Eu(u,a);return x==null?null:{location:{pathname:x,search:c,hash:h,state:m,key:w},navigationType:i}},[a,u,c,h,m,w,i]);return _==null?null:S.createElement(uo.Provider,{value:l},S.createElement(Wh.Provider,{children:n,value:_}))}function Qh(t){let{children:e,location:n}=t;return U8(Sy(e),n)}new Promise(()=>{});function Sy(t,e){e===void 0&&(e=[]);let n=[];return S.Children.forEach(t,(r,i)=>{if(!S.isValidElement(r))return;let s=[...e,i];if(r.type===S.Fragment){n.push.apply(n,Sy(r.props.children,s));return}r.type!==st&&He(!1),!r.props.index||!r.props.children||He(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Sy(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.20.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function bf(){return bf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bf.apply(this,arguments)}function VR(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Z8(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function ez(t,e){return t.button===0&&(!e||e==="_self")&&!Z8(t)}const tz=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],nz=["aria-current","caseSensitive","className","end","style","to","unstable_viewTransition","children"],rz=S.createContext({isTransitioning:!1}),iz="startTransition",Jx=Dl[iz];function sz(t){let{basename:e,children:n,future:r,window:i}=t,s=S.useRef();s.current==null&&(s.current=p8({window:i,v5Compat:!0}));let o=s.current,[a,l]=S.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},c=S.useCallback(h=>{u&&Jx?Jx(()=>l(h)):l(h)},[l,u]);return S.useLayoutEffect(()=>o.listen(c),[o,c]),S.createElement(J8,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o})}const oz=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",az=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,jn=S.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:c,unstable_viewTransition:h}=e,m=VR(e,tz),{basename:w}=S.useContext(uo),_,x=!1;if(typeof u=="string"&&az.test(u)&&(_=u,oz))try{let b=new URL(window.location.href),C=u.startsWith("//")?new URL(b.protocol+u):new URL(u),R=Eu(C.pathname,w);C.origin===b.origin&&R!=null?u=R+C.search+C.hash:x=!0}catch{}let T=V8(u,{relative:i}),E=uz(u,{replace:o,state:a,target:l,preventScrollReset:c,relative:i,unstable_viewTransition:h});function v(b){r&&r(b),b.defaultPrevented||E(b)}return S.createElement("a",bf({},m,{href:_||T,onClick:x||s?r:v,ref:n,target:l}))}),Oi=S.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:o=!1,style:a,to:l,unstable_viewTransition:u,children:c}=e,h=VR(e,nz),m=Gh(l,{relative:h.relative}),w=Oa(),_=S.useContext(NR),{navigator:x}=S.useContext(uo),T=_!=null&&cz(m)&&u===!0,E=x.encodeLocation?x.encodeLocation(m).pathname:m.pathname,v=w.pathname,b=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;i||(v=v.toLowerCase(),b=b?b.toLowerCase():null,E=E.toLowerCase());const C=E!=="/"&&E.endsWith("/")?E.length-1:E.length;let R=v===E||!o&&v.startsWith(E)&&v.charAt(C)==="/",O=b!=null&&(b===E||!o&&b.startsWith(E)&&b.charAt(E.length)==="/"),L={isActive:R,isPending:O,isTransitioning:T},F=R?r:void 0,z;typeof s=="function"?z=s(L):z=[s,R?"active":null,O?"pending":null,T?"transitioning":null].filter(Boolean).join(" ");let q=typeof a=="function"?a(L):a;return S.createElement(jn,bf({},h,{"aria-current":F,className:z,ref:n,style:q,to:l,unstable_viewTransition:u}),typeof c=="function"?c(L):c)});var Cy;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Cy||(Cy={}));var Zx;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Zx||(Zx={}));function lz(t){let e=S.useContext(qh);return e||He(!1),e}function uz(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a}=e===void 0?{}:e,l=Kh(),u=Oa(),c=Gh(t,{relative:o});return S.useCallback(h=>{if(ez(h,n)){h.preventDefault();let m=r!==void 0?r:Ef(u)===Ef(c);l(t,{replace:m,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a})}},[u,l,c,r,i,n,t,s,o,a])}function cz(t,e){e===void 0&&(e={});let n=S.useContext(rz);n==null&&He(!1);let{basename:r}=lz(Cy.useViewTransitionState),i=Gh(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=Eu(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=Eu(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Iy(i.pathname,o)!=null||Iy(i.pathname,s)!=null}const FR=({className:t})=>f.jsxs("svg",{className:t,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[f.jsx("path",{d:"M14.5 9.50002L9.5 14.5M9.49998 9.5L14.5 14.5",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),f.jsx("path",{d:"M7 3.33782C8.47087 2.48697 10.1786 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12C2 10.1786 2.48697 8.47087 3.33782 7",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"})]}),dz=({className:t})=>f.jsx("svg",{className:t,viewBox:"0 0 42 43",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("path",{d:"M34.0621 12.3337C33.2573 11.1611 32.1802 10.2047 30.9247 9.54796C29.6692 8.89118 28.2735 8.5539 26.8591 8.56553C25.7613 8.54431 24.6716 8.75785 23.6617 9.19206C22.6518 9.62628 21.7447 10.2713 21.0001 11.0847C20.2546 10.2724 19.3473 9.62807 18.3376 9.19393C17.3279 8.7598 16.2386 8.54565 15.1411 8.56553C13.7266 8.5539 12.3309 8.89118 11.0754 9.54796C9.81992 10.2047 8.74284 11.1611 7.93805 12.3337C7.1174 13.6482 6.65091 15.1558 6.58462 16.7075C6.51833 18.2593 6.85453 19.8017 7.56005 21.1825C8.63065 23.6058 10.1164 25.8201 11.9491 27.7238C14.0244 29.9184 16.2949 31.9167 18.7321 33.6936C19.3916 34.1756 20.1854 34.4351 21.0001 34.4351C21.8147 34.4351 22.6085 34.1756 23.2681 33.6936C25.7058 31.9175 27.9764 29.9191 30.0511 27.7238C31.8838 25.8201 33.3694 23.6058 34.4401 21.1825C35.1456 19.8017 35.4818 18.2593 35.4155 16.7075C35.3492 15.1558 34.8827 13.6482 34.0621 12.3337ZM32.6761 20.4415C31.6812 22.6496 30.3173 24.6689 28.6441 26.4113C26.6499 28.5109 24.4709 30.424 22.1341 32.127C21.8069 32.3744 21.409 32.5081 21.0001 32.5081C20.5911 32.5081 20.1932 32.3744 19.8661 32.127C17.5297 30.4233 15.3509 28.5103 13.3561 26.4113C11.6745 24.6757 10.3096 22.6549 9.32405 20.4415C8.75211 19.3483 8.47083 18.1243 8.50764 16.8889C8.54444 15.6535 8.89806 14.4488 9.53405 13.3921C10.1659 12.4887 11.0068 11.7543 11.9839 11.2526C12.9609 10.751 14.0447 10.4971 15.1411 10.5131C16.0331 10.4829 16.9202 10.6579 17.7353 11.0246C18.5503 11.3914 19.2718 11.9404 19.8451 12.63C20.1616 12.9354 20.5829 13.1059 21.0211 13.1059C21.4592 13.1059 21.8805 12.9354 22.1971 12.63C22.7659 11.9461 23.4806 11.4006 24.2878 11.034C25.0951 10.6674 25.974 10.4894 26.8591 10.5131C27.9555 10.4971 29.0392 10.751 30.0162 11.2526C30.9933 11.7543 31.8342 12.4887 32.4661 13.3921C33.102 14.4488 33.4557 15.6535 33.4925 16.8889C33.5293 18.1243 33.248 19.3483 32.6761 20.4415Z",fill:"current"})}),Yu=({className:t})=>f.jsx(Oi,{to:"/home",children:f.jsxs("svg",{className:t,viewBox:"0 0 290 578",xmlns:"http://www.w3.org/2000/svg",children:[f.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M116.763 22.5315C76.1601 29.4039 42.3028 53.1207 23.763 72.8144L9 58.6371C29.8444 36.4954 67.4896 10.0098 113.396 2.23973C159.964 -5.64222 214.014 5.94546 266 58.4514L251.595 73C204.171 25.1011 156.705 15.7711 116.763 22.5315Z",fill:"#D74545"}),f.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M158.237 556.086C198.84 549.402 232.697 526.335 251.237 507.181L266 520.969C245.156 542.505 207.51 568.264 161.604 575.822C115.036 583.488 60.9863 572.217 9 521.15L23.4046 507C70.8293 553.587 118.295 562.661 158.237 556.086Z",fill:"#D74545"}),f.jsx("path",{d:"M236.073 95.1334H255.702V202.2H288V220.045H236.073V95.1334Z",fill:"#D74545"}),f.jsx("path",{d:"M179.618 95.1334H206.207L226.549 220.045H206.921L203.352 195.241V195.598H181.046L177.477 220.045H159.276L179.618 95.1334ZM201.032 178.645L192.288 116.904H191.931L183.366 178.645H201.032Z",fill:"#D74545"}),f.jsx("path",{d:"M122.987 112.978H102.466V95.1334H163.137V112.978H142.616V220.045H122.987V112.978Z",fill:"#D74545"}),f.jsx("path",{d:"M73.3116 95.1334H92.9405V220.045H73.3116V95.1334Z",fill:"#D74545"}),f.jsx("path",{d:"M0 95.1334H19.8074L32.6554 192.029H33.0123L45.8603 95.1334H63.8832L44.968 220.045H18.9151L0 95.1334Z",fill:"#D74545"}),f.jsx("path",{d:"M211.507 267.706H172.41V233.709H288V267.706H248.903V471.688H211.507V267.706Z",fill:"#475157"}),f.jsx("path",{d:"M116.865 233.709H154.261V471.688H116.865V233.709Z",fill:"#475157"}),f.jsx("path",{d:"M0 233.709H98.9313V267.706H37.3967V334H85.6725V367.997H37.3967V471.688H0V233.709Z",fill:"#475157"})]})}),fz=({className:t})=>f.jsxs("svg",{className:t,viewBox:"0 0 76 151",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[f.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M30.886 5.88627C20.3124 7.68164 11.4953 13.8776 6.66729 19.0224L2.82275 15.3187C8.25098 9.53425 18.0544 2.61501 30.0092 0.58512C42.1362 -1.474 56.2118 1.55323 69.7498 15.2702L65.9987 19.0709C53.6485 6.55756 41.2875 4.12013 30.886 5.88627Z",fill:"white"}),f.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M41.6867 145.275C52.2604 143.529 61.0774 137.503 65.9055 132.499L69.75 136.101C64.3218 141.727 54.5183 148.457 42.5635 150.431C30.4365 152.434 16.361 149.489 2.82291 136.148L6.5741 132.452C18.9243 144.622 31.2853 146.993 41.6867 145.275Z",fill:"white"}),f.jsx("path",{d:"M61.9561 24.8533H67.0677V52.824H75.4788V57.4858H61.9561V24.8533Z",fill:"white"}),f.jsx("path",{d:"M47.2546 24.8533H54.1786L59.4762 57.4858H54.3645L53.4351 51.0059V51.0991H47.6264L46.697 57.4858H41.957L47.2546 24.8533ZM52.831 46.6704L50.554 30.5407H50.461L48.2305 46.6704H52.831Z",fill:"white"}),f.jsx("path",{d:"M32.5071 29.5151H27.1631V24.8533H42.9629V29.5151H37.6188V57.4858H32.5071V29.5151Z",fill:"white"}),f.jsx("path",{d:"M19.5708 24.8533H24.6825V57.4858H19.5708V24.8533Z",fill:"white"}),f.jsx("path",{d:"M0.479004 24.8533H5.63717L8.98301 50.1668H9.07595L12.4218 24.8533H17.1152L12.1894 57.4858H5.40482L0.479004 24.8533Z",fill:"white"}),f.jsx("path",{d:"M55.5588 69.9372H45.3774V61.0557H75.479V69.9372H65.2976V123.227H55.5588V69.9372Z",fill:"#D9D9D9"}),f.jsx("path",{d:"M30.9126 61.0557H40.6513V123.227H30.9126V61.0557Z",fill:"#D9D9D9"}),f.jsx("path",{d:"M0.479004 61.0557H26.2424V69.9372H10.2177V87.2563H22.7895V96.1379H10.2177V123.227H0.479004V61.0557Z",fill:"#D9D9D9"})]}),hz=({className:t})=>f.jsxs("svg",{className:t,viewBox:"0 0 42 43",xmlns:"http://www.w3.org/2000/svg",children:[f.jsx("path",{d:"M17.5 39C19.433 39 21 37.433 21 35.5C21 33.567 19.433 32 17.5 32C15.567 32 14 33.567 14 35.5C14 37.433 15.567 39 17.5 39Z",fill:"current"}),f.jsx("path",{d:"M28 39C29.933 39 31.5 37.433 31.5 35.5C31.5 33.567 29.933 32 28 32C26.067 32 24.5 33.567 24.5 35.5C24.5 37.433 26.067 39 28 39Z",fill:"current"}),f.jsx("path",{d:"M37.8 14.15C37.1 13.275 36.05 12.75 35 12.75H15.05L14 6.8C13.65 5.225 12.25 4 10.5 4H7C5.075 4 3.5 5.575 3.5 7.5C3.5 9.425 5.075 11 7 11H7.525L10.5 25.7C10.85 27.45 12.25 28.5 14 28.5H31.5C33.075 28.5 34.3 27.45 34.825 26.05L38.325 17.3C38.675 16.25 38.5 15.2 37.8 14.15Z",fill:"current"})]}),pz=({className:t})=>f.jsxs("svg",{className:t,viewBox:"0 0 42 43",xmlns:"http://www.w3.org/2000/svg",children:[f.jsx("path",{d:"M29.75 16.25C29.75 13.8333 28.77 11.6458 27.188 10.0638C25.6043 8.48 23.4167 7.5 21 7.5C18.5833 7.5 16.3957 8.48 14.812 10.0638C13.23 11.6458 12.25 13.8333 12.25 16.25C12.25 18.6667 13.23 20.8542 14.812 22.4362C16.3957 24.02 18.5833 25 21 25C23.4167 25 25.6043 24.02 27.188 22.4362C28.77 20.8542 29.75 18.6667 29.75 16.25Z",fill:"current"}),f.jsx("path",{d:"M10.5 33.75C10.5 35.5 14.4375 37.25 21 37.25C27.1565 37.25 31.5 35.5 31.5 33.75C31.5 30.25 27.3805 26.75 21 26.75C14.4375 26.75 10.5 30.25 10.5 33.75Z",fill:"current"})]}),mz=({className:t})=>f.jsx("svg",{className:t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 -960 960 960",stroke:"curret",children:f.jsx("path",{d:"M280-120q-33 0-56.5-23.5T200-200v-520h-40v-80h200v-40h240v40h200v80h-40v520q0 33-23.5 56.5T680-120H280Zm400-600H280v520h400v-520ZM360-280h80v-360h-80v360Zm160 0h80v-360h-80v360ZM280-720v520-520Z"})});var gz=Object.defineProperty,yz=(t,e,n)=>e in t?gz(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Tm=(t,e,n)=>(yz(t,typeof e!="symbol"?e+"":e,n),n);let vz=class{constructor(){Tm(this,"current",this.detect()),Tm(this,"handoffState","pending"),Tm(this,"currentId",0)}set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},Vs=new vz,zn=(t,e)=>{Vs.isServer?S.useEffect(t,e):S.useLayoutEffect(t,e)};function Yi(t){let e=S.useRef(t);return zn(()=>{e.current=t},[t]),e}let Qe=function(t){let e=Yi(t);return fe.useCallback((...n)=>e.current(...n),[e])};function wz(t){typeof queueMicrotask=="function"?queueMicrotask(t):Promise.resolve().then(t).catch(e=>setTimeout(()=>{throw e}))}function oi(){let t=[],e={addEventListener(n,r,i,s){return n.addEventListener(r,i,s),e.add(()=>n.removeEventListener(r,i,s))},requestAnimationFrame(...n){let r=requestAnimationFrame(...n);return e.add(()=>cancelAnimationFrame(r))},nextFrame(...n){return e.requestAnimationFrame(()=>e.requestAnimationFrame(...n))},setTimeout(...n){let r=setTimeout(...n);return e.add(()=>clearTimeout(r))},microTask(...n){let r={current:!0};return wz(()=>{r.current&&n[0]()}),e.add(()=>{r.current=!1})},style(n,r,i){let s=n.style.getPropertyValue(r);return Object.assign(n.style,{[r]:i}),this.add(()=>{Object.assign(n.style,{[r]:s})})},group(n){let r=oi();return n(r),this.add(()=>r.dispose())},add(n){return t.push(n),()=>{let r=t.indexOf(n);if(r>=0)for(let i of t.splice(r,1))i()}},dispose(){for(let n of t.splice(0))n()}};return e}function Yh(){let[t]=S.useState(oi);return S.useEffect(()=>()=>t.dispose(),[t]),t}function _z(){let t=typeof document>"u";return"useSyncExternalStore"in Dl?(e=>e.useSyncExternalStore)(Dl)(()=>()=>{},()=>!1,()=>!t):!1}function m0(){let t=_z(),[e,n]=S.useState(Vs.isHandoffComplete);return e&&Vs.isHandoffComplete===!1&&n(!1),S.useEffect(()=>{e!==!0&&n(!0)},[e]),S.useEffect(()=>Vs.handoff(),[]),t?!1:e}var eT;let g0=(eT=fe.useId)!=null?eT:function(){let t=m0(),[e,n]=fe.useState(t?()=>Vs.nextId():null);return zn(()=>{e===null&&n(Vs.nextId())},[e]),e!=null?""+e:void 0};function xn(t,e,...n){if(t in e){let i=e[t];return typeof i=="function"?i(...n):i}let r=new Error(`Tried to handle "${t}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(i=>`"${i}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,xn),r}function Xh(t){return Vs.isServer?null:t instanceof Node?t.ownerDocument:t!=null&&t.hasOwnProperty("current")&&t.current instanceof Node?t.current.ownerDocument:document}let Ay=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(t=>`${t}:not([tabindex='-1'])`).join(",");var Ry=(t=>(t[t.First=1]="First",t[t.Previous=2]="Previous",t[t.Next=4]="Next",t[t.Last=8]="Last",t[t.WrapAround=16]="WrapAround",t[t.NoScroll=32]="NoScroll",t))(Ry||{}),Ez=(t=>(t[t.Error=0]="Error",t[t.Overflow=1]="Overflow",t[t.Success=2]="Success",t[t.Underflow=3]="Underflow",t))(Ez||{}),xz=(t=>(t[t.Previous=-1]="Previous",t[t.Next=1]="Next",t))(xz||{});function UR(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(Ay)).sort((e,n)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var y0=(t=>(t[t.Strict=0]="Strict",t[t.Loose=1]="Loose",t))(y0||{});function v0(t,e=0){var n;return t===((n=Xh(t))==null?void 0:n.body)?!1:xn(e,{0(){return t.matches(Ay)},1(){let r=t;for(;r!==null;){if(r.matches(Ay))return!0;r=r.parentElement}return!1}})}function $R(t){let e=Xh(t);oi().nextFrame(()=>{e&&!v0(e.activeElement,0)&&bz(t)})}var Tz=(t=>(t[t.Keyboard=0]="Keyboard",t[t.Mouse=1]="Mouse",t))(Tz||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",t=>{t.metaKey||t.altKey||t.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",t=>{t.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:t.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function bz(t){t==null||t.focus({preventScroll:!0})}let Iz=["textarea","input"].join(",");function Sz(t){var e,n;return(n=(e=t==null?void 0:t.matches)==null?void 0:e.call(t,Iz))!=null?n:!1}function BR(t,e=n=>n){return t.slice().sort((n,r)=>{let i=e(n),s=e(r);if(i===null||s===null)return 0;let o=i.compareDocumentPosition(s);return o&Node.DOCUMENT_POSITION_FOLLOWING?-1:o&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function Cz(t,e){return Az(UR(),e,{relativeTo:t})}function Az(t,e,{sorted:n=!0,relativeTo:r=null,skipElements:i=[]}={}){let s=Array.isArray(t)?t.length>0?t[0].ownerDocument:document:t.ownerDocument,o=Array.isArray(t)?n?BR(t):t:UR(t);i.length>0&&o.length>1&&(o=o.filter(w=>!i.includes(w))),r=r??s.activeElement;let a=(()=>{if(e&5)return 1;if(e&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),l=(()=>{if(e&1)return 0;if(e&2)return Math.max(0,o.indexOf(r))-1;if(e&4)return Math.max(0,o.indexOf(r))+1;if(e&8)return o.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),u=e&32?{preventScroll:!0}:{},c=0,h=o.length,m;do{if(c>=h||c+h<=0)return 0;let w=l+c;if(e&16)w=(w+h)%h;else{if(w<0)return 3;if(w>=h)return 1}m=o[w],m==null||m.focus(u),c+=a}while(m!==s.activeElement);return e&6&&Sz(m)&&m.select(),2}function Rz(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function Pz(){return/Android/gi.test(window.navigator.userAgent)}function kz(){return Rz()||Pz()}function Bc(t,e,n){let r=Yi(e);S.useEffect(()=>{function i(s){r.current(s)}return document.addEventListener(t,i,n),()=>document.removeEventListener(t,i,n)},[t,n])}function Nz(t,e,n){let r=Yi(e);S.useEffect(()=>{function i(s){r.current(s)}return window.addEventListener(t,i,n),()=>window.removeEventListener(t,i,n)},[t,n])}function Dz(t,e,n=!0){let r=S.useRef(!1);S.useEffect(()=>{requestAnimationFrame(()=>{r.current=n})},[n]);function i(o,a){if(!r.current||o.defaultPrevented)return;let l=a(o);if(l===null||!l.getRootNode().contains(l)||!l.isConnected)return;let u=function c(h){return typeof h=="function"?c(h()):Array.isArray(h)||h instanceof Set?h:[h]}(t);for(let c of u){if(c===null)continue;let h=c instanceof HTMLElement?c:c.current;if(h!=null&&h.contains(l)||o.composed&&o.composedPath().includes(h))return}return!v0(l,y0.Loose)&&l.tabIndex!==-1&&o.preventDefault(),e(o,l)}let s=S.useRef(null);Bc("pointerdown",o=>{var a,l;r.current&&(s.current=((l=(a=o.composedPath)==null?void 0:a.call(o))==null?void 0:l[0])||o.target)},!0),Bc("mousedown",o=>{var a,l;r.current&&(s.current=((l=(a=o.composedPath)==null?void 0:a.call(o))==null?void 0:l[0])||o.target)},!0),Bc("click",o=>{kz()||s.current&&(i(o,()=>s.current),s.current=null)},!0),Bc("touchend",o=>i(o,()=>o.target instanceof HTMLElement?o.target:null),!0),Nz("blur",o=>i(o,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function Oz(...t){return S.useMemo(()=>Xh(...t),[...t])}function tT(t){var e;if(t.type)return t.type;let n=(e=t.as)!=null?e:"button";if(typeof n=="string"&&n.toLowerCase()==="button")return"button"}function jz(t,e){let[n,r]=S.useState(()=>tT(t));return zn(()=>{r(tT(t))},[t.type,t.as]),zn(()=>{n||e.current&&e.current instanceof HTMLButtonElement&&!e.current.hasAttribute("type")&&r("button")},[n,e]),n}let Lz=Symbol();function ja(...t){let e=S.useRef(t);S.useEffect(()=>{e.current=t},[t]);let n=Qe(r=>{for(let i of e.current)i!=null&&(typeof i=="function"?i(r):i.current=r)});return t.every(r=>r==null||(r==null?void 0:r[Lz]))?void 0:n}function nT(t){return[t.screenX,t.screenY]}function Mz(){let t=S.useRef([-1,-1]);return{wasMoved(e){let n=nT(e);return t.current[0]===n[0]&&t.current[1]===n[1]?!1:(t.current=n,!0)},update(e){t.current=nT(e)}}}function Vz({container:t,accept:e,walk:n,enabled:r=!0}){let i=S.useRef(e),s=S.useRef(n);S.useEffect(()=>{i.current=e,s.current=n},[e,n]),zn(()=>{if(!t||!r)return;let o=Xh(t);if(!o)return;let a=i.current,l=s.current,u=Object.assign(h=>a(h),{acceptNode:a}),c=o.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,u,!1);for(;c.nextNode();)l(c.currentNode)},[t,r,i,s])}function If(...t){return Array.from(new Set(t.flatMap(e=>typeof e=="string"?e.split(" "):[]))).filter(Boolean).join(" ")}var Sf=(t=>(t[t.None=0]="None",t[t.RenderStrategy=1]="RenderStrategy",t[t.Static=2]="Static",t))(Sf||{}),ji=(t=>(t[t.Unmount=0]="Unmount",t[t.Hidden=1]="Hidden",t))(ji||{});function La({ourProps:t,theirProps:e,slot:n,defaultTag:r,features:i,visible:s=!0,name:o,mergeRefs:a}){a=a??Fz;let l=zR(e,t);if(s)return zc(l,n,r,o,a);let u=i??0;if(u&2){let{static:c=!1,...h}=l;if(c)return zc(h,n,r,o,a)}if(u&1){let{unmount:c=!0,...h}=l;return xn(c?0:1,{0(){return null},1(){return zc({...h,hidden:!0,style:{display:"none"}},n,r,o,a)}})}return zc(l,n,r,o,a)}function zc(t,e={},n,r,i){let{as:s=n,children:o,refName:a="ref",...l}=bm(t,["unmount","static"]),u=t.ref!==void 0?{[a]:t.ref}:{},c=typeof o=="function"?o(e):o;"className"in l&&l.className&&typeof l.className=="function"&&(l.className=l.className(e));let h={};if(e){let m=!1,w=[];for(let[_,x]of Object.entries(e))typeof x=="boolean"&&(m=!0),x===!0&&w.push(_);m&&(h["data-headlessui-state"]=w.join(" "))}if(s===S.Fragment&&Object.keys(rT(l)).length>0){if(!S.isValidElement(c)||Array.isArray(c)&&c.length>1)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(l).map(x=>`  - ${x}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(x=>`  - ${x}`).join(`
`)].join(`
`));let m=c.props,w=typeof(m==null?void 0:m.className)=="function"?(...x)=>If(m==null?void 0:m.className(...x),l.className):If(m==null?void 0:m.className,l.className),_=w?{className:w}:{};return S.cloneElement(c,Object.assign({},zR(c.props,rT(bm(l,["ref"]))),h,u,{ref:i(c.ref,u.ref)},_))}return S.createElement(s,Object.assign({},bm(l,["ref"]),s!==S.Fragment&&u,s!==S.Fragment&&h),c)}function Fz(...t){return t.every(e=>e==null)?void 0:e=>{for(let n of t)n!=null&&(typeof n=="function"?n(e):n.current=e)}}function zR(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},n={};for(let r of t)for(let i in r)i.startsWith("on")&&typeof r[i]=="function"?(n[i]!=null||(n[i]=[]),n[i].push(r[i])):e[i]=r[i];if(e.disabled||e["aria-disabled"])return Object.assign(e,Object.fromEntries(Object.keys(n).map(r=>[r,void 0])));for(let r in n)Object.assign(e,{[r](i,...s){let o=n[r];for(let a of o){if((i instanceof Event||(i==null?void 0:i.nativeEvent)instanceof Event)&&i.defaultPrevented)return;a(i,...s)}}});return e}function co(t){var e;return Object.assign(S.forwardRef(t),{displayName:(e=t.displayName)!=null?e:t.name})}function rT(t){let e=Object.assign({},t);for(let n in e)e[n]===void 0&&delete e[n];return e}function bm(t,e=[]){let n=Object.assign({},t);for(let r of e)r in n&&delete n[r];return n}let w0=S.createContext(null);w0.displayName="OpenClosedContext";var yn=(t=>(t[t.Open=1]="Open",t[t.Closed=2]="Closed",t[t.Closing=4]="Closing",t[t.Opening=8]="Opening",t))(yn||{});function _0(){return S.useContext(w0)}function HR({value:t,children:e}){return fe.createElement(w0.Provider,{value:t},e)}function Uz(t){let e=t.parentElement,n=null;for(;e&&!(e instanceof HTMLFieldSetElement);)e instanceof HTMLLegendElement&&(n=e),e=e.parentElement;let r=(e==null?void 0:e.getAttribute("disabled"))==="";return r&&$z(n)?!1:r}function $z(t){if(!t)return!1;let e=t.previousElementSibling;for(;e!==null;){if(e instanceof HTMLLegendElement)return!1;e=e.previousElementSibling}return!0}function Bz(t){throw new Error("Unexpected object: "+t)}var sr=(t=>(t[t.First=0]="First",t[t.Previous=1]="Previous",t[t.Next=2]="Next",t[t.Last=3]="Last",t[t.Specific=4]="Specific",t[t.Nothing=5]="Nothing",t))(sr||{});function zz(t,e){let n=e.resolveItems();if(n.length<=0)return null;let r=e.resolveActiveIndex(),i=r??-1;switch(t.focus){case 0:{for(let s=0;s<n.length;++s)if(!e.resolveDisabled(n[s],s,n))return s;return r}case 1:{for(let s=i-1;s>=0;--s)if(!e.resolveDisabled(n[s],s,n))return s;return r}case 2:{for(let s=i+1;s<n.length;++s)if(!e.resolveDisabled(n[s],s,n))return s;return r}case 3:{for(let s=n.length-1;s>=0;--s)if(!e.resolveDisabled(n[s],s,n))return s;return r}case 4:{for(let s=0;s<n.length;++s)if(e.resolveId(n[s],s,n)===t.id)return s;return r}case 5:return null;default:Bz(t)}}var At=(t=>(t.Space=" ",t.Enter="Enter",t.Escape="Escape",t.Backspace="Backspace",t.Delete="Delete",t.ArrowLeft="ArrowLeft",t.ArrowUp="ArrowUp",t.ArrowRight="ArrowRight",t.ArrowDown="ArrowDown",t.Home="Home",t.End="End",t.PageUp="PageUp",t.PageDown="PageDown",t.Tab="Tab",t))(At||{});function E0(){let t=S.useRef(!1);return zn(()=>(t.current=!0,()=>{t.current=!1}),[]),t}let iT=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function sT(t){var e,n;let r=(e=t.innerText)!=null?e:"",i=t.cloneNode(!0);if(!(i instanceof HTMLElement))return r;let s=!1;for(let a of i.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))a.remove(),s=!0;let o=s?(n=i.innerText)!=null?n:"":r;return iT.test(o)&&(o=o.replace(iT,"")),o}function Hz(t){let e=t.getAttribute("aria-label");if(typeof e=="string")return e.trim();let n=t.getAttribute("aria-labelledby");if(n){let r=n.split(" ").map(i=>{let s=document.getElementById(i);if(s){let o=s.getAttribute("aria-label");return typeof o=="string"?o.trim():sT(s).trim()}return null}).filter(Boolean);if(r.length>0)return r.join(", ")}return sT(t).trim()}function qz(t){let e=S.useRef(""),n=S.useRef("");return Qe(()=>{let r=t.current;if(!r)return"";let i=r.innerText;if(e.current===i)return n.current;let s=Hz(r).trim().toLowerCase();return e.current=i,n.current=s,s})}var Wz=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(Wz||{}),Kz=(t=>(t[t.Pointer=0]="Pointer",t[t.Other=1]="Other",t))(Kz||{}),Gz=(t=>(t[t.OpenMenu=0]="OpenMenu",t[t.CloseMenu=1]="CloseMenu",t[t.GoToItem=2]="GoToItem",t[t.Search=3]="Search",t[t.ClearSearch=4]="ClearSearch",t[t.RegisterItem=5]="RegisterItem",t[t.UnregisterItem=6]="UnregisterItem",t))(Gz||{});function Im(t,e=n=>n){let n=t.activeItemIndex!==null?t.items[t.activeItemIndex]:null,r=BR(e(t.items.slice()),s=>s.dataRef.current.domRef.current),i=n?r.indexOf(n):null;return i===-1&&(i=null),{items:r,activeItemIndex:i}}let Qz={1(t){return t.menuState===1?t:{...t,activeItemIndex:null,menuState:1}},0(t){return t.menuState===0?t:{...t,__demoMode:!1,menuState:0}},2:(t,e)=>{var n;let r=Im(t),i=zz(e,{resolveItems:()=>r.items,resolveActiveIndex:()=>r.activeItemIndex,resolveId:s=>s.id,resolveDisabled:s=>s.dataRef.current.disabled});return{...t,...r,searchQuery:"",activeItemIndex:i,activationTrigger:(n=e.trigger)!=null?n:1}},3:(t,e)=>{let n=t.searchQuery!==""?0:1,r=t.searchQuery+e.value.toLowerCase(),i=(t.activeItemIndex!==null?t.items.slice(t.activeItemIndex+n).concat(t.items.slice(0,t.activeItemIndex+n)):t.items).find(o=>{var a;return((a=o.dataRef.current.textValue)==null?void 0:a.startsWith(r))&&!o.dataRef.current.disabled}),s=i?t.items.indexOf(i):-1;return s===-1||s===t.activeItemIndex?{...t,searchQuery:r}:{...t,searchQuery:r,activeItemIndex:s,activationTrigger:1}},4(t){return t.searchQuery===""?t:{...t,searchQuery:"",searchActiveItemIndex:null}},5:(t,e)=>{let n=Im(t,r=>[...r,{id:e.id,dataRef:e.dataRef}]);return{...t,...n}},6:(t,e)=>{let n=Im(t,r=>{let i=r.findIndex(s=>s.id===e.id);return i!==-1&&r.splice(i,1),r});return{...t,...n,activationTrigger:1}}},x0=S.createContext(null);x0.displayName="MenuContext";function Jh(t){let e=S.useContext(x0);if(e===null){let n=new Error(`<${t} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Jh),n}return e}function Yz(t,e){return xn(e.type,Qz,t,e)}let Xz=S.Fragment;function Jz(t,e){let{__demoMode:n=!1,...r}=t,i=S.useReducer(Yz,{__demoMode:n,menuState:n?0:1,buttonRef:S.createRef(),itemsRef:S.createRef(),items:[],searchQuery:"",activeItemIndex:null,activationTrigger:1}),[{menuState:s,itemsRef:o,buttonRef:a},l]=i,u=ja(e);Dz([a,o],(w,_)=>{var x;l({type:1}),v0(_,y0.Loose)||(w.preventDefault(),(x=a.current)==null||x.focus())},s===0);let c=Qe(()=>{l({type:1})}),h=S.useMemo(()=>({open:s===0,close:c}),[s,c]),m={ref:u};return fe.createElement(x0.Provider,{value:i},fe.createElement(HR,{value:xn(s,{0:yn.Open,1:yn.Closed})},La({ourProps:m,theirProps:r,slot:h,defaultTag:Xz,name:"Menu"})))}let Zz="button";function eH(t,e){var n;let r=g0(),{id:i=`headlessui-menu-button-${r}`,...s}=t,[o,a]=Jh("Menu.Button"),l=ja(o.buttonRef,e),u=Yh(),c=Qe(x=>{switch(x.key){case At.Space:case At.Enter:case At.ArrowDown:x.preventDefault(),x.stopPropagation(),a({type:0}),u.nextFrame(()=>a({type:2,focus:sr.First}));break;case At.ArrowUp:x.preventDefault(),x.stopPropagation(),a({type:0}),u.nextFrame(()=>a({type:2,focus:sr.Last}));break}}),h=Qe(x=>{switch(x.key){case At.Space:x.preventDefault();break}}),m=Qe(x=>{if(Uz(x.currentTarget))return x.preventDefault();t.disabled||(o.menuState===0?(a({type:1}),u.nextFrame(()=>{var T;return(T=o.buttonRef.current)==null?void 0:T.focus({preventScroll:!0})})):(x.preventDefault(),a({type:0})))}),w=S.useMemo(()=>({open:o.menuState===0}),[o]),_={ref:l,id:i,type:jz(t,o.buttonRef),"aria-haspopup":"menu","aria-controls":(n=o.itemsRef.current)==null?void 0:n.id,"aria-expanded":o.menuState===0,onKeyDown:c,onKeyUp:h,onClick:m};return La({ourProps:_,theirProps:s,slot:w,defaultTag:Zz,name:"Menu.Button"})}let tH="div",nH=Sf.RenderStrategy|Sf.Static;function rH(t,e){var n,r;let i=g0(),{id:s=`headlessui-menu-items-${i}`,...o}=t,[a,l]=Jh("Menu.Items"),u=ja(a.itemsRef,e),c=Oz(a.itemsRef),h=Yh(),m=_0(),w=(()=>m!==null?(m&yn.Open)===yn.Open:a.menuState===0)();S.useEffect(()=>{let v=a.itemsRef.current;v&&a.menuState===0&&v!==(c==null?void 0:c.activeElement)&&v.focus({preventScroll:!0})},[a.menuState,a.itemsRef,c]),Vz({container:a.itemsRef.current,enabled:a.menuState===0,accept(v){return v.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:v.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(v){v.setAttribute("role","none")}});let _=Qe(v=>{var b,C;switch(h.dispose(),v.key){case At.Space:if(a.searchQuery!=="")return v.preventDefault(),v.stopPropagation(),l({type:3,value:v.key});case At.Enter:if(v.preventDefault(),v.stopPropagation(),l({type:1}),a.activeItemIndex!==null){let{dataRef:R}=a.items[a.activeItemIndex];(C=(b=R.current)==null?void 0:b.domRef.current)==null||C.click()}$R(a.buttonRef.current);break;case At.ArrowDown:return v.preventDefault(),v.stopPropagation(),l({type:2,focus:sr.Next});case At.ArrowUp:return v.preventDefault(),v.stopPropagation(),l({type:2,focus:sr.Previous});case At.Home:case At.PageUp:return v.preventDefault(),v.stopPropagation(),l({type:2,focus:sr.First});case At.End:case At.PageDown:return v.preventDefault(),v.stopPropagation(),l({type:2,focus:sr.Last});case At.Escape:v.preventDefault(),v.stopPropagation(),l({type:1}),oi().nextFrame(()=>{var R;return(R=a.buttonRef.current)==null?void 0:R.focus({preventScroll:!0})});break;case At.Tab:v.preventDefault(),v.stopPropagation(),l({type:1}),oi().nextFrame(()=>{Cz(a.buttonRef.current,v.shiftKey?Ry.Previous:Ry.Next)});break;default:v.key.length===1&&(l({type:3,value:v.key}),h.setTimeout(()=>l({type:4}),350));break}}),x=Qe(v=>{switch(v.key){case At.Space:v.preventDefault();break}}),T=S.useMemo(()=>({open:a.menuState===0}),[a]),E={"aria-activedescendant":a.activeItemIndex===null||(n=a.items[a.activeItemIndex])==null?void 0:n.id,"aria-labelledby":(r=a.buttonRef.current)==null?void 0:r.id,id:s,onKeyDown:_,onKeyUp:x,role:"menu",tabIndex:0,ref:u};return La({ourProps:E,theirProps:o,slot:T,defaultTag:tH,features:nH,visible:w,name:"Menu.Items"})}let iH=S.Fragment;function sH(t,e){let n=g0(),{id:r=`headlessui-menu-item-${n}`,disabled:i=!1,...s}=t,[o,a]=Jh("Menu.Item"),l=o.activeItemIndex!==null?o.items[o.activeItemIndex].id===r:!1,u=S.useRef(null),c=ja(e,u);zn(()=>{if(o.__demoMode||o.menuState!==0||!l||o.activationTrigger===0)return;let R=oi();return R.requestAnimationFrame(()=>{var O,L;(L=(O=u.current)==null?void 0:O.scrollIntoView)==null||L.call(O,{block:"nearest"})}),R.dispose},[o.__demoMode,u,l,o.menuState,o.activationTrigger,o.activeItemIndex]);let h=qz(u),m=S.useRef({disabled:i,domRef:u,get textValue(){return h()}});zn(()=>{m.current.disabled=i},[m,i]),zn(()=>(a({type:5,id:r,dataRef:m}),()=>a({type:6,id:r})),[m,r]);let w=Qe(()=>{a({type:1})}),_=Qe(R=>{if(i)return R.preventDefault();a({type:1}),$R(o.buttonRef.current)}),x=Qe(()=>{if(i)return a({type:2,focus:sr.Nothing});a({type:2,focus:sr.Specific,id:r})}),T=Mz(),E=Qe(R=>T.update(R)),v=Qe(R=>{T.wasMoved(R)&&(i||l||a({type:2,focus:sr.Specific,id:r,trigger:0}))}),b=Qe(R=>{T.wasMoved(R)&&(i||l&&a({type:2,focus:sr.Nothing}))}),C=S.useMemo(()=>({active:l,disabled:i,close:w}),[l,i,w]);return La({ourProps:{id:r,ref:c,role:"menuitem",tabIndex:i===!0?void 0:-1,"aria-disabled":i===!0?!0:void 0,disabled:void 0,onClick:_,onFocus:x,onPointerEnter:E,onMouseEnter:E,onPointerMove:v,onMouseMove:v,onPointerLeave:b,onMouseLeave:b},theirProps:s,slot:C,defaultTag:iH,name:"Menu.Item"})}let oH=co(Jz),aH=co(eH),lH=co(rH),uH=co(sH),Hc=Object.assign(oH,{Button:aH,Items:lH,Item:uH});function cH(t=0){let[e,n]=S.useState(t),r=E0(),i=S.useCallback(l=>{r.current&&n(u=>u|l)},[e,r]),s=S.useCallback(l=>!!(e&l),[e]),o=S.useCallback(l=>{r.current&&n(u=>u&~l)},[n,r]),a=S.useCallback(l=>{r.current&&n(u=>u^l)},[n]);return{flags:e,addFlag:i,hasFlag:s,removeFlag:o,toggleFlag:a}}function dH(t){let e={called:!1};return(...n)=>{if(!e.called)return e.called=!0,t(...n)}}function Sm(t,...e){t&&e.length>0&&t.classList.add(...e)}function Cm(t,...e){t&&e.length>0&&t.classList.remove(...e)}function fH(t,e){let n=oi();if(!t)return n.dispose;let{transitionDuration:r,transitionDelay:i}=getComputedStyle(t),[s,o]=[r,i].map(l=>{let[u=0]=l.split(",").filter(Boolean).map(c=>c.includes("ms")?parseFloat(c):parseFloat(c)*1e3).sort((c,h)=>h-c);return u}),a=s+o;if(a!==0){n.group(u=>{u.setTimeout(()=>{e(),u.dispose()},a),u.addEventListener(t,"transitionrun",c=>{c.target===c.currentTarget&&u.dispose()})});let l=n.addEventListener(t,"transitionend",u=>{u.target===u.currentTarget&&(e(),l())})}else e();return n.add(()=>e()),n.dispose}function hH(t,e,n,r){let i=n?"enter":"leave",s=oi(),o=r!==void 0?dH(r):()=>{};i==="enter"&&(t.removeAttribute("hidden"),t.style.display="");let a=xn(i,{enter:()=>e.enter,leave:()=>e.leave}),l=xn(i,{enter:()=>e.enterTo,leave:()=>e.leaveTo}),u=xn(i,{enter:()=>e.enterFrom,leave:()=>e.leaveFrom});return Cm(t,...e.base,...e.enter,...e.enterTo,...e.enterFrom,...e.leave,...e.leaveFrom,...e.leaveTo,...e.entered),Sm(t,...e.base,...a,...u),s.nextFrame(()=>{Cm(t,...e.base,...a,...u),Sm(t,...e.base,...a,...l),fH(t,()=>(Cm(t,...e.base,...a),Sm(t,...e.base,...e.entered),o()))}),s.dispose}function pH({immediate:t,container:e,direction:n,classes:r,onStart:i,onStop:s}){let o=E0(),a=Yh(),l=Yi(n);zn(()=>{t&&(l.current="enter")},[t]),zn(()=>{let u=oi();a.add(u.dispose);let c=e.current;if(c&&l.current!=="idle"&&o.current)return u.dispose(),i.current(l.current),u.add(hH(c,r.current,l.current==="enter",()=>{u.dispose(),s.current(l.current)})),u.dispose},[n])}function Ei(t=""){return t.split(/\s+/).filter(e=>e.length>1)}let Zh=S.createContext(null);Zh.displayName="TransitionContext";var mH=(t=>(t.Visible="visible",t.Hidden="hidden",t))(mH||{});function gH(){let t=S.useContext(Zh);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}function yH(){let t=S.useContext(ep);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}let ep=S.createContext(null);ep.displayName="NestingContext";function tp(t){return"children"in t?tp(t.children):t.current.filter(({el:e})=>e.current!==null).filter(({state:e})=>e==="visible").length>0}function qR(t,e){let n=Yi(t),r=S.useRef([]),i=E0(),s=Yh(),o=Qe((w,_=ji.Hidden)=>{let x=r.current.findIndex(({el:T})=>T===w);x!==-1&&(xn(_,{[ji.Unmount](){r.current.splice(x,1)},[ji.Hidden](){r.current[x].state="hidden"}}),s.microTask(()=>{var T;!tp(r)&&i.current&&((T=n.current)==null||T.call(n))}))}),a=Qe(w=>{let _=r.current.find(({el:x})=>x===w);return _?_.state!=="visible"&&(_.state="visible"):r.current.push({el:w,state:"visible"}),()=>o(w,ji.Unmount)}),l=S.useRef([]),u=S.useRef(Promise.resolve()),c=S.useRef({enter:[],leave:[],idle:[]}),h=Qe((w,_,x)=>{l.current.splice(0),e&&(e.chains.current[_]=e.chains.current[_].filter(([T])=>T!==w)),e==null||e.chains.current[_].push([w,new Promise(T=>{l.current.push(T)})]),e==null||e.chains.current[_].push([w,new Promise(T=>{Promise.all(c.current[_].map(([E,v])=>v)).then(()=>T())})]),_==="enter"?u.current=u.current.then(()=>e==null?void 0:e.wait.current).then(()=>x(_)):x(_)}),m=Qe((w,_,x)=>{Promise.all(c.current[_].splice(0).map(([T,E])=>E)).then(()=>{var T;(T=l.current.shift())==null||T()}).then(()=>x(_))});return S.useMemo(()=>({children:r,register:a,unregister:o,onStart:h,onStop:m,wait:u,chains:c}),[a,o,r,h,m,c,u])}function vH(){}let wH=["beforeEnter","afterEnter","beforeLeave","afterLeave"];function oT(t){var e;let n={};for(let r of wH)n[r]=(e=t[r])!=null?e:vH;return n}function _H(t){let e=S.useRef(oT(t));return S.useEffect(()=>{e.current=oT(t)},[t]),e}let EH="div",WR=Sf.RenderStrategy;function xH(t,e){var n,r;let{beforeEnter:i,afterEnter:s,beforeLeave:o,afterLeave:a,enter:l,enterFrom:u,enterTo:c,entered:h,leave:m,leaveFrom:w,leaveTo:_,...x}=t,T=S.useRef(null),E=ja(T,e),v=(n=x.unmount)==null||n?ji.Unmount:ji.Hidden,{show:b,appear:C,initial:R}=gH(),[O,L]=S.useState(b?"visible":"hidden"),F=yH(),{register:z,unregister:q}=F;S.useEffect(()=>z(T),[z,T]),S.useEffect(()=>{if(v===ji.Hidden&&T.current){if(b&&O!=="visible"){L("visible");return}return xn(O,{hidden:()=>q(T),visible:()=>z(T)})}},[O,T,z,q,b,v]);let Me=Yi({base:Ei(x.className),enter:Ei(l),enterFrom:Ei(u),enterTo:Ei(c),entered:Ei(h),leave:Ei(m),leaveFrom:Ei(w),leaveTo:Ei(_)}),ie=_H({beforeEnter:i,afterEnter:s,beforeLeave:o,afterLeave:a}),ce=m0();S.useEffect(()=>{if(ce&&O==="visible"&&T.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[T,O,ce]);let ve=R&&!C,Ue=C&&b&&R,mt=(()=>!ce||ve?"idle":b?"enter":"leave")(),$e=cH(0),K=Qe(Ze=>xn(Ze,{enter:()=>{$e.addFlag(yn.Opening),ie.current.beforeEnter()},leave:()=>{$e.addFlag(yn.Closing),ie.current.beforeLeave()},idle:()=>{}})),ne=Qe(Ze=>xn(Ze,{enter:()=>{$e.removeFlag(yn.Opening),ie.current.afterEnter()},leave:()=>{$e.removeFlag(yn.Closing),ie.current.afterLeave()},idle:()=>{}})),$=qR(()=>{L("hidden"),q(T)},F),Te=S.useRef(!1);pH({immediate:Ue,container:T,classes:Me,direction:mt,onStart:Yi(Ze=>{Te.current=!0,$.onStart(T,Ze,K)}),onStop:Yi(Ze=>{Te.current=!1,$.onStop(T,Ze,ne),Ze==="leave"&&!tp($)&&(L("hidden"),q(T))})});let Ee=x,Nn={ref:E};return Ue?Ee={...Ee,className:If(x.className,...Me.current.enter,...Me.current.enterFrom)}:Te.current&&(Ee.className=If(x.className,(r=T.current)==null?void 0:r.className),Ee.className===""&&delete Ee.className),fe.createElement(ep.Provider,{value:$},fe.createElement(HR,{value:xn(O,{visible:yn.Open,hidden:yn.Closed})|$e.flags},La({ourProps:Nn,theirProps:Ee,defaultTag:EH,features:WR,visible:O==="visible",name:"Transition.Child"})))}function TH(t,e){let{show:n,appear:r=!1,unmount:i=!0,...s}=t,o=S.useRef(null),a=ja(o,e);m0();let l=_0();if(n===void 0&&l!==null&&(n=(l&yn.Open)===yn.Open),![!0,!1].includes(n))throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[u,c]=S.useState(n?"visible":"hidden"),h=qR(()=>{c("hidden")}),[m,w]=S.useState(!0),_=S.useRef([n]);zn(()=>{m!==!1&&_.current[_.current.length-1]!==n&&(_.current.push(n),w(!1))},[_,n]);let x=S.useMemo(()=>({show:n,appear:r,initial:m}),[n,r,m]);S.useEffect(()=>{if(n)c("visible");else if(!tp(h))c("hidden");else{let b=o.current;if(!b)return;let C=b.getBoundingClientRect();C.x===0&&C.y===0&&C.width===0&&C.height===0&&c("hidden")}},[n,h]);let T={unmount:i},E=Qe(()=>{var b;m&&w(!1),(b=t.beforeEnter)==null||b.call(t)}),v=Qe(()=>{var b;m&&w(!1),(b=t.beforeLeave)==null||b.call(t)});return fe.createElement(ep.Provider,{value:h},fe.createElement(Zh.Provider,{value:x},La({ourProps:{...T,as:S.Fragment,children:fe.createElement(KR,{ref:a,...T,...s,beforeEnter:E,beforeLeave:v})},theirProps:{},defaultTag:S.Fragment,features:WR,visible:u==="visible",name:"Transition"})))}function bH(t,e){let n=S.useContext(Zh)!==null,r=_0()!==null;return fe.createElement(fe.Fragment,null,!n&&r?fe.createElement(Py,{ref:e,...t}):fe.createElement(KR,{ref:e,...t}))}let Py=co(TH),KR=co(xH),IH=co(bH),SH=Object.assign(Py,{Child:IH,Root:Py});function CH({title:t,titleId:e,...n},r){return S.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?S.createElement("title",{id:e},t):null,S.createElement("path",{fillRule:"evenodd",d:"M5.22 8.22a.75.75 0 0 1 1.06 0L10 11.94l3.72-3.72a.75.75 0 1 1 1.06 1.06l-4.25 4.25a.75.75 0 0 1-1.06 0L5.22 9.28a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"}))}const AH=S.forwardRef(CH),RH=AH;function PH(...t){return t.filter(Boolean).join(" ")}const Am=({title:t,options:e=[],handleOptionSelect:n})=>f.jsxs(Hc,{as:"div",className:"relative inline-block text-left",children:[f.jsx("div",{children:f.jsxs(Hc.Button,{className:"inline-flex w-full justify-between font-bebas gap-x-1.5 rounded-xl bg-[#1E1E1E] px-3 py-2 text-sm text-white shadow-sm ring-1 ring-inset ring-primaryDark hover:bg-gray-50 hover:text-[#1E1E1E]",children:[t,f.jsx(RH,{className:"-mr-1 h-5 w-5 text-primary","aria-hidden":"true"})]})}),f.jsx(SH,{as:S.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:f.jsx(Hc.Items,{className:"absolute right-0 z-10 mt-2 w-full origin-top-right rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none",children:f.jsx("div",{className:"py-1",children:e.map(r=>f.jsx(Hc.Item,{children:({active:i})=>f.jsx("a",{onClick:()=>n(r),className:PH(i?"bg-gray-100 text-gray-900":"text-gray-700","block px-4 py-2 text-sm font-montserrat cursor-pointer"),children:r})},r))})})})]}),kH="_NavbarInvent_16cg3_1",NH="_products_16cg3_23",tl={NavbarInvent:kH,products:NH};function DH(){return f.jsx("nav",{children:f.jsx("div",{children:f.jsxs("ul",{className:tl.NavbarInvent,children:[f.jsx("li",{className:tl.products,children:"Productos"}),f.jsx("li",{className:tl.stock,children:"Stock"}),f.jsx("li",{className:tl.price,children:"Precio"}),f.jsx("li",{className:tl.actions,children:"Acciones"})]})})})}const OH="_ImageContainer_ep3bb_5",jH="_Image_ep3bb_5",LH="_contenedor_ep3bb_21",MH="_info_ep3bb_35",VH="_infoname_ep3bb_45",aT={ImageContainer:OH,Image:jH,contenedor:LH,info:MH,infoname:VH};function FH({id:t,name:e,price:n,image:r,stock:i}){ls(a=>a.product);const s=Gn(),o=a=>{console.log(a),s(c8(a))};return f.jsxs("section",{className:`flex gap-4 p-4 my-3 shadow-md rounded-xl transition hover:scale-[101%] bg-white ${aT.Card}`,children:[f.jsx("div",{className:aT.ImageContainer,children:f.jsx("img",{src:r,alt:"IMG",className:"w-[50px]"})}),f.jsxs("div",{className:"flex gap-2 w-full justify-center items-center ",children:[f.jsx("h3",{className:"w-[50%]",children:e}),f.jsxs("p",{className:"w-[10%]",children:[" ",i]}),f.jsxs("p",{className:"w-[20%]",children:["$",n]}),f.jsx("button",{className:"w-[10%]",onClick:()=>o(t),children:f.jsx(mz,{className:"w-[22px] hover:fill-red-600"})}),f.jsx(jn,{to:`editproduct/${t}`,children:f.jsx("button",{children:"Editar"})})]})]})}const UH=()=>{const t=Gn(),{products:e,currentPage:n,totalPages:r,filters:i,sorts:s}=ls(u=>u.product);S.useEffect(()=>{(async()=>{t(Hh())})()},[t]),S.useEffect(()=>{},[e]);const o=(n-1)*8,a=()=>{n>1&&t(_f(n-1))},l=()=>{n<r&&t(_f(n+1))};return f.jsxs("main",{children:[f.jsx(DH,{}),f.jsx("section",{children:e.slice(o,o+3).map(({id:u,name:c,price:h,image:m,stock:w})=>f.jsx(FH,{id:u,name:c,price:h,image:m,stock:w},u))}),f.jsxs("section",{className:"flex items-center justify-center gap-2 mr-5 mb-5",children:[f.jsx("button",{onClick:a,className:"font-bebas p-2 hover:text-primary",children:"prev"}),f.jsx("span",{className:"font-bebas text-primary text-xl mb-1",children:n}),f.jsx("button",{onClick:l,className:"font-bebas p-2 hover:text-primary",children:"next"})]})]})};var Xu=t=>t.type==="checkbox",Uo=t=>t instanceof Date,en=t=>t==null;const GR=t=>typeof t=="object";var pt=t=>!en(t)&&!Array.isArray(t)&&GR(t)&&!Uo(t),$H=t=>pt(t)&&t.target?Xu(t.target)?t.target.checked:t.target.value:t,BH=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,zH=(t,e)=>t.has(BH(e)),HH=t=>{const e=t.constructor&&t.constructor.prototype;return pt(e)&&e.hasOwnProperty("isPrototypeOf")},T0=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Vr(t){let e;const n=Array.isArray(t);if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(T0&&(t instanceof Blob||t instanceof FileList))&&(n||pt(t)))if(e=n?[]:{},!n&&!HH(t))e=t;else for(const r in t)t.hasOwnProperty(r)&&(e[r]=Vr(t[r]));else return t;return e}var Ju=t=>Array.isArray(t)?t.filter(Boolean):[],nt=t=>t===void 0,Z=(t,e,n)=>{if(!e||!pt(t))return n;const r=Ju(e.split(/[,[\].]+?/)).reduce((i,s)=>en(i)?i:i[s],t);return nt(r)||r===t?nt(t[e])?n:t[e]:r},$r=t=>typeof t=="boolean";const lT={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},ir={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Mr={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};fe.createContext(null);var qH=(t,e,n,r=!0)=>{const i={defaultValues:e._defaultValues};for(const s in t)Object.defineProperty(i,s,{get:()=>{const o=s;return e._proxyFormState[o]!==ir.all&&(e._proxyFormState[o]=!r||ir.all),n&&(n[o]=!0),t[o]}});return i},Ln=t=>pt(t)&&!Object.keys(t).length,WH=(t,e,n,r)=>{n(t);const{name:i,...s}=t;return Ln(s)||Object.keys(s).length>=Object.keys(e).length||Object.keys(s).find(o=>e[o]===(!r||ir.all))},Rm=t=>Array.isArray(t)?t:[t];function KH(t){const e=fe.useRef(t);e.current=t,fe.useEffect(()=>{const n=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{n&&n.unsubscribe()}},[t.disabled])}var Ir=t=>typeof t=="string",GH=(t,e,n,r,i)=>Ir(t)?(r&&e.watch.add(t),Z(n,t,i)):Array.isArray(t)?t.map(s=>(r&&e.watch.add(s),Z(n,s))):(r&&(e.watchAll=!0),n),b0=t=>/^\w*$/.test(t),QR=t=>Ju(t.replace(/["|']|\]/g,"").split(/\.|\[/)),Ve=(t,e,n)=>{let r=-1;const i=b0(e)?[e]:QR(e),s=i.length,o=s-1;for(;++r<s;){const a=i[r];let l=n;if(r!==o){const u=t[a];l=pt(u)||Array.isArray(u)?u:isNaN(+i[r+1])?{}:[]}t[a]=l,t=t[a]}return t},QH=(t,e,n,r,i)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:i||!0}}:{},uT=t=>({isOnSubmit:!t||t===ir.onSubmit,isOnBlur:t===ir.onBlur,isOnChange:t===ir.onChange,isOnAll:t===ir.all,isOnTouch:t===ir.onTouched}),cT=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const Nl=(t,e,n,r)=>{for(const i of n||Object.keys(t)){const s=Z(t,i);if(s){const{_f:o,...a}=s;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],i)&&!r)break;if(o.ref&&e(o.ref,o.name)&&!r)break;Nl(a,e)}else pt(a)&&Nl(a,e)}}};var YH=(t,e,n)=>{const r=Ju(Z(t,n));return Ve(r,"root",e[n]),Ve(t,n,r),t},I0=t=>t.type==="file",Li=t=>typeof t=="function",Cf=t=>{if(!T0)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},yd=t=>Ir(t),S0=t=>t.type==="radio",Af=t=>t instanceof RegExp;const dT={value:!1,isValid:!1},fT={value:!0,isValid:!0};var YR=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!nt(t[0].attributes.value)?nt(t[0].value)||t[0].value===""?fT:{value:t[0].value,isValid:!0}:fT:dT}return dT};const hT={isValid:!1,value:null};var XR=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,hT):hT;function pT(t,e,n="validate"){if(yd(t)||Array.isArray(t)&&t.every(yd)||$r(t)&&!t)return{type:n,message:yd(t)?t:"",ref:e}}var To=t=>pt(t)&&!Af(t)?t:{value:t,message:""},mT=async(t,e,n,r,i)=>{const{ref:s,refs:o,required:a,maxLength:l,minLength:u,min:c,max:h,pattern:m,validate:w,name:_,valueAsNumber:x,mount:T,disabled:E}=t._f,v=Z(e,_);if(!T||E)return{};const b=o?o[0]:s,C=ie=>{r&&b.reportValidity&&(b.setCustomValidity($r(ie)?"":ie||""),b.reportValidity())},R={},O=S0(s),L=Xu(s),F=O||L,z=(x||I0(s))&&nt(s.value)&&nt(v)||Cf(s)&&s.value===""||v===""||Array.isArray(v)&&!v.length,q=QH.bind(null,_,n,R),Me=(ie,ce,ve,Ue=Mr.maxLength,mt=Mr.minLength)=>{const $e=ie?ce:ve;R[_]={type:ie?Ue:mt,message:$e,ref:s,...q(ie?Ue:mt,$e)}};if(i?!Array.isArray(v)||!v.length:a&&(!F&&(z||en(v))||$r(v)&&!v||L&&!YR(o).isValid||O&&!XR(o).isValid)){const{value:ie,message:ce}=yd(a)?{value:!!a,message:a}:To(a);if(ie&&(R[_]={type:Mr.required,message:ce,ref:b,...q(Mr.required,ce)},!n))return C(ce),R}if(!z&&(!en(c)||!en(h))){let ie,ce;const ve=To(h),Ue=To(c);if(!en(v)&&!isNaN(v)){const mt=s.valueAsNumber||v&&+v;en(ve.value)||(ie=mt>ve.value),en(Ue.value)||(ce=mt<Ue.value)}else{const mt=s.valueAsDate||new Date(v),$e=$=>new Date(new Date().toDateString()+" "+$),K=s.type=="time",ne=s.type=="week";Ir(ve.value)&&v&&(ie=K?$e(v)>$e(ve.value):ne?v>ve.value:mt>new Date(ve.value)),Ir(Ue.value)&&v&&(ce=K?$e(v)<$e(Ue.value):ne?v<Ue.value:mt<new Date(Ue.value))}if((ie||ce)&&(Me(!!ie,ve.message,Ue.message,Mr.max,Mr.min),!n))return C(R[_].message),R}if((l||u)&&!z&&(Ir(v)||i&&Array.isArray(v))){const ie=To(l),ce=To(u),ve=!en(ie.value)&&v.length>+ie.value,Ue=!en(ce.value)&&v.length<+ce.value;if((ve||Ue)&&(Me(ve,ie.message,ce.message),!n))return C(R[_].message),R}if(m&&!z&&Ir(v)){const{value:ie,message:ce}=To(m);if(Af(ie)&&!v.match(ie)&&(R[_]={type:Mr.pattern,message:ce,ref:s,...q(Mr.pattern,ce)},!n))return C(ce),R}if(w){if(Li(w)){const ie=await w(v,e),ce=pT(ie,b);if(ce&&(R[_]={...ce,...q(Mr.validate,ce.message)},!n))return C(ce.message),R}else if(pt(w)){let ie={};for(const ce in w){if(!Ln(ie)&&!n)break;const ve=pT(await w[ce](v,e),b,ce);ve&&(ie={...ve,...q(ce,ve.message)},C(ve.message),n&&(R[_]=ie))}if(!Ln(ie)&&(R[_]={ref:b,...ie},!n))return R}}return C(!0),R};function XH(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=nt(t)?r++:t[e[r++]];return t}function JH(t){for(const e in t)if(t.hasOwnProperty(e)&&!nt(t[e]))return!1;return!0}function It(t,e){const n=Array.isArray(e)?e:b0(e)?[e]:QR(e),r=n.length===1?t:XH(t,n),i=n.length-1,s=n[i];return r&&delete r[s],i!==0&&(pt(r)&&Ln(r)||Array.isArray(r)&&JH(r))&&It(t,n.slice(0,-1)),t}var Pm=()=>{let t=[];return{get observers(){return t},next:i=>{for(const s of t)s.next&&s.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(s=>s!==i)}}),unsubscribe:()=>{t=[]}}},Rf=t=>en(t)||!GR(t);function Ns(t,e){if(Rf(t)||Rf(e))return t===e;if(Uo(t)&&Uo(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const i of n){const s=t[i];if(!r.includes(i))return!1;if(i!=="ref"){const o=e[i];if(Uo(s)&&Uo(o)||pt(s)&&pt(o)||Array.isArray(s)&&Array.isArray(o)?!Ns(s,o):s!==o)return!1}}return!0}var JR=t=>t.type==="select-multiple",ZH=t=>S0(t)||Xu(t),km=t=>Cf(t)&&t.isConnected,ZR=t=>{for(const e in t)if(Li(t[e]))return!0;return!1};function Pf(t,e={}){const n=Array.isArray(t);if(pt(t)||n)for(const r in t)Array.isArray(t[r])||pt(t[r])&&!ZR(t[r])?(e[r]=Array.isArray(t[r])?[]:{},Pf(t[r],e[r])):en(t[r])||(e[r]=!0);return e}function eP(t,e,n){const r=Array.isArray(t);if(pt(t)||r)for(const i in t)Array.isArray(t[i])||pt(t[i])&&!ZR(t[i])?nt(e)||Rf(n[i])?n[i]=Array.isArray(t[i])?Pf(t[i],[]):{...Pf(t[i])}:eP(t[i],en(e)?{}:e[i],n[i]):n[i]=!Ns(t[i],e[i]);return n}var Nm=(t,e)=>eP(t,e,Pf(e)),tP=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>nt(t)?t:e?t===""?NaN:t&&+t:n&&Ir(t)?new Date(t):r?r(t):t;function Dm(t){const e=t.ref;if(!(t.refs?t.refs.every(n=>n.disabled):e.disabled))return I0(e)?e.files:S0(e)?XR(t.refs).value:JR(e)?[...e.selectedOptions].map(({value:n})=>n):Xu(e)?YR(t.refs).value:tP(nt(e.value)?t.ref.value:e.value,t)}var eq=(t,e,n,r)=>{const i={};for(const s of t){const o=Z(e,s);o&&Ve(i,s,o._f)}return{criteriaMode:n,names:[...t],fields:i,shouldUseNativeValidation:r}},nl=t=>nt(t)?t:Af(t)?t.source:pt(t)?Af(t.value)?t.value.source:t.value:t,tq=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function gT(t,e,n){const r=Z(t,n);if(r||b0(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const s=i.join("."),o=Z(e,s),a=Z(t,s);if(o&&!Array.isArray(o)&&n!==s)return{name:n};if(a&&a.type)return{name:s,error:a};i.pop()}return{name:n}}var nq=(t,e,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(e||t):(n?r.isOnBlur:i.isOnBlur)?!t:(n?r.isOnChange:i.isOnChange)?t:!0,rq=(t,e)=>!Ju(Z(t,e)).length&&It(t,e);const iq={mode:ir.onSubmit,reValidateMode:ir.onChange,shouldFocusError:!0};function sq(t={},e){let n={...iq,...t},r={submitCount:0,isDirty:!1,isLoading:Li(n.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},errors:n.errors||{},disabled:!1},i={},s=pt(n.defaultValues)||pt(n.values)?Vr(n.defaultValues||n.values)||{}:{},o=n.shouldUnregister?{}:Vr(s),a={action:!1,mount:!1,watch:!1},l={mount:new Set,unMount:new Set,array:new Set,watch:new Set},u,c=0;const h={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},m={values:Pm(),array:Pm(),state:Pm()},w=t.resetOptions&&t.resetOptions.keepDirtyValues,_=uT(n.mode),x=uT(n.reValidateMode),T=n.criteriaMode===ir.all,E=A=>P=>{clearTimeout(c),c=setTimeout(A,P)},v=async A=>{if(h.isValid||A){const P=n.resolver?Ln((await q()).errors):await ie(i,!0);P!==r.isValid&&m.state.next({isValid:P})}},b=A=>h.isValidating&&m.state.next({isValidating:A}),C=(A,P=[],k,Q,H=!0,B=!0)=>{if(Q&&k){if(a.action=!0,B&&Array.isArray(Z(i,A))){const ee=k(Z(i,A),Q.argA,Q.argB);H&&Ve(i,A,ee)}if(B&&Array.isArray(Z(r.errors,A))){const ee=k(Z(r.errors,A),Q.argA,Q.argB);H&&Ve(r.errors,A,ee),rq(r.errors,A)}if(h.touchedFields&&B&&Array.isArray(Z(r.touchedFields,A))){const ee=k(Z(r.touchedFields,A),Q.argA,Q.argB);H&&Ve(r.touchedFields,A,ee)}h.dirtyFields&&(r.dirtyFields=Nm(s,o)),m.state.next({name:A,isDirty:ve(A,P),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Ve(o,A,P)},R=(A,P)=>{Ve(r.errors,A,P),m.state.next({errors:r.errors})},O=A=>{r.errors=A,m.state.next({errors:r.errors,isValid:!1})},L=(A,P,k,Q)=>{const H=Z(i,A);if(H){const B=Z(o,A,nt(k)?Z(s,A):k);nt(B)||Q&&Q.defaultChecked||P?Ve(o,A,P?B:Dm(H._f)):$e(A,B),a.mount&&v()}},F=(A,P,k,Q,H)=>{let B=!1,ee=!1;const Ie={name:A},Ke=!!(Z(i,A)&&Z(i,A)._f.disabled);if(!k||Q){h.isDirty&&(ee=r.isDirty,r.isDirty=Ie.isDirty=ve(),B=ee!==Ie.isDirty);const Xt=Ke||Ns(Z(s,A),P);ee=!!(!Ke&&Z(r.dirtyFields,A)),Xt||Ke?It(r.dirtyFields,A):Ve(r.dirtyFields,A,!0),Ie.dirtyFields=r.dirtyFields,B=B||h.dirtyFields&&ee!==!Xt}if(k){const Xt=Z(r.touchedFields,A);Xt||(Ve(r.touchedFields,A,k),Ie.touchedFields=r.touchedFields,B=B||h.touchedFields&&Xt!==k)}return B&&H&&m.state.next(Ie),B?Ie:{}},z=(A,P,k,Q)=>{const H=Z(r.errors,A),B=h.isValid&&$r(P)&&r.isValid!==P;if(t.delayError&&k?(u=E(()=>R(A,k)),u(t.delayError)):(clearTimeout(c),u=null,k?Ve(r.errors,A,k):It(r.errors,A)),(k?!Ns(H,k):H)||!Ln(Q)||B){const ee={...Q,...B&&$r(P)?{isValid:P}:{},errors:r.errors,name:A};r={...r,...ee},m.state.next(ee)}b(!1)},q=async A=>n.resolver(o,n.context,eq(A||l.mount,i,n.criteriaMode,n.shouldUseNativeValidation)),Me=async A=>{const{errors:P}=await q(A);if(A)for(const k of A){const Q=Z(P,k);Q?Ve(r.errors,k,Q):It(r.errors,k)}else r.errors=P;return P},ie=async(A,P,k={valid:!0})=>{for(const Q in A){const H=A[Q];if(H){const{_f:B,...ee}=H;if(B){const Ie=l.array.has(B.name),Ke=await mT(H,o,T,n.shouldUseNativeValidation&&!P,Ie);if(Ke[B.name]&&(k.valid=!1,P))break;!P&&(Z(Ke,B.name)?Ie?YH(r.errors,Ke,B.name):Ve(r.errors,B.name,Ke[B.name]):It(r.errors,B.name))}ee&&await ie(ee,P,k)}}return k.valid},ce=()=>{for(const A of l.unMount){const P=Z(i,A);P&&(P._f.refs?P._f.refs.every(k=>!km(k)):!km(P._f.ref))&&fo(A)}l.unMount=new Set},ve=(A,P)=>(A&&P&&Ve(o,A,P),!Ns(Nn(),s)),Ue=(A,P,k)=>GH(A,l,{...a.mount?o:nt(P)?s:Ir(A)?{[A]:P}:P},k,P),mt=A=>Ju(Z(a.mount?o:s,A,t.shouldUnregister?Z(s,A,[]):[])),$e=(A,P,k={})=>{const Q=Z(i,A);let H=P;if(Q){const B=Q._f;B&&(!B.disabled&&Ve(o,A,tP(P,B)),H=Cf(B.ref)&&en(P)?"":P,JR(B.ref)?[...B.ref.options].forEach(ee=>ee.selected=H.includes(ee.value)):B.refs?Xu(B.ref)?B.refs.length>1?B.refs.forEach(ee=>(!ee.defaultChecked||!ee.disabled)&&(ee.checked=Array.isArray(H)?!!H.find(Ie=>Ie===ee.value):H===ee.value)):B.refs[0]&&(B.refs[0].checked=!!H):B.refs.forEach(ee=>ee.checked=ee.value===H):I0(B.ref)?B.ref.value="":(B.ref.value=H,B.ref.type||m.values.next({name:A,values:{...o}})))}(k.shouldDirty||k.shouldTouch)&&F(A,H,k.shouldTouch,k.shouldDirty,!0),k.shouldValidate&&Ee(A)},K=(A,P,k)=>{for(const Q in P){const H=P[Q],B=`${A}.${Q}`,ee=Z(i,B);(l.array.has(A)||!Rf(H)||ee&&!ee._f)&&!Uo(H)?K(B,H,k):$e(B,H,k)}},ne=(A,P,k={})=>{const Q=Z(i,A),H=l.array.has(A),B=Vr(P);Ve(o,A,B),H?(m.array.next({name:A,values:{...o}}),(h.isDirty||h.dirtyFields)&&k.shouldDirty&&m.state.next({name:A,dirtyFields:Nm(s,o),isDirty:ve(A,B)})):Q&&!Q._f&&!en(B)?K(A,B,k):$e(A,B,k),cT(A,l)&&m.state.next({...r}),m.values.next({name:A,values:{...o}}),!a.mount&&e()},$=async A=>{const P=A.target;let k=P.name,Q=!0;const H=Z(i,k),B=()=>P.type?Dm(H._f):$H(A),ee=Ie=>{Q=Number.isNaN(Ie)||Ie===Z(o,k,Ie)};if(H){let Ie,Ke;const Xt=B(),Tt=A.type===lT.BLUR||A.type===lT.FOCUS_OUT,fi=!tq(H._f)&&!n.resolver&&!Z(r.errors,k)&&!H._f.deps||nq(Tt,Z(r.touchedFields,k),r.isSubmitted,x,_),Jn=cT(k,l,Tt);Ve(o,k,Xt),Tt?(H._f.onBlur&&H._f.onBlur(A),u&&u(0)):H._f.onChange&&H._f.onChange(A);const Ma=F(k,Xt,Tt,!1),hi=!Ln(Ma)||Jn;if(!Tt&&m.values.next({name:k,type:A.type,values:{...o}}),fi)return h.isValid&&v(),hi&&m.state.next({name:k,...Jn?{}:Ma});if(!Tt&&Jn&&m.state.next({...r}),b(!0),n.resolver){const{errors:pi}=await q([k]);if(ee(Xt),Q){const nc=gT(r.errors,i,k),ms=gT(pi,i,nc.name||k);Ie=ms.error,k=ms.name,Ke=Ln(pi)}}else Ie=(await mT(H,o,T,n.shouldUseNativeValidation))[k],ee(Xt),Q&&(Ie?Ke=!1:h.isValid&&(Ke=await ie(i,!0)));Q&&(H._f.deps&&Ee(H._f.deps),z(k,Ke,Ie,Ma))}},Te=(A,P)=>{if(Z(r.errors,P)&&A.focus)return A.focus(),1},Ee=async(A,P={})=>{let k,Q;const H=Rm(A);if(b(!0),n.resolver){const B=await Me(nt(A)?A:H);k=Ln(B),Q=A?!H.some(ee=>Z(B,ee)):k}else A?(Q=(await Promise.all(H.map(async B=>{const ee=Z(i,B);return await ie(ee&&ee._f?{[B]:ee}:ee)}))).every(Boolean),!(!Q&&!r.isValid)&&v()):Q=k=await ie(i);return m.state.next({...!Ir(A)||h.isValid&&k!==r.isValid?{}:{name:A},...n.resolver||!A?{isValid:k}:{},errors:r.errors,isValidating:!1}),P.shouldFocus&&!Q&&Nl(i,Te,A?H:l.mount),Q},Nn=A=>{const P={...s,...a.mount?o:{}};return nt(A)?P:Ir(A)?Z(P,A):A.map(k=>Z(P,k))},Ze=(A,P)=>({invalid:!!Z((P||r).errors,A),isDirty:!!Z((P||r).dirtyFields,A),isTouched:!!Z((P||r).touchedFields,A),error:Z((P||r).errors,A)}),N=A=>{A&&Rm(A).forEach(P=>It(r.errors,P)),m.state.next({errors:A?r.errors:{}})},Dn=(A,P,k)=>{const Q=(Z(i,A,{_f:{}})._f||{}).ref;Ve(r.errors,A,{...P,ref:Q}),m.state.next({name:A,errors:r.errors,isValid:!1}),k&&k.shouldFocus&&Q&&Q.focus&&Q.focus()},Xn=(A,P)=>Li(A)?m.values.subscribe({next:k=>A(Ue(void 0,P),k)}):Ue(A,P,!0),fo=(A,P={})=>{for(const k of A?Rm(A):l.mount)l.mount.delete(k),l.array.delete(k),P.keepValue||(It(i,k),It(o,k)),!P.keepError&&It(r.errors,k),!P.keepDirty&&It(r.dirtyFields,k),!P.keepTouched&&It(r.touchedFields,k),!n.shouldUnregister&&!P.keepDefaultValue&&It(s,k);m.values.next({values:{...o}}),m.state.next({...r,...P.keepDirty?{isDirty:ve()}:{}}),!P.keepIsValid&&v()},ho=({disabled:A,name:P,field:k,fields:Q,value:H})=>{if($r(A)){const B=A?void 0:nt(H)?Dm(k?k._f:Z(Q,P)._f):H;Ve(o,P,B),F(P,B,!1,!1,!0)}},gt=(A,P={})=>{let k=Z(i,A);const Q=$r(P.disabled);return Ve(i,A,{...k||{},_f:{...k&&k._f?k._f:{ref:{name:A}},name:A,mount:!0,...P}}),l.mount.add(A),k?ho({field:k,disabled:P.disabled,name:A,value:P.value}):L(A,!0,P.value),{...Q?{disabled:P.disabled}:{},...n.progressive?{required:!!P.required,min:nl(P.min),max:nl(P.max),minLength:nl(P.minLength),maxLength:nl(P.maxLength),pattern:nl(P.pattern)}:{},name:A,onChange:$,onBlur:$,ref:H=>{if(H){gt(A,P),k=Z(i,A);const B=nt(H.value)&&H.querySelectorAll&&H.querySelectorAll("input,select,textarea")[0]||H,ee=ZH(B),Ie=k._f.refs||[];if(ee?Ie.find(Ke=>Ke===B):B===k._f.ref)return;Ve(i,A,{_f:{...k._f,...ee?{refs:[...Ie.filter(km),B,...Array.isArray(Z(s,A))?[{}]:[]],ref:{type:B.type,name:A}}:{ref:B}}}),L(A,!1,void 0,B)}else k=Z(i,A,{}),k._f&&(k._f.mount=!1),(n.shouldUnregister||P.shouldUnregister)&&!(zH(l.array,A)&&a.action)&&l.unMount.add(A)}}},hr=()=>n.shouldFocusError&&Nl(i,Te,l.mount),Zu=A=>{$r(A)&&(m.state.next({disabled:A}),Nl(i,(P,k)=>{let Q=A;const H=Z(i,k);H&&$r(H._f.disabled)&&(Q||(Q=H._f.disabled)),P.disabled=Q},0,!1))},ec=(A,P)=>async k=>{k&&(k.preventDefault&&k.preventDefault(),k.persist&&k.persist());let Q=Vr(o);if(m.state.next({isSubmitting:!0}),n.resolver){const{errors:H,values:B}=await q();r.errors=H,Q=B}else await ie(i);It(r.errors,"root"),Ln(r.errors)?(m.state.next({errors:{}}),await A(Q,k)):(P&&await P({...r.errors},k),hr(),setTimeout(hr)),m.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Ln(r.errors),submitCount:r.submitCount+1,errors:r.errors})},np=(A,P={})=>{Z(i,A)&&(nt(P.defaultValue)?ne(A,Z(s,A)):(ne(A,P.defaultValue),Ve(s,A,P.defaultValue)),P.keepTouched||It(r.touchedFields,A),P.keepDirty||(It(r.dirtyFields,A),r.isDirty=P.defaultValue?ve(A,Z(s,A)):ve()),P.keepError||(It(r.errors,A),h.isValid&&v()),m.state.next({...r}))},ps=(A,P={})=>{const k=A?Vr(A):s,Q=Vr(k),H=A&&!Ln(A)?Q:s;if(P.keepDefaultValues||(s=k),!P.keepValues){if(P.keepDirtyValues||w)for(const B of l.mount)Z(r.dirtyFields,B)?Ve(H,B,Z(o,B)):ne(B,Z(H,B));else{if(T0&&nt(A))for(const B of l.mount){const ee=Z(i,B);if(ee&&ee._f){const Ie=Array.isArray(ee._f.refs)?ee._f.refs[0]:ee._f.ref;if(Cf(Ie)){const Ke=Ie.closest("form");if(Ke){Ke.reset();break}}}}i={}}o=t.shouldUnregister?P.keepDefaultValues?Vr(s):{}:Vr(H),m.array.next({values:{...H}}),m.values.next({values:{...H}})}l={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},!a.mount&&e(),a.mount=!h.isValid||!!P.keepIsValid,a.watch=!!t.shouldUnregister,m.state.next({submitCount:P.keepSubmitCount?r.submitCount:0,isDirty:P.keepDirty?r.isDirty:!!(P.keepDefaultValues&&!Ns(A,s)),isSubmitted:P.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:P.keepDirtyValues?r.dirtyFields:P.keepDefaultValues&&A?Nm(s,A):{},touchedFields:P.keepTouched?r.touchedFields:{},errors:P.keepErrors?r.errors:{},isSubmitSuccessful:P.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},po=(A,P)=>ps(Li(A)?A(o):A,P);return{control:{register:gt,unregister:fo,getFieldState:Ze,handleSubmit:ec,setError:Dn,_executeSchema:q,_getWatch:Ue,_getDirty:ve,_updateValid:v,_removeUnmounted:ce,_updateFieldArray:C,_updateDisabledField:ho,_getFieldArray:mt,_reset:ps,_resetDefaultValues:()=>Li(n.defaultValues)&&n.defaultValues().then(A=>{po(A,n.resetOptions),m.state.next({isLoading:!1})}),_updateFormState:A=>{r={...r,...A}},_disableForm:Zu,_subjects:m,_proxyFormState:h,_setErrors:O,get _fields(){return i},get _formValues(){return o},get _state(){return a},set _state(A){a=A},get _defaultValues(){return s},get _names(){return l},set _names(A){l=A},get _formState(){return r},set _formState(A){r=A},get _options(){return n},set _options(A){n={...n,...A}}},trigger:Ee,register:gt,handleSubmit:ec,watch:Xn,setValue:ne,getValues:Nn,reset:po,resetField:np,clearErrors:N,unregister:fo,setError:Dn,setFocus:(A,P={})=>{const k=Z(i,A),Q=k&&k._f;if(Q){const H=Q.refs?Q.refs[0]:Q.ref;H.focus&&(H.focus(),P.shouldSelect&&H.select())}},getFieldState:Ze}}function nP(t={}){const e=fe.useRef(),n=fe.useRef(),[r,i]=fe.useState({isDirty:!1,isValidating:!1,isLoading:Li(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},errors:t.errors||{},disabled:!1,defaultValues:Li(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...sq(t,()=>i(o=>({...o}))),formState:r});const s=e.current.control;return s._options=t,KH({subject:s._subjects.state,next:o=>{WH(o,s._proxyFormState,s._updateFormState,!0)&&i({...s._formState})}}),fe.useEffect(()=>s._disableForm(t.disabled),[s,t.disabled]),fe.useEffect(()=>{if(s._proxyFormState.isDirty){const o=s._getDirty();o!==r.isDirty&&s._subjects.state.next({isDirty:o})}},[s,r.isDirty]),fe.useEffect(()=>{t.values&&!Ns(t.values,n.current)?(s._reset(t.values,s._options.resetOptions),n.current=t.values,i(o=>({...o}))):s._resetDefaultValues()},[t.values,s]),fe.useEffect(()=>{t.errors&&s._setErrors(t.errors)},[t.errors,s]),fe.useEffect(()=>{s._state.mount||(s._updateValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),e.current.formState=qH(r,s),e.current}function oq(){var m,w,_,x,T,E,v,b,C;const{register:t,handleSubmit:e,formState:{errors:n}}=nP(),r=Gn(),[i,s]=S.useState([]),[o,a]=S.useState([]),l=S.useRef([]),u=R=>{const O=R.target.files,L=Array.from(O),F=L.map((z,q)=>({id:q,file:z,previewUrl:URL.createObjectURL(z)}));s(z=>[...z,...L]),a(z=>[...z,...F])},c=async R=>{R.preventDefault();try{const O=await Promise.all(i.map(L=>gy(L)));l.current=O,console.log(O)}catch(O){console.error(O)}},h=R=>{R.flavour=R.flavour.split(",").map(O=>O.trim()),R.pre_description=R.pre_description.split(",").map(O=>O.trim()),R.stock=Number(R.stock),R.image=l.current,R.categoryId=Number(R.categoryId),console.log(l),console.log(R),r(d8(R))};return console.log(i),f.jsx("div",{className:"w-full h-[90%] overflow-scroll mx-auto p-6 bg-gray-100 mt-10 rounded-md shadow-md",children:f.jsxs("form",{onSubmit:e(h),children:[f.jsxs("div",{className:"mb-4",children:[f.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Nombre del producto:"}),f.jsx("input",{className:"border rounded w-full py-2 px-3",type:"text",...t("name",{required:!0,maxLength:50})}),((m=n.name)==null?void 0:m.type)==="required"&&f.jsx("span",{className:"text-red-500 text-sm",children:"Campo Obligatorio"}),((w=n.name)==null?void 0:w.type)==="maxLength"&&f.jsxs("span",{className:"text-red-500 text-sm",children:[" ","El campo nombre debe tener menos de 50 caracteres"]})]}),f.jsxs("div",{className:"mb-4",children:[f.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Precio:"}),f.jsx("input",{className:"border rounded w-full py-2 px-3",type:"text",...t("price",{required:!0})}),((_=n.price)==null?void 0:_.type)==="required"&&f.jsx("span",{className:"text-red-500 text-sm",children:"Campo Obligatorio"})]}),f.jsxs("div",{className:"mb-4",children:[f.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Tamao:"}),f.jsx("input",{className:"border rounded w-full py-2 px-3",type:"text",...t("size",{required:!0})}),((x=n.size)==null?void 0:x.type)==="required"&&f.jsx("span",{className:"text-red-500 text-sm",children:"Campo Obligatorio"})]}),f.jsxs("div",{className:"mb-4",children:[f.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Stock:"}),f.jsx("input",{className:"border rounded w-full py-2 px-3",type:"text",...t("stock",{required:!0})}),((T=n.stock)==null?void 0:T.type)==="required"&&f.jsx("span",{className:"text-red-500 text-sm",children:"Campo Obligatorio"})]}),f.jsxs("div",{className:"mb-4",children:[f.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Imagen del producto:"}),f.jsx("input",{className:"border rounded w-full py-2 px-3",type:"file",multiple:!0,...t("image",{required:!0}),onChange:u}),f.jsx("div",{className:"mt-2 flex space-x-2",children:o.map((R,O)=>f.jsx("div",{children:f.jsx("img",{src:R.previewUrl,alt:`Preview ${O}`,className:"max-w-20 max-h-20"})},O))}),f.jsx("button",{onClick:c,children:"subir"}),((E=n.image)==null?void 0:E.type)==="required"&&f.jsx("span",{className:"text-red-500 text-sm",children:"Campo Obligatorio"})]}),f.jsxs("div",{className:"mb-4",children:[f.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Sabor:"}),f.jsx("input",{className:"border rounded w-full py-2 px-3",type:"text",...t("flavour",{required:!0})}),((v=n.flavour)==null?void 0:v.type)==="required"&&f.jsx("span",{className:"text-red-500 text-sm",children:"Campo Obligatorio"})]}),f.jsxs("div",{className:"mb-4",children:[f.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Descripcion:"}),f.jsx("input",{className:"border rounded w-full py-2 px-3",type:"text",...t("description",{required:!0})}),((b=n.description)==null?void 0:b.type)==="required"&&f.jsx("span",{className:"text-red-500 text-sm",children:"Campo Obligatorio"})]}),f.jsxs("div",{className:"mb-4",children:[f.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"PreDescripcion:"}),f.jsx("input",{className:"border rounded w-full py-2 px-3",type:"text",...t("pre_description",{required:!0})}),((C=n.pre_description)==null?void 0:C.type)==="required"&&f.jsx("span",{className:"text-red-500 text-sm",children:"Campo Obligatorio"})]}),f.jsxs("div",{className:"mb-4",children:[f.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Categoria"}),f.jsxs("select",{...t("categoryId"),children:[f.jsx("option",{value:"1",children:"Proteina"}),f.jsx("option",{value:"2",children:"Control de peso"}),f.jsx("option",{value:"5",children:"Creatina"}),f.jsx("option",{value:"6",children:"Aminoacidos"}),f.jsx("option",{value:"8",children:"Energia"})]})]}),f.jsx("button",{type:"submit",className:"bg-blue-500 text-white py-2 px-4 rounded hover:bg-blue-600",children:"Crear Producto"})]})})}const aq=({user:t})=>{const[e,n]=S.useState(t.disabled),{displayName:r,email:i,role:s,id:o}=t;S.useEffect(()=>{n(t.disabled)},[t.disabled]);const a=async l=>{const u=Yt(ct,"users",l),h=(await li(u)).data().disabled;try{await gu(u,{disabled:!h}),n(!e),console.log("Usuario inhabilitado en Firestore")}catch(m){console.error("Error al inhabilitar usuario",m)}};return f.jsxs("main",{className:"py-2 px-4 bg-white/70 rounded-xl flex gap-5 font-montserrat",children:[f.jsx("h2",{className:"w-[50%]",children:r}),f.jsx("p",{className:"w-[40%]",children:i}),f.jsx("span",{className:"text-red-500",children:s}),f.jsx("button",{onClick:()=>a(o),className:`py-1 px-2 rounded ${e?"bg-red-500 hover:bg-red-700 text-white":"bg-green-500 hover:bg-green-700 text-white"}`,children:e?"inhabilitado":"habilitado"})]})};function lq(){const t=Gn(),{id:e}=jR(),{products:n}=ls(T=>T.product),[r,i]=S.useState([]),[s,o]=S.useState([]),a=S.useRef([]),u=n.filter(T=>T.id==e)[0];console.log(u);const[c,h]=S.useState({name:u.name,price:u.price,size:u.size,stock:u.stock,image:u.image,flavour:u.flavour,description:u.description[0],pre_description:u.pre_description}),m=async T=>{T.preventDefault();try{const E=await Promise.all(r.map(v=>gy(v)));a.current=E,console.log(a.current)}catch(E){console.error(E)}},w=async T=>{const E=T.target.files,v=Array.from(E),b=v.map((C,R)=>({id:R,file:C,previewUrl:URL.createObjectURL(C)}));try{const C=await Promise.all(v.map(gy));a.current=C,i(R=>[...R,...v]),o(R=>[...R,...b]),h({...c,image:a.current.length>0?[a.current[0]]:[]})}catch(C){console.error(C)}},_=T=>{if(T.target.name===c.image)h({...c,[T.target.name]:a.current});else if(T.target.name===c.flavour){const E=T.target.value.split(",").map(v=>v.trim());h({...c,[T.target.value]:E})}else if(T.target.name===c.pre_description){const E=T.target.value.split(".").map(v=>v.trim());h({...c,[T.target.name]:E})}else h({...c,[T.target.name]:T.target.value})},x=T=>{T.preventDefault(),t(f8(c,e))};return f.jsxs("div",{className:"max-w-md mx-auto my-8 p-4 bg-white rounded shadow-md",children:[f.jsxs("form",{onSubmit:x,children:[f.jsxs("div",{className:"mb-4",children:[f.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-600",children:"Nombre"}),f.jsx("input",{type:"text",id:"name",value:c.name,name:"name",onChange:_,maxLength:20,className:"mt-1 p-2 w-full border rounded focus:outline-none focus:ring focus:border-blue-300"})]}),f.jsxs("div",{className:"mb-4",children:[f.jsx("label",{htmlFor:"price",className:"block text-sm font-medium text-gray-600",children:"Precio"}),f.jsx("input",{type:"text",id:"price",value:c.price,name:"price",onChange:_,className:"mt-1 p-2 w-full border rounded focus:outline-none focus:ring focus:border-blue-300"})]}),f.jsxs("div",{className:"mb-4",children:[f.jsx("label",{htmlFor:"size",className:"block text-sm font-medium text-gray-600",children:"Tamao"}),f.jsx("input",{type:"text",id:"size",value:c.size,name:"size",onChange:_,className:"mt-1 p-2 w-full border rounded focus:outline-none focus:ring focus:border-blue-300"})]}),f.jsxs("div",{className:"mb-4",children:[f.jsx("label",{htmlFor:"stock",className:"block text-sm font-medium text-gray-600",children:"Stock"}),f.jsx("input",{type:"text",id:"stock",value:c.stock,name:"stock",onChange:_,className:"mt-1 p-2 w-full border rounded focus:outline-none focus:ring focus:border-blue-300"})]}),f.jsxs("div",{className:"mb-4",children:[f.jsx("label",{htmlFor:"image",className:"block text-sm font-medium text-gray-600",children:"Imagen"}),f.jsx("img",{src:u.image[0],alt:"",className:"mt-1 mb-4 w-full h-auto rounded"}),f.jsx("input",{type:"file",id:"image",name:"image",onChange:w,className:"p-2 w-full border rounded focus:outline-none focus:ring focus:border-blue-300"}),f.jsx("div",{className:"mt-2 flex space-x-2",children:s.map((T,E)=>f.jsx("div",{children:f.jsx("img",{src:T.previewUrl,alt:`Preview ${E}`,className:"max-w-20 max-h-20"})},E))}),f.jsxs("button",{className:"bg-blue-500 text-white py-2 px-4 rounded focus:outline-none focus:ring focus:border-blue-300",onClick:m,children:[" ","Subir imagen"," "]})]}),f.jsxs("div",{className:"mb-4",children:[f.jsx("label",{htmlFor:"flavour",className:"block text-sm font-medium text-gray-600",children:"Sabor"}),f.jsx("input",{type:"text",id:"flavour",value:c.flavour,name:"flavour",onChange:_,className:"mt-1 p-2 w-full border rounded focus:outline-none focus:ring focus:border-blue-300"})]}),f.jsxs("div",{className:"mb-4",children:[f.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-600",children:"Descripcion"}),f.jsx("textarea",{id:"description",value:c.description,name:"description",onChange:_,className:"mt-1 p-2 w-full border rounded focus:outline-none focus:ring focus:border-blue-300"})]}),f.jsxs("div",{className:"mb-4",children:[f.jsx("label",{htmlFor:"pre_description",className:"block text-sm font-medium text-gray-600",children:"Pre descripcion"}),f.jsx("textarea",{id:"pre_description",value:c.pre_description.join(`
`),name:"pre_description",onChange:T=>_("pre_description",T.target.value.split(`
`)),className:"mt-1 p-2 w-full border rounded focus:outline-none focus:ring focus:border-blue-300"})]}),f.jsx("button",{type:"submit",className:"bg-blue-500 text-white py-2 px-4 rounded focus:outline-none focus:ring focus:border-blue-300",children:"Editar producto"})]}),f.jsx(jn,{to:"/dasboard",children:"Volver"})]})}const yT=async()=>{try{return(await Nh(Ca(ct,"users"))).docs.map(n=>n.data())}catch(t){console.log(t.message)}},uq=()=>{const[t,e]=S.useState([]),[n,r]=S.useState(1),i=(n-1)*7,s=t.slice(i,i+7),o=Math.ceil(t.length/7);S.useEffect(()=>{(async()=>{const u=await yT();e(u)})()},[yT]);const a=l=>{l.target.value==="prev"?r(n-1):r(n+1)};return f.jsxs("main",{className:"flex flex-col gap-5 h-full",children:[f.jsxs("div",{className:"h-[80%]",children:[f.jsx("section",{children:f.jsx("h1",{className:"font-bebas text-xl",children:"Usuarios"})}),f.jsx("section",{className:"flex flex-col gap-2",children:s.map((l,u)=>f.jsx(aq,{user:l},u))})]}),f.jsx("div",{className:"h-[20%] flex items-end justify-center",children:f.jsxs("section",{className:"flex justify-center items-end gap-4",children:[f.jsx("button",{value:"prev",onClick:a,disabled:n<=1,className:" disabled:opacity-25",children:"<"}),f.jsxs("span",{children:["Page ",n," / ",o]}),f.jsx("button",{value:"next",onClick:a,disabled:n===o,className:" disabled:opacity-25",children:">"})]})})]})},C0="/assets/image-loginPage-902a2f2b.jpeg",cq=()=>{const[t,e]=S.useState(""),n=i=>{e(i)},r=()=>{switch(t){case"Agregar productos":return f.jsx(oq,{});case"Inventario":return f.jsx(UH,{});case"Control de usuarios":return f.jsx(uq,{});default:return null}};return f.jsxs("main",{className:"h-screen w-full flex justify-center items-center",children:[f.jsx(Yu,{className:"w-[34px] h-[69px] absolute top-10 left-10 z-50"}),f.jsx("img",{className:"w-full h-full object-cover absolute top-0 left-0",src:C0}),f.jsxs("section",{className:"flex gap-5 justify-between items-center h-[70%] w-[80%] z-40",children:[f.jsxs("aside",{className:"bg-[#475157F2] h-full gap-1 w-[30%] rounded-xl flex flex-col p-5",children:[f.jsx(Am,{title:"ordenes",options:["Ordenes pendientes","Ordenes enviadas"]}),f.jsx(Am,{title:"control de inventario",options:["Agregar productos","Inventario"],handleOptionSelect:n}),f.jsx(Am,{title:"gestion de usuarios",options:["Control de usuarios"],handleOptionSelect:n})]}),f.jsx("section",{className:"bg-primaryLight w-full h-full rounded-xl p-5",children:r()})]})]})},dq=()=>f.jsx(f.Fragment,{children:f.jsxs(Qh,{children:[f.jsx(st,{path:"dasboard",element:f.jsx(cq,{})}),f.jsx(st,{path:"/*",element:f.jsx(p0,{to:"/dasboard"})}),f.jsx(st,{path:"dasboard/editproduct/:id",element:f.jsx(lq,{})})]})}),A0=async(t,e)=>{try{const n=Yt(ct,"carritos",t),r=await li(n);if(e){const i=r.data().productos;if(i.length>0){const s=[...i,e],o=[];for(const a of s){const l=o.find(u=>u.id==a.id);console.log(l),l?l.cantidad+=a.cantidad:o.push(a)}o&&await gu(n,{productos:o})}else r.exists()&&e&&await gu(n,{productos:iF(e)})}}catch(n){console.log("Error al agregar producto al carrito",n.message)}},Yn=S.createContext(),fq=({children:t})=>{const[e,n]=S.useState(null),[r,i]=S.useState(!0),[s,o]=S.useState(!1),[a,l]=S.useState(null),[u,c]=S.useState([]),[h,m]=S.useState([]),[w,_]=S.useState(null),[x,T]=S.useState(!1),[E,v]=S.useState(!1);return S.useEffect(()=>{p6(ga,async b=>{if(b){n(b);const C=await rR(b==null?void 0:b.uid);console.log(C),C?(l(C),o(!0),await A0(b==null?void 0:b.uid,JSON.parse(window.localStorage.getItem("products"))),localStorage.removeItem("products"),c([])):(await i0({role:"user",status:"active",photoURL:e.photoURL,id:e.uid,email:e.email,displayName:e.displayName}),o(!0)),o(!1)}i(!1)})},[]),f.jsx(Yn.Provider,{value:{currentUser:e,setCurrentUser:n,isRegistered:s,loading:r,setLoading:i,user:a,showCart:x,setShowCart:T,showOrder:E,setShowOrder:v,productsLocalStorage:u,setProductsLocalStorage:c,products:h,setProducts:m,totalPay:w,setTotalPay:_},children:t})},R0=async(t,e,n)=>{try{const r=Yt(ct,"carritos",t),i=await li(r);if(i.exists()){const o=i.data().productos,a=o==null?void 0:o.findIndex(l=>l.id==e);a!==-1?(n?(console.log("entr"),o[a].cantidad+=n):o[a].cantidad+=1,await gu(r,{productos:o})):console.log("El producto no existe en el carrito")}else console.log("El carrito no existe para este usuario")}catch(r){console.log("Error al aumentar la cantidad del producto:",r.message)}},hq=t=>/^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9-.]+$/.test(t)?"":"El email es invalido";var rP={exports:{}};/*!
* sweetalert2 v11.10.3
* Released under the MIT License.
*/(function(t,e){(function(n,r){t.exports=r()})(yi,function(){function n(y,d){var p=y==null?null:typeof Symbol<"u"&&y[Symbol.iterator]||y["@@iterator"];if(p!=null){var g,I,D,G,ae=[],de=!0,De=!1;try{if(D=(p=p.call(y)).next,d===0){if(Object(p)!==p)return;de=!1}else for(;!(de=(g=D.call(p)).done)&&(ae.push(g.value),ae.length!==d);de=!0);}catch($a){De=!0,I=$a}finally{try{if(!de&&p.return!=null&&(G=p.return(),Object(G)!==G))return}finally{if(De)throw I}}return ae}}function r(y,d){if(typeof y!="object"||!y)return y;var p=y[Symbol.toPrimitive];if(p!==void 0){var g=p.call(y,d||"default");if(typeof g!="object")return g;throw new TypeError("@@toPrimitive must return a primitive value.")}return(d==="string"?String:Number)(y)}function i(y){var d=r(y,"string");return typeof d=="symbol"?d:String(d)}function s(y){"@babel/helpers - typeof";return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d},s(y)}function o(y,d){if(!(y instanceof d))throw new TypeError("Cannot call a class as a function")}function a(y,d){for(var p=0;p<d.length;p++){var g=d[p];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(y,i(g.key),g)}}function l(y,d,p){return d&&a(y.prototype,d),p&&a(y,p),Object.defineProperty(y,"prototype",{writable:!1}),y}function u(y,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function");y.prototype=Object.create(d&&d.prototype,{constructor:{value:y,writable:!0,configurable:!0}}),Object.defineProperty(y,"prototype",{writable:!1}),d&&h(y,d)}function c(y){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(p){return p.__proto__||Object.getPrototypeOf(p)},c(y)}function h(y,d){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(g,I){return g.__proto__=I,g},h(y,d)}function m(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function w(y,d,p){return m()?w=Reflect.construct.bind():w=function(I,D,G){var ae=[null];ae.push.apply(ae,D);var de=Function.bind.apply(I,ae),De=new de;return G&&h(De,G.prototype),De},w.apply(null,arguments)}function _(y){if(y===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y}function x(y,d){if(d&&(typeof d=="object"||typeof d=="function"))return d;if(d!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _(y)}function T(y){var d=m();return function(){var g=c(y),I;if(d){var D=c(this).constructor;I=Reflect.construct(g,arguments,D)}else I=g.apply(this,arguments);return x(this,I)}}function E(y,d){for(;!Object.prototype.hasOwnProperty.call(y,d)&&(y=c(y),y!==null););return y}function v(){return typeof Reflect<"u"&&Reflect.get?v=Reflect.get.bind():v=function(d,p,g){var I=E(d,p);if(I){var D=Object.getOwnPropertyDescriptor(I,p);return D.get?D.get.call(arguments.length<3?d:g):D.value}},v.apply(this,arguments)}function b(y,d){return O(y)||n(y,d)||F(y,d)||Me()}function C(y){return R(y)||L(y)||F(y)||q()}function R(y){if(Array.isArray(y))return z(y)}function O(y){if(Array.isArray(y))return y}function L(y){if(typeof Symbol<"u"&&y[Symbol.iterator]!=null||y["@@iterator"]!=null)return Array.from(y)}function F(y,d){if(y){if(typeof y=="string")return z(y,d);var p=Object.prototype.toString.call(y).slice(8,-1);if(p==="Object"&&y.constructor&&(p=y.constructor.name),p==="Map"||p==="Set")return Array.from(y);if(p==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(p))return z(y,d)}}function z(y,d){(d==null||d>y.length)&&(d=y.length);for(var p=0,g=new Array(d);p<d;p++)g[p]=y[p];return g}function q(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Me(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ie(y,d){var p=ve(y,d,"get");return Ue(y,p)}function ce(y,d,p){var g=ve(y,d,"set");return mt(y,g,p),p}function ve(y,d,p){if(!d.has(y))throw new TypeError("attempted to "+p+" private field on non-instance");return d.get(y)}function Ue(y,d){return d.get?d.get.call(y):d.value}function mt(y,d,p){if(d.set)d.set.call(y,p);else{if(!d.writable)throw new TypeError("attempted to set read only private field");d.value=p}}function $e(y,d){if(d.has(y))throw new TypeError("Cannot initialize the same private elements twice on an object")}function K(y,d,p){$e(y,d),d.set(y,p)}var ne=100,$={},Te=function(){$.previousActiveElement instanceof HTMLElement?($.previousActiveElement.focus(),$.previousActiveElement=null):document.body&&document.body.focus()},Ee=function(d){return new Promise(function(p){if(!d)return p();var g=window.scrollX,I=window.scrollY;$.restoreFocusTimeout=setTimeout(function(){Te(),p()},ne),window.scrollTo(g,I)})},Nn="swal2-",Ze=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"],N=Ze.reduce(function(y,d){return y[d]=Nn+d,y},{}),Dn=["success","warning","info","question","error"],Xn=Dn.reduce(function(y,d){return y[d]=Nn+d,y},{}),fo="SweetAlert2:",ho=function(d){return d.charAt(0).toUpperCase()+d.slice(1)},gt=function(d){console.warn("".concat(fo," ").concat(s(d)==="object"?d.join(" "):d))},hr=function(d){console.error("".concat(fo," ").concat(d))},Zu=[],ec=function(d){Zu.includes(d)||(Zu.push(d),gt(d))},np=function(d,p){ec('"'.concat(d,'" is deprecated and will be removed in the next major release. Please use "').concat(p,'" instead.'))},ps=function(d){return typeof d=="function"?d():d},po=function(d){return d&&typeof d.toPromise=="function"},mo=function(d){return po(d)?d.toPromise():Promise.resolve(d)},tc=function(d){return d&&Promise.resolve(d)===d},Lt=function(){return document.body.querySelector(".".concat(N.container))},A=function(d){var p=Lt();return p?p.querySelector(d):null},P=function(d){return A(".".concat(d))},k=function(){return P(N.popup)},Q=function(){return P(N.icon)},H=function(){return P(N["icon-content"])},B=function(){return P(N.title)},ee=function(){return P(N["html-container"])},Ie=function(){return P(N.image)},Ke=function(){return P(N["progress-steps"])},Xt=function(){return P(N["validation-message"])},Tt=function(){return A(".".concat(N.actions," .").concat(N.confirm))},fi=function(){return A(".".concat(N.actions," .").concat(N.cancel))},Jn=function(){return A(".".concat(N.actions," .").concat(N.deny))},Ma=function(){return P(N["input-label"])},hi=function(){return A(".".concat(N.loader))},pi=function(){return P(N.actions)},nc=function(){return P(N.footer)},ms=function(){return P(N["timer-progress-bar"])},rp=function(){return P(N.close)},cP=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,ip=function(){var d=k();if(!d)return[];var p=d.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),g=Array.from(p).sort(function(G,ae){var de=parseInt(G.getAttribute("tabindex")||"0"),De=parseInt(ae.getAttribute("tabindex")||"0");return de>De?1:de<De?-1:0}),I=d.querySelectorAll(cP),D=Array.from(I).filter(function(G){return G.getAttribute("tabindex")!=="-1"});return C(new Set(g.concat(D))).filter(function(G){return mn(G)})},sp=function(){return Lr(document.body,N.shown)&&!Lr(document.body,N["toast-shown"])&&!Lr(document.body,N["no-backdrop"])},rc=function(){var d=k();return d?Lr(d,N.toast):!1},dP=function(){var d=k();return d?d.hasAttribute("data-loading"):!1},pn=function(d,p){if(d.textContent="",p){var g=new DOMParser,I=g.parseFromString(p,"text/html"),D=I.querySelector("head");D&&Array.from(D.childNodes).forEach(function(ae){d.appendChild(ae)});var G=I.querySelector("body");G&&Array.from(G.childNodes).forEach(function(ae){ae instanceof HTMLVideoElement||ae instanceof HTMLAudioElement?d.appendChild(ae.cloneNode(!0)):d.appendChild(ae)})}},Lr=function(d,p){if(!p)return!1;for(var g=p.split(/\s+/),I=0;I<g.length;I++)if(!d.classList.contains(g[I]))return!1;return!0},fP=function(d,p){Array.from(d.classList).forEach(function(g){!Object.values(N).includes(g)&&!Object.values(Xn).includes(g)&&!Object.values(p.showClass||{}).includes(g)&&d.classList.remove(g)})},On=function(d,p,g){if(fP(d,p),p.customClass&&p.customClass[g]){if(typeof p.customClass[g]!="string"&&!p.customClass[g].forEach){gt("Invalid type of customClass.".concat(g,'! Expected string or iterable object, got "').concat(s(p.customClass[g]),'"'));return}we(d,p.customClass[g])}},ic=function(d,p){if(!p)return null;switch(p){case"select":case"textarea":case"file":return d.querySelector(".".concat(N.popup," > .").concat(N[p]));case"checkbox":return d.querySelector(".".concat(N.popup," > .").concat(N.checkbox," input"));case"radio":return d.querySelector(".".concat(N.popup," > .").concat(N.radio," input:checked"))||d.querySelector(".".concat(N.popup," > .").concat(N.radio," input:first-child"));case"range":return d.querySelector(".".concat(N.popup," > .").concat(N.range," input"));default:return d.querySelector(".".concat(N.popup," > .").concat(N.input))}},O0=function(d){if(d.focus(),d.type!=="file"){var p=d.value;d.value="",d.value=p}},j0=function(d,p,g){!d||!p||(typeof p=="string"&&(p=p.split(/\s+/).filter(Boolean)),p.forEach(function(I){Array.isArray(d)?d.forEach(function(D){g?D.classList.add(I):D.classList.remove(I)}):g?d.classList.add(I):d.classList.remove(I)}))},we=function(d,p){j0(d,p,!0)},pr=function(d,p){j0(d,p,!1)},mi=function(d,p){for(var g=Array.from(d.children),I=0;I<g.length;I++){var D=g[I];if(D instanceof HTMLElement&&Lr(D,p))return D}},gs=function(d,p,g){g==="".concat(parseInt(g))&&(g=parseInt(g)),g||parseInt(g)===0?d.style.setProperty(p,typeof g=="number"?"".concat(g,"px"):g):d.style.removeProperty(p)},yt=function(d){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"flex";d&&(d.style.display=p)},Mt=function(d){d&&(d.style.display="none")},op=function(d){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"block";d&&new MutationObserver(function(){Va(d,d.innerHTML,p)}).observe(d,{childList:!0,subtree:!0})},L0=function(d,p,g,I){var D=d.querySelector(p);D&&D.style.setProperty(g,I)},Va=function(d,p){var g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"flex";p?yt(d,g):Mt(d)},mn=function(d){return!!(d&&(d.offsetWidth||d.offsetHeight||d.getClientRects().length))},hP=function(){return!mn(Tt())&&!mn(Jn())&&!mn(fi())},M0=function(d){return d.scrollHeight>d.clientHeight},V0=function(d){var p=window.getComputedStyle(d),g=parseFloat(p.getPropertyValue("animation-duration")||"0"),I=parseFloat(p.getPropertyValue("transition-duration")||"0");return g>0||I>0},ap=function(d){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,g=ms();g&&mn(g)&&(p&&(g.style.transition="none",g.style.width="100%"),setTimeout(function(){g.style.transition="width ".concat(d/1e3,"s linear"),g.style.width="0%"},10))},pP=function(){var d=ms();if(d){var p=parseInt(window.getComputedStyle(d).width);d.style.removeProperty("transition"),d.style.width="100%";var g=parseInt(window.getComputedStyle(d).width),I=p/g*100;d.style.width="".concat(I,"%")}},F0=function(){return typeof window>"u"||typeof document>"u"},mP=`
 <div aria-labelledby="`.concat(N.title,'" aria-describedby="').concat(N["html-container"],'" class="').concat(N.popup,`" tabindex="-1">
   <button type="button" class="`).concat(N.close,`"></button>
   <ul class="`).concat(N["progress-steps"],`"></ul>
   <div class="`).concat(N.icon,`"></div>
   <img class="`).concat(N.image,`" />
   <h2 class="`).concat(N.title,'" id="').concat(N.title,`"></h2>
   <div class="`).concat(N["html-container"],'" id="').concat(N["html-container"],`"></div>
   <input class="`).concat(N.input,'" id="').concat(N.input,`" />
   <input type="file" class="`).concat(N.file,`" />
   <div class="`).concat(N.range,`">
     <input type="range" />
     <output></output>
   </div>
   <select class="`).concat(N.select,'" id="').concat(N.select,`"></select>
   <div class="`).concat(N.radio,`"></div>
   <label class="`).concat(N.checkbox,`">
     <input type="checkbox" id="`).concat(N.checkbox,`" />
     <span class="`).concat(N.label,`"></span>
   </label>
   <textarea class="`).concat(N.textarea,'" id="').concat(N.textarea,`"></textarea>
   <div class="`).concat(N["validation-message"],'" id="').concat(N["validation-message"],`"></div>
   <div class="`).concat(N.actions,`">
     <div class="`).concat(N.loader,`"></div>
     <button type="button" class="`).concat(N.confirm,`"></button>
     <button type="button" class="`).concat(N.deny,`"></button>
     <button type="button" class="`).concat(N.cancel,`"></button>
   </div>
   <div class="`).concat(N.footer,`"></div>
   <div class="`).concat(N["timer-progress-bar-container"],`">
     <div class="`).concat(N["timer-progress-bar"],`"></div>
   </div>
 </div>
`).replace(/(^|\n)\s*/g,""),gP=function(){var d=Lt();return d?(d.remove(),pr([document.documentElement,document.body],[N["no-backdrop"],N["toast-shown"],N["has-column"]]),!0):!1},ys=function(){$.currentInstance.resetValidationMessage()},yP=function(){var d=k(),p=mi(d,N.input),g=mi(d,N.file),I=d.querySelector(".".concat(N.range," input")),D=d.querySelector(".".concat(N.range," output")),G=mi(d,N.select),ae=d.querySelector(".".concat(N.checkbox," input")),de=mi(d,N.textarea);p.oninput=ys,g.onchange=ys,G.onchange=ys,ae.onchange=ys,de.oninput=ys,I.oninput=function(){ys(),D.value=I.value},I.onchange=function(){ys(),D.value=I.value}},vP=function(d){return typeof d=="string"?document.querySelector(d):d},wP=function(d){var p=k();p.setAttribute("role",d.toast?"alert":"dialog"),p.setAttribute("aria-live",d.toast?"polite":"assertive"),d.toast||p.setAttribute("aria-modal","true")},_P=function(d){window.getComputedStyle(d).direction==="rtl"&&we(Lt(),N.rtl)},EP=function(d){var p=gP();if(F0()){hr("SweetAlert2 requires document to initialize");return}var g=document.createElement("div");g.className=N.container,p&&we(g,N["no-transition"]),pn(g,mP);var I=vP(d.target);I.appendChild(g),wP(d),_P(I),yP()},lp=function(d,p){d instanceof HTMLElement?p.appendChild(d):s(d)==="object"?xP(d,p):d&&pn(p,d)},xP=function(d,p){d.jquery?TP(p,d):pn(p,d.toString())},TP=function(d,p){if(d.textContent="",0 in p)for(var g=0;g in p;g++)d.appendChild(p[g].cloneNode(!0));else d.appendChild(p.cloneNode(!0))},vs=function(){if(F0())return!1;var y=document.createElement("div");return typeof y.style.webkitAnimation<"u"?"webkitAnimationEnd":typeof y.style.animation<"u"?"animationend":!1}(),bP=function(d,p){var g=pi(),I=hi();!g||!I||(!p.showConfirmButton&&!p.showDenyButton&&!p.showCancelButton?Mt(g):yt(g),On(g,p,"actions"),IP(g,I,p),pn(I,p.loaderHtml||""),On(I,p,"loader"))};function IP(y,d,p){var g=Tt(),I=Jn(),D=fi();!g||!I||!D||(up(g,"confirm",p),up(I,"deny",p),up(D,"cancel",p),SP(g,I,D,p),p.reverseButtons&&(p.toast?(y.insertBefore(D,g),y.insertBefore(I,g)):(y.insertBefore(D,d),y.insertBefore(I,d),y.insertBefore(g,d))))}function SP(y,d,p,g){if(!g.buttonsStyling){pr([y,d,p],N.styled);return}we([y,d,p],N.styled),g.confirmButtonColor&&(y.style.backgroundColor=g.confirmButtonColor,we(y,N["default-outline"])),g.denyButtonColor&&(d.style.backgroundColor=g.denyButtonColor,we(d,N["default-outline"])),g.cancelButtonColor&&(p.style.backgroundColor=g.cancelButtonColor,we(p,N["default-outline"]))}function up(y,d,p){var g=ho(d);Va(y,p["show".concat(g,"Button")],"inline-block"),pn(y,p["".concat(d,"ButtonText")]||""),y.setAttribute("aria-label",p["".concat(d,"ButtonAriaLabel")]||""),y.className=N[d],On(y,p,"".concat(d,"Button"))}var CP=function(d,p){var g=rp();g&&(pn(g,p.closeButtonHtml||""),On(g,p,"closeButton"),Va(g,p.showCloseButton),g.setAttribute("aria-label",p.closeButtonAriaLabel||""))},AP=function(d,p){var g=Lt();g&&(RP(g,p.backdrop),PP(g,p.position),kP(g,p.grow),On(g,p,"container"))};function RP(y,d){typeof d=="string"?y.style.background=d:d||we([document.documentElement,document.body],N["no-backdrop"])}function PP(y,d){d&&(d in N?we(y,N[d]):(gt('The "position" parameter is not valid, defaulting to "center"'),we(y,N.center)))}function kP(y,d){d&&we(y,N["grow-".concat(d)])}var Ae={innerParams:new WeakMap,domCache:new WeakMap},NP=["input","file","range","select","radio","checkbox","textarea"],DP=function(d,p){var g=k();if(g){var I=Ae.innerParams.get(d),D=!I||p.input!==I.input;NP.forEach(function(G){var ae=mi(g,N[G]);ae&&(LP(G,p.inputAttributes),ae.className=N[G],D&&Mt(ae))}),p.input&&(D&&OP(p),MP(p))}},OP=function(d){if(d.input){if(!et[d.input]){hr("Unexpected type of input! Expected ".concat(Object.keys(et).join(" | "),', got "').concat(d.input,'"'));return}var p=U0(d.input),g=et[d.input](p,d);yt(p),d.inputAutoFocus&&setTimeout(function(){O0(g)})}},jP=function(d){for(var p=0;p<d.attributes.length;p++){var g=d.attributes[p].name;["id","type","value","style"].includes(g)||d.removeAttribute(g)}},LP=function(d,p){var g=ic(k(),d);if(g){jP(g);for(var I in p)g.setAttribute(I,p[I])}},MP=function(d){var p=U0(d.input);s(d.customClass)==="object"&&we(p,d.customClass.input)},cp=function(d,p){(!d.placeholder||p.inputPlaceholder)&&(d.placeholder=p.inputPlaceholder)},Fa=function(d,p,g){if(g.inputLabel){var I=document.createElement("label"),D=N["input-label"];I.setAttribute("for",d.id),I.className=D,s(g.customClass)==="object"&&we(I,g.customClass.inputLabel),I.innerText=g.inputLabel,p.insertAdjacentElement("beforebegin",I)}},U0=function(d){return mi(k(),N[d]||N.input)},sc=function(d,p){["string","number"].includes(s(p))?d.value="".concat(p):tc(p)||gt('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(s(p),'"'))},et={};et.text=et.email=et.password=et.number=et.tel=et.url=et.search=et.date=et["datetime-local"]=et.time=et.week=et.month=function(y,d){return sc(y,d.inputValue),Fa(y,y,d),cp(y,d),y.type=d.input,y},et.file=function(y,d){return Fa(y,y,d),cp(y,d),y},et.range=function(y,d){var p=y.querySelector("input"),g=y.querySelector("output");return sc(p,d.inputValue),p.type=d.input,sc(g,d.inputValue),Fa(p,y,d),y},et.select=function(y,d){if(y.textContent="",d.inputPlaceholder){var p=document.createElement("option");pn(p,d.inputPlaceholder),p.value="",p.disabled=!0,p.selected=!0,y.appendChild(p)}return Fa(y,y,d),y},et.radio=function(y){return y.textContent="",y},et.checkbox=function(y,d){var p=ic(k(),"checkbox");p.value="1",p.checked=!!d.inputValue;var g=y.querySelector("span");return pn(g,d.inputPlaceholder),p},et.textarea=function(y,d){sc(y,d.inputValue),cp(y,d),Fa(y,y,d);var p=function(I){return parseInt(window.getComputedStyle(I).marginLeft)+parseInt(window.getComputedStyle(I).marginRight)};return setTimeout(function(){if("MutationObserver"in window){var g=parseInt(window.getComputedStyle(k()).width),I=function(){if(document.body.contains(y)){var G=y.offsetWidth+p(y);G>g?k().style.width="".concat(G,"px"):gs(k(),"width",d.width)}};new MutationObserver(I).observe(y,{attributes:!0,attributeFilter:["style"]})}}),y};var VP=function(d,p){var g=ee();g&&(op(g),On(g,p,"htmlContainer"),p.html?(lp(p.html,g),yt(g,"block")):p.text?(g.textContent=p.text,yt(g,"block")):Mt(g),DP(d,p))},FP=function(d,p){var g=nc();g&&(op(g),Va(g,p.footer,"block"),p.footer&&lp(p.footer,g),On(g,p,"footer"))},UP=function(d,p){var g=Ae.innerParams.get(d),I=Q();if(I){if(g&&p.icon===g.icon){B0(I,p),$0(I,p);return}if(!p.icon&&!p.iconHtml){Mt(I);return}if(p.icon&&Object.keys(Xn).indexOf(p.icon)===-1){hr('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(p.icon,'"')),Mt(I);return}yt(I),B0(I,p),$0(I,p),we(I,p.showClass&&p.showClass.icon)}},$0=function(d,p){for(var g=0,I=Object.entries(Xn);g<I.length;g++){var D=b(I[g],2),G=D[0],ae=D[1];p.icon!==G&&pr(d,ae)}we(d,p.icon&&Xn[p.icon]),HP(d,p),$P(),On(d,p,"icon")},$P=function(){var d=k();if(d)for(var p=window.getComputedStyle(d).getPropertyValue("background-color"),g=d.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix"),I=0;I<g.length;I++)g[I].style.backgroundColor=p},BP=`
  <div class="swal2-success-circular-line-left"></div>
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>
  <div class="swal2-success-circular-line-right"></div>
`,zP=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,B0=function(d,p){if(!(!p.icon&&!p.iconHtml)){var g=d.innerHTML,I="";if(p.iconHtml)I=z0(p.iconHtml);else if(p.icon==="success")I=BP,g=g.replace(/ style=".*?"/g,"");else if(p.icon==="error")I=zP;else if(p.icon){var D={question:"?",warning:"!",info:"i"};I=z0(D[p.icon])}g.trim()!==I.trim()&&pn(d,I)}},HP=function(d,p){if(p.iconColor){d.style.color=p.iconColor,d.style.borderColor=p.iconColor;for(var g=0,I=[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"];g<I.length;g++){var D=I[g];L0(d,D,"backgroundColor",p.iconColor)}L0(d,".swal2-success-ring","borderColor",p.iconColor)}},z0=function(d){return'<div class="'.concat(N["icon-content"],'">').concat(d,"</div>")},qP=function(d,p){var g=Ie();if(g){if(!p.imageUrl){Mt(g);return}yt(g,""),g.setAttribute("src",p.imageUrl),g.setAttribute("alt",p.imageAlt||""),gs(g,"width",p.imageWidth),gs(g,"height",p.imageHeight),g.className=N.image,On(g,p,"image")}},WP=function(d,p){var g=Lt(),I=k();if(!(!g||!I)){if(p.toast){gs(g,"width",p.width),I.style.width="100%";var D=hi();D&&I.insertBefore(D,Q())}else gs(I,"width",p.width);gs(I,"padding",p.padding),p.color&&(I.style.color=p.color),p.background&&(I.style.background=p.background),Mt(Xt()),KP(I,p)}},KP=function(d,p){var g=p.showClass||{};d.className="".concat(N.popup," ").concat(mn(d)?g.popup:""),p.toast?(we([document.documentElement,document.body],N["toast-shown"]),we(d,N.toast)):we(d,N.modal),On(d,p,"popup"),typeof p.customClass=="string"&&we(d,p.customClass),p.icon&&we(d,N["icon-".concat(p.icon)])},GP=function(d,p){var g=Ke();if(g){var I=p.progressSteps,D=p.currentProgressStep;if(!I||I.length===0||D===void 0){Mt(g);return}yt(g),g.textContent="",D>=I.length&&gt("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),I.forEach(function(G,ae){var de=QP(G);if(g.appendChild(de),ae===D&&we(de,N["active-progress-step"]),ae!==I.length-1){var De=YP(p);g.appendChild(De)}})}},QP=function(d){var p=document.createElement("li");return we(p,N["progress-step"]),pn(p,d),p},YP=function(d){var p=document.createElement("li");return we(p,N["progress-step-line"]),d.progressStepsDistance&&gs(p,"width",d.progressStepsDistance),p},XP=function(d,p){var g=B();g&&(op(g),Va(g,p.title||p.titleText,"block"),p.title&&lp(p.title,g),p.titleText&&(g.innerText=p.titleText),On(g,p,"title"))},H0=function(d,p){WP(d,p),AP(d,p),GP(d,p),UP(d,p),qP(d,p),XP(d,p),CP(d,p),VP(d,p),bP(d,p),FP(d,p);var g=k();typeof p.didRender=="function"&&g&&p.didRender(g)},JP=function(){return mn(k())},q0=function(){var d;return(d=Tt())===null||d===void 0?void 0:d.click()},ZP=function(){var d;return(d=Jn())===null||d===void 0?void 0:d.click()},ek=function(){var d;return(d=fi())===null||d===void 0?void 0:d.click()},go=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),W0=function(d){d.keydownTarget&&d.keydownHandlerAdded&&(d.keydownTarget.removeEventListener("keydown",d.keydownHandler,{capture:d.keydownListenerCapture}),d.keydownHandlerAdded=!1)},tk=function(d,p,g){W0(d),p.toast||(d.keydownHandler=function(I){return rk(p,I,g)},d.keydownTarget=p.keydownListenerCapture?window:k(),d.keydownListenerCapture=p.keydownListenerCapture,d.keydownTarget.addEventListener("keydown",d.keydownHandler,{capture:d.keydownListenerCapture}),d.keydownHandlerAdded=!0)},dp=function(d,p){var g,I=ip();if(I.length){d=d+p,d===I.length?d=0:d===-1&&(d=I.length-1),I[d].focus();return}(g=k())===null||g===void 0||g.focus()},K0=["ArrowRight","ArrowDown"],nk=["ArrowLeft","ArrowUp"],rk=function(d,p,g){d&&(p.isComposing||p.keyCode===229||(d.stopKeydownPropagation&&p.stopPropagation(),p.key==="Enter"?ik(p,d):p.key==="Tab"?sk(p):[].concat(K0,nk).includes(p.key)?ok(p.key):p.key==="Escape"&&ak(p,d,g)))},ik=function(d,p){if(ps(p.allowEnterKey)){var g=ic(k(),p.input);if(d.target&&g&&d.target instanceof HTMLElement&&d.target.outerHTML===g.outerHTML){if(["textarea","file"].includes(p.input))return;q0(),d.preventDefault()}}},sk=function(d){for(var p=d.target,g=ip(),I=-1,D=0;D<g.length;D++)if(p===g[D]){I=D;break}d.shiftKey?dp(I,-1):dp(I,1),d.stopPropagation(),d.preventDefault()},ok=function(d){var p=pi(),g=Tt(),I=Jn(),D=fi();if(!(!p||!g||!I||!D)){var G=[g,I,D];if(!(document.activeElement instanceof HTMLElement&&!G.includes(document.activeElement))){var ae=K0.includes(d)?"nextElementSibling":"previousElementSibling",de=document.activeElement;if(de){for(var De=0;De<p.children.length;De++){if(de=de[ae],!de)return;if(de instanceof HTMLButtonElement&&mn(de))break}de instanceof HTMLButtonElement&&de.focus()}}}},ak=function(d,p,g){ps(p.allowEscapeKey)&&(d.preventDefault(),g(go.esc))},yo={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap},lk=function(){var d=Array.from(document.body.children);d.forEach(function(p){p===Lt()||p.contains(Lt())||(p.hasAttribute("aria-hidden")&&p.setAttribute("data-previous-aria-hidden",p.getAttribute("aria-hidden")||""),p.setAttribute("aria-hidden","true"))})},G0=function(){var d=Array.from(document.body.children);d.forEach(function(p){p.hasAttribute("data-previous-aria-hidden")?(p.setAttribute("aria-hidden",p.getAttribute("data-previous-aria-hidden")||""),p.removeAttribute("data-previous-aria-hidden")):p.removeAttribute("aria-hidden")})},Q0=typeof window<"u"&&!!window.GestureEvent,uk=function(){if(Q0&&!Lr(document.body,N.iosfix)){var d=document.body.scrollTop;document.body.style.top="".concat(d*-1,"px"),we(document.body,N.iosfix),ck()}},ck=function(){var d=Lt();if(d){var p;d.ontouchstart=function(g){p=dk(g)},d.ontouchmove=function(g){p&&(g.preventDefault(),g.stopPropagation())}}},dk=function(d){var p=d.target,g=Lt(),I=ee();return!g||!I||fk(d)||hk(d)?!1:p===g||!M0(g)&&p instanceof HTMLElement&&p.tagName!=="INPUT"&&p.tagName!=="TEXTAREA"&&!(M0(I)&&I.contains(p))},fk=function(d){return d.touches&&d.touches.length&&d.touches[0].touchType==="stylus"},hk=function(d){return d.touches&&d.touches.length>1},pk=function(){if(Lr(document.body,N.iosfix)){var d=parseInt(document.body.style.top,10);pr(document.body,N.iosfix),document.body.style.top="",document.body.scrollTop=d*-1}},mk=function(){var d=document.createElement("div");d.className=N["scrollbar-measure"],document.body.appendChild(d);var p=d.getBoundingClientRect().width-d.clientWidth;return document.body.removeChild(d),p},vo=null,gk=function(d){vo===null&&(document.body.scrollHeight>window.innerHeight||d==="scroll")&&(vo=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat(vo+mk(),"px"))},yk=function(){vo!==null&&(document.body.style.paddingRight="".concat(vo,"px"),vo=null)};function Y0(y,d,p,g){rc()?J0(y,g):(Ee(p).then(function(){return J0(y,g)}),W0($)),Q0?(d.setAttribute("style","display:none !important"),d.removeAttribute("class"),d.innerHTML=""):d.remove(),sp()&&(yk(),pk(),G0()),vk()}function vk(){pr([document.documentElement,document.body],[N.shown,N["height-auto"],N["no-backdrop"],N["toast-shown"]])}function gi(y){y=_k(y);var d=yo.swalPromiseResolve.get(this),p=wk(this);this.isAwaitingPromise?y.isDismissed||(Ua(this),d(y)):p&&d(y)}var wk=function(d){var p=k();if(!p)return!1;var g=Ae.innerParams.get(d);if(!g||Lr(p,g.hideClass.popup))return!1;pr(p,g.showClass.popup),we(p,g.hideClass.popup);var I=Lt();return pr(I,g.showClass.backdrop),we(I,g.hideClass.backdrop),Ek(d,p,g),!0};function X0(y){var d=yo.swalPromiseReject.get(this);Ua(this),d&&d(y)}var Ua=function(d){d.isAwaitingPromise&&(delete d.isAwaitingPromise,Ae.innerParams.get(d)||d._destroy())},_k=function(d){return typeof d>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},d)},Ek=function(d,p,g){var I=Lt(),D=vs&&V0(p);typeof g.willClose=="function"&&g.willClose(p),D?xk(d,p,I,g.returnFocus,g.didClose):Y0(d,I,g.returnFocus,g.didClose)},xk=function(d,p,g,I,D){vs&&($.swalCloseEventFinishedCallback=Y0.bind(null,d,g,I,D),p.addEventListener(vs,function(G){G.target===p&&($.swalCloseEventFinishedCallback(),delete $.swalCloseEventFinishedCallback)}))},J0=function(d,p){setTimeout(function(){typeof p=="function"&&p.bind(d.params)(),d._destroy&&d._destroy()})},wo=function(d){var p=k();if(p||new cc,p=k(),!!p){var g=hi();rc()?Mt(Q()):Tk(p,d),yt(g),p.setAttribute("data-loading","true"),p.setAttribute("aria-busy","true"),p.focus()}},Tk=function(d,p){var g=pi(),I=hi();!g||!I||(!p&&mn(Tt())&&(p=Tt()),yt(g),p&&(Mt(p),I.setAttribute("data-button-to-replace",p.className),g.insertBefore(I,p)),we([d,g],N.loading))},bk=function(d,p){p.input==="select"||p.input==="radio"?Rk(d,p):["text","email","number","tel","textarea"].some(function(g){return g===p.input})&&(po(p.inputValue)||tc(p.inputValue))&&(wo(Tt()),Pk(d,p))},Ik=function(d,p){var g=d.getInput();if(!g)return null;switch(p.input){case"checkbox":return Sk(g);case"radio":return Ck(g);case"file":return Ak(g);default:return p.inputAutoTrim?g.value.trim():g.value}},Sk=function(d){return d.checked?1:0},Ck=function(d){return d.checked?d.value:null},Ak=function(d){return d.files&&d.files.length?d.getAttribute("multiple")!==null?d.files:d.files[0]:null},Rk=function(d,p){var g=k();if(g){var I=function(G){p.input==="select"?kk(g,Z0(G),p):p.input==="radio"&&Nk(g,Z0(G),p)};po(p.inputOptions)||tc(p.inputOptions)?(wo(Tt()),mo(p.inputOptions).then(function(D){d.hideLoading(),I(D)})):s(p.inputOptions)==="object"?I(p.inputOptions):hr("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(s(p.inputOptions)))}},Pk=function(d,p){var g=d.getInput();g&&(Mt(g),mo(p.inputValue).then(function(I){g.value=p.input==="number"?"".concat(parseFloat(I)||0):"".concat(I),yt(g),g.focus(),d.hideLoading()}).catch(function(I){hr("Error in inputValue promise: ".concat(I)),g.value="",yt(g),g.focus(),d.hideLoading()}))};function kk(y,d,p){var g=mi(y,N.select);if(g){var I=function(G,ae,de){var De=document.createElement("option");De.value=de,pn(De,ae),De.selected=e_(de,p.inputValue),G.appendChild(De)};d.forEach(function(D){var G=D[0],ae=D[1];if(Array.isArray(ae)){var de=document.createElement("optgroup");de.label=G,de.disabled=!1,g.appendChild(de),ae.forEach(function(De){return I(de,De[1],De[0])})}else I(g,ae,G)}),g.focus()}}function Nk(y,d,p){var g=mi(y,N.radio);if(g){d.forEach(function(D){var G=D[0],ae=D[1],de=document.createElement("input"),De=document.createElement("label");de.type="radio",de.name=N.radio,de.value=G,e_(G,p.inputValue)&&(de.checked=!0);var $a=document.createElement("span");pn($a,ae),$a.className=N.label,De.appendChild(de),De.appendChild($a),g.appendChild(De)});var I=g.querySelectorAll("input");I.length&&I[0].focus()}}var Z0=function y(d){var p=[];return d instanceof Map?d.forEach(function(g,I){var D=g;s(D)==="object"&&(D=y(D)),p.push([I,D])}):Object.keys(d).forEach(function(g){var I=d[g];s(I)==="object"&&(I=y(I)),p.push([g,I])}),p},e_=function(d,p){return!!p&&p.toString()===d.toString()},oc=void 0,Dk=function(d){var p=Ae.innerParams.get(d);d.disableButtons(),p.input?t_(d,"confirm"):hp(d,!0)},Ok=function(d){var p=Ae.innerParams.get(d);d.disableButtons(),p.returnInputValueOnDeny?t_(d,"deny"):fp(d,!1)},jk=function(d,p){d.disableButtons(),p(go.cancel)},t_=function(d,p){var g=Ae.innerParams.get(d);if(!g.input){hr('The "input" parameter is needed to be set when using returnInputValueOn'.concat(ho(p)));return}var I=d.getInput(),D=Ik(d,g);g.inputValidator?Lk(d,D,p):I&&!I.checkValidity()?(d.enableButtons(),d.showValidationMessage(g.validationMessage)):p==="deny"?fp(d,D):hp(d,D)},Lk=function(d,p,g){var I=Ae.innerParams.get(d);d.disableInput();var D=Promise.resolve().then(function(){return mo(I.inputValidator(p,I.validationMessage))});D.then(function(G){d.enableButtons(),d.enableInput(),G?d.showValidationMessage(G):g==="deny"?fp(d,p):hp(d,p)})},fp=function(d,p){var g=Ae.innerParams.get(d||oc);if(g.showLoaderOnDeny&&wo(Jn()),g.preDeny){d.isAwaitingPromise=!0;var I=Promise.resolve().then(function(){return mo(g.preDeny(p,g.validationMessage))});I.then(function(D){D===!1?(d.hideLoading(),Ua(d)):d.close({isDenied:!0,value:typeof D>"u"?p:D})}).catch(function(D){return r_(d||oc,D)})}else d.close({isDenied:!0,value:p})},n_=function(d,p){d.close({isConfirmed:!0,value:p})},r_=function(d,p){d.rejectPromise(p)},hp=function(d,p){var g=Ae.innerParams.get(d||oc);if(g.showLoaderOnConfirm&&wo(),g.preConfirm){d.resetValidationMessage(),d.isAwaitingPromise=!0;var I=Promise.resolve().then(function(){return mo(g.preConfirm(p,g.validationMessage))});I.then(function(D){mn(Xt())||D===!1?(d.hideLoading(),Ua(d)):n_(d,typeof D>"u"?p:D)}).catch(function(D){return r_(d||oc,D)})}else n_(d,p)};function ac(){var y=Ae.innerParams.get(this);if(y){var d=Ae.domCache.get(this);Mt(d.loader),rc()?y.icon&&yt(Q()):Mk(d),pr([d.popup,d.actions],N.loading),d.popup.removeAttribute("aria-busy"),d.popup.removeAttribute("data-loading"),d.confirmButton.disabled=!1,d.denyButton.disabled=!1,d.cancelButton.disabled=!1}}var Mk=function(d){var p=d.popup.getElementsByClassName(d.loader.getAttribute("data-button-to-replace"));p.length?yt(p[0],"inline-block"):hP()&&Mt(d.actions)};function i_(){var y=Ae.innerParams.get(this),d=Ae.domCache.get(this);return d?ic(d.popup,y.input):null}function s_(y,d,p){var g=Ae.domCache.get(y);d.forEach(function(I){g[I].disabled=p})}function o_(y,d){var p=k();if(!(!p||!y))if(y.type==="radio")for(var g=p.querySelectorAll('[name="'.concat(N.radio,'"]')),I=0;I<g.length;I++)g[I].disabled=d;else y.disabled=d}function a_(){s_(this,["confirmButton","denyButton","cancelButton"],!1)}function l_(){s_(this,["confirmButton","denyButton","cancelButton"],!0)}function u_(){o_(this.getInput(),!1)}function c_(){o_(this.getInput(),!0)}function d_(y){var d=Ae.domCache.get(this),p=Ae.innerParams.get(this);pn(d.validationMessage,y),d.validationMessage.className=N["validation-message"],p.customClass&&p.customClass.validationMessage&&we(d.validationMessage,p.customClass.validationMessage),yt(d.validationMessage);var g=this.getInput();g&&(g.setAttribute("aria-invalid","true"),g.setAttribute("aria-describedby",N["validation-message"]),O0(g),we(g,N.inputerror))}function f_(){var y=Ae.domCache.get(this);y.validationMessage&&Mt(y.validationMessage);var d=this.getInput();d&&(d.removeAttribute("aria-invalid"),d.removeAttribute("aria-describedby"),pr(d,N.inputerror))}var _o={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,animation:!0,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},Vk=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],Fk={},Uk=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],h_=function(d){return Object.prototype.hasOwnProperty.call(_o,d)},p_=function(d){return Vk.indexOf(d)!==-1},m_=function(d){return Fk[d]},$k=function(d){h_(d)||gt('Unknown parameter "'.concat(d,'"'))},Bk=function(d){Uk.includes(d)&&gt('The parameter "'.concat(d,'" is incompatible with toasts'))},zk=function(d){var p=m_(d);p&&np(d,p)},Hk=function(d){d.backdrop===!1&&d.allowOutsideClick&&gt('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(var p in d)$k(p),d.toast&&Bk(p),zk(p)};function g_(y){var d=k(),p=Ae.innerParams.get(this);if(!d||Lr(d,p.hideClass.popup)){gt("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}var g=qk(y),I=Object.assign({},p,g);H0(this,I),Ae.innerParams.set(this,I),Object.defineProperties(this,{params:{value:Object.assign({},this.params,y),writable:!1,enumerable:!0}})}var qk=function(d){var p={};return Object.keys(d).forEach(function(g){p_(g)?p[g]=d[g]:gt("Invalid parameter to update: ".concat(g))}),p};function y_(){var y=Ae.domCache.get(this),d=Ae.innerParams.get(this);if(!d){v_(this);return}y.popup&&$.swalCloseEventFinishedCallback&&($.swalCloseEventFinishedCallback(),delete $.swalCloseEventFinishedCallback),typeof d.didDestroy=="function"&&d.didDestroy(),Wk(this)}var Wk=function(d){v_(d),delete d.params,delete $.keydownHandler,delete $.keydownTarget,delete $.currentInstance},v_=function(d){d.isAwaitingPromise?(pp(Ae,d),d.isAwaitingPromise=!0):(pp(yo,d),pp(Ae,d),delete d.isAwaitingPromise,delete d.disableButtons,delete d.enableButtons,delete d.getInput,delete d.disableInput,delete d.enableInput,delete d.hideLoading,delete d.disableLoading,delete d.showValidationMessage,delete d.resetValidationMessage,delete d.close,delete d.closePopup,delete d.closeModal,delete d.closeToast,delete d.rejectPromise,delete d.update,delete d._destroy)},pp=function(d,p){for(var g in d)d[g].delete(p)},Kk=Object.freeze({__proto__:null,_destroy:y_,close:gi,closeModal:gi,closePopup:gi,closeToast:gi,disableButtons:l_,disableInput:c_,disableLoading:ac,enableButtons:a_,enableInput:u_,getInput:i_,handleAwaitingPromise:Ua,hideLoading:ac,rejectPromise:X0,resetValidationMessage:f_,showValidationMessage:d_,update:g_}),Gk=function(d,p,g){d.toast?Qk(d,p,g):(Xk(p),Jk(p),Zk(d,p,g))},Qk=function(d,p,g){p.popup.onclick=function(){d&&(Yk(d)||d.timer||d.input)||g(go.close)}},Yk=function(d){return!!(d.showConfirmButton||d.showDenyButton||d.showCancelButton||d.showCloseButton)},lc=!1,Xk=function(d){d.popup.onmousedown=function(){d.container.onmouseup=function(p){d.container.onmouseup=function(){},p.target===d.container&&(lc=!0)}}},Jk=function(d){d.container.onmousedown=function(){d.popup.onmouseup=function(p){d.popup.onmouseup=function(){},(p.target===d.popup||p.target instanceof HTMLElement&&d.popup.contains(p.target))&&(lc=!0)}}},Zk=function(d,p,g){p.container.onclick=function(I){if(lc){lc=!1;return}I.target===p.container&&ps(d.allowOutsideClick)&&g(go.backdrop)}},eN=function(d){return s(d)==="object"&&d.jquery},w_=function(d){return d instanceof Element||eN(d)},tN=function(d){var p={};return s(d[0])==="object"&&!w_(d[0])?Object.assign(p,d[0]):["title","html","icon"].forEach(function(g,I){var D=d[I];typeof D=="string"||w_(D)?p[g]=D:D!==void 0&&hr("Unexpected type of ".concat(g,'! Expected "string" or "Element", got ').concat(s(D)))}),p};function nN(){for(var y=this,d=arguments.length,p=new Array(d),g=0;g<d;g++)p[g]=arguments[g];return w(y,p)}function rN(y){var d=function(p){u(I,p);var g=T(I);function I(){return o(this,I),g.apply(this,arguments)}return l(I,[{key:"_main",value:function(G,ae){return v(c(I.prototype),"_main",this).call(this,G,Object.assign({},y,ae))}}]),I}(this);return d}var iN=function(){return $.timeout&&$.timeout.getTimerLeft()},__=function(){if($.timeout)return pP(),$.timeout.stop()},E_=function(){if($.timeout){var d=$.timeout.start();return ap(d),d}},sN=function(){var d=$.timeout;return d&&(d.running?__():E_())},oN=function(d){if($.timeout){var p=$.timeout.increase(d);return ap(p,!0),p}},aN=function(){return!!($.timeout&&$.timeout.isRunning())},x_=!1,mp={};function lN(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"data-swal-template";mp[y]=this,x_||(document.body.addEventListener("click",uN),x_=!0)}var uN=function(d){for(var p=d.target;p&&p!==document;p=p.parentNode)for(var g in mp){var I=p.getAttribute(g);if(I){mp[g].fire({template:I});return}}},cN=Object.freeze({__proto__:null,argsToParams:tN,bindClickHandler:lN,clickCancel:ek,clickConfirm:q0,clickDeny:ZP,enableLoading:wo,fire:nN,getActions:pi,getCancelButton:fi,getCloseButton:rp,getConfirmButton:Tt,getContainer:Lt,getDenyButton:Jn,getFocusableElements:ip,getFooter:nc,getHtmlContainer:ee,getIcon:Q,getIconContent:H,getImage:Ie,getInputLabel:Ma,getLoader:hi,getPopup:k,getProgressSteps:Ke,getTimerLeft:iN,getTimerProgressBar:ms,getTitle:B,getValidationMessage:Xt,increaseTimer:oN,isDeprecatedParameter:m_,isLoading:dP,isTimerRunning:aN,isUpdatableParameter:p_,isValidParameter:h_,isVisible:JP,mixin:rN,resumeTimer:E_,showLoading:wo,stopTimer:__,toggleTimer:sN}),dN=function(){function y(d,p){o(this,y),this.callback=d,this.remaining=p,this.running=!1,this.start()}return l(y,[{key:"start",value:function(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}},{key:"stop",value:function(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}},{key:"increase",value:function(p){var g=this.running;return g&&this.stop(),this.remaining+=p,g&&this.start(),this.remaining}},{key:"getTimerLeft",value:function(){return this.running&&(this.stop(),this.start()),this.remaining}},{key:"isRunning",value:function(){return this.running}}]),y}(),T_=["swal-title","swal-html","swal-footer"],fN=function(d){var p=typeof d.template=="string"?document.querySelector(d.template):d.template;if(!p)return{};var g=p.content;_N(g);var I=Object.assign(hN(g),pN(g),mN(g),gN(g),yN(g),vN(g),wN(g,T_));return I},hN=function(d){var p={},g=Array.from(d.querySelectorAll("swal-param"));return g.forEach(function(I){ws(I,["name","value"]);var D=I.getAttribute("name"),G=I.getAttribute("value");typeof _o[D]=="boolean"?p[D]=G!=="false":s(_o[D])==="object"?p[D]=JSON.parse(G):p[D]=G}),p},pN=function(d){var p={},g=Array.from(d.querySelectorAll("swal-function-param"));return g.forEach(function(I){var D=I.getAttribute("name"),G=I.getAttribute("value");p[D]=new Function("return ".concat(G))()}),p},mN=function(d){var p={},g=Array.from(d.querySelectorAll("swal-button"));return g.forEach(function(I){ws(I,["type","color","aria-label"]);var D=I.getAttribute("type");p["".concat(D,"ButtonText")]=I.innerHTML,p["show".concat(ho(D),"Button")]=!0,I.hasAttribute("color")&&(p["".concat(D,"ButtonColor")]=I.getAttribute("color")),I.hasAttribute("aria-label")&&(p["".concat(D,"ButtonAriaLabel")]=I.getAttribute("aria-label"))}),p},gN=function(d){var p={},g=d.querySelector("swal-image");return g&&(ws(g,["src","width","height","alt"]),g.hasAttribute("src")&&(p.imageUrl=g.getAttribute("src")),g.hasAttribute("width")&&(p.imageWidth=g.getAttribute("width")),g.hasAttribute("height")&&(p.imageHeight=g.getAttribute("height")),g.hasAttribute("alt")&&(p.imageAlt=g.getAttribute("alt"))),p},yN=function(d){var p={},g=d.querySelector("swal-icon");return g&&(ws(g,["type","color"]),g.hasAttribute("type")&&(p.icon=g.getAttribute("type")),g.hasAttribute("color")&&(p.iconColor=g.getAttribute("color")),p.iconHtml=g.innerHTML),p},vN=function(d){var p={},g=d.querySelector("swal-input");g&&(ws(g,["type","label","placeholder","value"]),p.input=g.getAttribute("type")||"text",g.hasAttribute("label")&&(p.inputLabel=g.getAttribute("label")),g.hasAttribute("placeholder")&&(p.inputPlaceholder=g.getAttribute("placeholder")),g.hasAttribute("value")&&(p.inputValue=g.getAttribute("value")));var I=Array.from(d.querySelectorAll("swal-input-option"));return I.length&&(p.inputOptions={},I.forEach(function(D){ws(D,["value"]);var G=D.getAttribute("value"),ae=D.innerHTML;p.inputOptions[G]=ae})),p},wN=function(d,p){var g={};for(var I in p){var D=p[I],G=d.querySelector(D);G&&(ws(G,[]),g[D.replace(/^swal-/,"")]=G.innerHTML.trim())}return g},_N=function(d){var p=T_.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(d.children).forEach(function(g){var I=g.tagName.toLowerCase();p.includes(I)||gt("Unrecognized element <".concat(I,">"))})},ws=function(d,p){Array.from(d.attributes).forEach(function(g){p.indexOf(g.name)===-1&&gt(['Unrecognized attribute "'.concat(g.name,'" on <').concat(d.tagName.toLowerCase(),">."),"".concat(p.length?"Allowed attributes are: ".concat(p.join(", ")):"To set the value, use HTML within the element.")])})},b_=10,EN=function(d){var p=Lt(),g=k();typeof d.willOpen=="function"&&d.willOpen(g);var I=window.getComputedStyle(document.body),D=I.overflowY;IN(p,g,d),setTimeout(function(){TN(p,g)},b_),sp()&&(bN(p,d.scrollbarPadding,D),lk()),!rc()&&!$.previousActiveElement&&($.previousActiveElement=document.activeElement),typeof d.didOpen=="function"&&setTimeout(function(){return d.didOpen(g)}),pr(p,N["no-transition"])},xN=function y(d){var p=k();if(!(d.target!==p||!vs)){var g=Lt();p.removeEventListener(vs,y),g.style.overflowY="auto"}},TN=function(d,p){vs&&V0(p)?(d.style.overflowY="hidden",p.addEventListener(vs,xN)):d.style.overflowY="auto"},bN=function(d,p,g){uk(),p&&g!=="hidden"&&gk(g),setTimeout(function(){d.scrollTop=0})},IN=function(d,p,g){we(d,g.showClass.backdrop),g.animation?(p.style.setProperty("opacity","0","important"),yt(p,"grid"),setTimeout(function(){we(p,g.showClass.popup),p.style.removeProperty("opacity")},b_)):yt(p,"grid"),we([document.documentElement,document.body],N.shown),g.heightAuto&&g.backdrop&&!g.toast&&we([document.documentElement,document.body],N["height-auto"])},I_={email:function(d,p){return/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(d)?Promise.resolve():Promise.resolve(p||"Invalid email address")},url:function(d,p){return/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(d)?Promise.resolve():Promise.resolve(p||"Invalid URL")}};function SN(y){y.inputValidator||(y.input==="email"&&(y.inputValidator=I_.email),y.input==="url"&&(y.inputValidator=I_.url))}function CN(y){(!y.target||typeof y.target=="string"&&!document.querySelector(y.target)||typeof y.target!="string"&&!y.target.appendChild)&&(gt('Target parameter is not valid, defaulting to "body"'),y.target="body")}function AN(y){SN(y),y.showLoaderOnConfirm&&!y.preConfirm&&gt(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),CN(y),typeof y.title=="string"&&(y.title=y.title.split(`
`).join("<br />")),EP(y)}var mr,uc=new WeakMap,tt=function(){function y(){if(o(this,y),K(this,uc,{writable:!0,value:void 0}),!(typeof window>"u")){mr=this;for(var d=arguments.length,p=new Array(d),g=0;g<d;g++)p[g]=arguments[g];var I=Object.freeze(this.constructor.argsToParams(p));this.params=I,this.isAwaitingPromise=!1,ce(this,uc,this._main(mr.params))}}return l(y,[{key:"_main",value:function(p){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Hk(Object.assign({},g,p)),$.currentInstance){var I=yo.swalPromiseResolve.get($.currentInstance),D=$.currentInstance.isAwaitingPromise;$.currentInstance._destroy(),D||I({isDismissed:!0}),sp()&&G0()}$.currentInstance=mr;var G=PN(p,g);AN(G),Object.freeze(G),$.timeout&&($.timeout.stop(),delete $.timeout),clearTimeout($.restoreFocusTimeout);var ae=kN(mr);return H0(mr,G),Ae.innerParams.set(mr,G),RN(mr,ae,G)}},{key:"then",value:function(p){return ie(this,uc).then(p)}},{key:"finally",value:function(p){return ie(this,uc).finally(p)}}]),y}(),RN=function(d,p,g){return new Promise(function(I,D){var G=function(de){d.close({isDismissed:!0,dismiss:de})};yo.swalPromiseResolve.set(d,I),yo.swalPromiseReject.set(d,D),p.confirmButton.onclick=function(){Dk(d)},p.denyButton.onclick=function(){Ok(d)},p.cancelButton.onclick=function(){jk(d,G)},p.closeButton.onclick=function(){G(go.close)},Gk(g,p,G),tk($,g,G),bk(d,g),EN(g),NN($,g,G),DN(p,g),setTimeout(function(){p.container.scrollTop=0})})},PN=function(d,p){var g=fN(d),I=Object.assign({},_o,p,g,d);return I.showClass=Object.assign({},_o.showClass,I.showClass),I.hideClass=Object.assign({},_o.hideClass,I.hideClass),I.animation===!1&&(I.showClass={backdrop:"swal2-noanimation"},I.hideClass={}),I},kN=function(d){var p={popup:k(),container:Lt(),actions:pi(),confirmButton:Tt(),denyButton:Jn(),cancelButton:fi(),loader:hi(),closeButton:rp(),validationMessage:Xt(),progressSteps:Ke()};return Ae.domCache.set(d,p),p},NN=function(d,p,g){var I=ms();Mt(I),p.timer&&(d.timeout=new dN(function(){g("timer"),delete d.timeout},p.timer),p.timerProgressBar&&(yt(I),On(I,p,"timerProgressBar"),setTimeout(function(){d.timeout&&d.timeout.running&&ap(p.timer)})))},DN=function(d,p){if(!p.toast){if(!ps(p.allowEnterKey)){jN();return}ON(d,p)||dp(-1,1)}},ON=function(d,p){return p.focusDeny&&mn(d.denyButton)?(d.denyButton.focus(),!0):p.focusCancel&&mn(d.cancelButton)?(d.cancelButton.focus(),!0):p.focusConfirm&&mn(d.confirmButton)?(d.confirmButton.focus(),!0):!1},jN=function(){document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){var S_=new Date,C_=localStorage.getItem("swal-initiation");C_?(S_.getTime()-Date.parse(C_))/(1e3*60*60*24)>3&&setTimeout(function(){document.body.style.pointerEvents="none";var y=document.createElement("audio");y.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",y.loop=!0,document.body.appendChild(y),setTimeout(function(){y.play().catch(function(){})},2500)},500):localStorage.setItem("swal-initiation","".concat(S_))}tt.prototype.disableButtons=l_,tt.prototype.enableButtons=a_,tt.prototype.getInput=i_,tt.prototype.disableInput=c_,tt.prototype.enableInput=u_,tt.prototype.hideLoading=ac,tt.prototype.disableLoading=ac,tt.prototype.showValidationMessage=d_,tt.prototype.resetValidationMessage=f_,tt.prototype.close=gi,tt.prototype.closePopup=gi,tt.prototype.closeModal=gi,tt.prototype.closeToast=gi,tt.prototype.rejectPromise=X0,tt.prototype.update=g_,tt.prototype._destroy=y_,Object.assign(tt,cN),Object.keys(Kk).forEach(function(y){tt[y]=function(){if(mr&&mr[y]){var d;return(d=mr)[y].apply(d,arguments)}return null}}),tt.DismissReason=go,tt.version="11.10.3";var cc=tt;return cc.default=cc,cc}),typeof yi<"u"&&yi.Sweetalert2&&(yi.swal=yi.sweetAlert=yi.Swal=yi.SweetAlert=yi.Sweetalert2),typeof document<"u"&&function(n,r){var i=n.createElement("style");if(n.getElementsByTagName("head")[0].appendChild(i),i.styleSheet)i.styleSheet.disabled||(i.styleSheet.cssText=r);else try{i.innerHTML=r}catch{i.innerText=r}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:rgba(0,0,0,.4)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled).swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-confirm:focus{box-shadow:0 0 0 3px rgba(112,102,224,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-deny:focus{box-shadow:0 0 0 3px rgba(220,55,65,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,120,129,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-styled):focus{outline:none}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em;text-align:center}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em}div:where(.swal2-container) button:where(.swal2-close){z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:none;background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) .swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:#fff}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}div:where(.swal2-icon).swal2-warning{border-color:#facea8;color:#f8bb86}div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}div:where(.swal2-icon).swal2-info{border-color:#9de0f6;color:#3fc3ee}div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}div:where(.swal2-icon).swal2-question{border-color:#c9dae1;color:#87adbd}div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}')})(rP);var pq=rP.exports;const be=TT(pq),mq=async()=>{try{const t=Ca(ct,"users"),e=await Nh(t),n=[];return e.forEach(i=>{const s=i.data();n.push(s)}),n.map(i=>i.email)}catch(t){console.log(t.message,"aaaa")}},gq=()=>{const[t,e]=S.useState(""),[n,r]=S.useState(!1),[i,s]=S.useState(""),o=async l=>{l.preventDefault();try{(await mq()).includes(t)?(await PB(t)).ok===!0&&(be.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:5e3,timerProgressBar:!0,didOpen:m=>{m.onmouseenter=be.stopTimer,m.onmouseleave=be.resumeTimer}}).fire({icon:"success",title:"Revisa tu correo"}),e(""),r(!0)):be.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:5e3,timerProgressBar:!0,didOpen:h=>{h.onmouseenter=be.stopTimer,h.onmouseleave=be.resumeTimer}}).fire({icon:"error",title:"Ups! Correo no encontrado"})}catch{be.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:5e3,timerProgressBar:!0,didOpen:h=>{h.onmouseenter=be.stopTimer,h.onmouseleave=be.resumeTimer}}).fire({icon:"error",title:"Ups! Ocurri un error, intentalo ms tarde"})}},a=l=>{const u=l.target.value;e(u),s(hq(t))};return f.jsxs("form",{onSubmit:o,className:"relative",children:[f.jsx(Yu,{className:"w-[34px] h-[69px] absolute top-10 left-10"}),f.jsx("div",{className:"flex items-center justify-center h-screen overflow-hidden",children:f.jsx("img",{className:"w-full h-full object-cover",src:"src/icons/image-loginPage.jpeg"})}),f.jsx("div",{className:"w-100% flex items-center justify-center",children:f.jsxs("div",{className:"absolute top-1/4 z-20",style:{background:"rgba(71, 81, 87, 0.8)",padding:"15px",borderRadius:"25px",boxShadow:"0 4px 6px rgba(10, 10, 10, 0.7)",width:"400px",alignItems:"center",marginTop:"6%"},children:[f.jsx("label",{style:{color:"#D9D9D9",fontFamily:"Nueva Fuente, bebas neue",fontSize:"1.6rem"},children:"CORREO"}),f.jsx("br",{}),f.jsx("input",{className:"w-full h-8",style:{borderRadius:"10px"},name:"correo",value:t,placeholder:"  Aqu tu correo...",onChange:a}),i?f.jsx("p",{className:"text-red-400",style:{marginTop:"10px",marginLeft:"5px"},children:i}):null,f.jsx("div",{style:{display:"flex",justifyContent:"center",alignContent:"center",marginTop:"5%"},children:n?f.jsx(Oi,{to:"/loginUser",children:f.jsx("button",{style:{background:"#D74545",padding:"3%",paddingRight:"4%",paddingLeft:"4%",fontFamily:"Nueva Fuente, bebas neue",color:"#D9D9D9",fontSize:"1.3rem",borderRadius:"15px"},children:"Volver al inicio de sesin"})}):f.jsxs("button",{disabled:!t||i,onClick:o,style:{background:"#D74545",padding:"3%",paddingRight:"4%",paddingLeft:"4%",fontFamily:"Nueva Fuente, bebas neue",color:"#D9D9D9",fontSize:"1.3rem",borderRadius:"15px"},children:[" ","Enviar"," "]})})]})})]})};const P0=()=>f.jsx("div",{className:"loading-container",children:f.jsx("div",{className:"loading-spinner"})}),yq="/assets/footerImage-406c546e.png",vq=()=>f.jsxs("footer",{className:"flex w-full h-[340px] py-10 px-20 gap-20 relative",children:[f.jsx("img",{className:"w-full absolute -z-50 top-0 left-0",src:yq,alt:""}),f.jsx("figure",{children:f.jsx(fz,{className:"w-[75px] h-[151px]"})}),f.jsxs("section",{className:"h-full",children:[f.jsx("h1",{className:"text-2xl font-bebas text-white",children:"Sitio Web"}),f.jsxs("ul",{className:"text-white mt-2",children:[f.jsx("li",{className:"hover:text-primary",children:"Productos"}),f.jsx("li",{className:"hover:text-primary",children:"Asesoras"}),f.jsx("li",{className:"hover:text-primary",children:"Ofertas"}),f.jsx("li",{className:"hover:text-primary",children:"Preguntas frecuentes"}),f.jsx("li",{className:"hover:text-primary",children:"Blog"}),f.jsx("li",{className:"hover:text-primary",children:"Contacto"})]})]}),f.jsxs("section",{className:"h-full text-white ",children:[f.jsx("h1",{className:"text-2xl font-bebas",children:"Social Media"}),f.jsxs("ul",{className:"text-white mt-2",children:[f.jsx("li",{className:"hover:text-primary",children:"Facebook"}),f.jsx("li",{className:"hover:text-primary",children:"Instagram"}),f.jsx("li",{className:"hover:text-primary",children:"Youtube"}),f.jsx("li",{className:"hover:text-primary",children:"TikTok"})]})]})]}),wq=({setShowCart:t})=>{const{currentUser:e,productsLocalStorage:n,setProductsLocalStorage:r,products:i}=S.useContext(Yn),[s,o]=S.useState(0);S.useEffect(()=>{if(!e){const c=JSON.parse(window.localStorage.getItem("products"));r(c);return}const l=Yt(ct,"carritos",e.uid),u=Lw(l,c=>{if(c.exists()){const w=(c.data().productos||[]).reduce((_,x)=>_+x.cantidad,0);o(w)}else o(0)});return()=>u()},[e]);const a=n?n.reduce((l,u)=>l+u.cantidad,0):i?i.reduce((l,u)=>l+u.cantidad,0):0;return f.jsx("div",{children:f.jsxs("button",{onClick:()=>{t(!0)},className:"relative",children:[f.jsx(hz,{className:"w-10 transition fill-primaryDark hover:scale-125 hover:fill-primary"}),f.jsx("span",{className:"absolute flex justify-center items-center w-5 h-5 text-xs top-0 right-[-4px] font-montserrat text-white bg-primary/90 rounded-full",children:s||a||0})]})})},_q=async(t,e)=>{try{const n=Yt(ct,"carritos",t),r=await li(n);if(r.exists()){const s=r.data().productos,o=s.findIndex(a=>a.id==e);o!==-1&&s[o].cantidad>0&&(s[o].cantidad-=1,s[o].cantidad===0&&s.splice(o,1),await gu(n,{productos:s}),console.log("Cantidad disminuida con xito"))}}catch(n){console.log("El producto no existe en el carrito:",n.message)}},vT=({name:t,price:e,image:n,id:r,amount:i,stock:s})=>{const{currentUser:o,setProductsLocalStorage:a}=S.useContext(Yn),[l,u]=S.useState(0);S.useEffect(()=>{if(!o){const T=JSON.parse(window.localStorage.getItem("products")||[]).find(E=>E.id==r);u(T&&T.cantidad||0);return}const w=Yt(ct,"carritos",o==null?void 0:o.uid),_=Lw(w,x=>{if(x.exists()){const v=(x.data().products||[]).find(b=>b.id==r);u(v&&v.cantidad||0)}else u(0)});return()=>_()},[o==null?void 0:o.uid,r,i]);const c=async w=>{if(i>=s)return;const _=JSON.parse(window.localStorage.getItem("products"))||[],x=_.find(T=>T.id==w);x&&(x.cantidad=(x.cantidad||0)+1,u(x.cantidad)),window.localStorage.setItem("products",JSON.stringify(_)),a(_)},h=w=>{var T;const _=JSON.parse(window.localStorage.getItem("products"))||[],x=_.findIndex(E=>E.id==w);x!==-1&&(_[x].cantidad=(_[x].cantidad||0)-1,_[x].cantidad<=0&&_.splice(x,1),window.localStorage.setItem("products",JSON.stringify(_)),u(((T=_[x])==null?void 0:T.cantidad)||0),a(_))},m=()=>{i>=s||R0(o==null?void 0:o.uid,r)};return f.jsx("div",{children:f.jsx("li",{className:"flex border-b-slate-600 mb-2",children:f.jsxs("div",{className:"flex",children:[f.jsx("figure",{children:f.jsx("img",{src:n,alt:"foto de producto",width:130})}),f.jsxs("div",{children:[f.jsxs("div",{className:"font-bebas",children:[f.jsx("h2",{className:"text-2xl mt-3",children:t}),f.jsxs("span",{className:"text-lg",children:["Precio: $",e]})]}),f.jsxs("div",{children:[f.jsxs("span",{className:"font-bebas mr-6",children:[" Cant: ",i]}),o?f.jsx("button",{onClick:()=>_q(o==null?void 0:o.uid,r),className:"mr-3 text-3xl text-primary font-bold",children:"-"}):f.jsx("button",{className:"mr-3 text-3xl text-primary font-bold",onClick:()=>h(r),children:"-"}),o?f.jsx("button",{onClick:m,className:"mr-3",children:"+"}):f.jsx("button",{className:"mr-3 text-2xl text-teal-600 font-bold",onClick:()=>c(r),children:"+"})]})]})]})})})},k0=async t=>{try{const e=Yt(ct,"carritos",t),n=await li(e);return n.exists()?n.data().productos:[]}catch{}},Eq=({})=>{const{currentUser:t,setProducts:e,products:n,productsLocalStorage:r,setShowCart:i,setShowOrder:s}=S.useContext(Yn),o=async()=>t?await k0(t.uid):[];S.useEffect(()=>{o().then(c=>{e(c)})},[]),S.useEffect(()=>{if(!t)return;const c=Yt(ct,"carritos",t.uid),h=Lw(c,m=>{const _=m.data().productos||[],x=_.length&&_.filter(T=>T.cantidad>0);e(x)});return()=>{h()}},[]);let a=null,l=null;t?(a=f.jsx("ul",{children:n.length&&n.map(({price:c,name:h,image:m,cantidad:w,stock:_,id:x})=>f.jsx(vT,{id:x,name:h,price:c,image:m,amount:w,stock:_},x))}),l=n.length?n.reduce((c,h)=>c+h.price*h.cantidad,0).toFixed(2):0):(a=f.jsx("ul",{children:r==null?void 0:r.map(({id:c,name:h,price:m,image:w,cantidad:_,stock:x})=>f.jsx(vT,{id:c,name:h,price:m,image:w,amount:_,stock:x},c))}),l=r?r.reduce((c,h)=>c+h.price*h.cantidad,0).toFixed(2):0);const u=()=>{i(!1),s(!0)};return f.jsx("div",{children:f.jsxs("aside",{className:"sideMenuLayout",children:[f.jsx("button",{onClick:()=>i(!1),className:"fixed right-6",children:f.jsx(FR,{className:"mb-1 text-red-700/90 w-8 transition hover:scale-125 hover:text-red-600"})}),n!=null&&n.length?f.jsx("article",{className:"mb-10",children:a}):r!=null&&r.length?f.jsx("article",{className:"mb-10",children:a}):f.jsx("section",{className:"m-auto font-bebas text-3xl",children:f.jsx("span",{children:"Carrito vaco"})}),f.jsxs("section",{className:"flex justify-between items-center bg-white fixed bottom-0 h-12 w-72",children:[f.jsx("div",{className:"fixed right-7 bottom-2 font-bebas text-2xl",children:l>0&&f.jsx("button",{onClick:u,className:" bg-primary p-1 px-3 rounded-2xl text-white",children:"Comprar"})}),f.jsxs("div",{className:"relative left-3 font-bebas text-2xl",children:[f.jsx("span",{children:"Total: "}),f.jsxs("span",{children:["$ ",l]})]})]})]})})},xq=({className:t})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:t,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 15 3 9m0 0 6-6M3 9h12a6 6 0 0 1 0 12h-3"})});var N0={};Object.defineProperty(N0,"__esModule",{value:!0});var iP=N0.loadMercadoPago=void 0;const sP="https://sdk.mercadopago.com/js/v2",Tq=/^https:\/\/sdk\.mercadopago\.com\/js\/v2\/?(\?.*)?$/,wT="MercadoPago has already been initialized in your window, please remove the duplicate import",bq="MercadoPago.js not available",Iq="Failed to load MercadoPago.js",Sq=()=>{for(var t=document.querySelectorAll(`script[src^="${sP}"`),e=0;e<t.length;e++){var n=t[e];if(Tq.test(n.src))return n}return null},Cq=()=>{const t=document.createElement("script");t.src=sP;const e=document.head||document.body;if(!e)throw new Error("Expected document.body or document.head not to be null. MercadoPago requires a <body> or a <head> element, please add on your project.");return e.appendChild(t),t};let qc=null;const Aq=()=>(qc!==null||(qc=new Promise((t,e)=>{if(typeof window>"u"){t(null);return}if(window.MercadoPago){console.warn(wT),t(window.MercadoPago);return}try{let n=Sq();n?console.warn(wT):n||(n=Cq()),n.addEventListener("load",()=>{window.MercadoPago?t(window.MercadoPago):e(new Error(bq))}),n.addEventListener("error",()=>{e(new Error(Iq))})}catch(n){e(n);return}})),qc);iP=N0.loadMercadoPago=Aq;var Rq=globalThis&&globalThis.__awaiter||function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};class _r{static getInstance(){return Rq(this,void 0,void 0,function*(){if(this.publicKey)return this.loadedInstanceMercadoPago||(yield iP(),this.loadedInstanceMercadoPago=!0),this.instanceMercadoPago||(this.instanceMercadoPago=new window.MercadoPago(this.publicKey,this.options)),this.instanceMercadoPago;console.error("Expected the PUBLIC_KEY to render the MercadoPago SDK React")})}}_r.publicKey=null;_r.options={};_r.instanceMercadoPago=void 0;_r.loadedInstanceMercadoPago=!1;function Pq(t,e){return Object.keys(t).length===Object.keys(e).length&&Object.keys(t).every(r=>Object.prototype.hasOwnProperty.call(e,r)&&t[r]===e[r])}const kq=(t,e)=>{const n=Object.assign(Object.assign({},e),{frontEndStack:"react"}),r=!Pq(_r.options,n);(t!==_r.publicKey||r)&&(_r.publicKey=t,_r.options=n,_r.instanceMercadoPago=void 0)},Nq=200;var Dq=globalThis&&globalThis.__awaiter||function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const Oq=()=>Dq(void 0,void 0,void 0,function*(){}),jq=()=>{},Lq=t=>{console.error(t)};var Mq=globalThis&&globalThis.__awaiter||function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const Vq=({settings:t,name:e,divId:n,controller:r})=>Mq(void 0,void 0,void 0,function*(){const i=yield _r.getInstance(),s=i==null?void 0:i.bricks();window[r]=yield s==null?void 0:s.create(e,n,t)}),Fq=({onReady:t=jq,onError:e=Lq,onSubmit:n=Oq,customization:r,initialization:i,locale:s})=>(S.useEffect(()=>{let o;const a={settings:{initialization:i,customization:r,locale:s,callbacks:{onReady:t,onSubmit:n,onError:e}},name:"wallet",divId:"walletBrick_container",controller:"walletBrickController"};return o=setTimeout(()=>{Vq(a)},Nq),()=>{var l;clearTimeout(o),(l=window.walletBrickController)===null||l===void 0||l.unmount()}},[r,i,t,e,n]),fe.createElement("div",{id:"walletBrick_container"}));globalThis&&globalThis.__awaiter;globalThis&&globalThis.__awaiter;globalThis&&globalThis.__awaiter;globalThis&&globalThis.__awaiter;globalThis&&globalThis.__awaiter;globalThis&&globalThis.__awaiter;globalThis&&globalThis.__awaiter;const Uq=()=>{const t=Date.now(),e=Math.floor(Math.random()*1e4);return`${t}${e}`},$q=()=>{const t=Date.now();return new Date(t).toLocaleDateString()},Bq=async(t,e)=>{try{const n=Uq(),r=$q(),i=Ca(ct,"users",t,"facturas"),s=Yt(i,n);return await lo(s,{billNumber:n,fecha:r,data:e}),n}catch(n){throw console.error("Error al crear la factura:",n),n}},oP=async(t,e,n)=>{try{const r=Ca(ct,"users",t,"facturas"),i=Yt(r,e);return await lo(i,n,{merge:!0}),{ok:!0}}catch(r){console.log("Error al actualizar factura:",r.message)}},zq=({userId:t,userEmail:e,arrayItems:n,totalPay:r})=>{const[i,s]=S.useState();kq("TEST-96d6884d-30e9-4fe8-a75f-16fdc52d9ddb");const o=async()=>{try{const a=await Bq(t,n),{data:l}=await wf.post("http://localhost:3001/create_preference",{userId:t,userEmail:e,items:n,orderId:a}),{id:u}=l;u&&s(u),await oP(t,a,{orderMP:u});return}catch(a){console.log(a)}};return S.useEffect(()=>{o()},[]),f.jsx("div",{children:i?f.jsx(Fq,{initialization:{preferenceId:i}}):f.jsx("p",{children:"Cargando..."})})},Hq=()=>{const t=Kh(),{currentUser:e,user:n,products:r,productsLocalStorage:i,setTotalPay:s,totalPay:o,setShowOrder:a,setShowCart:l}=S.useContext(Yn),[u,c]=S.useState(null),[h,m]=S.useState(!1),w=4500;let _,x,T=!1;r.length?(_=f.jsx("ul",{children:r==null?void 0:r.map(({name:L,price:F,cantidad:z})=>f.jsxs("div",{className:"font-bebas text-2xl mb-3",children:[f.jsxs("p",{className:"text-primary",children:[L," ",f.jsxs("span",{className:"text-black ml-5 font-montserrat font-medium text-xl",children:[" ","x",z]})]}),f.jsxs("p",{children:["total:"," ",f.jsxs("span",{className:"text-teal-600",children:[" $",F*z,".00"]})]})]}))}),x=r==null?void 0:r.reduce((L,F)=>L+F.price*F.cantidad,0).toFixed(2)):(_=f.jsx("ul",{children:i==null?void 0:i.map(({name:L,price:F,cantidad:z})=>f.jsxs("div",{className:"font-bebas text-2xl mb-3",children:[f.jsxs("p",{className:"text-primary",children:[L," ",f.jsxs("span",{className:"text-black ml-5 font-montserrat font-medium text-xl",children:[" ","x",z]})]}),f.jsxs("p",{children:["total:"," ",f.jsxs("span",{className:"text-teal-600",children:[" $",F*z,".00"]})]})]}))}),x=i==null?void 0:i.reduce((L,F)=>L+F.price*F.cantidad,0).toFixed(2)),x>5e4&&(T=!0);const E=(x-x*10/100).toFixed(2),v=(x-E).toFixed(2),b=(Number(x)+w).toFixed(2);x<5e4?s(b):x>15e4?s(E):s(x);let C=r&&r.map(({id:L,name:F,price:z,cantidad:q,image:Me})=>({id:L,title:F,unit_price:Math.round(z),quantity:q,picture_url:Me}));const R=async()=>{if(e||t("/auth/loginUser"),n.dataCompleted){c(C),m(!0);return}t("/preCheckout"),a(!1),l(!1)},O=()=>{a(!1),l(!0)};return f.jsx("div",{children:f.jsxs("aside",{className:"sideMenuLayout",children:[f.jsxs("section",{children:[f.jsx("button",{onClick:O,children:f.jsx(xq,{className:"mb-1 text-teal-700/90 w-7 transition hover:scale-125 hover:text-teal-600"})}),r!=null&&r.length?f.jsx("article",{className:"mb-10",children:_}):i!=null&&i.length?f.jsx("article",{className:"mb-10",children:_}):f.jsx("section",{className:"m-auto font-bebas text-3xl",children:f.jsx("span",{children:"Carrito vaco"})})]}),f.jsxs("div",{className:"mb-10",children:[f.jsxs("p",{className:"flex justify-between  font-medium mb-2",children:["Envo"," ",T?f.jsx("span",{className:"text-green-500",children:"Gratis"}):f.jsx("span",{className:"text-primary",children:w})]}),x>15e4?f.jsxs("p",{className:"flex justify-between  font-medium mb-5",children:["Descuento 10%"," ",f.jsxs("span",{className:"text-green-500",children:["-",v]})]}):null]}),e&&n.calle&&n.altura&&f.jsxs("div",{children:[f.jsx("span",{children:`La direccin de envo registrada es ${n.calle} ${n.altura}`}),f.jsx("a",{href:"/preCheckout",children:f.jsx("p",{children:" Cambiar la direccin"})})]}),f.jsxs("section",{className:"flex justify-between items-center bg-white fixed bottom-0 h-14 w-72",children:[f.jsx("div",{className:"font-bebas text-2xl mb-2",children:!h&&f.jsxs("div",{children:[f.jsxs("p",{className:"text-base mt-2 w-96 bg-white",children:["Sub-total: ",x]}),f.jsx("span",{children:"Total: "}),f.jsxs("span",{children:["$ ",o]})]})}),f.jsxs("div",{className:"fixed right-7 bottom-2 font-bebas text-2xl",children:[x>0&&!h&&f.jsx("button",{onClick:R,className:" bg-primary p-1 px-3 rounded-2xl text-white",children:"Pagar"}),f.jsx("div",{className:"relative right-7",children:u&&n.dataCompleted&&f.jsx(zq,{userId:e.uid,userEmail:e.email,arrayItems:C,totalPay:o})})]}),f.jsx("div",{})]})]})})},qq=async t=>{const e=Yt(ct,"carritos",t);try{!(await li(e)).exists()&&await lo(e,{productos:[]})}catch(n){console.log("Error creando/verficando el carrito",n.message)}};var aP={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},_T=fe.createContext&&fe.createContext(aP),Xi=globalThis&&globalThis.__assign||function(){return Xi=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Xi.apply(this,arguments)},Wq=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function lP(t){return t&&t.map(function(e,n){return fe.createElement(e.tag,Xi({key:n},e.attr),lP(e.child))})}function D0(t){return function(e){return fe.createElement(Kq,Xi({attr:Xi({},t.attr)},e),lP(t.child))}}function Kq(t){var e=function(n){var r=t.attr,i=t.size,s=t.title,o=Wq(t,["attr","size","title"]),a=i||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),fe.createElement("svg",Xi({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:Xi(Xi({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&fe.createElement("title",null,s),t.children)};return _T!==void 0?fe.createElement(_T.Consumer,null,function(n){return e(n)}):e(aP)}function Gq(t){return D0({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"m2 12 5 4v-3h9v-2H7V8z"}},{tag:"path",attr:{d:"M13.001 2.999a8.938 8.938 0 0 0-6.364 2.637L8.051 7.05c1.322-1.322 3.08-2.051 4.95-2.051s3.628.729 4.95 2.051 2.051 3.08 2.051 4.95-.729 3.628-2.051 4.95-3.08 2.051-4.95 2.051-3.628-.729-4.95-2.051l-1.414 1.414c1.699 1.7 3.959 2.637 6.364 2.637s4.665-.937 6.364-2.637c1.7-1.699 2.637-3.959 2.637-6.364s-.937-4.665-2.637-6.364a8.938 8.938 0 0 0-6.364-2.637z"}}]})(t)}const Qq=mA(),Yq=async()=>(await be.mixin({toast:!0,position:"top-end",showConfirmButton:!0,showCancelButton:!0,didOpen:e=>{e.onmouseenter=be.stopTimer,e.onmouseleave=be.resumeTimer}}).fire({icon:"question",title:"Quieres cerrar sesin?"})).isConfirmed===!0?(await m6(Qq),console.log("El usuario cerro sesin exitosamente"),be.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:5e3,timerProgressBar:!0,didOpen:n=>{n.onmouseenter=be.stopTimer,n.onmouseleave=be.resumeTimer}}).fire({icon:"success",title:"Sesin cerrada exitosamente"}),!0):(console.log("No se pudo cerrar sesion"),!1),Xq=()=>{const t=Gn(),{currentUser:e,showCart:n,showOrder:r,setShowOrder:i,setShowCart:s,setCurrentUser:o,setProductsLocalStorage:a,setProducts:l}=S.useContext(Yn),u=async()=>{await Yq()&&(o(null),a([]),l([]))};S.useEffect(()=>{e&&qq(e.uid)},[e]);const c=()=>{console.log("resetFilterOn"),t(md()),t(gd()),t(Ty())};return f.jsx(f.Fragment,{children:f.jsxs("nav",{className:"flex w-full bg-primaryLight h-24 items-center py-5 px-10 justify-between",children:[f.jsx(Yu,{className:"w-[34px] h-[69px] mr-[128px]"}),f.jsxs("section",{className:"font-bebas flex gap-2 text-2xl",children:[f.jsx(Oi,{to:"home",className:({isActive:h})=>`hover:text-tertiary ${h?"text-primary underline decoration-primary underline-offset-4":"text-black"}`,children:"Home"}),f.jsx(Oi,{to:"productsPage",className:({isActive:h})=>`hover:text-tertiary ${h?"text-primary underline decoration-primary underline-offset-4":"text-black"}`,onClick:c,children:"Productos"}),f.jsx(Oi,{to:"training",className:({isActive:h})=>`hover:text-tertiary ${h?"text-primary underline decoration-primary underline-offset-4":"text-black"}`,children:"Training"})]}),f.jsxs("section",{className:"flex gap-2 w-[195px]",children:[f.jsx(Gq,{onClick:u,style:{width:"19%",height:"19%",marginTop:"2.5%"},className:"w-10 transition fill-primaryDark hover:scale-125 hover:fill-primary"}),f.jsx(Oi,{to:"auth/loginPage",children:f.jsx(pz,{className:"w-10 transition fill-primaryDark hover:scale-125 hover:fill-primary"})}),f.jsx(dz,{className:"w-10 transition fill-primaryDark hover:scale-125 hover:fill-primary"}),f.jsx(wq,{setShowCart:s}),n&&f.jsx(Eq,{setShowCart:s,setShowOrder:i}),r&&f.jsx(Hq,{setShowOrder:i,setShowCart:s})]})]})})},Jq="_container_s3phc_3",Zq="_Image_s3phc_47",eW="_texto_s3phc_65",tW="_addButton_s3phc_83",nW={container:Jq,Image:Zq,texto:eW,addButton:tW};function ky({id:t,name:e,price:n,image:r,stock:i}){const{currentUser:s,productsLocalStorage:o,setProductsLocalStorage:a}=S.useContext(Yn),l=async()=>{if(i>0)if(s){const u=o==null?void 0:o.find(c=>c.id==t);if(u)u.cantidad+=1,a([...o]);else{const c=await k0(s.uid);(c==null?void 0:c.find(m=>m.id==t))?R0(s.uid,t):A0(s.uid,{name:e,price:n,image:r[0],stock:i,cantidad:1,id:t})}}else{const u=JSON.parse(localStorage.getItem("products"))||[];console.log(u);const c=u.find(h=>h.id==t);if(c){if(c.cantidad>=i)return;c.cantidad+=1,localStorage.setItem("products",JSON.stringify(u)),a(u)}else u.push({name:e,price:n,image:r[0],cantidad:1,id:t,stock:i}),localStorage.setItem("products",JSON.stringify(u)),a(u)}};return f.jsx("section",{className:"flex flex-col justify-center items-center w-56 py-5 my-3 shadow-md rounded-xl transition hover:scale-110 bg-white",children:f.jsx("div",{className:"flex flex-col justify-center items-center",children:f.jsxs("div",{className:"flex flex-col items-center font-bebas text-center gap-1",children:[f.jsx(jn,{to:`/detail/${t}`,children:f.jsx("img",{src:r,alt:"IMG",className:nW.Image})}),f.jsx("h3",{children:e}),f.jsxs("p",{className:"text-black text-lg",children:["$",n]}),f.jsx("div",{className:"h-10",children:f.jsx("button",{className:"addButton",onClick:l,children:"AGREGAR"})})]})})})}function rW(t){return D0({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"}}]})(t)}const iW=()=>{const t=Date.now(),e=Math.floor(Math.random()*1e4);return`${t}${e}`},sW=async(t,e)=>{try{const n=iW(),r=Ca(ct,"users",t,"reviews"),i=Yt(r,n);return await lo(i,{reviewNumber:n,...e}),n}catch(n){console.log("Error al crear la resea:",n.message)}},oW=({setShowReview:t,selectedItem:e})=>{const{currentUser:n}=S.useContext(Yn),r=Array(5).fill(0),[i,s]=S.useState(0),[o,a]=S.useState(void 0),[l,u]=S.useState(""),c={id:n.uid,name:n.displayName,photoURL:n.photoURL},h=T=>s(T),m=T=>a(T),w=()=>a(void 0),_=T=>u(T.target.value),x=async T=>{if(T.preventDefault(),!l.trim()){alert("Por favor ingresa tu comentario antes de enviar la valoracin");return}if(!i){alert("Por favor selecciona un rating");return}await sW(n==null?void 0:n.uid,{itemName:e.title,feedback:l,itemId:e.id,userReview:c,rating:i}),t(!1),window.alert("gracias por tu valoracin")};return f.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-30 backdrop-blur-sm justify-center items-center ",children:f.jsxs("div",{className:`bg-white\r
        rounded\r
        mt-36\r
        flex\r
        flex-col\r
        justify-center\r
        items-center\r
        m-auto\r
        w-min  \r
        p-5\r
      \r
      `,children:[f.jsx("section",{className:" w-96  text-right",children:f.jsx("button",{onClick:()=>t(),children:f.jsx(FR,{className:"mb-1 text-red-700/90 w-8 transition hover:scale-125 hover:text-red-600"})})}),f.jsxs("span",{className:"font-bebas text-3xl",children:[" ","Review para ",f.jsx("span",{className:"text-primary",children:e.name})]}),f.jsx("div",{children:f.jsx("div",{className:"flex my-3",children:r.map((T,E)=>f.jsx(rW,{size:24,color:(o||i)>E?"#D6774F":"#94a3b8",onClick:()=>h(E+1),onMouseOver:()=>m(E+1),onMouseLeave:w},E))})}),f.jsxs("div",{children:[f.jsx("textarea",{className:"w-96 font-montserrat border-slate-400 resize-none h-56 focus:ring-0 focus:border-slate-400",placeholder:"Escribe tu opinin del producto recibido",value:l,onChange:_}),f.jsx("div",{className:"text-center",children:f.jsx("button",{className:"bg-primary p-2 rounded font-bebas text-white text-xl mt-2",onClick:x,children:"Enviar"})})]})]})})},aW=async()=>{try{const t=uy(FV(ct,"reviews")),e=await Nh(t),n=[];return e.forEach(r=>n.push(r.data())),n}catch(t){console.error("Error al obtener todas las facturas:",t.message)}},lW=({name:t,feedback:e,rating:n})=>f.jsxs("div",{className:"w-[400px] mx-auto relative bg-gradient-to-r from-red-400 to-slate-400 text-white rounded-lg overflow-hidden shadow-lg mb-5 flex p-4",children:[f.jsx("div",{className:"p-1 rounded-full shadow-md",children:f.jsx("img",{src:"https://i0.wp.com/digitalhealthskills.com/wp-content/uploads/2022/11/3da39-no-user-image-icon-27.png?fit=500%2C500&ssl=1",alt:t,width:65,className:"rounded-full"})}),f.jsxs("div",{className:"px-4 py-2  w-[80%]",children:[f.jsxs("div",{className:"flex  justify-between",children:[f.jsx("div",{className:"text-xl font-bebas mr-5",children:t}),f.jsx("div",{className:"flex gap-1",children:Array.from({length:5}).map((r,i)=>f.jsx("span",{className:`text-xl ${i<n?"text-yellow-400":"text-gray-500"}`,children:""},i))})]}),f.jsx("p",{className:"text-white text-sm mt-2 font-montserrat",children:e})]})]}),ET=()=>{const t=Gn(),{id:e}=jR(),{product:n,loading:r}=ls(C=>C.product),[i,s]=S.useState(1),[o,a]=S.useState(null),[l,u]=S.useState(null),{currentUser:c,productsLocalStorage:h,setProductsLocalStorage:m}=S.useContext(Yn),{name:w,price:_,image:x,stock:T}=n;S.useEffect(()=>{t(o8(e)),window.scrollTo(0,0)},[e]),S.useEffect(()=>{(async()=>{const O=(await aW()).filter(L=>L.itemId==e);if(O.length>0){a(O);const F=O.map(z=>z.rating).reduce((z,q)=>z+q,0);u(F/o.length)}})()},[c,e]);const E=async()=>{if(T>0)if(c){const C=h==null?void 0:h.find(R=>R.id==e);if(C)C.cantidad+=i,m([...h]);else{const R=await k0(c.uid);(R==null?void 0:R.find(L=>L.id==e))?R0(c.uid,e,i):A0(c.uid,{name:w,price:_,image:x[0],stock:T,cantidad:i,id:e})}}else{const C=JSON.parse(localStorage.getItem("products"))||[];console.log(C);const R=C.find(O=>O.id==e);if(R){if(R.cantidad>=T)return;R.cantidad+=i,localStorage.setItem("products",JSON.stringify(C)),m(C)}else C.push({name:w,price:_,image:x[0],cantidad:i,id:e,stock:T}),localStorage.setItem("products",JSON.stringify(C)),m(C)}},v=()=>{s(i+1)},b=()=>{i<=1||s(i-1)};return n.Reviews,f.jsx("main",{className:"w-auto h-full flex flex-col items-center mt-10 mx-8 gap-16",children:r?f.jsx(P0,{}):f.jsxs(f.Fragment,{children:[f.jsxs("section",{className:"flex flex-row items-center gap-2 h-full",children:[f.jsx("figure",{className:"flex-1 h-full flex items-center w-auto justify-center gap-10",children:f.jsx("img",{className:"h-full",src:n.image})}),f.jsxs("dl",{className:"flex-1 flex flex-col p-7 w-auto h-auto bg-primaryLight/30 rounded-xl",children:[f.jsxs("section",{className:"flex flex-col w-full items-start ",children:[f.jsx("dt",{className:"font-bebas text-2xl",children:n.name}),f.jsxs("dd",{className:"font-montserrat mb-3",children:[f.jsx("span",{className:"mr-3",children:l}),Array.from({length:5}).map((C,R)=>f.jsx("span",{className:`text-xl ${R<l?"text-yellow-400":"text-gray-500"}`,children:""},R)),f.jsx("span",{className:"ml-3",children:o==null?void 0:o.length}),(o==null?void 0:o.length)>1?f.jsx("span",{className:"ml-3",children:"Opiniones"}):(o==null?void 0:o.length)>0?f.jsx("span",{className:"ml-3",children:"Opinin"}):f.jsx("span",{className:"ml-3",children:"An no hay opiniones"})]}),f.jsxs("span",{className:"font-montserrat font-medium text-primary text-2xl",children:["$",n.price]})]}),f.jsxs("section",{className:"flex items-center h-12 gap-2.5 mt-1",children:[f.jsxs("figure",{className:"flex px-3 py-2 items-center gap-2 font-bebas rounded-full border-solid border-2 border-black text-black",children:[f.jsx("button",{className:"transition hover:scale-150 hover:text-primary px-2",onClick:b,children:"-"}),i,f.jsx("button",{className:"transition hover:scale-150 hover:text-primary px-2",onClick:v,children:"+"})]}),f.jsx("button",{className:"addButton",onClick:E,children:"AGREGAR"})]}),f.jsx("section",{className:"flex flex-col py-2.5 gap-2.5 font-montserrat",children:f.jsxs("div",{children:[f.jsx("dt",{className:"font-bold text-xl",children:"Detalles"}),f.jsxs("ul",{className:"list-disc",children:[n.pre_description&&n.pre_description.map((C,R)=>f.jsx("li",{className:"ml-5",children:C})),f.jsxs("li",{className:"ml-5",children:[f.jsx("span",{className:"font-bold",children:"Tamao: "}),n.size]}),f.jsxs("li",{className:"ml-5",children:[f.jsx("span",{className:"font-bold",children:"Stock: "}),n.stock]}),f.jsxs("li",{className:"ml-5",children:[f.jsx("span",{className:"font-bold",children:"Dosis: "}),n.dose]})]})]})})]})]}),f.jsx("section",{className:"grid lg:grid-cols-3 sm:grid-cols-1 md:grid-cols-2  w-[98%] items-start ",children:o&&o.map((C,R)=>f.jsx("div",{className:"",children:f.jsx(lW,{name:C.userReview.name,feedback:C.feedback,rating:C.rating},R)}))}),f.jsx("section",{})]})})};const uW=()=>{const{copyProducts:t,loading:e,filters:n}=ls(h=>h.product),r=S.useMemo(()=>c(t,5),[t]),i=S.useMemo(()=>u(t),[t]),s=u(t),o=u(t),a=Gn(),l=h=>{a(xy({...n,category:h.target.value}))};function u(h){const m=Math.floor(Math.random()*h.length);return h[m]}function c(h,m){if(h.length===0||m<=0||m>h.length)return[];const w=h.slice(),_=[];for(let x=0;x<m;x++){const T=Math.floor(Math.random()*w.length),E=w.splice(T,1)[0];_.push(E)}return _}return f.jsx("div",{children:e?f.jsx(P0,{}):f.jsxs(f.Fragment,{children:[f.jsx("div",{className:" bg-[url('/images/Rectangle.jpg')] bg-center bg-no-repeat bg-cover",children:f.jsxs("section",{className:"header flex w-full h-[420px] justify-evenly bg-black/60",children:[f.jsx("section",{className:"textHeader flex items-center text-white font-montserrat text-4xl font-extralight	",children:f.jsxs("span",{children:["Vuelvete imparable con el ",f.jsx("br",{})," Nuevo "," ",f.jsx("strong",{children:i.name})]})}),f.jsx("section",{className:"offerCard flex justify-center items-center",children:f.jsx(ky,{...i})})]})}),f.jsx("div",{className:"categories flex justify-center bg-primaryLight py-5",children:f.jsxs("section",{className:"buttonsCategories flex gap-12",children:[f.jsx(jn,{to:"/productsPage",children:f.jsx("button",{className:"categoriesButton",value:"Protena",onClick:l,children:"PROTEINA"})}),f.jsx(jn,{to:"/productsPage",children:f.jsx("button",{className:"categoriesButton",value:"Creatina",onClick:l,children:"CREATINA"})}),f.jsx(jn,{to:"/productsPage",children:f.jsx("button",{className:"categoriesButton",value:"Energa",onClick:l,children:"ENERGIA"})}),f.jsx(jn,{to:"/productsPage",children:f.jsx("button",{className:"categoriesButton",value:"Control de peso",onClick:l,children:"CONTROL DE PESO"})})]})}),f.jsx("div",{className:"destacadosTitle font-bebas text-center text-[40px] pt-8",children:f.jsx("span",{children:"DESTACADOS"})}),f.jsx("div",{className:"destacadosCards flex justify-evenly",children:r.map(h=>f.jsx(ky,{...h},h.id))}),f.jsxs("div",{className:"photosContainer flex justify-evenly h-[600px] my-[60px]",children:[f.jsxs("section",{className:"photoDiv1 flex flex-col items-center justify-between w-[45%] bg-[url('/images/menconcapucha.jpg')] bg-no-repeat bg-cover",children:[f.jsx("section",{className:"descriptionText bg-primaryLight w-[90%] rounded-[20px] font-bebas text-2xl py-2.5 px-5 mt-3.5 text-center ",children:f.jsx("p",{children:"Los productos Mass Gain estn compuestos principalmente por carbohidratos. Su funcin principal es contribuir en la ganancia de masa muscular y en el aumento de peso."})}),f.jsx("section",{className:"productSection flex justify-center items-end h-1/2",children:f.jsxs("div",{className:"productDescription bg-white flex items-center w-[70%] h-1/2 rounded-[20px] mb-[8%] relative",children:[f.jsx("section",{className:"w-1/4 overflow-hidden ml-[5px]",children:f.jsx(jn,{to:`/detail/${s.id}`,className:"w-full",children:f.jsx("img",{src:s.image,alt:"",className:"images-inphoto"})})}),f.jsx("section",{className:"w-3/4",children:f.jsx("p",{className:"parrafoProducto font-montserrat text-xs font-semibold m-[5%] line-clamp-5",children:s.description})}),f.jsx(jn,{to:`/detail/${s.id}`,children:f.jsx("button",{className:"addButton absolute top-[90%] left-[40%] ",children:"Ver detalles"})})]})})]}),f.jsxs("section",{className:"photoDiv1 flex flex-col items-center justify-between w-[45%] bg-[url('/images/mujersogas.jpg')] bg-no-repeat bg-cover bg-center",children:[f.jsx("section",{className:"descriptionText bg-primaryLight w-[90%] rounded-[20px] font-bebas text-2xl py-2.5 px-5 mt-3.5 text-center ",children:f.jsx("p",{children:"Las creatinas aportan energa y vitalidad, fomentando no solo el rendimiento deportivo, sino que tambin el rendimiento mental."})}),f.jsx("section",{className:"productSection flex justify-center items-end h-1/2",children:f.jsxs("div",{className:"productDescription bg-white flex items-center w-[70%] h-1/2 rounded-[20px] mb-[8%] relative",children:[f.jsx("section",{className:"w-1/4 overflow-hidden ml-[5px]",children:f.jsx(jn,{to:`/detail/${o.id}`,className:"w-full",children:f.jsx("img",{src:o.image,alt:"",className:"images-inphoto"})})}),f.jsx("section",{className:"w-3/4",children:f.jsx("p",{className:"parrafoProducto font-montserrat text-xs font-semibold m-[5%] line-clamp-5",children:o.description})}),f.jsx(jn,{to:`/detail/${o.id}`,children:f.jsx("button",{className:"addButton absolute top-[90%] left-[40%] ",children:"Ver detalles"})})]})})]})]}),f.jsx("div",{className:"font-bebas text-center text-[40px] pt-8",children:f.jsxs("span",{children:["POR QUE"," ",f.jsx("span",{className:"text-primary",children:"VITALFIT?"})]})}),f.jsxs("div",{className:"characteristicsViatlFit flex flex-wrap justify-center gap-[80px] mt-[30px] mb-[90px]",children:[f.jsxs("div",{className:"characteristic flex w-[350px] flex-col items-center text-center",children:[f.jsx("img",{src:"images/confianza.jpg",alt:""}),f.jsx("h6",{className:"font-bebas text-2xl text-primary",children:"CONFIANZA"}),f.jsx("p",{children:"Comprometidos con tu bienestar, aseguramos productos consistentes y de alta calidad"})]}),f.jsxs("div",{className:"characteristic flex w-[350px] flex-col items-center text-center",children:[f.jsx("img",{src:"images/transparencia.jpg",alt:""}),f.jsx("h6",{className:"font-bebas text-2xl text-primary",children:"TRANSPARENCIA"}),f.jsx("p",{children:"Informacin clara sobre nuestras vitaminas y suplementos. Creemos en construir una relacin honesta, y tomes decisiones informadas sobre tu bienestar."})]}),f.jsxs("div",{className:"characteristic flex w-[350px] flex-col items-center text-center",children:[f.jsx("img",{src:"images/respeto.jpg",alt:""}),f.jsx("h6",{className:"font-bebas text-2xl text-primary",children:"RESPETO"}),f.jsx("p",{children:"Tu bienestar es nuestra prioridad, y nos esforzamos por ganarnos tu confianza con cada eleccin que hagas con nosotros."})]}),f.jsxs("div",{className:"characteristic flex w-[350px] flex-col items-center text-center",children:[f.jsx("img",{src:"images/orientacion.jpg",alt:""}),f.jsx("h6",{className:"font-bebas text-2xl text-primary",children:"ORIENTACION"}),f.jsx("p",{children:"Seguimos estndares rigurosos. Nuestras directrices garantizan la calidad y eficacia de cada vitamina y suplemento proteico que ofrecemos."})]}),f.jsxs("div",{className:"characteristic flex w-[350px] flex-col items-center text-center",children:[f.jsx("img",{src:"images/empatia.jpg",alt:""}),f.jsx("h6",{className:"font-bebas text-2xl text-primary",children:"EMPATIA"}),f.jsx("p",{children:"Comprendemos tus necesidades y aspiraciones de bienestar, y trabajamos para ser parte de tu jornada hacia una vida ms saludable y plena."})]}),f.jsxs("div",{className:"characteristic flex w-[350px] flex-col items-center text-center",children:[f.jsx("img",{src:"images/cercania.jpg",alt:""}),f.jsx("h6",{className:"font-bebas text-2xl text-primary",children:"CERCANIA"}),f.jsxs("p",{children:[" ","Estamos cerca de ti en tu bsqueda de bienestar, ofreciendo vitaminas y suplementos de calidad, queriendo hacer parte de proceso saludable."," "]})]})]}),f.jsxs("div",{className:"flex justify-center gap-10 my-10",children:[f.jsx("div",{className:"vasoFoto 2-[40%]",children:f.jsx("img",{src:"images/vaso.jpg",alt:""})}),f.jsxs("div",{className:"noestasSeguroContainer flex w-[30%] bg-primaryLight font-bebas text-[42px] p-2.5 flex-col justify-around",children:[f.jsxs("div",{className:"w-[40%]",children:[f.jsx("p",{children:"No estas seguro de qu es mejor para ti?"}),f.jsx("p",{className:"font-montserrat text-xl",children:"No te preocupes!"})]}),f.jsx("button",{className:"w-full categoriesButton",children:"SEPARA UNA ASESORIA"})]})]}),f.jsxs("div",{className:"bg-tertiary flex",children:[f.jsx("div",{className:"w-3/5 flex items-center justify-center",children:f.jsx("img",{src:"images/suplementos.jpg",alt:"",className:"w-4/6 m-3"})}),f.jsxs("div",{className:"flex flex-col justify-center items-start w-1/4 gap-5 ",children:[f.jsx("div",{className:"w-2/4",children:f.jsxs("p",{className:"font-['Bebas_Neue'] text-3xl",children:["SUSCRIBITE A ",f.jsx("br",{})," NUESTRO NEWSLETTER"]})}),f.jsxs("div",{className:"flex items-center h-8  w-1/3",children:[f.jsx("input",{type:"text",placeholder:"Ingresa tu E-mail",className:"border-black h-full text-center    rounded-l-lg font-['Montserrat']"}),f.jsx("button",{className:"bg-primary text-white   rounded-r-lg font-['Bebas_neue'] text-lg px-5 h-full transition hover:scale-110 duration-300",children:"ENVIAR"})]})]})]})]})})},cW="_Container_326zu_3",dW="_cardsContainer_326zu_25",fW="_controls_326zu_47",hW="_search_326zu_65",pW="_searchInput_326zu_87",mW="_searchButton_326zu_107",gW="_filter_326zu_137",yW="_line_326zu_157",vW="_title_326zu_169",wW="_Columna_326zu_183",_W="_Input_326zu_195",EW="_Checks_326zu_209",xW="_Check_326zu_209",TW="_CheckboxLabel_326zu_227",bW="_paginado_326zu_243",IW="_buttonPag_326zu_263",SW="_filtro_326zu_289",CW="_pag_326zu_243",AW="_Orden_326zu_325",RW={Container:cW,cardsContainer:dW,controls:fW,search:hW,searchInput:pW,searchButton:mW,filter:gW,line:yW,title:vW,Columna:wW,Input:_W,Checks:EW,Check:xW,CheckboxLabel:TW,paginado:bW,buttonPag:IW,filtro:SW,pag:CW,Orden:AW},PW=()=>{const t=/^([0-9])*$/,e=Gn(),{filters:n,categories:r,products:i}=ls(C=>C.product),[s,o]=S.useState({minPrice:"",maxPrice:""}),[a,l]=S.useState(""),[u,c]=S.useState(""),h=C=>{console.log(C.target.value),e(Ty()),e(xy({...n,category:C.target.value}))},m=C=>{const R=C.target.name,O=C.target.value;o({...s,[R]:O})},w=()=>{if(!t.test(s.minPrice)||!t.test(s.maxPrice))return c("Por favor introducir solo nmeros");e(md()),e(gd()),e(xy({...n,minPrice:s.minPrice,maxPrice:s.maxPrice})),c("")},_=C=>{l(C.target.value)},x=()=>{const C=document.getElementById("orders"),R=document.getElementById("categories");C.selectedIndex=0,R.selectedIndex=0,o({minPrice:"",maxPrice:""}),e(md()),e(gd()),e(u8(a)),l("")},T=C=>{const R=C.target.value;let O={};R.includes("price")?O=R==="priceA"?{sortByPrice:"ASC",sortByName:""}:{sortByPrice:"DESC",sortByName:""}:O=R==="nameA"?{sortByName:"ASC",sortByPrice:""}:{sortByName:"DESC",sortByPrice:""},e(l8(O))},E=()=>{const C=document.getElementById("orders"),R=document.getElementById("categories");C.selectedIndex=0,R.selectedIndex=0,l(""),o({minPrice:"",maxPrice:""}),e(md()),e(Ty()),e(gd())},v=C=>{C.key==="Enter"&&x()},b=C=>{C.key==="Enter"&&w()};return f.jsxs("div",{className:"mt-2 font-bebas",children:[f.jsxs("div",{className:"h-40 flex flex-col items-center w-full bg-primaryLight rounded-xl p-5",children:[f.jsx("h3",{className:"text-2xl mb-2",children:"Buscar por nombre"}),f.jsx("input",{className:"mb-2 rounded border-none w-80 placeholder:text-center",type:"search",placeholder:"Ingrese el nombre de un producto",value:a,onChange:_,onKeyDown:v}),f.jsx("button",{onClick:x,className:" bg-teal-400 text-xl text-white w-32 p-1 rounded-xl mx-auto mt-2",children:"Buscar"})]}),f.jsxs("div",{className:"mt-4 flex flex-col justify-start w-full bg-primaryLight rounded-xl p-5",children:[f.jsxs("div",{className:"flex justify-baseline items-center",children:[f.jsx("h3",{className:"text-xl",children:"Categoras"}),f.jsxs("select",{id:"categories",onChange:h,className:" appearance-none focus:ring-0 border-none rounded-xl w-44 ml-10 focus:outline-none  hover:bg-slate-100 cursor-pointer",value:n.category?n.category:"",children:[f.jsx("option",{value:"",className:"appearance-none hover:bg-teal-500 focus:bg-teal-500",children:"Todas las categorias"}),r.map((C,R)=>f.jsx("option",{value:C.name,children:C.name},R))]})]}),f.jsx("h3",{className:"text-xl  my-2",children:"Rango de Precios"}),f.jsxs("div",{className:"flex items-center justify-center",children:[f.jsx("input",{type:"text",placeholder:"Min",name:"minPrice",value:s.minPrice,onChange:m,className:"w-24 border-none mx-2 rounded-xl focus:ring-0",onKeyDown:b}),f.jsx("span",{children:" - "}),f.jsx("input",{type:"text",placeholder:"Max",name:"maxPrice",value:s.maxPrice,onChange:m,className:"w-24 border-none mx-2 rounded-xl focus:ring-0",onKeyDown:b}),f.jsx("button",{onClick:w,children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"w-6 h-6",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m5.25 4.5 7.5 7.5-7.5 7.5m6-15 7.5 7.5-7.5 7.5"})})})]}),u&&f.jsx("div",{className:"flex justify-center text-red-600 mt-3",children:u}),f.jsxs("div",{className:"flex justify-baseline items-center mt-3",children:[f.jsx("h3",{className:"text-xl",children:"Ordenar por"}),f.jsxs("select",{id:"orders",onChange:T,className:" appearance-none border-none rounded-xl w-44 ml-7 focus:ring-0 cursor-pointer hover:bg-slate-100",children:[f.jsx("option",{value:"",children:"Ms relevantes"}),f.jsx("option",{value:"priceD",children:"Mayor precio"}),f.jsx("option",{value:"priceA",children:"Menor precio"}),f.jsx("option",{value:"nameA",children:"A - Z"}),f.jsx("option",{value:"nameD",children:"Z - A"})]})]}),f.jsx("button",{onClick:E,className:"bg-teal-400 text-white text-xl w-32 p-1 rounded-xl mx-auto mt-3",children:"Reset"})]})]})};function kW(){const t=Gn(),{products:e,currentPage:n,totalPages:r,filters:i,sorts:s,loading:o}=ls(c=>c.product);S.useEffect(()=>{t(Hh()),window.scrollTo(0,0)},[t,i,s]);const a=(n-1)*8,l=()=>{n>1&&(t(_f(n-1)),window.scrollTo(0,0))},u=()=>{n<r&&(t(_f(n+1)),window.scrollTo(0,0))};return f.jsxs("div",{className:"flex h-full p-2 w-[ '97vw' ]",children:[f.jsx(PW,{}),f.jsxs("main",{className:"flex flex-1 flex-col justify-center gap-20 h-full ",children:[o?f.jsx(P0,{}):f.jsx("section",{className:RW.cardsContainer,children:e.length?e.slice(a,a+8).map(({id:c,name:h,price:m,image:w,stock:_})=>f.jsx(ky,{id:c,name:h,price:m,image:w,stock:_},c)):f.jsx("p",{className:"text-2xl mt-[10%]",children:"Ups! No hay productos que coincidan con tu bsqueda."})}),e.length>0&&f.jsxs("section",{className:"flex items-center justify-center gap-2 mr-5 mb-5",children:[f.jsx("button",{onClick:l,className:"font-bebas p-2 hover:text-primary",children:"prev"}),f.jsxs("span",{className:"font-bebas text-primary text-xl mb-1",children:[n,"  ",f.jsxs("span",{className:" text-gray-800",children:["/ ",r]})]}),f.jsx("button",{onClick:u,className:"font-bebas p-2 hover:text-primary",children:"next"})]})]})]})}const NW=t=>{let e={},n=/^[0-9]+$/,r=/^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9-.]+$/,i=/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{6,}$/;return t.nombre||(e.nombre="El nombre debe ser requerido"),t.apellido||(e.apellido="El apellido debe ser requerido"),n.test(t.dni)||(e.dni="El DNI debe contener slo numeros"),r.test(t.correo)||(e.correo="El email es invalido"),i.test(t.contrasea)||(e.contrasea="La contrasea debe tener mayusculas, numeros y letras, al menos 6 caracteres"),t.confirmarContrasea!==t.contrasea&&(e.confirmarContrasea="La contrasea no coincide con la anterior"),e};function DW(t){return D0({tag:"svg",attr:{version:"1.1",x:"0px",y:"0px",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48"},child:[{tag:"path",attr:{fill:"#FFC107",d:`M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12\r
	c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24\r
	c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z`}},{tag:"path",attr:{fill:"#FF3D00",d:`M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657\r
	C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z`}},{tag:"path",attr:{fill:"#4CAF50",d:`M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36\r
	c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z`}},{tag:"path",attr:{fill:"#1976D2",d:`M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571\r
	c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z`}}]})(t)}const OW=()=>{const t=Gn(),[e,n]=S.useState({nombre:"",apellido:"",dni:"",correo:"",contrasea:"",confirmarContrasea:""}),[r,i]=S.useState({}),s=()=>r.nombre||r.apellido||r.dni||r.correo||r.contrasea||r.confirmarContrasea||!e.nombre||!e.dni||!e.correo||!e.contrasea||!e.confirmarContrasea,o=async u=>{u.preventDefault();try{const c=e.nombre+" "+e.apellido,h=await t(DB(e.correo,e.contrasea,c));console.log(h),h.ok===!0?(await i0({role:"user",status:"active",id:h.uid,email:h.email,displayName:h.displayName}),be.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:5e3,timerProgressBar:!0,didOpen:w=>{w.onmouseenter=be.stopTimer,w.onmouseleave=be.resumeTimer}}).fire({icon:"success",title:`Usuario creado con exito: ${h.displayName} `})):be.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:5e3,timerProgressBar:!0,didOpen:w=>{w.onmouseenter=be.stopTimer,w.onmouseleave=be.resumeTimer}}).fire({icon:"error",title:"Ups, ocurrio un error, intenta un nuevo email"})}catch(c){console.log(c.message,"mensaje")}n({nombre:"",apellido:"",dni:"",correo:"",contrasea:"",confirmarContrasea:""})},a=async u=>{u.preventDefault();try{const c=await t(NB());if(c.ok===!1)be.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:5e3,timerProgressBar:!0,didOpen:m=>{m.onmouseenter=be.stopTimer,m.onmouseleave=be.resumeTimer}}).fire({icon:"error",title:" Upss! Ocurrio un error, intentalo ms tarde"});else return c}catch(c){console.log(c.message,"mensaje")}},l=u=>{const{name:c,value:h}=u.target;n({...e,[c]:h}),i(NW({...e,[c]:h}))};return f.jsxs("form",{className:" h-[calc(100vh+35vh)]",children:[f.jsx(Yu,{className:"w-[34px] h-[69px] absolute top-10 left-10"}),f.jsx("div",{className:"flex items-center justify-center h-full",children:f.jsx("img",{className:"w-full h-full object-cover object-center",src:C0})}),f.jsx("span",{style:{fontFamily:"NuevaFuente, montserrat",color:"#D9D9D9"},className:"absolute top-10 right-14 text-3xl",children:"Soy"}),f.jsx("span",{style:{fontFamily:"NuevaFuente, bebas neue",color:"#D74545 "},className:"absolute top-20 right-11 text-4xl",children:"ADMIN"}),f.jsx("div",{className:"w-100% flex items-center justify-center",children:f.jsxs("div",{className:"absolute top-20 z-20 justify-center",style:{background:"rgba(71, 81, 87, 0.8)",padding:"15px",borderRadius:"25px",boxShadow:"0 4px 6px rgba(10, 10, 10, 0.7)",width:"400px",marginTop:"3%"},children:[f.jsx("h1",{style:{fontFamily:"NuevaFuente, bebas neue",color:" #D9D9D9",fontSize:"1.4rem",marginBottom:"8px"},className:"text-lg font-bold text-64x43",children:"CREAR CUENTA"}),f.jsx("label",{style:{fontFamily:"NuevaFuente, bebas neue",color:" #D9D9D9",fontSize:"1.4rem"},children:"NOMBRE"}),f.jsx("br",{}),f.jsx("input",{className:"w-full h-9",style:{borderRadius:"10px",marginBottom:"10px"},name:"nombre",type:"text",placeholder:" Nombre...",value:e.nombre,onChange:l}),r.nombre&&f.jsx("p",{className:"text-red-400",children:r.nombre}),f.jsx("br",{}),f.jsx("label",{style:{fontFamily:"NuevaFuente, bebas neue",color:" #D9D9D9",fontSize:"1.4rem"},children:"APELLIDO"}),f.jsx("br",{}),f.jsx("input",{className:"w-full h-9",style:{borderRadius:"10px",marginBottom:"10px"},name:"apellido",type:"text",placeholder:" Apellido...",value:e.apellido,onChange:l}),r.apellido&&f.jsx("p",{className:"text-red-400",children:r.apellido}),f.jsx("br",{}),f.jsx("label",{style:{fontFamily:"NuevaFuente, bebas neue",color:" #D9D9D9",fontSize:"1.5rem"},children:"DNI"}),f.jsx("br",{}),f.jsx("input",{className:"w-full h-9",style:{borderRadius:"10px",marginBottom:"10px"},name:"dni",type:"text",placeholder:" DNI...",value:e.dni,onChange:l}),r.dni&&f.jsx("p",{className:"text-red-400",children:r.dni}),f.jsx("br",{}),f.jsx("label",{style:{fontFamily:"NuevaFuente, bebas neue",color:" #D9D9D9",fontSize:"1.5rem"},children:"CORREO"}),f.jsx("input",{className:"w-full h-9",style:{borderRadius:"10px",marginBottom:"10px"},name:"correo",type:"text",placeholder:" Email...",value:e.correo,onChange:l}),r.correo&&f.jsx("p",{className:"text-red-400",children:r.correo}),f.jsx("label",{style:{fontFamily:"NuevaFuente, bebas neue",color:" #D9D9D9",fontSize:"1.5rem",marginTop:"10px"},children:"CONTRASEA"}),f.jsx("input",{className:"w-full h-9",style:{borderRadius:"10px",marginBottom:"10px"},name:"contrasea",type:"password",placeholder:" Contrasea...",value:e.contrasea,onChange:l}),r.contrasea&&f.jsx("p",{className:"text-red-400",children:r.contrasea}),f.jsx("label",{style:{fontFamily:"NuevaFuente, bebas neue",color:" #D9D9D9",fontSize:"1.5rem"},children:"CONFIRMAR CONTRASEA"}),f.jsx("input",{className:"w-full h-9",style:{borderRadius:"10px",marginBottom:"10px"},name:"confirmarContrasea",type:"password",placeholder:" Confirmar contrasea...",value:e.confirmarContrasea,onChange:l}),r.confirmarContrasea&&f.jsx("p",{className:"text-red-400",children:r.confirmarContrasea}),f.jsx("button",{disabled:s(),onClick:o,style:{fontFamily:"NuevaFuente, bebas neue",color:" #D9D9D9",fontSize:"1.2rem",background:"#D74545",padding:"6px",paddingLeft:"25px",paddingRight:"25px",borderRadius:"15px",marginBottom:"15px",marginTop:"12px",marginLeft:"145px"},children:"CREAR"}),f.jsx("br",{}),f.jsxs("button",{onClick:a,style:{display:"flex",alignItems:"center",marginLeft:"19%",background:"#D74545",padding:"2.5%",borderRadius:"9px"},children:[f.jsx(DW,{})," ",f.jsx("span",{style:{marginLeft:"8px",fontFamily:"NuevaFuente, montserrat",color:"white"},children:"Inicia sesin con Google"})]}),f.jsx("br",{}),f.jsx("span",{style:{fontFamily:"NuevaFuente, montserrat",color:" #D9D9D9",fontSize:"0.9rem",marginLeft:"80px"},children:"Ya tienes cuenta?"}),f.jsx(Oi,{to:"/auth/loginPage",children:f.jsx("span",{style:{fontFamily:"NuevaFuente, montserrat",color:" #2FD6BD  ",marginLeft:"5px",fontSize:"0.9rem"},children:"Inicia sesin."})})]})})]})},jW=t=>{let e={},n=/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{6,}$/;return/^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9-.]+$/.test(t.correo)||(e.correo="El correo es invalido"),n.test(t.contrasea)||(e.contrasea="La contrasea debe tener mayusculas, numeros y letras, al menos 6 caracteres"),e},LW=()=>{const t=Gn(),[e,n]=S.useState({}),[r,i]=S.useState({correo:"",contrasea:""}),s=l=>{const{name:u,value:c}=l.target;i({...r,[u]:c}),n(jW({...r,[u]:c}))},o=async l=>{l.preventDefault();try{const u=await t(kB(r.correo,r.contrasea));u.ok===!0?(be.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:5e3,timerProgressBar:!0,didOpen:h=>{h.onmouseenter=be.stopTimer,h.onmouseleave=be.resumeTimer}}).fire({icon:"success",title:`Bienvenido ${u.displayName}`}),i({correo:"",contrasea:""})):be.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:5e3,timerProgressBar:!0,didOpen:h=>{h.onmouseenter=be.stopTimer,h.onmouseleave=be.resumeTimer}}).fire({icon:"error",title:"Usuario no encontrado, email o contrasea incorrectos"})}catch(u){console.log(u.message,"mensaje")}},a=()=>e.correo||e.contrasea||!r.correo||!r.contrasea;return f.jsxs("form",{className:"relative",onSubmit:o,children:[f.jsx(Yu,{className:"w-[34px] h-[69px] absolute top-10 left-10"}),f.jsx("div",{className:"flex items-center justify-center h-screen overflow-hidden",children:f.jsx("img",{className:"w-full h-full object-cover",src:C0})}),f.jsx("div",{className:"w-100% flex items-center justify-center",children:f.jsxs("div",{className:"absolute top-1/4 z-20",style:{background:"rgba(71, 81, 87, 0.8)",padding:"15px",borderRadius:"25px",boxShadow:"0 4px 6px rgba(10, 10, 10, 0.7)",width:"400px"},children:[f.jsx("h1",{style:{fontFamily:"NuevaFuente, bebas neue",color:" #D9D9D9",fontSize:"1.5rem",marginBottom:"25px"},className:"text-lg font-bold text-64x43",children:"LOGIN"}),f.jsx("label",{style:{fontFamily:"NuevaFuente, bebas neue",color:" #D9D9D9",fontSize:"1.5rem"},children:"CORREO"}),f.jsx("br",{}),f.jsx("input",{className:"w-full h-9",style:{borderRadius:"10px",marginBottom:"10px"},name:"correo",type:"text",placeholder:" Correo...",value:r.correo,onChange:s}),e.correo&&f.jsx("p",{className:"text-red-400",children:e.correo}),f.jsx("br",{}),f.jsx("label",{style:{fontFamily:"NuevaFuente, bebas neue",color:" #D9D9D9",fontSize:"1.5rem",marginTop:"10px"},children:"CONTRASEA"}),f.jsx("br",{}),f.jsx("input",{className:"w-full h-9",style:{borderRadius:"10px",marginBottom:"10px"},name:"contrasea",type:"password",placeholder:" Contrasea...",value:r.contrasea,onChange:s}),e.contrasea&&f.jsx("p",{className:"text-red-400",children:e.contrasea}),f.jsx("br",{}),f.jsx("button",{disabled:a(),onClick:o,style:{fontFamily:"NuevaFuente, bebas neue",color:" #D9D9D9",fontSize:"1.2rem",background:"#D74545",padding:"6px",paddingLeft:"25px",paddingRight:"25px",borderRadius:"15px",marginBottom:"10px",marginTop:"12px",marginLeft:"145px"},children:"ENTRAR"}),f.jsx("br",{}),f.jsx("span",{style:{fontFamily:"NuevaFuente, montserrat",color:" #D9D9D9",fontSize:"0.9rem",marginLeft:"80px"},children:"No tienes cuenta?"}),f.jsx(Oi,{to:"/auth/signUpPage",children:f.jsx("span",{style:{fontFamily:"NuevaFuente, montserrat",color:" #2FD6BD  ",marginLeft:"5px",fontSize:"0.9rem"},children:"Registrate."})})]})})]})},MW=async t=>{try{const e=Yt(ct,"carritos",t);(await li(e)).exists()&&await lo(e,{productos:[]},{merge:!0})}catch(e){console.log("Error al vaciar el carrito:",e.message)}},uP=async(t,e)=>{try{const n=Ca(ct,"users",t,"facturas"),r=e?uy(n,eF("billNumber","==",e)):uy(n),i=await Nh(r),s=[];return i.forEach(o=>s.push(o.data())),s}catch(n){console.log("Error al obtener las facturas del usuario:",n.message)}},VW=()=>{const{currentUser:t,loading:e}=S.useContext(Yn),n=new URLSearchParams(window.location.search),r=n.get("payment_id"),s=n.get("external_reference").split("-_")[0],[o,a]=S.useState(),l=async()=>{await oP(t.uid,s,{payment_id:r,status:"succesfull"});const c=await uP(t.uid,s);await MW(t.uid),a(c[0].data)};S.useEffect(()=>{localStorage.removeItem("products"),t&&l()},[t]);let u=o==null?void 0:o.reduce((c,h)=>c+h.unit_price*h.quantity,0);return f.jsx("div",{children:e?f.jsx("p",{children:"Cargando..."}):f.jsxs("div",{children:[f.jsx("h1",{children:"Pago exitoso!"}),f.jsx("h1",{children:"Gracias por confiar en nosotros!"}),f.jsx("p",{children:"Tu compra ha sido procesada y te estaremos informando cuando est en camino!"}),f.jsx("p",{children:"Disfruta del producto y gracias por comprar!"}),f.jsxs("div",{children:[f.jsx("p",{children:"Tu compra fue:"}),o&&o.map((c,h)=>f.jsxs("div",{children:[f.jsxs("h1",{children:[c.title," X ",c.quantity]}),f.jsx("img",{src:c.picture_url,width:45,alt:""}),f.jsxs("p",{children:["Precio unit: ",c.unit_price]})]},h)),f.jsx("div",{children:f.jsxs("span",{children:["El total de tu compra fue: ",o&&u]})})]})]})})},FW=async(t,e)=>{const n=Yt(ct,"users",t);return(await li(n)).exists()&&await lo(n,{...e,dataCompleted:!0},{merge:!0}),{ok:!0}},UW=()=>{var E,v,b,C,R,O,L,F;const{currentUser:t,user:e,loading:n,setShowCart:r}=S.useContext(Yn),[i,s]=S.useState([]),[o,a]=S.useState([]);S.useEffect(()=>{async function z(){const{data:q}=await wf("https://apis.datos.gob.ar/georef/api/provincias");s(q.provincias)}z()},[]);const l=Kh(),{getValues:u,register:c,handleSubmit:h,formState:{errors:m}}=nP(),{provincia:w}=u(),_=async z=>{x(z.target.value)},x=async z=>{const{data:q}=await wf(`https://apis.datos.gob.ar/georef/api/municipios?provincia=${z}&max=500`);a(q.municipios)};n||e.dataCompleted&&(o.length||x(w));const T=async z=>{z&&(await FW(t.uid,z),l("/home"),r(!0))};return f.jsx("div",{children:n?f.jsx("p",{children:"loading..."}):f.jsxs("form",{className:"flex-row my-2 mx-auto w-[50vw] font-bebas text-xl",children:[f.jsxs("p",{children:["Los campos con ",f.jsx("span",{className:"text-primary",children:"*"})," son obligatorios"]}),f.jsxs("div",{className:"max-w-fit mx-auto",children:[f.jsxs("div",{className:"m-2",children:[f.jsxs("label",{htmlFor:"documento",className:"m-5",children:[f.jsx("span",{className:"text-primary text-2xl mr-1",children:"*"}),"DNI:"]}),f.jsx("input",{id:"documento",...c("documento",{required:{value:!0,message:"El campo es obligatorio"},pattern:{value:/^[0-9-]+$/i,message:"Documento invalido"},maxLength:{value:15,message:"Debe tener menos de 15 caracteres"},value:e.documento||""}),type:"text",className:`p-1.5 w-72 font-montserrat border-x-transparent  border-t-transparent border-b-2 focus:ring-0 focus:border-transparent focus:border-b-red-500${m.documento?"bg-red-200":""} border-zinc-600`,placeholder:"numero de documento"}),f.jsx("p",{className:" text-red-500 font-medium",children:(E=m.documento)==null?void 0:E.message})]}),f.jsxs("div",{className:"m-2",children:[f.jsxs("label",{htmlFor:"telfono",className:"m-5",children:[f.jsx("span",{className:"text-primary text-2xl mr-1",children:"*"}),"Telfono:"]}),f.jsx("input",{id:"telefono",...c("telefono",{required:{value:!0,message:"El campo es obligatorio"},pattern:{value:/^\+\d{1,3}\s?\d{4,}$/,message:"Numero de telfono invalido"},value:e.telefono||""}),type:"text",className:`p-1.5 w-72 font-montserrat  border-x-transparent  border-t-transparent border-b-2 focus:ring-0 focus:border-transparent focus:border-b-red-500${m.telefono?"bg-red-200":""} border-zinc-600`,placeholder:"+573245271273"}),f.jsx("p",{className:" text-red-500 font-medium",children:(v=m.telefono)==null?void 0:v.message})]}),f.jsxs("div",{className:"m-2",children:[f.jsxs("label",{htmlFor:"provincias",className:"m-5",children:[f.jsx("span",{className:"text-primary text-2xl mr-1",children:"*"}),"Provincia:"]}),f.jsxs("select",{id:"provincia",...c("provincia",{required:{value:!0,message:"El campo es obligatorio"},value:e.provincia||""}),onChange:_,className:"border-x-transparent border-t-transparent border-b-2 w-72 font-montserrat focus:ring-0 focus:border-transparent focus:border-b-red-500",children:[f.jsx("option",{value:"Elige una provincia",disabled:!0,children:"Elige una provincia"}),i.length&&i.map((z,q)=>f.jsx("option",{value:z.nombre,children:z.nombre},q))]}),f.jsx("p",{className:" text-red-500 font-medium",children:(b=m.provincia)==null?void 0:b.message})]}),f.jsxs("div",{className:"m-2",children:[f.jsxs("label",{htmlFor:"municipios",className:"m-5",children:[f.jsx("span",{className:"text-primary text-2xl mr-1",children:"*"}),"Municipio:"]}),f.jsxs("select",{id:"municipio",...c("municipio",{required:{value:!0,message:"El campo es obligatorio"},value:e.municipio||""}),className:"border-x-transparent border-t-transparent border-b-2 w-72 font-montserrat focus:ring-0 focus:border-transparent focus:border-b-red-500",children:[f.jsx("option",{value:"Elige un municipio",disabled:!0,children:"Elige un municipio"}),o.length&&o.map((z,q)=>f.jsx("option",{value:z.nombre,children:z.nombre},q))]}),f.jsx("p",{className:" text-red-500 font-medium",children:(C=m.municipio)==null?void 0:C.message})]}),f.jsxs("div",{className:"m-2",children:[f.jsxs("label",{htmlFor:"ciudad",className:"m-5",children:[f.jsx("span",{className:"text-primary text-2xl mr-1",children:"*"}),"Ciudad:"]}),f.jsx("input",{id:"ciudad",...c("ciudad",{required:{value:!0,message:"El campo es obligatorio"},pattern:{value:/^[A-Za-z0-9.-\s\-,#.]+$/,message:"Ciudad invlida"},maxLength:{value:25,message:"Debe tener menos de 25 caracteres"},value:e.ciudad||""}),type:"text",className:`p-1.5 w-72 font-montserrat  border-x-transparent  border-t-transparent border-b-2 focus:ring-0 focus:border-transparent focus:border-b-red-500${m.ciudad?"bg-red-200":""} border-zinc-600`,placeholder:"Ingrese una ciudad"}),f.jsx("p",{className:" text-red-500 font-medium",children:(R=m.ciudad)==null?void 0:R.message})]}),f.jsxs("div",{className:"m-2",children:[f.jsxs("label",{htmlFor:"calle",className:"m-5",children:[f.jsx("span",{className:"text-primary text-2xl mr-1",children:"*"}),"Calle:"]}),f.jsx("input",{...c("calle",{required:{value:!0,message:"El campo es obligatorio"},maxLength:{value:20,message:"Debe tener menos de 20 caracteres"},pattern:{value:/^[A-Za-z0-9.-\s\-,#.]+$/,message:"Calle invlida"},value:e.calle||""}),type:"text",className:`p-1.5 w-72 font-montserrat  border-x-transparent  border-t-transparent border-b-2 focus:ring-0 focus:border-transparent focus:border-b-red-500${m.calle?"bg-red-200":""} border-zinc-600`,placeholder:"nombre de calle"}),f.jsx("p",{className:" text-red-500 font-medium",children:(O=m.calle)==null?void 0:O.message})]}),f.jsxs("div",{className:"m-2",children:[f.jsxs("label",{htmlFor:"Altura",className:"m-5",children:[f.jsx("span",{className:"text-primary text-2xl mr-1",children:"*"}),"Altura:"]}),f.jsx("input",{id:"altura",...c("altura",{required:{value:!0,message:"El campo es obligatorio"},maxLength:{value:10,message:"Debe tener menos de 10 caracteres"},pattern:{value:/^[A-Za-z0-9\s\-,#.]+$/,message:"Altura de calle invlida"},value:e.altura||""}),type:"text",className:`p-1.5 w-72 font-montserrat  border-x-transparent  border-t-transparent border-b-2 focus:ring-0 focus:border-transparent focus:border-b-red-500${m.altura?"bg-red-200":""} border-zinc-600`,placeholder:"altura de calle"}),f.jsx("p",{className:" text-red-500 font-medium",children:(L=m.altura)==null?void 0:L.message})]}),f.jsxs("div",{className:"m-2",children:[f.jsx("label",{htmlFor:"piso/departamento",className:"m-5",children:"Piso / Dpto :"}),f.jsx("input",{id:"pisoDpto",...c("pisoDpto",{pattern:{value:/^[A-Za-z0-9\s\-,#.]+$/,message:"Piso / dpto invlido"},value:e.pisoDpto||""}),type:"text",className:`p-1.5 w-72 font-montserrat  border-x-transparent  border-t-transparent border-b-2 focus:ring-0 focus:border-transparent focus:border-b-red-500${m.pisoDpto?"bg-red-200":""} border-zinc-600`,placeholder:"n de piso / departamento"}),f.jsx("p",{className:" text-red-500 font-medium",children:(F=m.pisoDpto)==null?void 0:F.message})]})]}),f.jsx("div",{className:"max-w-fit mx-auto",children:f.jsx("button",{className:" text-white bg-primary p-2 px-5 rounded-xl",onClick:h(T),children:"finalizar"})})]})})},$W=()=>{const{currentUser:t}=S.useContext(Yn),[e,n]=S.useState(!1),[r,i]=S.useState([]),[s,o]=S.useState(!0),[a,l]=S.useState(null);S.useEffect(()=>{(async()=>{try{if(t){const m=await uP(t==null?void 0:t.uid);let w=[];if(m){const _=m.filter(E=>E.status=="succesfull").map(E=>E.data).flat(),x={},T=_.filter(E=>{const v=E.title;return x[v]?!1:(x[v]=!0,!0)});i(T)}else i([]);o(!1)}}catch(m){console.log("Error al obtener las compras del usuario:",m.message),o(!1)}})()},[t]);const u=h=>{l(h),n(!0)},c=()=>{n(!1)};return f.jsx("div",{children:s?f.jsx("p",{children:"Cargando..."}):f.jsxs("div",{className:" max-w-max mx-auto p-10 mt-16",children:[f.jsx("h2",{className:"text-3xl font-bebas mb-10 text-center",children:"Estos son los productos que has comprado!"}),f.jsx("div",{className:" mx-auto",children:r&&r.map((h,m)=>f.jsxs("section",{className:"flex min-w-max justify-between p-3 text-xl font-montserrat",children:[f.jsx("article",{children:f.jsx("img",{src:h.picture_url,alt:"",width:67})}),f.jsx("article",{className:"w-52 ml-4 my-auto font-semibold",children:h.title}),f.jsxs("article",{className:"w-20 mr-5 my-auto font-semibold",children:["$",h.unit_price]}),f.jsx("button",{className:"bg-primary p-2 text-lg rounded font-bebas text-white h-min my-auto",onClick:()=>{u(h)},children:"Agregar resea"})]},m))}),e&&a&&f.jsx("div",{children:f.jsx("div",{children:f.jsx(oW,{setShowReview:c,selectedItem:a})})})]})})},xT=()=>f.jsxs(f.Fragment,{children:[f.jsx(Xq,{}),f.jsxs(Qh,{children:[f.jsx(st,{path:"home",element:f.jsx(uW,{})}),f.jsx(st,{path:"/productspage",element:f.jsx(kW,{})}),f.jsx(st,{path:"/preCheckout",element:f.jsx(UW,{})}),f.jsx(st,{path:"checkout/successfull",element:f.jsx(VW,{})}),f.jsx(st,{path:"/resetPass",element:f.jsx(gq,{})}),f.jsx(st,{path:"/detail",element:f.jsx(ET,{})}),f.jsx(st,{path:"/*",element:f.jsx(p0,{to:"/home"})}),f.jsx(st,{path:"/detail/:id",element:f.jsx(ET,{})}),f.jsx(st,{path:"/review",element:f.jsx($W,{})})]}),f.jsx(vq,{})]}),BW=()=>f.jsxs(Qh,{children:[f.jsx(st,{path:"/signUpPage",element:f.jsx(OW,{})}),f.jsx(st,{path:"/loginPage",element:f.jsx(LW,{})}),f.jsx(st,{path:"/*",element:f.jsx(p0,{to:"/auth/loginPage"})})]}),zW=()=>{const{status:t,user:e}=ls(r=>r.auth),n=Gn();return S.useEffect(()=>{n(Hh()),n(a8())},[n]),f.jsxs(Qh,{children:[e.role==="admin"?f.jsx(st,{path:"/*",element:f.jsx(dq,{})}):f.jsx(st,{path:"/*",element:f.jsx(xT,{})}),t!=="online"&&f.jsxs(f.Fragment,{children:[f.jsx(st,{path:"auth/*",element:f.jsx(BW,{})}),f.jsx(st,{path:"/*",element:f.jsx(xT,{})})]})]})},HW=()=>f.jsx(C5,{store:h8,children:f.jsx(fq,{children:f.jsx(zW,{})})});Om.createRoot(document.getElementById("root")).render(f.jsx(fe.StrictMode,{children:f.jsx(sz,{children:f.jsx(HW,{})})}));
